@(user: model.User, feedbackResults: Seq[model.feedback.FeedbackResult])

@main("Evaluation", Some(user)) {
    <div class="container">
        <div class="page-header">
            <h1>Auswertung der Evaluation der Tools</h1>
        </div>

        @if(feedbackResults.nonEmpty) {
            @for(res <- feedbackResults) {
                <h2>@res.tool</h2>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Frage</th>
                            <th>&empty; / #</th>
                            @for(mark <- model.Mark.values) {
                                <th>@mark.value</th>
                            }
                        </tr>
                    </thead>
                    <tbody>
                    @for(evaledAspect <- model.EvaluatedAspects.values; marks = res.feedbackFor(evaledAspect)) {
                        <tr>
                            <td>@evaledAspect.question</td>
                            <td>@model.feedback.FeedbackResult.avg(marks) / @marks.size</td>
                            @for(mark <- model.Mark.values) {
                                <td>@marks.getOrElse(mark, 0)</td>
                            }
                        </tr>
                    }
                    </tbody>
                </table>

                <h3>Kommentare (@res.allComments.size)</h3>

                <ul>
                @for(comment <- res.allComments) {
                    <li>@comment</li>
                }
                </ul>
            }
        } else {
            <div class="alert alert-danger">Konnte keine Resultate finden.</div>
        }


    </div>
}