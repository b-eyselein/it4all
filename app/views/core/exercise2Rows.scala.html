@import model.core.CoreConsts

@import controllers.exes.idExes.IdExToolObject
@(user: model.User, routesObject: IdExToolObject, exerciseOptions: model.core.tools.ExerciseOptions, exercise: model.Exercise, exRest: Html, oldSolution: String)

@scripts = {
    <script src="@routes.Assets.versioned("lib/ace/src/ace.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/helperfunctions.js")"></script>
    <script>
            const theMode = "@exerciseOptions.aceMode";
            const theMinLines = @exerciseOptions.minLines;
            const theMaxLines = @exerciseOptions.maxLines;
            const theUpdatePrev = @exerciseOptions.updatePrev;
    </script>
}

@main(exerciseOptions.tool, user, scripts) {
    <div class="container">
        <form action="@routesObject.correctRoute(exercise)" method="post">

            <div class="row">
                <div class="col-md-6">
                    <div class="page-header">
                        <h2>Aufgabenstellung</h2>
                    </div>

                    <p>@Html(exercise.text)</p>

                    @exRest
                </div>

                <div class="col-md-6">
                    <div class="page-header">
                        <h2>Editor</h2>
                    </div>

                        <!-- Editor -->
                    <div class="panel panel-default">
                        <div class="panel-heading">

                            <div class="btn-group">
                                <button type="button" class="btn btn-default" onclick="changeFontsize(-2);">
                                    <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                                </button>
                                <span class="btn btn-default">Schriftgr&ouml;&szlig;e: <span id="fontsize">16</span>
                                    px</span>
                                <button type="button" class="btn btn-default" onclick="changeFontsize(+2);">
                                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                </button>
                            </div>

                        </div>
                        <div id="editor" class="form-control">@oldSolution</div>
                        <textarea title="hidden" hidden name="@CoreConsts.FORM_VALUE" id="@CoreConsts.FORM_VALUE">@oldSolution</textarea>
                    </div>
                        <!-- Editor Ende -->

                </div>
            </div>

            <div class="btn-group btn-group-justified">
                <div class="btn-group">
                    <button type="button" class="btn btn-primary" id="testButton"
                    onclick="testTheSolution('@routesObject.correctLiveRoute(exercise)');">L&ouml;sung testen</button>
                </div>
                <div class="btn-group">
                    <button class="btn btn-success">L&ouml;sung abgeben</button>
                </div>
            </div>

            <hr>

            <section id="correctionDiv">
                <h2>Bemerkungen</h2>
                <div id="correction"></div>
            </section>
        </form>
    </div>
}
