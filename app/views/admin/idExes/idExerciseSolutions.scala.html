@import model.toolMains.{ASingleExerciseToolMain, ToolList}
@import model.{ExPart, User, UserSolution}

@(adminUser: User, solutions: Seq[(User, UserSolution[_ <: ExPart, _])], allUsers: Seq[User], toolList: ToolList, toolMainObject: ASingleExerciseToolMain)

@title = @{
    "Lösungen für Aufgabe TODO!"
}

@additionalScripts = {
    <script src="@routes.Assets.versioned("lib/systemjs/dist/system.js")"></script>
    <script type='text/javascript' src="@routes.Assets.versioned("systemjs.config.js")"></script>

    <script>SystemJS.import('@routes.Assets.versioned("app/admin/idExerciseSolutions.js")');</script>
}

@admin.adminMain(title, adminUser, toolList, Some(toolMainObject), additionalScripts) {
    <div class="container">
        <h1 class="text-center">@title</h1>

        <div class="form-group">
            <a class="btn btn-primary btn-block" href="@routes.MainExerciseAdminController.adminIndex(toolMainObject.urlPart)">
                Zurück zur Administratorseite</a>
        </div>

        <div class="form-group row">
            <label class="col-form-label col-md-3" for="userFilter">Nutzer:</label>
            <div class="col-md-9">
                <select class="form-control" id="userFilter" >
                    <option value="">Alle</option>
                    @for(user <- allUsers) {
                        <option>@user</option>
                    }
                </select>
            </div>
        </div>

        <table class="table">
            <thead>
                <tr>
                    <th>Nutzer</th>
                    <th>Lösungs-ID</th>
                    <th>Teil</th>
                    <th>Punktzahl</th>
                </tr>
            </thead>
            <tbody>
            @for((user, solution) <- solutions) {
                <tr>
                    <td>@user.username</td>
                    <td>@solution.id</td>
                    <td>@solution.part</td>
                    <td>@solution.points.asDoubleString / @solution.maxPoints.asDoubleString</td>
                </tr>
            }
            </tbody>
        </table>
    </div>
}
