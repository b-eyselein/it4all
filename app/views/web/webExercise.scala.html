@(user: model.User, exercise: model.web.WebCompleteEx, part: model.web.WebExPart, tasks: Seq[model.web.WebCompleteTask], oldSolution: String)

@scripts = {
    @* Javascript Routes *@
    <script type="text/javascript" src="@routes.Application.javascriptRoutes"></script>

@core.editorScripts.render("html", 30, 50)

    <script src="@routes.Assets.versioned("javascripts/web/webExercise.js")"></script>


    <style>
            .pre-scrollable {
                max-height: 500px;
                overflow-y: scroll;
            }

            #preview {
                border: 1px solid black;
            }
    </style>

@core.helperTemplates.fullScreenScripts.render()
}

@main("Web", Some(user), scripts) {
    <div class="container-fluid" id="fullsc">

        <input hidden type="number" id="exerciseId" value="@exercise.id" title="hidden">
        <input hidden type="text" id="part" value="@part.urlName" title="hidden">

        <div class="row">
            <div class="col-md-4 col-sm-6">
                <h2>Aufgabenstellung</h2>

                <hr>

                <p class="text-justify">@exercise.ex.text</p>
                @if(part == model.web.HtmlPart) {
                    <p>@Html(exercise.ex.htmlText getOrElse "")</p>
                } else {
                    <p>@Html(exercise.ex.jsText getOrElse "")</p>
                }

                <div class="btn-group btn-group-justified">
                    <div class="btn-group">
                        <button type="button" class="btn btn-default" onclick="toggleFullscreen()">
                            Toggle Fullscreen <span class="glyphicon glyphicon-resize-full" id="fullscBtnSpan"></span>
                        </button>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-success" id="testButton">L&ouml;sung testen</button>
                    </div>
                    <a class="btn btn-default" href="@controllers.exes.idPartExes.WebToolObject.indexCall">Bearbeitung beenden</a>
                </div>

                <hr>

                @part match {
                    case model.web.HtmlPart => {
                        <div class="pre-scrollable">
                            <ol>
                            @for(task <- tasks.sortBy(_.task.id)) {
                                <li><p id="text_@task.task.id">@task.task.text</p></li>
                            }
                            </ol>
                        </div>
                    }
                    case model.web.JsPart => {
                        <p>Es gibt insgesamt 4 Testf&auml;lle.</p>
                    }
                }
            </div>

            <div class="col-md-4 col-sm-6">
                <h2>Editor</h2>

                <hr>

                @core.editor(oldSolution)
            </div>

            <div class="col-md-4 col-sm-12">
                <h2>Live-Vorschau</h2>

                <hr>

                <div class="embed-responsive embed-responsive-4by3">
                    <iframe class="embed-responsive-item" src="about:blank" id="preview"></iframe>
                </div>

                <hr>
                <div class="alert alert-info">
                    Die Vorschau wird bei &Auml;nderungen in der L&ouml;sung automatisch aktualisiert.</div>
            </div>
        </div>

        <hr>

        <div id="correction"></div>


    </div>
}