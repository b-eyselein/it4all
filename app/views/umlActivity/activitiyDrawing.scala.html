@(user: model.User)

@scripts = {
    <!-- Why has bootstrap to be loaded twice? -->
    @*<!-- <script src="@routes.Assets.versioned("lib/bootstrap/js/bootstrap.min.js")"></script> -->*@

    <!-- Important: Order of Scripts -->
    <script src="@routes.Assets.versioned("lib/lodash/lodash.js")"></script>
    <script src="@routes.Assets.versioned("lib/backbonejs/backbone.js")"></script>
    <script src="@routes.Assets.versioned("lib/jointjs/dist/joint.js")"></script>
    <script src="@routes.Assets.versioned("lib/bootstrap/js/bootstrap.js")"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="@routes.Assets.versioned("javascripts/umlActivity/elements.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/umlActivity/drawing.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/umlActivity/converter.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/umlActivity/webseite.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/umlActivity/FileSaver.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/umlActivity/classdiagram.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/umlActivity/autosize.js")"></script>

    <link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/umlActivity/webseite.css")">
    <link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/umlActivity/joint.css")">
    <link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/umlActivity/activity.css")">
}

@main("UML", user, scripts) {
        <!-- Modal instruction manual -->
    <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog"  role="document">
                <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title"><b>Bedienungsanleitung</b></h4>
                </div>
                <div class="modal-body">
                    <div class="panel-group">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h5 class="panel-title">
                                    <a data-toggle="collapse" href="#collapse1"><b>Elemente/Links zur Zeichenfl&auml;che hinzufügen</b></a>
                                </h5>
                                <div id="collapse1" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul>
                                            <li>
                                                x
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <hr>
                                    <!-- next Collapsible-->
                                <h5 class="panel-title">
                                    <a data-toggle="collapse" href="#collapse2"><b>Manipulationen innerhalb der Zeichenfl&auml;che</b></a>
                                </h5>
                                <div id="collapse2" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul>
                                            <li>
                                                y
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <hr>
                                    <!-- next Collapsible-->
                                <h5 class="panel-title">
                                    <a data-toggle="collapse" href="#collapse31"><b>Einsatz von Verzweigungsknoten</b></a>
                                </h5>
                                <div id="collapse31" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul>
                                            <li>
                                                Schleife mittels Verzweigungsknoten
                                                <IMG src="gifs/mergeS.gif" height="100" width="150">
                                            </li>
                                            <li>
                                                Entscheidungspfad bestimmen mittels Verzweigungsknoten
                                                <IMG src="gifs/mergeI.gif" height="100" width="150">
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <hr>
                                    <!-- next Collapsible-->
                                <h5 class="panel-title">
                                    <a data-toggle="collapse" href="#collapse3"><b>Optionen zur Zeichenfl&auml;che</b></a>
                                </h5>
                                <div id="collapse3" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul>
                                            <li>
                                                Ansicht
                                                <ul>
                                                    <li>
                                                        Browserabh&auml;ngig kann eine Vollansicht mittels &#10530; gestartet und durch &#10060; beendet werden.
                                                    </li>
                                                    <li>
                                                        Verschieben der Zeichenfl&auml;che wird durch die verschiedenen Pfeilrichtungen definiert und durch den Resetbuttoon zur&uuml;ckgesetzt.
                                                    </li>
                                                </ul>
                                            </li>
                                            <li>
                                                Zeichenfl&auml;che
                                                <ul>
                                                    <li>
                                                        Erweitern/Dezimieren der Zeichenfl&auml;che nach unten durch drücken des + bzw. - Größebuttons.
                                                    </li>
                                                    <li>
                                                        Vergr&ouml;&szlig;ern/Verkleinern der Zeichenfl&auml;che durch drücken des + bzw. -Zoombuttons.
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <hr>
                                    <!-- next Collapsible-->
                                <h5 class="panel-title">
                                    <a data-toggle="collapse" href="#collapse4"><b>Konvertierung in Code</b></a>
                                </h5>
                                <div id="collapse4" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul>
                                            <li>
                                                Basierend auf der selektierten Programmiersprache wird das Diagramm in Programmiercode konvertiert.
                                                Falls unzureichende Bedingungen hierf&uuml;r vorliegen, wird eine Fehlermeldung anstatt des Programmiercodes angezeigt.
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <hr>
                                    <!-- next Collapsible-->
                                <h5 class="panel-title">
                                    <a data-toggle="collapse" href="#collapse5"><b>Import / Export</b></a>
                                </h5>
                                <div id="collapse5" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul>
                                            <li>
                                                Mittels Datei ausw&auml;hlen k&ouml;nnen Sie bereits exportierte Diagramme hochladen und anschlie&szlig;end importieren.
                                            </li>
                                            <li>
                                                Der Exportierenbutton l&auml;dt den aktuellen Graphen in eine Datei auf Ihren Computer.
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <!-- Modal classdiagram-->
    <div id="myModal2" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title"><b>Klassendiagramm</b></h4>
                </div>
                <div id="classdiagram"></div>
            </div>
        </div>
    </div>
        <!-- Main Page-->
    <div id="fullscreen" class="container-fluid">
        <div class="row">
            <div class="col-md-8" id="leftblock">

                <div class="row">
                        <!-- Aktionsknoten -->
                    <div class="col-md-4">
                        <div class="dropdown">
                            <button class="btn dropdown-toggle button100" type="button" data-toggle="dropdown">Aktionsknoten
                                <span class="caret"></span></button>
                            <ul class="dropdown-menu button100">
                                <li>
                                    <button class="btn btn-default btn-block" onclick="setName(this.name);" name="elementActionDeclare" data-baseform="elementActionDeclare"
                                    draggable="true"ondragstart="drag(event)">Deklaration</button></li>
                                <li>
                                    <button class="btn btn-default btn-block" onclick="setName(this.name);" name="elementActionInput" data-baseform="elementActionInput"
                                    draggable="true"ondragstart="drag(event)">Eingabefeld</button>
                                </li>
                                <li>
                                    <button class="btn btn-default btn-block" onclick="setName(this.name);" data-baseform="elementActionSelect" name="elementActionSelect" draggable="true"
                                    ondragstart="drag(event)">Selektion</button>
                                </li>
                            </ul>
                        </div>
                    </div>
                        <!-- Schleifen -->
                    <div class="col-md-4">
                        <div class="dropdown">
                            <button class="btn dropdown-toggle button100" type="button" data-toggle="dropdown">Schleifen
                                <span class="caret"></span></button>
                            <ul class="dropdown-menu button100">
                                <li>
                                    <button class="btn btn-default btn-block  " onclick="setName(this.name);" data-baseform="elementFor" name="elementFor" draggable="true"
                                    ondragstart="drag(event)">For-In</button>
                                </li>
                                <li>
                                    <button class="btn btn-default btn-block  " onclick="setName(this.name);" data-baseform="elementDoWhile" name="elementDoWhile" draggable="true"
                                    ondragstart="drag(event)">Do-While</button>
                                </li>
                                <li>
                                    <button class="btn btn-default btn-block  " onclick="setName(this.name);" data-baseform="elementWhileDo" name="elementWhileDo" draggable="true"
                                    ondragstart="drag(event)">While-Do</button>
                                </li>
                            </ul>
                        </div>
                    </div>
                        <!-- Bearbeitungsknoten -->
                    <div class="col-md-4">
                        <div class="dropdown button100">
                            <button class="btn dropdown-toggle button100" type="button" data-toggle="dropdown">Spezielle Knoten
                                <span class="caret"></span></button>
                            <ul class="dropdown-menu button100">
                                <li>
                                    <button class="btn btn-default btn-block  " onclick="setName(this.name);" data-baseform="elementIf" name="elementIf" draggable="true"
                                    ondragstart="drag(event)">If-Then-Else</button>
                                </li>
                                <li>
                                    <button class="btn btn-default btn-block  " onclick="setName(this.name);" data-baseform="elementBasic" name="elementBasic" draggable="true"
                                    ondragstart="drag(event)">Verzweigungsknoten</button>
                                </li>
                                <li>
                                    <button class="btn btn-default btn-block  " onclick="setName(this.name);" data-baseform="elementEdit" name="elementEdit" draggable="true"
                                    ondragstart="drag(event)">Bearbeitungsknoten</button>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div id="scroll">
                    <div ondrop="drop(event)" ondragover="allowDrop(event)" id="paper"></div>
                </div>
            </div>
            <div class="col-md-4" id="rightblock">
                <div class="row">
                    <h4>Konvertierung in Code</h4>
                    <div class="input-group">
                        <select  title="Programmiersprache" class="form-control" id="sel_lang">
                            <option value="java">Java</option>
                            <option value="python">Python</option>
                        </select>
                        <span class="input-group-addon">-Code</span>
                        <button id="mainGeneration" class="form-control colorBlue" onclick="mainGeneration()">generieren</button>
                    </div>
                    <hr>
                </div>
                <div class="panel-group" id="accordion">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion" href="#ExerciseText">Aufgabenstellung</a>
                            </h4>
                        </div>
                        <div id="ExerciseText" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
                                        <!-- &#65311; -->
                                        Bearbeitungshinweise
                                </button>
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal2">
                                    Klassendiagramm
                                </button>
                                <p>Im folgenden Szenario sollen Sie ein Aktivit&auml;tsdiagramm für die Funktion
                                    "berechneKostenAllerFahrzeuge(): int". Als Basis dient das UML-Klassendiagramm Fahrzeugh&auml;ndler.
                                    Als Eingabeparameter erhalten Sie ein Array mit Fahrzeugen des Typs LKW und PKW. Verwenden Sie bereits
                                    definierte Methoden der Klassen um Zugriff auf die Daten zu erhalten. Als Rückgabeparameter wird ein Zahlenwert erwartet.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion" href="#Configuration">Konfiguration</a>
                            </h4>
                        </div>
                        <div id="Configuration" class="panel-collapse collapse">
                            <div class="panel-body">
                                <div class="drawingElements">
                                    <div>
                                        <h4>Ansicht</h4>
                                        <div class="input-group">
                                            <button class="form-control" id="startFullscreen">&#10530;</button>
                                            <span class="input-group-addon">Fullscreen</span>
                                            <button class="form-control" id="endFullscreen">&#10060;</button>
                                        </div>
                                        <hr>
                                        <div class="input-group">
                                            <button class="form-control" id="otop">&#8593;</button>
                                            <button class="form-control" id="obot">&#8595;</button>
                                            <span class="input-group-addon">
                                                <button class="btn btn-default" id="viewreset">Reset</button>
                                            </span>
                                            <button class="form-control" id="oleft">&#8592;</button>
                                            <button class="form-control" id="oright">&#8594;</button>
                                        </div>
                                        <h4>Zeichenfl&auml;che</h4>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="input-group">
                                                    <button class="form-control" id="paperplus">+</button>
                                                    <span class="input-group-addon">Gr&ouml;&szlig;e</span>
                                                    <button class="form-control" id="paperminus">-</button>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="input-group">
                                                    <button class="form-control" id="zoomplus">+</button>
                                                    <span class="input-group-addon">Zoom</span>
                                                    <button class="form-control" id="zoomminus">-</button>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        <h4>Import / Export</h4>
                                        <input class="btn btn-block btn-default" type="file" id="file">

                                        <div class="btn-group btn-group-justified">
                                            <div class="btn-group">
                                                <button class="btn btn-default" onclick="saveGraphAsTxt()">Exportieren</button>
                                            </div>
                                            <div class="btn-group">
                                                <button class="btn btn-default" id="graph_imp">Importieren</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion" href="#ProgrammCode">Programmiercode</a>
                            </h4>
                        </div>
                        <div id="ProgrammCode" class="panel-collapse collapse">
                            <div class="panel-body">
                                <div class="drawingElements">
                                    <div>
                                        <pre id="preCode">Ermittelter Code</pre>
                                        <form action="javascript:testSol('@controllers.exes.idPartExes.routes.UmlController.activityCheckSolution()')">
                                            <button id="sendToServer" class="btn btn-primary btn-block">Aufgabe verifizieren</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}