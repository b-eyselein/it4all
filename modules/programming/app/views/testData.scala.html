@(user: model.user.User, exercise: model.ProgExercise, oldData: List[model.testdata.CommitedTestData])

@main("Programmierung: Defintion von Testdaten", user) {
<script src="@routes.Assets.versioned("javascripts/programming.js")"></script>

<script>
var inputCount = @exercise.inputCount;
</script>

<div class="container">
  <div class="page-header">
    <h1>Definition von Testdaten</h1>
  </div>
  
  <div class="alert alert-info alert-dismissable">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    Hier k&ouml;nnen Sie sich eigene Testdaten definieren, um die Funktion kennenzulernen und zus&auml;tzliche Testdaten zu nutzen. Diese k&ouml;nnen gegen eine Musterl&ouml;sung validiert werden. Au&szlig;erdem werden Sie automatisch beim Testen der L&ouml;sung verwendet.
  </div>
  
  <div class="panel panel-info">
    <div class="panel-heading">Funktionsbeschreibung</div>
    <div class="panel-body">@Html(exercise.text)</div>
  </div>
  
  <form class="form" action="@programming.routes.Programming.validateTestData(exercise.id)" method="post">
    <table class="table" id="testDataTable">
      <thead>
        <tr>
          <th>ID</th>
        @for(i <- 0 until exercise.inputCount) {
          <th>Input @{i + 1}</th>
        }
          <th/>
          <th>Output</th>
        </tr>
      </thead>
      
      <tbody>
      @for(old <- oldData) {
        <tr id="tr_@old.getId()">
          <td>@old.key.testId</td>
        @for(inputCount <- 0 until exercise.inputCount) {
          <td>
            <input class="form-control" value="@old.getInput().get(inputCount)" name="inp_@{inputCount}_@old.key.testId" 
            id="inp_@{inputCount}_@old.key.testId" placeholder="Test @old.key.testId: Input @inputCount" required>
          </td>
        }
          <td/>
          <td><input class="form-control" value="@old.output" name="outp_@old.key.testId" id="outp_@old.key.testId" placeholder="Test @old.key.testId: Output"></td>
        </tr>
      }
      @for(testCount <- oldData.size() until 4) {
        <tr id="tr_@testCount">
          <td>@testCount</td>
        @for(inputCount <- 0 until exercise.inputCount) {
          <td>
            <input class="form-control" name="inp_@{inputCount}_@testCount" id="inp_@{inputCount}_@testCount"
           placeholder="Test @testCount: Input @inputCount" required>
         </td>
        }
          <td/>
          <td><input class="form-control" name="outp_@testCount" id="outp_@testCount" placeholder="Test @testCount: Output"></td>
        </tr>
      }
      </tbody>
    </table>
  
    <div class="btn-group btn-group-justified">
      <div class="btn-group">
        <button type="button" class="btn btn-primary" onclick="validateTestData('@programming.routes.Programming.validateTestData(exercise.id)')">
          Testdaten validieren
        </button>
      </div>
      <div class="btn-group">
        <input type="submit" class="btn btn-default" value="Testdaten absenden">
      </div>
    </div>
    
  </form>
</div>
}