@(user: model.user.User)

@main("Auswahlfrage erstellen", user) {
<script src="@controllers.routes.Assets.versioned("javascripts/choicequestions.js")"></script>

<script>
  $(document).ready(function() {
    onAnswerNumChange();
  });
</script>

<div class="container">
  <div class="page-header">
    <h1>Neue Frage erstellen</h1>
  </div>
  
  <form class="form-horizontal" method="post" action="@controllers.choice.routes.QuestionController.newQuestion()">
    <div class="form-group">
      <label class="control-label col-sm-2" for="title">Titel:</label>
      <div class="col-sm-10">
        <input class="form-control" id="title" name="title" placeholder="Titel der Frage, z. B. 'Assoziationen in UML'" required>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-sm-2" for="text">Text:</label>
      <div class="col-sm-10"> 
        <input class="form-control" id="text" name="text" placeholder="Text der Frage" required>
      </div>
    </div>
  
    <div class="form-group">
      <label class="control-label col-sm-2" for="type">Typ:</label>
      <div class="col-sm-10">
        @for(qType <- model.QuestionType.values()) {
        <div class="radio">
          <label for="@qType" title="@qType.getDescription()">
            <input type="radio" name="type" id="@qType" value="@qType" required> @qType.getName
          </label>
        </div>
        }
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-sm-2" for="numOfAnswers">Anzahl Antworten:</label>
      <div class="col-sm-10">
        <input class="form-control" type="number" name="numOfAnswers" id="numOfAnswers"
        onchange="onAnswerNumChange();" min="2" max="8" value="4" required>
      </div>
    </div>

    @* Fill up missing answers until 8 *@
    @for(i <- 1 until 9) {
    <div class="form-group">
      <label class="control-label col-sm-2">@i. Antwort:</label>
      <div class="col-sm-10" id="answerDiv">
        <div class="input-group">
          <input hidden name="correctness_@i" id="correctness_@i" value="WRONG">
          <input class="form-control" name="@i" id="@i" placeholder="@{i}. Antwort">
          <div class="input-group-btn">
            @for(correctness <- model.Correctness.values()) {
            <button type="button" onclick="changeCorrectness(@i, '@correctness', this)" title="@correctness.getTitle()"
            class="btn btn-@if(correctness == model.Correctness.WRONG) {danger} else {default}">
              <span class="@correctness.getBSGlyphicon()"></span>
            </button>
            }
          </div>
        </div>
      </div>
    </div>
    }

    <div class="form-group"> 
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-primary">Frage erstellen</button>
      </div>
    </div>
  </form>
</div>
}