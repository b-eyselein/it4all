@(user: model.user.User, id: Int, isChoice: Boolean)

@main("Neue Frage erstellen", user) {
<script src="@routes.Assets.versioned("javascripts/question.js")"></script>

<script>
  $(document).ready(function() {
    onAnswerNumChange();
  });
</script>

<div class="container">
  <div class="page-header">
    <h1>Neue Frage erstellen</h1>
  </div>

  <form class="form-horizontal" method="post" action="@questions.routes.QuestionController.newQuestion(false)">

    @admin.exStdFields.render(user, null, 3)

    
@if(isChoice) {
    <div class="form-group">
      <label class="control-label col-sm-2" for="numOfAnswers">Anzahl Antworten:</label>
      <div class="col-sm-10">
        <input class="form-control" type="number" name="numOfAnswers" id="numOfAnswers" onchange="onAnswerNumChange();"
          min="@model.question.Question.MIN_ANSWERS" max="@model.question.Question.MAX_ANSWERS"
          value="@model.question.Question.STD_ANSWERS" required>
      </div>
    </div>
  
    @for(i <- 0 until model.question.Question.MAX_ANSWERS) {
    <div class="form-group">
      <label class="control-label col-sm-2">@{i + 1}. Antwort:</label>
      <div class="col-sm-10" id="answerDiv">
        <div class="input-group">
          <input name="correctness_@i" id="correctness_@i" hidden value="WRONG">
          <input name="@i" id="@i" class="form-control" placeholder="@{i + 1}. Antwort">
          <div class="input-group-btn">
            @for(correctness <- model.question.Correctness.values()) {
            <button type="button" onclick="changeCorrectness(@i, '@correctness', this)" title="@correctness.getTitle()"
              class="btn btn-@if(correctness == model.question.Correctness.WRONG) {danger} else {default}">
              <span class="@correctness.getBSGlyphicon()"></span>
            </button>
            }
          </div>
        </div>
      </div>
    </div>
    }
} else {
    <div class="form-group">
      <label class="control-label col-sm-2" for="numOfAnswers">Anzahl Antworten:</label>
      <div class="col-sm-10">
        <input class="form-control" type="number" name="numOfAnswers" id="numOfAnswers" onchange="onAnswerNumChange();"
          min="@model.question.Question.MIN_ANSWERS" max="@model.question.Question.MAX_ANSWERS"
          value="@model.question.Question.STD_ANSWERS" required>
      </div>
    </div>
    
    @for(i <- 0 until model.question.Question.MAX_ANSWERS) {
    <div class="form-group">
      <label class="control-label col-sm-2">@{i + 1}. Antwort:</label>
      <div class="col-sm-10" id="answerDiv">
        <input class="form-control" name="@i" id="@i" placeholder="@{i + 1}. Antwort">
      </div>
    </div>
    }
}

    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-primary">Frage erstellen</button>
      </div>
    </div>
  </form>
</div>
}