{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{\"+dQi\":function(module,exports,__webpack_require__){!function(CodeMirror){\"use strict\";CodeMirror.defineMode(\"javascript\",(function(config,parserConfig){var type,content,indentUnit=config.indentUnit,statementIndent=parserConfig.statementIndent,jsonldMode=parserConfig.jsonld,jsonMode=parserConfig.json||jsonldMode,isTS=parserConfig.typescript,wordRE=parserConfig.wordCharacters||/[\\w$\\xa1-\\uffff]/,keywords=function(){function kw(type){return{type:type,style:\"keyword\"}}var A=kw(\"keyword a\"),B=kw(\"keyword b\"),C=kw(\"keyword c\"),D=kw(\"keyword d\"),operator=kw(\"operator\"),atom={type:\"atom\",style:\"atom\"};return{if:kw(\"if\"),while:A,with:A,else:B,do:B,try:B,finally:B,return:D,break:D,continue:D,new:kw(\"new\"),delete:C,void:C,throw:C,debugger:kw(\"debugger\"),var:kw(\"var\"),const:kw(\"var\"),let:kw(\"var\"),function:kw(\"function\"),catch:kw(\"catch\"),for:kw(\"for\"),switch:kw(\"switch\"),case:kw(\"case\"),default:kw(\"default\"),in:operator,typeof:operator,instanceof:operator,true:atom,false:atom,null:atom,undefined:atom,NaN:atom,Infinity:atom,this:kw(\"this\"),class:kw(\"class\"),super:kw(\"atom\"),yield:C,export:kw(\"export\"),import:kw(\"import\"),extends:C,await:C}}(),isOperatorChar=/[+\\-*&%=<>!?|~^@]/,isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;function ret(tp,style,cont){return type=tp,content=cont,style}function tokenBase(stream,state){var quote,ch=stream.next();if('\"'==ch||\"'\"==ch)return state.tokenize=(quote=ch,function(stream,state){var next,escaped=!1;if(jsonldMode&&\"@\"==stream.peek()&&stream.match(isJsonldKeyword))return state.tokenize=tokenBase,ret(\"jsonld-keyword\",\"meta\");for(;null!=(next=stream.next())&&(next!=quote||escaped);)escaped=!escaped&&\"\\\\\"==next;return escaped||(state.tokenize=tokenBase),ret(\"string\",\"string\")}),state.tokenize(stream,state);if(\".\"==ch&&stream.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/))return ret(\"number\",\"number\");if(\".\"==ch&&stream.match(\"..\"))return ret(\"spread\",\"meta\");if(/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch))return ret(ch);if(\"=\"==ch&&stream.eat(\">\"))return ret(\"=>\",\"operator\");if(\"0\"==ch&&stream.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return ret(\"number\",\"number\");if(/\\d/.test(ch))return stream.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/),ret(\"number\",\"number\");if(\"/\"==ch)return stream.eat(\"*\")?(state.tokenize=tokenComment,tokenComment(stream,state)):stream.eat(\"/\")?(stream.skipToEnd(),ret(\"comment\",\"comment\")):expressionAllowed(stream,state,1)?(function(stream){for(var next,escaped=!1,inSet=!1;null!=(next=stream.next());){if(!escaped){if(\"/\"==next&&!inSet)return;\"[\"==next?inSet=!0:inSet&&\"]\"==next&&(inSet=!1)}escaped=!escaped&&\"\\\\\"==next}}(stream),stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/),ret(\"regexp\",\"string-2\")):(stream.eat(\"=\"),ret(\"operator\",\"operator\",stream.current()));if(\"`\"==ch)return state.tokenize=tokenQuasi,tokenQuasi(stream,state);if(\"#\"==ch)return stream.skipToEnd(),ret(\"error\",\"error\");if(\"<\"==ch&&stream.match(\"!--\")||\"-\"==ch&&stream.match(\"->\"))return stream.skipToEnd(),ret(\"comment\",\"comment\");if(isOperatorChar.test(ch))return\">\"==ch&&state.lexical&&\">\"==state.lexical.type||(stream.eat(\"=\")?\"!\"!=ch&&\"=\"!=ch||stream.eat(\"=\"):/[<>*+\\-]/.test(ch)&&(stream.eat(ch),\">\"==ch&&stream.eat(ch))),ret(\"operator\",\"operator\",stream.current());if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current();if(\".\"!=state.lastType){if(keywords.propertyIsEnumerable(word)){var kw=keywords[word];return ret(kw.type,kw.style,word)}if(\"async\"==word&&stream.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\[\\(\\w]/,!1))return ret(\"async\",\"keyword\",word)}return ret(\"variable\",\"variable\",word)}}function tokenComment(stream,state){for(var ch,maybeEnd=!1;ch=stream.next();){if(\"/\"==ch&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd=\"*\"==ch}return ret(\"comment\",\"comment\")}function tokenQuasi(stream,state){for(var next,escaped=!1;null!=(next=stream.next());){if(!escaped&&(\"`\"==next||\"$\"==next&&stream.eat(\"{\"))){state.tokenize=tokenBase;break}escaped=!escaped&&\"\\\\\"==next}return ret(\"quasi\",\"string-2\",stream.current())}var brackets=\"([{}])\";function findFatArrow(stream,state){state.fatArrowAt&&(state.fatArrowAt=null);var arrow=stream.string.indexOf(\"=>\",stream.start);if(!(arrow<0)){if(isTS){var m=/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start,arrow));m&&(arrow=m.index)}for(var depth=0,sawSomething=!1,pos=arrow-1;pos>=0;--pos){var ch=stream.string.charAt(pos),bracket=brackets.indexOf(ch);if(bracket>=0&&bracket<3){if(!depth){++pos;break}if(0==--depth){\"(\"==ch&&(sawSomething=!0);break}}else if(bracket>=3&&bracket<6)++depth;else if(wordRE.test(ch))sawSomething=!0;else if(/[\"'\\/`]/.test(ch))for(;;--pos){if(0==pos)return;if(stream.string.charAt(pos-1)==ch&&\"\\\\\"!=stream.string.charAt(pos-2)){pos--;break}}else if(sawSomething&&!depth){++pos;break}}sawSomething&&!depth&&(state.fatArrowAt=pos)}}var atomicTypes={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,\"jsonld-keyword\":!0};function JSLexical(indented,column,type,align,prev,info){this.indented=indented,this.column=column,this.type=type,this.prev=prev,this.info=info,null!=align&&(this.align=align)}function inScope(state,varname){for(var v=state.localVars;v;v=v.next)if(v.name==varname)return!0;for(var cx=state.context;cx;cx=cx.prev)for(v=cx.vars;v;v=v.next)if(v.name==varname)return!0}var cx={state:null,column:null,marked:null,cc:null};function pass(){for(var i=arguments.length-1;i>=0;i--)cx.cc.push(arguments[i])}function cont(){return pass.apply(null,arguments),!0}function inList(name,list){for(var v=list;v;v=v.next)if(v.name==name)return!0;return!1}function register(varname){var state=cx.state;if(cx.marked=\"def\",state.context)if(\"var\"==state.lexical.info&&state.context&&state.context.block){var newContext=function registerVarScoped(varname,context){if(context){if(context.block){var inner=registerVarScoped(varname,context.prev);return inner?inner==context.prev?context:new Context(inner,context.vars,!0):null}return inList(varname,context.vars)?context:new Context(context.prev,new Var(varname,context.vars),!1)}return null}(varname,state.context);if(null!=newContext)return void(state.context=newContext)}else if(!inList(varname,state.localVars))return void(state.localVars=new Var(varname,state.localVars));parserConfig.globalVars&&!inList(varname,state.globalVars)&&(state.globalVars=new Var(varname,state.globalVars))}function isModifier(name){return\"public\"==name||\"private\"==name||\"protected\"==name||\"abstract\"==name||\"readonly\"==name}function Context(prev,vars,block){this.prev=prev,this.vars=vars,this.block=block}function Var(name,next){this.name=name,this.next=next}var defaultVars=new Var(\"this\",new Var(\"arguments\",null));function pushcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,!1),cx.state.localVars=defaultVars}function pushblockcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,!0),cx.state.localVars=null}function popcontext(){cx.state.localVars=cx.state.context.vars,cx.state.context=cx.state.context.prev}function pushlex(type,info){var result=function(){var state=cx.state,indent=state.indented;if(\"stat\"==state.lexical.type)indent=state.lexical.indented;else for(var outer=state.lexical;outer&&\")\"==outer.type&&outer.align;outer=outer.prev)indent=outer.indented;state.lexical=new JSLexical(indent,cx.stream.column(),type,null,state.lexical,info)};return result.lex=!0,result}function poplex(){var state=cx.state;state.lexical.prev&&(\")\"==state.lexical.type&&(state.indented=state.lexical.indented),state.lexical=state.lexical.prev)}function expect(wanted){return function exp(type){return type==wanted?cont():\";\"==wanted||\"}\"==type||\")\"==type||\"]\"==type?pass():cont(exp)}}function statement(type,value){return\"var\"==type?cont(pushlex(\"vardef\",value),vardef,expect(\";\"),poplex):\"keyword a\"==type?cont(pushlex(\"form\"),parenExpr,statement,poplex):\"keyword b\"==type?cont(pushlex(\"form\"),statement,poplex):\"keyword d\"==type?cx.stream.match(/^\\s*$/,!1)?cont():cont(pushlex(\"stat\"),maybeexpression,expect(\";\"),poplex):\"debugger\"==type?cont(expect(\";\")):\"{\"==type?cont(pushlex(\"}\"),pushblockcontext,block,poplex,popcontext):\";\"==type?cont():\"if\"==type?(\"else\"==cx.state.lexical.info&&cx.state.cc[cx.state.cc.length-1]==poplex&&cx.state.cc.pop()(),cont(pushlex(\"form\"),parenExpr,statement,poplex,maybeelse)):\"function\"==type?cont(functiondef):\"for\"==type?cont(pushlex(\"form\"),forspec,statement,poplex):\"class\"==type||isTS&&\"interface\"==value?(cx.marked=\"keyword\",cont(pushlex(\"form\",\"class\"==type?type:value),className,poplex)):\"variable\"==type?isTS&&\"declare\"==value?(cx.marked=\"keyword\",cont(statement)):isTS&&(\"module\"==value||\"enum\"==value||\"type\"==value)&&cx.stream.match(/^\\s*\\w/,!1)?(cx.marked=\"keyword\",\"enum\"==value?cont(enumdef):\"type\"==value?cont(typename,expect(\"operator\"),typeexpr,expect(\";\")):cont(pushlex(\"form\"),pattern,expect(\"{\"),pushlex(\"}\"),block,poplex,poplex)):isTS&&\"namespace\"==value?(cx.marked=\"keyword\",cont(pushlex(\"form\"),expression,statement,poplex)):isTS&&\"abstract\"==value?(cx.marked=\"keyword\",cont(statement)):cont(pushlex(\"stat\"),maybelabel):\"switch\"==type?cont(pushlex(\"form\"),parenExpr,expect(\"{\"),pushlex(\"}\",\"switch\"),pushblockcontext,block,poplex,poplex,popcontext):\"case\"==type?cont(expression,expect(\":\")):\"default\"==type?cont(expect(\":\")):\"catch\"==type?cont(pushlex(\"form\"),pushcontext,maybeCatchBinding,statement,poplex,popcontext):\"export\"==type?cont(pushlex(\"stat\"),afterExport,poplex):\"import\"==type?cont(pushlex(\"stat\"),afterImport,poplex):\"async\"==type?cont(statement):\"@\"==value?cont(expression,statement):pass(pushlex(\"stat\"),expression,expect(\";\"),poplex)}function maybeCatchBinding(type){if(\"(\"==type)return cont(funarg,expect(\")\"))}function expression(type,value){return expressionInner(type,value,!1)}function expressionNoComma(type,value){return expressionInner(type,value,!0)}function parenExpr(type){return\"(\"!=type?pass():cont(pushlex(\")\"),expression,expect(\")\"),poplex)}function expressionInner(type,value,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=noComma?arrowBodyNoComma:arrowBody;if(\"(\"==type)return cont(pushcontext,pushlex(\")\"),commasep(funarg,\")\"),poplex,expect(\"=>\"),body,popcontext);if(\"variable\"==type)return pass(pushcontext,pattern,expect(\"=>\"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;return atomicTypes.hasOwnProperty(type)?cont(maybeop):\"function\"==type?cont(functiondef,maybeop):\"class\"==type||isTS&&\"interface\"==value?(cx.marked=\"keyword\",cont(pushlex(\"form\"),classExpression,poplex)):\"keyword c\"==type||\"async\"==type?cont(noComma?expressionNoComma:expression):\"(\"==type?cont(pushlex(\")\"),maybeexpression,expect(\")\"),poplex,maybeop):\"operator\"==type||\"spread\"==type?cont(noComma?expressionNoComma:expression):\"[\"==type?cont(pushlex(\"]\"),arrayLiteral,poplex,maybeop):\"{\"==type?contCommasep(objprop,\"}\",null,maybeop):\"quasi\"==type?pass(quasi,maybeop):\"new\"==type?cont(function(noComma){return function(type){return\".\"==type?cont(noComma?targetNoComma:target):\"variable\"==type&&isTS?cont(maybeTypeArgs,noComma?maybeoperatorNoComma:maybeoperatorComma):pass(noComma?expressionNoComma:expression)}}(noComma)):\"import\"==type?cont(expression):cont()}function maybeexpression(type){return type.match(/[;\\}\\)\\],]/)?pass():pass(expression)}function maybeoperatorComma(type,value){return\",\"==type?cont(expression):maybeoperatorNoComma(type,value,!1)}function maybeoperatorNoComma(type,value,noComma){var me=0==noComma?maybeoperatorComma:maybeoperatorNoComma,expr=0==noComma?expression:expressionNoComma;return\"=>\"==type?cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext):\"operator\"==type?/\\+\\+|--/.test(value)||isTS&&\"!\"==value?cont(me):isTS&&\"<\"==value&&cx.stream.match(/^([^>]|<.*?>)*>\\s*\\(/,!1)?cont(pushlex(\">\"),commasep(typeexpr,\">\"),poplex,me):\"?\"==value?cont(expression,expect(\":\"),expr):cont(expr):\"quasi\"==type?pass(quasi,me):\";\"!=type?\"(\"==type?contCommasep(expressionNoComma,\")\",\"call\",me):\".\"==type?cont(property,me):\"[\"==type?cont(pushlex(\"]\"),maybeexpression,expect(\"]\"),poplex,me):isTS&&\"as\"==value?(cx.marked=\"keyword\",cont(typeexpr,me)):\"regexp\"==type?(cx.state.lastType=cx.marked=\"operator\",cx.stream.backUp(cx.stream.pos-cx.stream.start-1),cont(expr)):void 0:void 0}function quasi(type,value){return\"quasi\"!=type?pass():\"${\"!=value.slice(value.length-2)?cont(quasi):cont(expression,continueQuasi)}function continueQuasi(type){if(\"}\"==type)return cx.marked=\"string-2\",cx.state.tokenize=tokenQuasi,cont(quasi)}function arrowBody(type){return findFatArrow(cx.stream,cx.state),pass(\"{\"==type?statement:expression)}function arrowBodyNoComma(type){return findFatArrow(cx.stream,cx.state),pass(\"{\"==type?statement:expressionNoComma)}function target(_,value){if(\"target\"==value)return cx.marked=\"keyword\",cont(maybeoperatorComma)}function targetNoComma(_,value){if(\"target\"==value)return cx.marked=\"keyword\",cont(maybeoperatorNoComma)}function maybelabel(type){return\":\"==type?cont(poplex,statement):pass(maybeoperatorComma,expect(\";\"),poplex)}function property(type){if(\"variable\"==type)return cx.marked=\"property\",cont()}function objprop(type,value){return\"async\"==type?(cx.marked=\"property\",cont(objprop)):\"variable\"==type||\"keyword\"==cx.style?(cx.marked=\"property\",\"get\"==value||\"set\"==value?cont(getterSetter):(isTS&&cx.state.fatArrowAt==cx.stream.start&&(m=cx.stream.match(/^\\s*:\\s*/,!1))&&(cx.state.fatArrowAt=cx.stream.pos+m[0].length),cont(afterprop))):\"number\"==type||\"string\"==type?(cx.marked=jsonldMode?\"property\":cx.style+\" property\",cont(afterprop)):\"jsonld-keyword\"==type?cont(afterprop):isTS&&isModifier(value)?(cx.marked=\"keyword\",cont(objprop)):\"[\"==type?cont(expression,maybetype,expect(\"]\"),afterprop):\"spread\"==type?cont(expressionNoComma,afterprop):\"*\"==value?(cx.marked=\"keyword\",cont(objprop)):\":\"==type?pass(afterprop):void 0;var m}function getterSetter(type){return\"variable\"!=type?pass(afterprop):(cx.marked=\"property\",cont(functiondef))}function afterprop(type){return\":\"==type?cont(expressionNoComma):\"(\"==type?pass(functiondef):void 0}function commasep(what,end,sep){function proceed(type,value){if(sep?sep.indexOf(type)>-1:\",\"==type){var lex=cx.state.lexical;return\"call\"==lex.info&&(lex.pos=(lex.pos||0)+1),cont((function(type,value){return type==end||value==end?pass():pass(what)}),proceed)}return type==end||value==end?cont():sep&&sep.indexOf(\";\")>-1?pass(what):cont(expect(end))}return function(type,value){return type==end||value==end?cont():pass(what,proceed)}}function contCommasep(what,end,info){for(var i=3;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type){return\"}\"==type?cont():pass(statement,block)}function maybetype(type,value){if(isTS){if(\":\"==type)return cont(typeexpr);if(\"?\"==value)return cont(maybetype)}}function maybetypeOrIn(type,value){if(isTS&&(\":\"==type||\"in\"==value))return cont(typeexpr)}function mayberettype(type){if(isTS&&\":\"==type)return cx.stream.match(/^\\s*\\w+\\s+is\\b/,!1)?cont(expression,isKW,typeexpr):cont(typeexpr)}function isKW(_,value){if(\"is\"==value)return cx.marked=\"keyword\",cont()}function typeexpr(type,value){return\"keyof\"==value||\"typeof\"==value||\"infer\"==value?(cx.marked=\"keyword\",cont(\"typeof\"==value?expressionNoComma:typeexpr)):\"variable\"==type||\"void\"==value?(cx.marked=\"type\",cont(afterType)):\"|\"==value||\"&\"==value?cont(typeexpr):\"string\"==type||\"number\"==type||\"atom\"==type?cont(afterType):\"[\"==type?cont(pushlex(\"]\"),commasep(typeexpr,\"]\",\",\"),poplex,afterType):\"{\"==type?cont(pushlex(\"}\"),commasep(typeprop,\"}\",\",;\"),poplex,afterType):\"(\"==type?cont(commasep(typearg,\")\"),maybeReturnType,afterType):\"<\"==type?cont(commasep(typeexpr,\">\"),typeexpr):void 0}function maybeReturnType(type){if(\"=>\"==type)return cont(typeexpr)}function typeprop(type,value){return\"variable\"==type||\"keyword\"==cx.style?(cx.marked=\"property\",cont(typeprop)):\"?\"==value||\"number\"==type||\"string\"==type?cont(typeprop):\":\"==type?cont(typeexpr):\"[\"==type?cont(expect(\"variable\"),maybetypeOrIn,expect(\"]\"),typeprop):\"(\"==type?pass(functiondecl,typeprop):void 0}function typearg(type,value){return\"variable\"==type&&cx.stream.match(/^\\s*[?:]/,!1)||\"?\"==value?cont(typearg):\":\"==type?cont(typeexpr):\"spread\"==type?cont(typearg):pass(typeexpr)}function afterType(type,value){return\"<\"==value?cont(pushlex(\">\"),commasep(typeexpr,\">\"),poplex,afterType):\"|\"==value||\".\"==type||\"&\"==value?cont(typeexpr):\"[\"==type?cont(typeexpr,expect(\"]\"),afterType):\"extends\"==value||\"implements\"==value?(cx.marked=\"keyword\",cont(typeexpr)):\"?\"==value?cont(typeexpr,expect(\":\"),typeexpr):void 0}function maybeTypeArgs(_,value){if(\"<\"==value)return cont(pushlex(\">\"),commasep(typeexpr,\">\"),poplex,afterType)}function typeparam(){return pass(typeexpr,maybeTypeDefault)}function maybeTypeDefault(_,value){if(\"=\"==value)return cont(typeexpr)}function vardef(_,value){return\"enum\"==value?(cx.marked=\"keyword\",cont(enumdef)):pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type,value){return isTS&&isModifier(value)?(cx.marked=\"keyword\",cont(pattern)):\"variable\"==type?(register(value),cont()):\"spread\"==type?cont(pattern):\"[\"==type?contCommasep(eltpattern,\"]\"):\"{\"==type?contCommasep(proppattern,\"}\"):void 0}function proppattern(type,value){return\"variable\"!=type||cx.stream.match(/^\\s*:/,!1)?(\"variable\"==type&&(cx.marked=\"property\"),\"spread\"==type?cont(pattern):\"}\"==type?pass():\"[\"==type?cont(expression,expect(\"]\"),expect(\":\"),proppattern):cont(expect(\":\"),pattern,maybeAssign)):(register(value),cont(maybeAssign))}function eltpattern(){return pass(pattern,maybeAssign)}function maybeAssign(_type,value){if(\"=\"==value)return cont(expressionNoComma)}function vardefCont(type){if(\",\"==type)return cont(vardef)}function maybeelse(type,value){if(\"keyword b\"==type&&\"else\"==value)return cont(pushlex(\"form\",\"else\"),statement,poplex)}function forspec(type,value){return\"await\"==value?cont(forspec):\"(\"==type?cont(pushlex(\")\"),forspec1,poplex):void 0}function forspec1(type){return\"var\"==type?cont(vardef,forspec2):\"variable\"==type?cont(forspec2):pass(forspec2)}function forspec2(type,value){return\")\"==type?cont():\";\"==type?cont(forspec2):\"in\"==value||\"of\"==value?(cx.marked=\"keyword\",cont(expression,forspec2)):pass(expression,forspec2)}function functiondef(type,value){return\"*\"==value?(cx.marked=\"keyword\",cont(functiondef)):\"variable\"==type?(register(value),cont(functiondef)):\"(\"==type?cont(pushcontext,pushlex(\")\"),commasep(funarg,\")\"),poplex,mayberettype,statement,popcontext):isTS&&\"<\"==value?cont(pushlex(\">\"),commasep(typeparam,\">\"),poplex,functiondef):void 0}function functiondecl(type,value){return\"*\"==value?(cx.marked=\"keyword\",cont(functiondecl)):\"variable\"==type?(register(value),cont(functiondecl)):\"(\"==type?cont(pushcontext,pushlex(\")\"),commasep(funarg,\")\"),poplex,mayberettype,popcontext):isTS&&\"<\"==value?cont(pushlex(\">\"),commasep(typeparam,\">\"),poplex,functiondecl):void 0}function typename(type,value){return\"keyword\"==type||\"variable\"==type?(cx.marked=\"type\",cont(typename)):\"<\"==value?cont(pushlex(\">\"),commasep(typeparam,\">\"),poplex):void 0}function funarg(type,value){return\"@\"==value&&cont(expression,funarg),\"spread\"==type?cont(funarg):isTS&&isModifier(value)?(cx.marked=\"keyword\",cont(funarg)):isTS&&\"this\"==type?cont(maybetype,maybeAssign):pass(pattern,maybetype,maybeAssign)}function classExpression(type,value){return\"variable\"==type?className(type,value):classNameAfter(type,value)}function className(type,value){if(\"variable\"==type)return register(value),cont(classNameAfter)}function classNameAfter(type,value){return\"<\"==value?cont(pushlex(\">\"),commasep(typeparam,\">\"),poplex,classNameAfter):\"extends\"==value||\"implements\"==value||isTS&&\",\"==type?(\"implements\"==value&&(cx.marked=\"keyword\"),cont(isTS?typeexpr:expression,classNameAfter)):\"{\"==type?cont(pushlex(\"}\"),classBody,poplex):void 0}function classBody(type,value){return\"async\"==type||\"variable\"==type&&(\"static\"==value||\"get\"==value||\"set\"==value||isTS&&isModifier(value))&&cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/,!1)?(cx.marked=\"keyword\",cont(classBody)):\"variable\"==type||\"keyword\"==cx.style?(cx.marked=\"property\",cont(isTS?classfield:functiondef,classBody)):\"number\"==type||\"string\"==type?cont(isTS?classfield:functiondef,classBody):\"[\"==type?cont(expression,maybetype,expect(\"]\"),isTS?classfield:functiondef,classBody):\"*\"==value?(cx.marked=\"keyword\",cont(classBody)):isTS&&\"(\"==type?pass(functiondecl,classBody):\";\"==type||\",\"==type?cont(classBody):\"}\"==type?cont():\"@\"==value?cont(expression,classBody):void 0}function classfield(type,value){if(\"?\"==value)return cont(classfield);if(\":\"==type)return cont(typeexpr,maybeAssign);if(\"=\"==value)return cont(expressionNoComma);var context=cx.state.lexical.prev;return pass(context&&\"interface\"==context.info?functiondecl:functiondef)}function afterExport(type,value){return\"*\"==value?(cx.marked=\"keyword\",cont(maybeFrom,expect(\";\"))):\"default\"==value?(cx.marked=\"keyword\",cont(expression,expect(\";\"))):\"{\"==type?cont(commasep(exportField,\"}\"),maybeFrom,expect(\";\")):pass(statement)}function exportField(type,value){return\"as\"==value?(cx.marked=\"keyword\",cont(expect(\"variable\"))):\"variable\"==type?pass(expressionNoComma,exportField):void 0}function afterImport(type){return\"string\"==type?cont():\"(\"==type?pass(expression):pass(importSpec,maybeMoreImports,maybeFrom)}function importSpec(type,value){return\"{\"==type?contCommasep(importSpec,\"}\"):(\"variable\"==type&&register(value),\"*\"==value&&(cx.marked=\"keyword\"),cont(maybeAs))}function maybeMoreImports(type){if(\",\"==type)return cont(importSpec,maybeMoreImports)}function maybeAs(_type,value){if(\"as\"==value)return cx.marked=\"keyword\",cont(importSpec)}function maybeFrom(_type,value){if(\"from\"==value)return cx.marked=\"keyword\",cont(expression)}function arrayLiteral(type){return\"]\"==type?cont():pass(commasep(expressionNoComma,\"]\"))}function enumdef(){return pass(pushlex(\"form\"),pattern,expect(\"{\"),pushlex(\"}\"),commasep(enummember,\"}\"),poplex,poplex)}function enummember(){return pass(pattern,maybeAssign)}function expressionAllowed(stream,state,backUp){return state.tokenize==tokenBase&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType)||\"quasi\"==state.lastType&&/\\{\\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0)))}return popcontext.lex=!0,poplex.lex=!0,{startState:function(basecolumn){var state={tokenize:tokenBase,lastType:\"sof\",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,0,\"block\",!1),localVars:parserConfig.localVars,context:parserConfig.localVars&&new Context(null,null,!1),indented:basecolumn||0};return parserConfig.globalVars&&\"object\"==typeof parserConfig.globalVars&&(state.globalVars=parserConfig.globalVars),state},token:function(stream,state){if(stream.sol()&&(state.lexical.hasOwnProperty(\"align\")||(state.lexical.align=!1),state.indented=stream.indentation(),findFatArrow(stream,state)),state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=state.tokenize(stream,state);return\"comment\"==type?style:(state.lastType=\"operator\"!=type||\"++\"!=content&&\"--\"!=content?type:\"incdec\",function(state,style,type,content,stream){var cc=state.cc;for(cx.state=state,cx.stream=stream,cx.marked=null,cx.cc=cc,cx.style=style,state.lexical.hasOwnProperty(\"align\")||(state.lexical.align=!0);;)if((cc.length?cc.pop():jsonMode?expression:statement)(type,content)){for(;cc.length&&cc[cc.length-1].lex;)cc.pop()();return cx.marked?cx.marked:\"variable\"==type&&inScope(state,content)?\"variable-2\":style}}(state,style,type,content,stream))},indent:function(state,textAfter){if(state.tokenize==tokenComment)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var top,firstChar=textAfter&&textAfter.charAt(0),lexical=state.lexical;if(!/^\\s*else\\b/.test(textAfter))for(var i=state.cc.length-1;i>=0;--i){var c=state.cc[i];if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse)break}for(;(\"stat\"==lexical.type||\"form\"==lexical.type)&&(\"}\"==firstChar||(top=state.cc[state.cc.length-1])&&(top==maybeoperatorComma||top==maybeoperatorNoComma)&&!/^[,\\.=+\\-*:?[\\(]/.test(textAfter));)lexical=lexical.prev;statementIndent&&\")\"==lexical.type&&\"stat\"==lexical.prev.type&&(lexical=lexical.prev);var type=lexical.type,closing=firstChar==type;return\"vardef\"==type?lexical.indented+(\"operator\"==state.lastType||\",\"==state.lastType?lexical.info.length+1:0):\"form\"==type&&\"{\"==firstChar?lexical.indented:\"form\"==type?lexical.indented+indentUnit:\"stat\"==type?lexical.indented+(function(state,textAfter){return\"operator\"==state.lastType||\",\"==state.lastType||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0))}(state,textAfter)?statementIndent||indentUnit:0):\"switch\"!=lexical.info||closing||0==parserConfig.doubleIndentSwitch?lexical.align?lexical.column+(closing?0:1):lexical.indented+(closing?0:indentUnit):lexical.indented+(/^(?:case|default)\\b/.test(textAfter)?indentUnit:2*indentUnit)},electricInput:/^\\s*(?:case .*?:|default:|\\{|\\})$/,blockCommentStart:jsonMode?null:\"/*\",blockCommentEnd:jsonMode?null:\"*/\",blockCommentContinue:jsonMode?null:\" * \",lineComment:jsonMode?null:\"//\",fold:\"brace\",closeBrackets:\"()[]{}''\\\"\\\"``\",helperType:jsonMode?\"json\":\"javascript\",jsonldMode:jsonldMode,jsonMode:jsonMode,expressionAllowed:expressionAllowed,skipExpression:function(state){var top=state.cc[state.cc.length-1];top!=expression&&top!=expressionNoComma||state.cc.pop()}}})),CodeMirror.registerHelper(\"wordChars\",\"javascript\",/[\\w$]/),CodeMirror.defineMIME(\"text/javascript\",\"javascript\"),CodeMirror.defineMIME(\"text/ecmascript\",\"javascript\"),CodeMirror.defineMIME(\"application/javascript\",\"javascript\"),CodeMirror.defineMIME(\"application/x-javascript\",\"javascript\"),CodeMirror.defineMIME(\"application/ecmascript\",\"javascript\"),CodeMirror.defineMIME(\"application/json\",{name:\"javascript\",json:!0}),CodeMirror.defineMIME(\"application/x-json\",{name:\"javascript\",json:!0}),CodeMirror.defineMIME(\"application/ld+json\",{name:\"javascript\",jsonld:!0}),CodeMirror.defineMIME(\"text/typescript\",{name:\"javascript\",typescript:!0}),CodeMirror.defineMIME(\"application/typescript\",{name:\"javascript\",typescript:!0})}(__webpack_require__(\"VrN/\"))},\"+oOE\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var VERSION=\"6.5.0\",tslib_es6=__webpack_require__(\"mrSG\"),utils=__webpack_require__(\"d6pH\"),regexp_to_ast=__webpack_require__(\"iQ+w\"),regExpAstCache={},regExpParser=new regexp_to_ast.RegExpParser;function getRegExpAst(regExp){var regExpStr=regExp.toString();if(regExpAstCache.hasOwnProperty(regExpStr))return regExpAstCache[regExpStr];var regExpAst=regExpParser.pattern(regExpStr);return regExpAstCache[regExpStr]=regExpAst,regExpAst}var complementErrorMessage=\"Complement Sets are not supported for first char optimization\",failedOptimizationPrefixMsg='Unable to use \"first char\" lexer optimizations:\\n';function addOptimizedIdxToResult(code,result,ignoreCase){var optimizedCharIdx=charCodeToOptimizedIndex(code);result[optimizedCharIdx]=optimizedCharIdx,!0===ignoreCase&&function(code,result){var char=String.fromCharCode(code),upperChar=char.toUpperCase();if(upperChar!==char){var optimizedCharIdx=charCodeToOptimizedIndex(upperChar.charCodeAt(0));result[optimizedCharIdx]=optimizedCharIdx}else{var lowerChar=char.toLowerCase();lowerChar!==char&&(result[optimizedCharIdx=charCodeToOptimizedIndex(lowerChar.charCodeAt(0))]=optimizedCharIdx)}}(code,result)}function findCode(setNode,targetCharCodes){return Object(utils.q)(setNode.value,(function(codeOrRange){if(\"number\"==typeof codeOrRange)return Object(utils.j)(targetCharCodes,codeOrRange);var range_1=codeOrRange;return void 0!==Object(utils.q)(targetCharCodes,(function(targetCode){return range_1.from<=targetCode&&targetCode<=range_1.to}))}))}function isWholeOptional(ast){return!(!ast.quantifier||0!==ast.quantifier.atLeast)||!!ast.value&&(Object(utils.y)(ast.value)?Object(utils.o)(ast.value,isWholeOptional):isWholeOptional(ast.value))}var reg_exp_CharCodeFinder=function(_super){function CharCodeFinder(targetCharCodes){var _this=_super.call(this)||this;return _this.targetCharCodes=targetCharCodes,_this.found=!1,_this}return Object(tslib_es6.a)(CharCodeFinder,_super),CharCodeFinder.prototype.visitChildren=function(node){if(!0!==this.found){switch(node.type){case\"Lookahead\":return void this.visitLookahead(node);case\"NegativeLookahead\":return void this.visitNegativeLookahead(node)}_super.prototype.visitChildren.call(this,node)}},CharCodeFinder.prototype.visitCharacter=function(node){Object(utils.j)(this.targetCharCodes,node.value)&&(this.found=!0)},CharCodeFinder.prototype.visitSet=function(node){node.complement?void 0===findCode(node,this.targetCharCodes)&&(this.found=!0):void 0!==findCode(node,this.targetCharCodes)&&(this.found=!0)},CharCodeFinder}(regexp_to_ast.BaseRegExpVisitor);function canMatchCharCode(charCodes,pattern){if(pattern instanceof RegExp){var ast=getRegExpAst(pattern),charCodeFinder=new reg_exp_CharCodeFinder(charCodes);return charCodeFinder.visit(ast),charCodeFinder.found}return void 0!==Object(utils.q)(pattern,(function(char){return Object(utils.j)(charCodes,char.charCodeAt(0))}))}var PATTERN=\"PATTERN\",DEFAULT_MODE=\"defaultMode\",MODES=\"modes\",SUPPORT_STICKY=\"boolean\"==typeof new RegExp(\"(?:)\").sticky;var end_of_input=/[^\\\\][\\$]/,start_of_input=/[^\\\\[][\\^]|^\\^/;function addStartOfInput(pattern){return new RegExp(\"^(?:\"+pattern.source+\")\",pattern.ignoreCase?\"i\":\"\")}function addStickyFlag(pattern){return new RegExp(\"\"+pattern.source,pattern.ignoreCase?\"iy\":\"y\")}function isCustomPattern(tokenType){var pattern=tokenType.PATTERN;if(Object(utils.D)(pattern))return!1;if(Object(utils.B)(pattern))return!0;if(Object(utils.w)(pattern,\"exec\"))return!0;if(Object(utils.E)(pattern))return!1;throw Error(\"non exhaustive match\")}function isShortPattern(pattern){return!(!Object(utils.E)(pattern)||1!==pattern.length)&&pattern.charCodeAt(0)}var LineTerminatorOptimizedTester={test:function(text){for(var len=text.length,i=this.lastIndex;i<len;i++){var c=text.charCodeAt(i);if(10===c)return this.lastIndex=i+1,!0;if(13===c)return this.lastIndex=10===text.charCodeAt(i+1)?i+2:i+1,!0}return!1},lastIndex:0};function checkLineBreaksIssues(tokType,lineTerminatorCharCodes){if(Object(utils.w)(tokType,\"LINE_BREAKS\"))return!1;if(Object(utils.D)(tokType.PATTERN)){try{canMatchCharCode(lineTerminatorCharCodes,tokType.PATTERN)}catch(e){return{issue:LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if(Object(utils.E)(tokType.PATTERN))return!1;if(isCustomPattern(tokType))return{issue:LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error(\"non exhaustive match\")}function getCharCodes(charsOrCodes){return Object(utils.I)(charsOrCodes,(function(numOrString){return Object(utils.E)(numOrString)&&numOrString.length>0?numOrString.charCodeAt(0):numOrString}))}function addToMapOfArrays(map,key,value){void 0===map[key]?map[key]=[value]:map[key].push(value)}var minOptimizationVal=256;function charCodeToOptimizedIndex(charCode){return charCode<minOptimizationVal?charCode:charCodeToOptimizedIdxMap[charCode]}var charCodeToOptimizedIdxMap=[];function tokenStructuredMatcher(tokInstance,tokConstructor){var instanceType=tokInstance.tokenTypeIdx;return instanceType===tokConstructor.tokenTypeIdx||!0===tokConstructor.isParent&&!0===tokConstructor.categoryMatchesMap[instanceType]}function tokenStructuredMatcherNoCategories(token,tokType){return token.tokenTypeIdx===tokType.tokenTypeIdx}var tokenShortNameIdx=1,tokenIdxToClass={};function augmentTokenTypes(tokenTypes){var tokenTypesAndParents=function(tokenTypes){for(var result=Object(utils.g)(tokenTypes),categories=tokenTypes,searching=!0;searching;){categories=Object(utils.i)(Object(utils.t)(Object(utils.I)(categories,(function(currTokType){return currTokType.CATEGORIES}))));var newCategories=Object(utils.l)(categories,result);result=result.concat(newCategories),Object(utils.A)(newCategories)?searching=!1:categories=newCategories}return result}(tokenTypes);!function(tokenTypes){Object(utils.u)(tokenTypes,(function(currTokType){var tokType;hasShortKeyProperty(currTokType)||(tokenIdxToClass[tokenShortNameIdx]=currTokType,currTokType.tokenTypeIdx=tokenShortNameIdx++),hasCategoriesProperty(currTokType)&&!Object(utils.y)(currTokType.CATEGORIES)&&(currTokType.CATEGORIES=[currTokType.CATEGORIES]),hasCategoriesProperty(currTokType)||(currTokType.CATEGORIES=[]),tokType=currTokType,Object(utils.w)(tokType,\"categoryMatches\")||(currTokType.categoryMatches=[]),function(tokType){return Object(utils.w)(tokType,\"categoryMatchesMap\")}(currTokType)||(currTokType.categoryMatchesMap={})}))}(tokenTypesAndParents),function(tokenTypes){Object(utils.u)(tokenTypes,(function(currTokType){!function singleAssignCategoriesToksMap(path,nextNode){Object(utils.u)(path,(function(pathNode){nextNode.categoryMatchesMap[pathNode.tokenTypeIdx]=!0})),Object(utils.u)(nextNode.CATEGORIES,(function(nextCategory){var newPath=path.concat(nextNode);Object(utils.j)(newPath,nextCategory)||singleAssignCategoriesToksMap(newPath,nextCategory)}))}([],currTokType)}))}(tokenTypesAndParents),function(tokenTypes){Object(utils.u)(tokenTypes,(function(currTokType){currTokType.categoryMatches=[],Object(utils.u)(currTokType.categoryMatchesMap,(function(val,key){currTokType.categoryMatches.push(tokenIdxToClass[key].tokenTypeIdx)}))}))}(tokenTypesAndParents),Object(utils.u)(tokenTypesAndParents,(function(tokType){tokType.isParent=tokType.categoryMatches.length>0}))}function hasShortKeyProperty(tokType){return Object(utils.w)(tokType,\"tokenTypeIdx\")}function hasCategoriesProperty(tokType){return Object(utils.w)(tokType,\"CATEGORIES\")}function isTokenType(tokType){return Object(utils.w)(tokType,\"tokenTypeIdx\")}var defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(token){return\"Unable to pop Lexer Mode after encountering Token ->\"+token.image+\"<- The Mode Stack is empty\"},buildUnexpectedCharactersMessage:function(fullText,startOffset,length,line,column){return\"unexpected character: ->\"+fullText.charAt(startOffset)+\"<- at offset: \"+startOffset+\", skipped \"+length+\" characters.\"}},LexerDefinitionErrorType=function(LexerDefinitionErrorType){return LexerDefinitionErrorType[LexerDefinitionErrorType.MISSING_PATTERN=0]=\"MISSING_PATTERN\",LexerDefinitionErrorType[LexerDefinitionErrorType.INVALID_PATTERN=1]=\"INVALID_PATTERN\",LexerDefinitionErrorType[LexerDefinitionErrorType.EOI_ANCHOR_FOUND=2]=\"EOI_ANCHOR_FOUND\",LexerDefinitionErrorType[LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND=3]=\"UNSUPPORTED_FLAGS_FOUND\",LexerDefinitionErrorType[LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND=4]=\"DUPLICATE_PATTERNS_FOUND\",LexerDefinitionErrorType[LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND=5]=\"INVALID_GROUP_TYPE_FOUND\",LexerDefinitionErrorType[LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST=6]=\"PUSH_MODE_DOES_NOT_EXIST\",LexerDefinitionErrorType[LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]=\"MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE\",LexerDefinitionErrorType[LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]=\"MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY\",LexerDefinitionErrorType[LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]=\"MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST\",LexerDefinitionErrorType[LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]=\"LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED\",LexerDefinitionErrorType[LexerDefinitionErrorType.SOI_ANCHOR_FOUND=11]=\"SOI_ANCHOR_FOUND\",LexerDefinitionErrorType[LexerDefinitionErrorType.EMPTY_MATCH_PATTERN=12]=\"EMPTY_MATCH_PATTERN\",LexerDefinitionErrorType[LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS=13]=\"NO_LINE_BREAKS_FLAGS\",LexerDefinitionErrorType[LexerDefinitionErrorType.UNREACHABLE_PATTERN=14]=\"UNREACHABLE_PATTERN\",LexerDefinitionErrorType[LexerDefinitionErrorType.IDENTIFY_TERMINATOR=15]=\"IDENTIFY_TERMINATOR\",LexerDefinitionErrorType[LexerDefinitionErrorType.CUSTOM_LINE_BREAK=16]=\"CUSTOM_LINE_BREAK\",LexerDefinitionErrorType}({}),DEFAULT_LEXER_CONFIG={deferDefinitionErrorsHandling:!1,positionTracking:\"full\",lineTerminatorsPattern:/\\n|\\r\\n?/g,lineTerminatorCharacters:[\"\\n\",\"\\r\"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1};Object.freeze(DEFAULT_LEXER_CONFIG);var lexer_public_Lexer=function(){function Lexer(lexerDefinition,config){var _this=this;if(void 0===config&&(config=DEFAULT_LEXER_CONFIG),this.lexerDefinition=lexerDefinition,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},\"boolean\"==typeof config)throw Error(\"The second argument to the Lexer constructor is now an ILexerConfig Object.\\na boolean 2nd argument is no longer supported\");this.config=Object(utils.K)(DEFAULT_LEXER_CONFIG,config);var traceInitVal=this.config.traceInitPerf;!0===traceInitVal?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):\"number\"==typeof traceInitVal&&(this.traceInitMaxIdent=traceInitVal,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT(\"Lexer Constructor\",(function(){var actualDefinition,hasOnlySingleMode=!0;_this.TRACE_INIT(\"Lexer Config handling\",(function(){if(_this.config.lineTerminatorsPattern===DEFAULT_LEXER_CONFIG.lineTerminatorsPattern)_this.config.lineTerminatorsPattern=LineTerminatorOptimizedTester;else if(_this.config.lineTerminatorCharacters===DEFAULT_LEXER_CONFIG.lineTerminatorCharacters)throw Error(\"Error: Missing <lineTerminatorCharacters> property on the Lexer config.\\n\\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS\");if(config.safeMode&&config.ensureOptimizations)throw Error('\"safeMode\" and \"ensureOptimizations\" flags are mutually exclusive.');_this.trackStartLines=/full|onlyStart/i.test(_this.config.positionTracking),_this.trackEndLines=/full/i.test(_this.config.positionTracking),Object(utils.y)(lexerDefinition)?((actualDefinition={modes:{}}).modes[DEFAULT_MODE]=Object(utils.g)(lexerDefinition),actualDefinition[DEFAULT_MODE]=DEFAULT_MODE):(hasOnlySingleMode=!1,actualDefinition=Object(utils.h)(lexerDefinition))})),!1===_this.config.skipValidations&&(_this.TRACE_INIT(\"performRuntimeChecks\",(function(){_this.lexerDefinitionErrors=_this.lexerDefinitionErrors.concat(function(lexerDefinition,trackLines,lineTerminatorCharacters){var errors=[];return Object(utils.w)(lexerDefinition,DEFAULT_MODE)||errors.push({message:\"A MultiMode Lexer cannot be initialized without a <\"+DEFAULT_MODE+\"> property in its definition\\n\",type:LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Object(utils.w)(lexerDefinition,MODES)||errors.push({message:\"A MultiMode Lexer cannot be initialized without a <\"+MODES+\"> property in its definition\\n\",type:LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Object(utils.w)(lexerDefinition,MODES)&&Object(utils.w)(lexerDefinition,DEFAULT_MODE)&&!Object(utils.w)(lexerDefinition.modes,lexerDefinition.defaultMode)&&errors.push({message:\"A MultiMode Lexer cannot be initialized with a \"+DEFAULT_MODE+\": <\"+lexerDefinition.defaultMode+\">which does not exist\\n\",type:LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Object(utils.w)(lexerDefinition,MODES)&&Object(utils.u)(lexerDefinition.modes,(function(currModeValue,currModeName){Object(utils.u)(currModeValue,(function(currTokType,currIdx){Object(utils.F)(currTokType)&&errors.push({message:\"A Lexer cannot be initialized using an undefined Token Type. Mode:<\"+currModeName+\"> at index: <\"+currIdx+\">\\n\",type:LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),errors}(actualDefinition))})),_this.TRACE_INIT(\"performWarningRuntimeChecks\",(function(){_this.lexerDefinitionWarning=_this.lexerDefinitionWarning.concat(function(lexerDefinition,trackLines,lineTerminatorCharacters){var warnings=[],hasAnyLineBreak=!1,allTokenTypes=Object(utils.i)(Object(utils.t)(Object(utils.J)(lexerDefinition.modes,(function(tokTypes){return tokTypes})))),concreteTokenTypes=Object(utils.P)(allTokenTypes,(function(currType){return currType[PATTERN]===lexer_public_Lexer.NA})),terminatorCharCodes=getCharCodes(lineTerminatorCharacters);return trackLines&&Object(utils.u)(concreteTokenTypes,(function(tokType){var currIssue=checkLineBreaksIssues(tokType,terminatorCharCodes);if(!1!==currIssue){var message=function(tokType,details){if(details.issue===LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return\"Warning: unable to identify line terminator usage in pattern.\\n\\tThe problem is in the <\"+tokType.name+\"> Token Type\\n\\t Root cause: \"+details.errMsg+\".\\n\\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR\";if(details.issue===LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return\"Warning: A Custom Token Pattern should specify the <line_breaks> option.\\n\\tThe problem is in the <\"+tokType.name+\"> Token Type\\n\\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK\";throw Error(\"non exhaustive match\")}(tokType,currIssue);warnings.push({message:message,type:currIssue.issue,tokenType:tokType})}else Object(utils.w)(tokType,\"LINE_BREAKS\")?!0===tokType.LINE_BREAKS&&(hasAnyLineBreak=!0):canMatchCharCode(terminatorCharCodes,tokType.PATTERN)&&(hasAnyLineBreak=!0)})),trackLines&&!hasAnyLineBreak&&warnings.push({message:\"Warning: No LINE_BREAKS Found.\\n\\tThis Lexer has been defined to track line and column information,\\n\\tBut none of the Token Types can be identified as matching a line terminator.\\n\\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \\n\\tfor details.\",type:LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),warnings}(actualDefinition,_this.trackStartLines,_this.config.lineTerminatorCharacters))}))),actualDefinition.modes=actualDefinition.modes?actualDefinition.modes:{},Object(utils.u)(actualDefinition.modes,(function(currModeValue,currModeName){actualDefinition.modes[currModeName]=Object(utils.P)(currModeValue,(function(currTokType){return Object(utils.F)(currTokType)}))}));var allModeNames=Object(utils.G)(actualDefinition.modes);if(Object(utils.u)(actualDefinition.modes,(function(currModDef,currModName){_this.TRACE_INIT(\"Mode: <\"+currModName+\"> processing\",(function(){var currAnalyzeResult_1;_this.modes.push(currModName),!1===_this.config.skipValidations&&_this.TRACE_INIT(\"validatePatterns\",(function(){_this.lexerDefinitionErrors=_this.lexerDefinitionErrors.concat(function(tokenTypes,validModesNames){var errors=[],missingResult=function(tokenTypes){var tokenTypesWithMissingPattern=Object(utils.p)(tokenTypes,(function(currType){return!Object(utils.w)(currType,PATTERN)}));return{errors:Object(utils.I)(tokenTypesWithMissingPattern,(function(currType){return{message:\"Token Type: ->\"+currType.name+\"<- missing static 'PATTERN' property\",type:LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[currType]}})),valid:Object(utils.l)(tokenTypes,tokenTypesWithMissingPattern)}}(tokenTypes);errors=errors.concat(missingResult.errors);var invalidResult=function(tokenTypes){var tokenTypesWithInvalidPattern=Object(utils.p)(tokenTypes,(function(currType){var pattern=currType[PATTERN];return!(Object(utils.D)(pattern)||Object(utils.B)(pattern)||Object(utils.w)(pattern,\"exec\")||Object(utils.E)(pattern))}));return{errors:Object(utils.I)(tokenTypesWithInvalidPattern,(function(currType){return{message:\"Token Type: ->\"+currType.name+\"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.\",type:LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[currType]}})),valid:Object(utils.l)(tokenTypes,tokenTypesWithInvalidPattern)}}(missingResult.valid),validTokenTypes=invalidResult.valid;return(errors=(errors=(errors=(errors=errors.concat(invalidResult.errors)).concat(function(tokenTypes){var errors=[],withRegExpPatterns=Object(utils.p)(tokenTypes,(function(currTokType){return Object(utils.D)(currTokType[PATTERN])}));return(errors=(errors=(errors=(errors=errors.concat(function(tokenTypes){var EndAnchorFinder=function(_super){function EndAnchorFinder(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.found=!1,_this}return Object(tslib_es6.a)(EndAnchorFinder,_super),EndAnchorFinder.prototype.visitEndAnchor=function(node){this.found=!0},EndAnchorFinder}(regexp_to_ast.BaseRegExpVisitor),invalidRegex=Object(utils.p)(tokenTypes,(function(currType){var pattern=currType[PATTERN];try{var regexpAst=getRegExpAst(pattern),endAnchorVisitor=new EndAnchorFinder;return endAnchorVisitor.visit(regexpAst),endAnchorVisitor.found}catch(e){return end_of_input.test(pattern.source)}}));return Object(utils.I)(invalidRegex,(function(currType){return{message:\"Unexpected RegExp Anchor Error:\\n\\tToken Type: ->\"+currType.name+\"<- static 'PATTERN' cannot contain end of input anchor '$'\\n\\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\\tfor details.\",type:LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[currType]}}))}(withRegExpPatterns))).concat(function(tokenTypes){var StartAnchorFinder=function(_super){function StartAnchorFinder(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.found=!1,_this}return Object(tslib_es6.a)(StartAnchorFinder,_super),StartAnchorFinder.prototype.visitStartAnchor=function(node){this.found=!0},StartAnchorFinder}(regexp_to_ast.BaseRegExpVisitor),invalidRegex=Object(utils.p)(tokenTypes,(function(currType){var pattern=currType[PATTERN];try{var regexpAst=getRegExpAst(pattern),startAnchorVisitor=new StartAnchorFinder;return startAnchorVisitor.visit(regexpAst),startAnchorVisitor.found}catch(e){return start_of_input.test(pattern.source)}}));return Object(utils.I)(invalidRegex,(function(currType){return{message:\"Unexpected RegExp Anchor Error:\\n\\tToken Type: ->\"+currType.name+\"<- static 'PATTERN' cannot contain start of input anchor '^'\\n\\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\\tfor details.\",type:LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[currType]}}))}(withRegExpPatterns))).concat(function(tokenTypes){var invalidFlags=Object(utils.p)(tokenTypes,(function(currType){var pattern=currType[PATTERN];return pattern instanceof RegExp&&(pattern.multiline||pattern.global)}));return Object(utils.I)(invalidFlags,(function(currType){return{message:\"Token Type: ->\"+currType.name+\"<- static 'PATTERN' may NOT contain global('g') or multiline('m')\",type:LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[currType]}}))}(withRegExpPatterns))).concat(function(tokenTypes){var found=[],identicalPatterns=Object(utils.I)(tokenTypes,(function(outerType){return Object(utils.O)(tokenTypes,(function(result,innerType){return outerType.PATTERN.source!==innerType.PATTERN.source||Object(utils.j)(found,innerType)||innerType.PATTERN===lexer_public_Lexer.NA?result:(found.push(innerType),result.push(innerType),result)}),[])}));identicalPatterns=Object(utils.i)(identicalPatterns);var duplicatePatterns=Object(utils.p)(identicalPatterns,(function(currIdenticalSet){return currIdenticalSet.length>1}));return Object(utils.I)(duplicatePatterns,(function(setOfIdentical){var tokenTypeNames=Object(utils.I)(setOfIdentical,(function(currType){return currType.name}));return{message:\"The same RegExp pattern ->\"+Object(utils.s)(setOfIdentical).PATTERN+\"<-has been used in all of the following Token Types: \"+tokenTypeNames.join(\", \")+\" <-\",type:LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:setOfIdentical}}))}(withRegExpPatterns))).concat(function(tokenTypes){var matchesEmptyString=Object(utils.p)(tokenTypes,(function(currType){return currType[PATTERN].test(\"\")}));return Object(utils.I)(matchesEmptyString,(function(currType){return{message:\"Token Type: ->\"+currType.name+\"<- static 'PATTERN' must not match an empty string\",type:LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[currType]}}))}(withRegExpPatterns))}(validTokenTypes))).concat(function(tokenTypes){var invalidTypes=Object(utils.p)(tokenTypes,(function(clazz){if(!Object(utils.w)(clazz,\"GROUP\"))return!1;var group=clazz.GROUP;return group!==lexer_public_Lexer.SKIPPED&&group!==lexer_public_Lexer.NA&&!Object(utils.E)(group)}));return Object(utils.I)(invalidTypes,(function(currType){return{message:\"Token Type: ->\"+currType.name+\"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String\",type:LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[currType]}}))}(validTokenTypes))).concat(function(tokenTypes,validModes){var invalidModes=Object(utils.p)(tokenTypes,(function(clazz){return void 0!==clazz.PUSH_MODE&&!Object(utils.j)(validModes,clazz.PUSH_MODE)}));return Object(utils.I)(invalidModes,(function(tokType){return{message:\"Token Type: ->\"+tokType.name+\"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->\"+tokType.PUSH_MODE+\"<-which does not exist\",type:LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[tokType]}}))}(validTokenTypes,validModesNames))).concat(function(tokenTypes){var errors=[],canBeTested=Object(utils.O)(tokenTypes,(function(result,tokType,idx){var regExp,pattern=tokType.PATTERN;return pattern===lexer_public_Lexer.NA?result:(Object(utils.E)(pattern)?result.push({str:pattern,idx:idx,tokenType:tokType}):Object(utils.D)(pattern)&&(regExp=pattern,void 0===Object(utils.q)([\".\",\"\\\\\",\"[\",\"]\",\"|\",\"^\",\"$\",\"(\",\")\",\"?\",\"*\",\"+\",\"{\"],(function(char){return-1!==regExp.source.indexOf(char)})))&&result.push({str:pattern.source,idx:idx,tokenType:tokType}),result)}),[]);return Object(utils.u)(tokenTypes,(function(tokType,testIdx){Object(utils.u)(canBeTested,(function(_a){var tokenType=_a.tokenType;testIdx<_a.idx&&function(str,pattern){if(Object(utils.D)(pattern)){var regExpArray=pattern.exec(str);return null!==regExpArray&&0===regExpArray.index}if(Object(utils.B)(pattern))return pattern(str,0,[],{});if(Object(utils.w)(pattern,\"exec\"))return pattern.exec(str,0,[],{});if(\"string\"==typeof pattern)return pattern===str;throw Error(\"non exhaustive match\")}(_a.str,tokType.PATTERN)&&errors.push({message:\"Token: ->\"+tokenType.name+\"<- can never be matched.\\nBecause it appears AFTER the Token Type ->\"+tokType.name+\"<-in the lexer's definition.\\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE\",type:LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[tokType,tokenType]})}))})),errors}(validTokenTypes))}(currModDef,allModeNames))})),Object(utils.A)(_this.lexerDefinitionErrors)&&(augmentTokenTypes(currModDef),_this.TRACE_INIT(\"analyzeTokenTypes\",(function(){currAnalyzeResult_1=function(tokenTypes,options){var onlyRelevantTypes,tracer=(options=Object(utils.k)(options,{useSticky:SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:\"full\",lineTerminatorCharacters:[\"\\r\",\"\\n\"],tracer:function(msg,action){return action()}})).tracer;tracer(\"initCharCodeToOptimizedIndexMap\",(function(){!function(){if(Object(utils.A)(charCodeToOptimizedIdxMap)){charCodeToOptimizedIdxMap=new Array(65536);for(var i=0;i<65536;i++)charCodeToOptimizedIdxMap[i]=i>255?255+~~(i/255):i}}()})),tracer(\"Reject Lexer.NA\",(function(){onlyRelevantTypes=Object(utils.P)(tokenTypes,(function(currType){return currType[PATTERN]===lexer_public_Lexer.NA}))}));var allTransformedPatterns,patternIdxToType,patternIdxToGroup,patternIdxToLongerAltIdx,patternIdxToPushMode,patternIdxToPopMode,patternIdxToCanLineTerminator,patternIdxToIsCustom,patternIdxToShort,emptyGroups,patternIdxToConfig,hasCustom=!1;tracer(\"Transform Patterns\",(function(){hasCustom=!1,allTransformedPatterns=Object(utils.I)(onlyRelevantTypes,(function(currType){var currPattern=currType[PATTERN];if(Object(utils.D)(currPattern)){var regExpSource=currPattern.source;return 1===regExpSource.length&&\"^\"!==regExpSource&&\"$\"!==regExpSource&&\".\"!==regExpSource?regExpSource:2!==regExpSource.length||\"\\\\\"!==regExpSource[0]||Object(utils.j)([\"d\",\"D\",\"s\",\"S\",\"t\",\"r\",\"n\",\"t\",\"0\",\"c\",\"b\",\"B\",\"f\",\"v\",\"w\",\"W\"],regExpSource[1])?options.useSticky?addStickyFlag(currPattern):addStartOfInput(currPattern):regExpSource[1]}if(Object(utils.B)(currPattern))return hasCustom=!0,{exec:currPattern};if(Object(utils.w)(currPattern,\"exec\"))return hasCustom=!0,currPattern;if(\"string\"==typeof currPattern){if(1===currPattern.length)return currPattern;var escapedRegExpString=currPattern.replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\"),wrappedRegExp=new RegExp(escapedRegExpString);return options.useSticky?addStickyFlag(wrappedRegExp):addStartOfInput(wrappedRegExp)}throw Error(\"non exhaustive match\")}))})),tracer(\"misc mapping\",(function(){patternIdxToType=Object(utils.I)(onlyRelevantTypes,(function(currType){return currType.tokenTypeIdx})),patternIdxToGroup=Object(utils.I)(onlyRelevantTypes,(function(clazz){var groupName=clazz.GROUP;if(groupName!==lexer_public_Lexer.SKIPPED){if(Object(utils.E)(groupName))return groupName;if(Object(utils.F)(groupName))return!1;throw Error(\"non exhaustive match\")}})),patternIdxToLongerAltIdx=Object(utils.I)(onlyRelevantTypes,(function(clazz){var longerAltType=clazz.LONGER_ALT;if(longerAltType)return Object(utils.x)(onlyRelevantTypes,longerAltType)})),patternIdxToPushMode=Object(utils.I)(onlyRelevantTypes,(function(clazz){return clazz.PUSH_MODE})),patternIdxToPopMode=Object(utils.I)(onlyRelevantTypes,(function(clazz){return Object(utils.w)(clazz,\"POP_MODE\")}))})),tracer(\"Line Terminator Handling\",(function(){var lineTerminatorCharCodes=getCharCodes(options.lineTerminatorCharacters);patternIdxToCanLineTerminator=Object(utils.I)(onlyRelevantTypes,(function(tokType){return!1})),\"onlyOffset\"!==options.positionTracking&&(patternIdxToCanLineTerminator=Object(utils.I)(onlyRelevantTypes,(function(tokType){return Object(utils.w)(tokType,\"LINE_BREAKS\")?tokType.LINE_BREAKS:!1===checkLineBreaksIssues(tokType,lineTerminatorCharCodes)?canMatchCharCode(lineTerminatorCharCodes,tokType.PATTERN):void 0})))})),tracer(\"Misc Mapping #2\",(function(){patternIdxToIsCustom=Object(utils.I)(onlyRelevantTypes,isCustomPattern),patternIdxToShort=Object(utils.I)(allTransformedPatterns,isShortPattern),emptyGroups=Object(utils.O)(onlyRelevantTypes,(function(acc,clazz){var groupName=clazz.GROUP;return Object(utils.E)(groupName)&&groupName!==lexer_public_Lexer.SKIPPED&&(acc[groupName]=[]),acc}),{}),patternIdxToConfig=Object(utils.I)(allTransformedPatterns,(function(x,idx){return{pattern:allTransformedPatterns[idx],longerAlt:patternIdxToLongerAltIdx[idx],canLineTerminator:patternIdxToCanLineTerminator[idx],isCustom:patternIdxToIsCustom[idx],short:patternIdxToShort[idx],group:patternIdxToGroup[idx],push:patternIdxToPushMode[idx],pop:patternIdxToPopMode[idx],tokenTypeIdx:patternIdxToType[idx],tokenType:onlyRelevantTypes[idx]}}))}));var canBeOptimized=!0,charCodeToPatternIdxToConfig=[];return options.safeMode||tracer(\"First Char Optimization\",(function(){charCodeToPatternIdxToConfig=Object(utils.O)(onlyRelevantTypes,(function(result,currTokType,idx){if(\"string\"==typeof currTokType.PATTERN){var optimizedIdx=charCodeToOptimizedIndex(currTokType.PATTERN.charCodeAt(0));addToMapOfArrays(result,optimizedIdx,patternIdxToConfig[idx])}else if(Object(utils.y)(currTokType.START_CHARS_HINT)){var lastOptimizedIdx_1;Object(utils.u)(currTokType.START_CHARS_HINT,(function(charOrInt){var currOptimizedIdx=charCodeToOptimizedIndex(\"string\"==typeof charOrInt?charOrInt.charCodeAt(0):charOrInt);lastOptimizedIdx_1!==currOptimizedIdx&&(lastOptimizedIdx_1=currOptimizedIdx,addToMapOfArrays(result,currOptimizedIdx,patternIdxToConfig[idx]))}))}else if(Object(utils.D)(currTokType.PATTERN))if(currTokType.PATTERN.unicode)canBeOptimized=!1,options.ensureOptimizations&&Object(utils.c)(failedOptimizationPrefixMsg+\"\\tUnable to analyze < \"+currTokType.PATTERN.toString()+\" > pattern.\\n\\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\\n\\tThis will disable the lexer's first char optimizations.\\n\\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE\");else{var optimizedCodes=function(regExp,ensureOptimizations){void 0===ensureOptimizations&&(ensureOptimizations=!1);try{var ast=getRegExpAst(regExp);return function firstCharOptimizedIndices(ast,result,ignoreCase){switch(ast.type){case\"Disjunction\":for(var i=0;i<ast.value.length;i++)firstCharOptimizedIndices(ast.value[i],result,ignoreCase);break;case\"Alternative\":var terms=ast.value;for(i=0;i<terms.length;i++){var term=terms[i];switch(term.type){case\"EndAnchor\":case\"GroupBackReference\":case\"Lookahead\":case\"NegativeLookahead\":case\"StartAnchor\":case\"WordBoundary\":case\"NonWordBoundary\":continue}var atom=term;switch(atom.type){case\"Character\":addOptimizedIdxToResult(atom.value,result,ignoreCase);break;case\"Set\":if(!0===atom.complement)throw Error(complementErrorMessage);Object(utils.u)(atom.value,(function(code){if(\"number\"==typeof code)addOptimizedIdxToResult(code,result,ignoreCase);else{var range=code;if(!0===ignoreCase)for(var rangeCode=range.from;rangeCode<=range.to;rangeCode++)addOptimizedIdxToResult(rangeCode,result,ignoreCase);else{for(rangeCode=range.from;rangeCode<=range.to&&rangeCode<minOptimizationVal;rangeCode++)addOptimizedIdxToResult(rangeCode,result,ignoreCase);if(range.to>=minOptimizationVal)for(var maxUnOptVal=range.to,minOptIdx=charCodeToOptimizedIndex(range.from>=minOptimizationVal?range.from:minOptimizationVal),maxOptIdx=charCodeToOptimizedIndex(maxUnOptVal),currOptIdx=minOptIdx;currOptIdx<=maxOptIdx;currOptIdx++)result[currOptIdx]=currOptIdx}}}));break;case\"Group\":firstCharOptimizedIndices(atom.value,result,ignoreCase);break;default:throw Error(\"Non Exhaustive Match\")}var isOptionalQuantifier=void 0!==atom.quantifier&&0===atom.quantifier.atLeast;if(\"Group\"===atom.type&&!1===isWholeOptional(atom)||\"Group\"!==atom.type&&!1===isOptionalQuantifier)break}break;default:throw Error(\"non exhaustive match!\")}return Object(utils.U)(result)}(ast.value,{},ast.flags.ignoreCase)}catch(e){if(e.message===complementErrorMessage)ensureOptimizations&&Object(utils.d)(failedOptimizationPrefixMsg+\"\\tUnable to optimize: < \"+regExp.toString()+\" >\\n\\tComplement Sets cannot be automatically optimized.\\n\\tThis will disable the lexer's first char optimizations.\\n\\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.\");else{var msgSuffix=\"\";ensureOptimizations&&(msgSuffix=\"\\n\\tThis will disable the lexer's first char optimizations.\\n\\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.\"),Object(utils.c)(failedOptimizationPrefixMsg+\"\\n\\tFailed parsing: < \"+regExp.toString()+\" >\\n\\tUsing the regexp-to-ast library version: \"+regexp_to_ast.VERSION+\"\\n\\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues\"+msgSuffix)}}return[]}(currTokType.PATTERN,options.ensureOptimizations);Object(utils.A)(optimizedCodes)&&(canBeOptimized=!1),Object(utils.u)(optimizedCodes,(function(code){addToMapOfArrays(result,code,patternIdxToConfig[idx])}))}else options.ensureOptimizations&&Object(utils.c)(failedOptimizationPrefixMsg+\"\\tTokenType: <\"+currTokType.name+\"> is using a custom token pattern without providing <start_chars_hint> parameter.\\n\\tThis will disable the lexer's first char optimizations.\\n\\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE\"),canBeOptimized=!1;return result}),[])})),tracer(\"ArrayPacking\",(function(){charCodeToPatternIdxToConfig=Object(utils.L)(charCodeToPatternIdxToConfig)})),{emptyGroups:emptyGroups,patternIdxToConfig:patternIdxToConfig,charCodeToPatternIdxToConfig:charCodeToPatternIdxToConfig,hasCustom:hasCustom,canBeOptimized:canBeOptimized}}(currModDef,{lineTerminatorCharacters:_this.config.lineTerminatorCharacters,positionTracking:config.positionTracking,ensureOptimizations:config.ensureOptimizations,safeMode:config.safeMode,tracer:_this.TRACE_INIT.bind(_this)})})),_this.patternIdxToConfig[currModName]=currAnalyzeResult_1.patternIdxToConfig,_this.charCodeToPatternIdxToConfig[currModName]=currAnalyzeResult_1.charCodeToPatternIdxToConfig,_this.emptyGroups=Object(utils.K)(_this.emptyGroups,currAnalyzeResult_1.emptyGroups),_this.hasCustom=currAnalyzeResult_1.hasCustom||_this.hasCustom,_this.canModeBeOptimized[currModName]=currAnalyzeResult_1.canBeOptimized)}))})),_this.defaultMode=actualDefinition.defaultMode,!Object(utils.A)(_this.lexerDefinitionErrors)&&!_this.config.deferDefinitionErrorsHandling){var allErrMessagesString=Object(utils.I)(_this.lexerDefinitionErrors,(function(error){return error.message})).join(\"-----------------------\\n\");throw new Error(\"Errors detected in definition of Lexer:\\n\"+allErrMessagesString)}Object(utils.u)(_this.lexerDefinitionWarning,(function(warningDescriptor){Object(utils.d)(warningDescriptor.message)})),_this.TRACE_INIT(\"Choosing sub-methods implementations\",(function(){if(SUPPORT_STICKY?(_this.chopInput=utils.a,_this.match=_this.matchWithTest):(_this.updateLastIndex=utils.b,_this.match=_this.matchWithExec),hasOnlySingleMode&&(_this.handleModes=utils.b),!1===_this.trackStartLines&&(_this.computeNewColumn=utils.a),!1===_this.trackEndLines&&(_this.updateTokenEndLineColumnLocation=utils.b),/full/i.test(_this.config.positionTracking))_this.createTokenInstance=_this.createFullToken;else if(/onlyStart/i.test(_this.config.positionTracking))_this.createTokenInstance=_this.createStartOnlyToken;else{if(!/onlyOffset/i.test(_this.config.positionTracking))throw Error('Invalid <positionTracking> config option: \"'+_this.config.positionTracking+'\"');_this.createTokenInstance=_this.createOffsetOnlyToken}_this.hasCustom?(_this.addToken=_this.addTokenUsingPush,_this.handlePayload=_this.handlePayloadWithCustom):(_this.addToken=_this.addTokenUsingMemberAccess,_this.handlePayload=_this.handlePayloadNoCustom)})),_this.TRACE_INIT(\"Failed Optimization Warnings\",(function(){var unOptimizedModes=Object(utils.O)(_this.canModeBeOptimized,(function(cannotBeOptimized,canBeOptimized,modeName){return!1===canBeOptimized&&cannotBeOptimized.push(modeName),cannotBeOptimized}),[]);if(config.ensureOptimizations&&!Object(utils.A)(unOptimizedModes))throw Error(\"Lexer Modes: < \"+unOptimizedModes.join(\", \")+' > cannot be optimized.\\n\\t Disable the \"ensureOptimizations\" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\\n\\t Or inspect the console log for details on how to resolve these issues.')})),_this.TRACE_INIT(\"clearRegExpParserCache\",(function(){regExpAstCache={}})),_this.TRACE_INIT(\"toFastProperties\",(function(){Object(utils.S)(_this)}))}))}return Lexer.prototype.tokenize=function(text,initialMode){if(void 0===initialMode&&(initialMode=this.defaultMode),!Object(utils.A)(this.lexerDefinitionErrors)){var allErrMessagesString=Object(utils.I)(this.lexerDefinitionErrors,(function(error){return error.message})).join(\"-----------------------\\n\");throw new Error(\"Unable to Tokenize because Errors detected in definition of Lexer:\\n\"+allErrMessagesString)}return this.tokenizeInternal(text,initialMode)},Lexer.prototype.tokenizeInternal=function(text,initialMode){var i,j,matchAltImage,longerAltIdx,matchedImage,payload,altPayload,imageLength,group,newToken,errLength,msg,match,emptyGroups,clonedResult,groupKeys,_this=this,orgText=text,orgLength=orgText.length,offset=0,matchedTokensIndex=0,guessedNumberOfTokens=this.hasCustom?0:Math.floor(text.length/10),matchedTokens=new Array(guessedNumberOfTokens),errors=[],line=this.trackStartLines?1:void 0,column=this.trackStartLines?1:void 0,groups=(emptyGroups=this.emptyGroups,clonedResult={},groupKeys=Object(utils.G)(emptyGroups),Object(utils.u)(groupKeys,(function(currKey){var currGroupValue=emptyGroups[currKey];if(!Object(utils.y)(currGroupValue))throw Error(\"non exhaustive match\");clonedResult[currKey]=[]})),clonedResult),trackLines=this.trackStartLines,lineTerminatorPattern=this.config.lineTerminatorsPattern,currModePatternsLength=0,patternIdxToConfig=[],currCharCodeToPatternIdxToConfig=[],modeStack=[],emptyArray=[];Object.freeze(emptyArray);var getPossiblePatterns=void 0;function getPossiblePatternsSlow(){return patternIdxToConfig}function getPossiblePatternsOptimized(charCode){var optimizedCharIdx=charCodeToOptimizedIndex(charCode),possiblePatterns=currCharCodeToPatternIdxToConfig[optimizedCharIdx];return void 0===possiblePatterns?emptyArray:possiblePatterns}var currConfig,pop_mode=function(popToken){if(1===modeStack.length&&void 0===popToken.tokenType.PUSH_MODE){var msg_1=_this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(popToken);errors.push({offset:popToken.startOffset,line:void 0!==popToken.startLine?popToken.startLine:void 0,column:void 0!==popToken.startColumn?popToken.startColumn:void 0,length:popToken.image.length,message:msg_1})}else{modeStack.pop();var newMode=Object(utils.H)(modeStack);currModePatternsLength=(patternIdxToConfig=_this.patternIdxToConfig[newMode]).length,getPossiblePatterns=(currCharCodeToPatternIdxToConfig=_this.charCodeToPatternIdxToConfig[newMode])&&_this.canModeBeOptimized[newMode]&&!1===_this.config.safeMode?getPossiblePatternsOptimized:getPossiblePatternsSlow}};function push_mode(newMode){modeStack.push(newMode),currModePatternsLength=(patternIdxToConfig=this.patternIdxToConfig[newMode]).length,currModePatternsLength=patternIdxToConfig.length,getPossiblePatterns=(currCharCodeToPatternIdxToConfig=this.charCodeToPatternIdxToConfig[newMode])&&this.canModeBeOptimized[newMode]&&!1===this.config.safeMode?getPossiblePatternsOptimized:getPossiblePatternsSlow}for(push_mode.call(this,initialMode);offset<orgLength;){matchedImage=null;var nextCharCode=orgText.charCodeAt(offset),chosenPatternIdxToConfig=getPossiblePatterns(nextCharCode),chosenPatternsLength=chosenPatternIdxToConfig.length;for(i=0;i<chosenPatternsLength;i++){var currPattern=(currConfig=chosenPatternIdxToConfig[i]).pattern;if(payload=null,!1!==(singleCharCode=currConfig.short)?nextCharCode===singleCharCode&&(matchedImage=currPattern):!0===currConfig.isCustom?null!==(match=currPattern.exec(orgText,offset,matchedTokens,groups))?(matchedImage=match[0],void 0!==match.payload&&(payload=match.payload)):matchedImage=null:(this.updateLastIndex(currPattern,offset),matchedImage=this.match(currPattern,text,offset)),null!==matchedImage){if(void 0!==(longerAltIdx=currConfig.longerAlt)){var longerAltConfig=patternIdxToConfig[longerAltIdx],longerAltPattern=longerAltConfig.pattern;altPayload=null,!0===longerAltConfig.isCustom?null!==(match=longerAltPattern.exec(orgText,offset,matchedTokens,groups))?(matchAltImage=match[0],void 0!==match.payload&&(altPayload=match.payload)):matchAltImage=null:(this.updateLastIndex(longerAltPattern,offset),matchAltImage=this.match(longerAltPattern,text,offset)),matchAltImage&&matchAltImage.length>matchedImage.length&&(matchedImage=matchAltImage,payload=altPayload,currConfig=longerAltConfig)}break}}if(null!==matchedImage){if(imageLength=matchedImage.length,void 0!==(group=currConfig.group)&&(newToken=this.createTokenInstance(matchedImage,offset,currConfig.tokenTypeIdx,currConfig.tokenType,line,column,imageLength),this.handlePayload(newToken,payload),!1===group?matchedTokensIndex=this.addToken(matchedTokens,matchedTokensIndex,newToken):groups[group].push(newToken)),text=this.chopInput(text,imageLength),offset+=imageLength,column=this.computeNewColumn(column,imageLength),!0===trackLines&&!0===currConfig.canLineTerminator){var numOfLTsInMatch=0,foundTerminator=void 0,lastLTEndOffset=void 0;lineTerminatorPattern.lastIndex=0;do{!0===(foundTerminator=lineTerminatorPattern.test(matchedImage))&&(lastLTEndOffset=lineTerminatorPattern.lastIndex-1,numOfLTsInMatch++)}while(!0===foundTerminator);0!==numOfLTsInMatch&&this.updateTokenEndLineColumnLocation(newToken,group,lastLTEndOffset,numOfLTsInMatch,line+=numOfLTsInMatch,column=imageLength-lastLTEndOffset,imageLength)}this.handleModes(currConfig,pop_mode,push_mode,newToken)}else{for(var errorStartOffset=offset,errorLine=line,errorColumn=column,foundResyncPoint=!1;!foundResyncPoint&&offset<orgLength;)for(orgText.charCodeAt(offset),text=this.chopInput(text,1),offset++,j=0;j<currModePatternsLength;j++){var singleCharCode,currConfig_1=patternIdxToConfig[j];if(currPattern=currConfig_1.pattern,!1!==(singleCharCode=currConfig_1.short)?orgText.charCodeAt(offset)===singleCharCode&&(foundResyncPoint=!0):!0===currConfig_1.isCustom?foundResyncPoint=null!==currPattern.exec(orgText,offset,matchedTokens,groups):(this.updateLastIndex(currPattern,offset),foundResyncPoint=null!==currPattern.exec(text)),!0===foundResyncPoint)break}msg=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(orgText,errorStartOffset,errLength=offset-errorStartOffset,errorLine,errorColumn),errors.push({offset:errorStartOffset,line:errorLine,column:errorColumn,length:errLength,message:msg})}}return this.hasCustom||(matchedTokens.length=matchedTokensIndex),{tokens:matchedTokens,groups:groups,errors:errors}},Lexer.prototype.handleModes=function(config,pop_mode,push_mode,newToken){if(!0===config.pop){var pushMode=config.push;pop_mode(newToken),void 0!==pushMode&&push_mode.call(this,pushMode)}else void 0!==config.push&&push_mode.call(this,config.push)},Lexer.prototype.chopInput=function(text,length){return text.substring(length)},Lexer.prototype.updateLastIndex=function(regExp,newLastIndex){regExp.lastIndex=newLastIndex},Lexer.prototype.updateTokenEndLineColumnLocation=function(newToken,group,lastLTIdx,numOfLTsInMatch,line,column,imageLength){var lastCharIsLT,fixForEndingInLT;void 0!==group&&(fixForEndingInLT=(lastCharIsLT=lastLTIdx===imageLength-1)?-1:0,1===numOfLTsInMatch&&!0===lastCharIsLT||(newToken.endLine=line+fixForEndingInLT,newToken.endColumn=column-1-fixForEndingInLT))},Lexer.prototype.computeNewColumn=function(oldColumn,imageLength){return oldColumn+imageLength},Lexer.prototype.createTokenInstance=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return null},Lexer.prototype.createOffsetOnlyToken=function(image,startOffset,tokenTypeIdx,tokenType){return{image:image,startOffset:startOffset,tokenTypeIdx:tokenTypeIdx,tokenType:tokenType}},Lexer.prototype.createStartOnlyToken=function(image,startOffset,tokenTypeIdx,tokenType,startLine,startColumn){return{image:image,startOffset:startOffset,startLine:startLine,startColumn:startColumn,tokenTypeIdx:tokenTypeIdx,tokenType:tokenType}},Lexer.prototype.createFullToken=function(image,startOffset,tokenTypeIdx,tokenType,startLine,startColumn,imageLength){return{image:image,startOffset:startOffset,endOffset:startOffset+imageLength-1,startLine:startLine,endLine:startLine,startColumn:startColumn,endColumn:startColumn+imageLength-1,tokenTypeIdx:tokenTypeIdx,tokenType:tokenType}},Lexer.prototype.addToken=function(tokenVector,index,tokenToAdd){return 666},Lexer.prototype.addTokenUsingPush=function(tokenVector,index,tokenToAdd){return tokenVector.push(tokenToAdd),index},Lexer.prototype.addTokenUsingMemberAccess=function(tokenVector,index,tokenToAdd){return tokenVector[index]=tokenToAdd,++index},Lexer.prototype.handlePayload=function(token,payload){},Lexer.prototype.handlePayloadNoCustom=function(token,payload){},Lexer.prototype.handlePayloadWithCustom=function(token,payload){null!==payload&&(token.payload=payload)},Lexer.prototype.match=function(pattern,text,offset){return null},Lexer.prototype.matchWithTest=function(pattern,text,offset){return!0===pattern.test(text)?text.substring(offset,pattern.lastIndex):null},Lexer.prototype.matchWithExec=function(pattern,text){var regExpArray=pattern.exec(text);return null!==regExpArray?regExpArray[0]:regExpArray},Lexer.prototype.TRACE_INIT=function(phaseDesc,phaseImpl){if(!0===this.traceInitPerf){this.traceInitIndent++;var indent=new Array(this.traceInitIndent+1).join(\"\\t\");this.traceInitIndent<this.traceInitMaxIdent&&console.log(indent+\"--\\x3e <\"+phaseDesc+\">\");var _a=Object(utils.R)(phaseImpl),time=_a.time,value=_a.value,traceMethod=time>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&traceMethod(indent+\"<-- <\"+phaseDesc+\"> time: \"+time+\"ms\"),this.traceInitIndent--,value}return phaseImpl()},Lexer.SKIPPED=\"This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.\",Lexer.NA=/NOT_APPLICABLE/,Lexer}();function tokenLabel(tokType){return hasTokenLabel(tokType)?tokType.LABEL:tokType.name}function tokenName(tokType){return tokType.name}function hasTokenLabel(obj){return Object(utils.E)(obj.LABEL)&&\"\"!==obj.LABEL}var PARENT=\"parent\",CATEGORIES=\"categories\",LABEL=\"label\",GROUP=\"group\",PUSH_MODE=\"push_mode\",POP_MODE=\"pop_mode\",LONGER_ALT=\"longer_alt\",LINE_BREAKS=\"line_breaks\",START_CHARS_HINT=\"start_chars_hint\";function createToken(config){return function(config){var pattern=config.pattern,tokenType={};if(tokenType.name=config.name,Object(utils.F)(pattern)||(tokenType.PATTERN=pattern),Object(utils.w)(config,PARENT))throw\"The parent property is no longer supported.\\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.\";return Object(utils.w)(config,CATEGORIES)&&(tokenType.CATEGORIES=config[CATEGORIES]),augmentTokenTypes([tokenType]),Object(utils.w)(config,LABEL)&&(tokenType.LABEL=config[LABEL]),Object(utils.w)(config,GROUP)&&(tokenType.GROUP=config[GROUP]),Object(utils.w)(config,POP_MODE)&&(tokenType.POP_MODE=config[POP_MODE]),Object(utils.w)(config,PUSH_MODE)&&(tokenType.PUSH_MODE=config[PUSH_MODE]),Object(utils.w)(config,LONGER_ALT)&&(tokenType.LONGER_ALT=config[LONGER_ALT]),Object(utils.w)(config,LINE_BREAKS)&&(tokenType.LINE_BREAKS=config[LINE_BREAKS]),Object(utils.w)(config,START_CHARS_HINT)&&(tokenType.START_CHARS_HINT=config[START_CHARS_HINT]),tokenType}(config)}var EOF=createToken({name:\"EOF\",pattern:lexer_public_Lexer.NA});function createTokenInstance(tokType,image,startOffset,endOffset,startLine,endLine,startColumn,endColumn){return{image:image,startOffset:startOffset,endOffset:endOffset,startLine:startLine,endLine:endLine,startColumn:startColumn,endColumn:endColumn,tokenTypeIdx:tokType.tokenTypeIdx,tokenType:tokType}}function tokens_public_tokenMatcher(token,tokType){return tokenStructuredMatcher(token,tokType)}augmentTokenTypes([EOF]);var gast_public_AbstractProduction=function(){function AbstractProduction(definition){this.definition=definition}return AbstractProduction.prototype.accept=function(visitor){visitor.visit(this),Object(utils.u)(this.definition,(function(prod){prod.accept(visitor)}))},AbstractProduction}(),gast_public_NonTerminal=function(_super){function NonTerminal(options){var _this=_super.call(this,[])||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return Object(tslib_es6.a)(NonTerminal,_super),Object.defineProperty(NonTerminal.prototype,\"definition\",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(definition){},enumerable:!0,configurable:!0}),NonTerminal.prototype.accept=function(visitor){visitor.visit(this)},NonTerminal}(gast_public_AbstractProduction),gast_public_Rule=function(_super){function Rule(options){var _this=_super.call(this,options.definition)||this;return _this.orgText=\"\",Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return Object(tslib_es6.a)(Rule,_super),Rule}(gast_public_AbstractProduction),gast_public_Flat=function(_super){function Flat(options){var _this=_super.call(this,options.definition)||this;return _this.ignoreAmbiguities=!1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return Object(tslib_es6.a)(Flat,_super),Flat}(gast_public_AbstractProduction),gast_public_Option=function(_super){function Option(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return Object(tslib_es6.a)(Option,_super),Option}(gast_public_AbstractProduction),gast_public_RepetitionMandatory=function(_super){function RepetitionMandatory(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return Object(tslib_es6.a)(RepetitionMandatory,_super),RepetitionMandatory}(gast_public_AbstractProduction),gast_public_RepetitionMandatoryWithSeparator=function(_super){function RepetitionMandatoryWithSeparator(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return Object(tslib_es6.a)(RepetitionMandatoryWithSeparator,_super),RepetitionMandatoryWithSeparator}(gast_public_AbstractProduction),gast_public_Repetition=function(_super){function Repetition(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return Object(tslib_es6.a)(Repetition,_super),Repetition}(gast_public_AbstractProduction),gast_public_RepetitionWithSeparator=function(_super){function RepetitionWithSeparator(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return Object(tslib_es6.a)(RepetitionWithSeparator,_super),RepetitionWithSeparator}(gast_public_AbstractProduction),gast_public_Alternation=function(_super){function Alternation(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,_this.ignoreAmbiguities=!1,_this.hasPredicates=!1,Object(utils.f)(_this,Object(utils.N)(options,(function(v){return void 0!==v}))),_this}return Object(tslib_es6.a)(Alternation,_super),Alternation}(gast_public_AbstractProduction),gast_public_Terminal=function(){function Terminal(options){this.idx=1,Object(utils.f)(this,Object(utils.N)(options,(function(v){return void 0!==v})))}return Terminal.prototype.accept=function(visitor){visitor.visit(this)},Terminal}();function serializeGrammar(topRules){return Object(utils.I)(topRules,serializeProduction)}function serializeProduction(node){function convertDefinition(definition){return Object(utils.I)(definition,serializeProduction)}if(node instanceof gast_public_NonTerminal)return{type:\"NonTerminal\",name:node.nonTerminalName,idx:node.idx};if(node instanceof gast_public_Flat)return{type:\"Flat\",definition:convertDefinition(node.definition)};if(node instanceof gast_public_Option)return{type:\"Option\",idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof gast_public_RepetitionMandatory)return{type:\"RepetitionMandatory\",name:node.name,idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof gast_public_RepetitionMandatoryWithSeparator)return{type:\"RepetitionMandatoryWithSeparator\",name:node.name,idx:node.idx,separator:serializeProduction(new gast_public_Terminal({terminalType:node.separator})),definition:convertDefinition(node.definition)};if(node instanceof gast_public_RepetitionWithSeparator)return{type:\"RepetitionWithSeparator\",name:node.name,idx:node.idx,separator:serializeProduction(new gast_public_Terminal({terminalType:node.separator})),definition:convertDefinition(node.definition)};if(node instanceof gast_public_Repetition)return{type:\"Repetition\",name:node.name,idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof gast_public_Alternation)return{type:\"Alternation\",name:node.name,idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof gast_public_Terminal){var serializedTerminal={type:\"Terminal\",name:node.terminalType.name,label:tokenLabel(node.terminalType),idx:node.idx},pattern=node.terminalType.PATTERN;return node.terminalType.PATTERN&&(serializedTerminal.pattern=Object(utils.D)(pattern)?pattern.source:pattern),serializedTerminal}if(node instanceof gast_public_Rule)return{type:\"Rule\",name:node.name,orgText:node.orgText,definition:convertDefinition(node.definition)};throw Error(\"non exhaustive match\")}var rest_RestWalker=function(){function RestWalker(){}return RestWalker.prototype.walk=function(prod,prevRest){var _this=this;void 0===prevRest&&(prevRest=[]),Object(utils.u)(prod.definition,(function(subProd,index){var currRest=Object(utils.m)(prod.definition,index+1);if(subProd instanceof gast_public_NonTerminal)_this.walkProdRef(subProd,currRest,prevRest);else if(subProd instanceof gast_public_Terminal)_this.walkTerminal(subProd,currRest,prevRest);else if(subProd instanceof gast_public_Flat)_this.walkFlat(subProd,currRest,prevRest);else if(subProd instanceof gast_public_Option)_this.walkOption(subProd,currRest,prevRest);else if(subProd instanceof gast_public_RepetitionMandatory)_this.walkAtLeastOne(subProd,currRest,prevRest);else if(subProd instanceof gast_public_RepetitionMandatoryWithSeparator)_this.walkAtLeastOneSep(subProd,currRest,prevRest);else if(subProd instanceof gast_public_RepetitionWithSeparator)_this.walkManySep(subProd,currRest,prevRest);else if(subProd instanceof gast_public_Repetition)_this.walkMany(subProd,currRest,prevRest);else{if(!(subProd instanceof gast_public_Alternation))throw Error(\"non exhaustive match\");_this.walkOr(subProd,currRest,prevRest)}}))},RestWalker.prototype.walkTerminal=function(terminal,currRest,prevRest){},RestWalker.prototype.walkProdRef=function(refProd,currRest,prevRest){},RestWalker.prototype.walkFlat=function(flatProd,currRest,prevRest){var fullOrRest=currRest.concat(prevRest);this.walk(flatProd,fullOrRest)},RestWalker.prototype.walkOption=function(optionProd,currRest,prevRest){var fullOrRest=currRest.concat(prevRest);this.walk(optionProd,fullOrRest)},RestWalker.prototype.walkAtLeastOne=function(atLeastOneProd,currRest,prevRest){var fullAtLeastOneRest=[new gast_public_Option({definition:atLeastOneProd.definition})].concat(currRest,prevRest);this.walk(atLeastOneProd,fullAtLeastOneRest)},RestWalker.prototype.walkAtLeastOneSep=function(atLeastOneSepProd,currRest,prevRest){var fullAtLeastOneSepRest=restForRepetitionWithSeparator(atLeastOneSepProd,currRest,prevRest);this.walk(atLeastOneSepProd,fullAtLeastOneSepRest)},RestWalker.prototype.walkMany=function(manyProd,currRest,prevRest){var fullManyRest=[new gast_public_Option({definition:manyProd.definition})].concat(currRest,prevRest);this.walk(manyProd,fullManyRest)},RestWalker.prototype.walkManySep=function(manySepProd,currRest,prevRest){var fullManySepRest=restForRepetitionWithSeparator(manySepProd,currRest,prevRest);this.walk(manySepProd,fullManySepRest)},RestWalker.prototype.walkOr=function(orProd,currRest,prevRest){var _this=this,fullOrRest=currRest.concat(prevRest);Object(utils.u)(orProd.definition,(function(alt){var prodWrapper=new gast_public_Flat({definition:[alt]});_this.walk(prodWrapper,fullOrRest)}))},RestWalker}();function restForRepetitionWithSeparator(repSepProd,currRest,prevRest){return[new gast_public_Option({definition:[new gast_public_Terminal({terminalType:repSepProd.separator})].concat(repSepProd.definition)})].concat(currRest,prevRest)}var gast_visitor_public_GAstVisitor=function(){function GAstVisitor(){}return GAstVisitor.prototype.visit=function(node){var nodeAny=node;switch(nodeAny.constructor){case gast_public_NonTerminal:return this.visitNonTerminal(nodeAny);case gast_public_Flat:return this.visitFlat(nodeAny);case gast_public_Option:return this.visitOption(nodeAny);case gast_public_RepetitionMandatory:return this.visitRepetitionMandatory(nodeAny);case gast_public_RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(nodeAny);case gast_public_RepetitionWithSeparator:return this.visitRepetitionWithSeparator(nodeAny);case gast_public_Repetition:return this.visitRepetition(nodeAny);case gast_public_Alternation:return this.visitAlternation(nodeAny);case gast_public_Terminal:return this.visitTerminal(nodeAny);case gast_public_Rule:return this.visitRule(nodeAny);default:throw Error(\"non exhaustive match\")}},GAstVisitor.prototype.visitNonTerminal=function(node){},GAstVisitor.prototype.visitFlat=function(node){},GAstVisitor.prototype.visitOption=function(node){},GAstVisitor.prototype.visitRepetition=function(node){},GAstVisitor.prototype.visitRepetitionMandatory=function(node){},GAstVisitor.prototype.visitRepetitionMandatoryWithSeparator=function(node){},GAstVisitor.prototype.visitRepetitionWithSeparator=function(node){},GAstVisitor.prototype.visitAlternation=function(node){},GAstVisitor.prototype.visitTerminal=function(node){},GAstVisitor.prototype.visitRule=function(node){},GAstVisitor}();function isOptionalProd(prod,alreadyVisited){return void 0===alreadyVisited&&(alreadyVisited=[]),!!(prod instanceof gast_public_Option||prod instanceof gast_public_Repetition||prod instanceof gast_public_RepetitionWithSeparator)||(prod instanceof gast_public_Alternation?Object(utils.Q)(prod.definition,(function(subProd){return isOptionalProd(subProd,alreadyVisited)})):!(prod instanceof gast_public_NonTerminal&&Object(utils.j)(alreadyVisited,prod))&&prod instanceof gast_public_AbstractProduction&&(prod instanceof gast_public_NonTerminal&&alreadyVisited.push(prod),Object(utils.o)(prod.definition,(function(subProd){return isOptionalProd(subProd,alreadyVisited)}))))}function getProductionDslName(prod){if(prod instanceof gast_public_NonTerminal)return\"SUBRULE\";if(prod instanceof gast_public_Option)return\"OPTION\";if(prod instanceof gast_public_Alternation)return\"OR\";if(prod instanceof gast_public_RepetitionMandatory)return\"AT_LEAST_ONE\";if(prod instanceof gast_public_RepetitionMandatoryWithSeparator)return\"AT_LEAST_ONE_SEP\";if(prod instanceof gast_public_RepetitionWithSeparator)return\"MANY_SEP\";if(prod instanceof gast_public_Repetition)return\"MANY\";if(prod instanceof gast_public_Terminal)return\"CONSUME\";throw Error(\"non exhaustive match\")}var gast_DslMethodsCollectorVisitor=function(_super){function DslMethodsCollectorVisitor(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.separator=\"-\",_this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},_this}return Object(tslib_es6.a)(DslMethodsCollectorVisitor,_super),DslMethodsCollectorVisitor.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},DslMethodsCollectorVisitor.prototype.visitTerminal=function(terminal){var key=terminal.terminalType.name+this.separator+\"Terminal\";Object(utils.w)(this.dslMethods,key)||(this.dslMethods[key]=[]),this.dslMethods[key].push(terminal)},DslMethodsCollectorVisitor.prototype.visitNonTerminal=function(subrule){var key=subrule.nonTerminalName+this.separator+\"Terminal\";Object(utils.w)(this.dslMethods,key)||(this.dslMethods[key]=[]),this.dslMethods[key].push(subrule)},DslMethodsCollectorVisitor.prototype.visitOption=function(option){this.dslMethods.option.push(option)},DslMethodsCollectorVisitor.prototype.visitRepetitionWithSeparator=function(manySep){this.dslMethods.repetitionWithSeparator.push(manySep)},DslMethodsCollectorVisitor.prototype.visitRepetitionMandatory=function(atLeastOne){this.dslMethods.repetitionMandatory.push(atLeastOne)},DslMethodsCollectorVisitor.prototype.visitRepetitionMandatoryWithSeparator=function(atLeastOneSep){this.dslMethods.repetitionMandatoryWithSeparator.push(atLeastOneSep)},DslMethodsCollectorVisitor.prototype.visitRepetition=function(many){this.dslMethods.repetition.push(many)},DslMethodsCollectorVisitor.prototype.visitAlternation=function(or){this.dslMethods.alternation.push(or)},DslMethodsCollectorVisitor}(gast_visitor_public_GAstVisitor),gast_collectorVisitor=new gast_DslMethodsCollectorVisitor;function first(prod){if(prod instanceof gast_public_NonTerminal)return first(prod.referencedRule);if(prod instanceof gast_public_Terminal)return[prod.terminalType];if(function(prod){return prod instanceof gast_public_Flat||prod instanceof gast_public_Option||prod instanceof gast_public_Repetition||prod instanceof gast_public_RepetitionMandatory||prod instanceof gast_public_RepetitionMandatoryWithSeparator||prod instanceof gast_public_RepetitionWithSeparator||prod instanceof gast_public_Terminal||prod instanceof gast_public_Rule}(prod))return function(prod){for(var currSubProd,firstSet=[],seq=prod.definition,nextSubProdIdx=0,hasInnerProdsRemaining=seq.length>nextSubProdIdx,isLastInnerProdOptional=!0;hasInnerProdsRemaining&&isLastInnerProdOptional;)isLastInnerProdOptional=isOptionalProd(currSubProd=seq[nextSubProdIdx]),firstSet=firstSet.concat(first(currSubProd)),hasInnerProdsRemaining=seq.length>(nextSubProdIdx+=1);return Object(utils.T)(firstSet)}(prod);if(function(prod){return prod instanceof gast_public_Alternation}(prod))return function(prod){var allAlternativesFirsts=Object(utils.I)(prod.definition,(function(innerProd){return first(innerProd)}));return Object(utils.T)(Object(utils.t)(allAlternativesFirsts))}(prod);throw Error(\"non exhaustive match\")}var follow_ResyncFollowsWalker=function(_super){function ResyncFollowsWalker(topProd){var _this=_super.call(this)||this;return _this.topProd=topProd,_this.follows={},_this}return Object(tslib_es6.a)(ResyncFollowsWalker,_super),ResyncFollowsWalker.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},ResyncFollowsWalker.prototype.walkTerminal=function(terminal,currRest,prevRest){},ResyncFollowsWalker.prototype.walkProdRef=function(refProd,currRest,prevRest){var followName=refProd.referencedRule.name+refProd.idx+\"_~IN~_\"+this.topProd.name,fullRest=currRest.concat(prevRest),t_in_topProd_follows=first(new gast_public_Flat({definition:fullRest}));this.follows[followName]=t_in_topProd_follows},ResyncFollowsWalker}(rest_RestWalker);function getKeyForAutomaticLookahead(ruleIdx,dslMethodIdx,occurrence){return occurrence|dslMethodIdx|ruleIdx}var BITS_START_FOR_ALT_IDX=24;function getKeyForAltIndex(ruleIdx,dslMethodIdx,occurrence,altIdx){var altIdxBitMap=altIdx+1<<BITS_START_FOR_ALT_IDX;return getKeyForAutomaticLookahead(ruleIdx,dslMethodIdx,occurrence)|altIdxBitMap}function setNodeLocationOnlyOffset(currNodeLocation,newLocationInfo){!0===isNaN(currNodeLocation.startOffset)?(currNodeLocation.startOffset=newLocationInfo.startOffset,currNodeLocation.endOffset=newLocationInfo.endOffset):currNodeLocation.endOffset<newLocationInfo.endOffset==1&&(currNodeLocation.endOffset=newLocationInfo.endOffset)}function setNodeLocationFull(currNodeLocation,newLocationInfo){!0===isNaN(currNodeLocation.startOffset)?(currNodeLocation.startOffset=newLocationInfo.startOffset,currNodeLocation.startColumn=newLocationInfo.startColumn,currNodeLocation.startLine=newLocationInfo.startLine,currNodeLocation.endOffset=newLocationInfo.endOffset,currNodeLocation.endColumn=newLocationInfo.endColumn,currNodeLocation.endLine=newLocationInfo.endLine):currNodeLocation.endOffset<newLocationInfo.endOffset==1&&(currNodeLocation.endOffset=newLocationInfo.endOffset,currNodeLocation.endColumn=newLocationInfo.endColumn,currNodeLocation.endLine=newLocationInfo.endLine)}function addNoneTerminalToCst(node,ruleName,ruleResult){void 0===node.children[ruleName]?node.children[ruleName]=[ruleResult]:node.children[ruleName].push(ruleResult)}var cst_NamedDSLMethodsCollectorVisitor=function(_super){function NamedDSLMethodsCollectorVisitor(ruleIdx){var _this=_super.call(this)||this;return _this.result=[],_this.ruleIdx=ruleIdx,_this}return Object(tslib_es6.a)(NamedDSLMethodsCollectorVisitor,_super),NamedDSLMethodsCollectorVisitor.prototype.collectNamedDSLMethod=function(node,newNodeConstructor,methodIdx){if(!Object(utils.F)(node.name)){var nameLessNode=void 0;if(node instanceof gast_public_Option||node instanceof gast_public_Repetition||node instanceof gast_public_RepetitionMandatory||node instanceof gast_public_Alternation)nameLessNode=new newNodeConstructor({definition:node.definition,idx:node.idx});else{if(!(node instanceof gast_public_RepetitionMandatoryWithSeparator||node instanceof gast_public_RepetitionWithSeparator))throw Error(\"non exhaustive match\");nameLessNode=new newNodeConstructor({definition:node.definition,idx:node.idx,separator:node.separator})}var def=[nameLessNode],key=getKeyForAutomaticLookahead(this.ruleIdx,methodIdx,node.idx);this.result.push({def:def,key:key,name:node.name,orgProd:node})}},NamedDSLMethodsCollectorVisitor.prototype.visitOption=function(node){this.collectNamedDSLMethod(node,gast_public_Option,512)},NamedDSLMethodsCollectorVisitor.prototype.visitRepetition=function(node){this.collectNamedDSLMethod(node,gast_public_Repetition,768)},NamedDSLMethodsCollectorVisitor.prototype.visitRepetitionMandatory=function(node){this.collectNamedDSLMethod(node,gast_public_RepetitionMandatory,1024)},NamedDSLMethodsCollectorVisitor.prototype.visitRepetitionMandatoryWithSeparator=function(node){this.collectNamedDSLMethod(node,gast_public_RepetitionMandatoryWithSeparator,1536)},NamedDSLMethodsCollectorVisitor.prototype.visitRepetitionWithSeparator=function(node){this.collectNamedDSLMethod(node,gast_public_RepetitionWithSeparator,1280)},NamedDSLMethodsCollectorVisitor.prototype.visitAlternation=function(node){var _this=this;this.collectNamedDSLMethod(node,gast_public_Alternation,256);var hasMoreThanOneAlternative=node.definition.length>1;Object(utils.u)(node.definition,(function(currFlatAlt,altIdx){if(!Object(utils.F)(currFlatAlt.name)){var def;def=hasMoreThanOneAlternative?[new gast_public_Option({definition:currFlatAlt.definition})]:currFlatAlt.definition;var key=getKeyForAltIndex(_this.ruleIdx,256,node.idx,altIdx);_this.result.push({def:def,key:key,name:currFlatAlt.name,orgProd:currFlatAlt})}}))},NamedDSLMethodsCollectorVisitor}(gast_visitor_public_GAstVisitor),interpreter_NextAfterTokenWalker=function(_super){function NextAfterTokenWalker(topProd,path){var _this=_super.call(this,topProd,path)||this;return _this.path=path,_this.nextTerminalName=\"\",_this.nextTerminalOccurrence=0,_this.nextTerminalName=_this.path.lastTok.name,_this.nextTerminalOccurrence=_this.path.lastTokOccurrence,_this}return Object(tslib_es6.a)(NextAfterTokenWalker,_super),NextAfterTokenWalker.prototype.walkTerminal=function(terminal,currRest,prevRest){if(this.isAtEndOfPath&&terminal.terminalType.name===this.nextTerminalName&&terminal.idx===this.nextTerminalOccurrence&&!this.found){var fullRest=currRest.concat(prevRest),restProd=new gast_public_Flat({definition:fullRest});this.possibleTokTypes=first(restProd),this.found=!0}},NextAfterTokenWalker}(function(_super){function AbstractNextPossibleTokensWalker(topProd,path){var _this=_super.call(this)||this;return _this.topProd=topProd,_this.path=path,_this.possibleTokTypes=[],_this.nextProductionName=\"\",_this.nextProductionOccurrence=0,_this.found=!1,_this.isAtEndOfPath=!1,_this}return Object(tslib_es6.a)(AbstractNextPossibleTokensWalker,_super),AbstractNextPossibleTokensWalker.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error(\"The path does not start with the walker's top Rule!\");return this.ruleStack=Object(utils.g)(this.path.ruleStack).reverse(),this.occurrenceStack=Object(utils.g)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},AbstractNextPossibleTokensWalker.prototype.walk=function(prod,prevRest){void 0===prevRest&&(prevRest=[]),this.found||_super.prototype.walk.call(this,prod,prevRest)},AbstractNextPossibleTokensWalker.prototype.walkProdRef=function(refProd,currRest,prevRest){if(refProd.referencedRule.name===this.nextProductionName&&refProd.idx===this.nextProductionOccurrence){var fullRest=currRest.concat(prevRest);this.updateExpectedNext(),this.walk(refProd.referencedRule,fullRest)}},AbstractNextPossibleTokensWalker.prototype.updateExpectedNext=function(){Object(utils.A)(this.ruleStack)?(this.nextProductionName=\"\",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},AbstractNextPossibleTokensWalker}(rest_RestWalker)),interpreter_AbstractNextTerminalAfterProductionWalker=function(_super){function AbstractNextTerminalAfterProductionWalker(topRule,occurrence){var _this=_super.call(this)||this;return _this.topRule=topRule,_this.occurrence=occurrence,_this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},_this}return Object(tslib_es6.a)(AbstractNextTerminalAfterProductionWalker,_super),AbstractNextTerminalAfterProductionWalker.prototype.startWalking=function(){return this.walk(this.topRule),this.result},AbstractNextTerminalAfterProductionWalker}(rest_RestWalker),interpreter_NextTerminalAfterManyWalker=function(_super){function NextTerminalAfterManyWalker(){return null!==_super&&_super.apply(this,arguments)||this}return Object(tslib_es6.a)(NextTerminalAfterManyWalker,_super),NextTerminalAfterManyWalker.prototype.walkMany=function(manyProd,currRest,prevRest){if(manyProd.idx===this.occurrence){var firstAfterMany=Object(utils.s)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterMany,firstAfterMany instanceof gast_public_Terminal&&(this.result.token=firstAfterMany.terminalType,this.result.occurrence=firstAfterMany.idx)}else _super.prototype.walkMany.call(this,manyProd,currRest,prevRest)},NextTerminalAfterManyWalker}(interpreter_AbstractNextTerminalAfterProductionWalker),interpreter_NextTerminalAfterManySepWalker=function(_super){function NextTerminalAfterManySepWalker(){return null!==_super&&_super.apply(this,arguments)||this}return Object(tslib_es6.a)(NextTerminalAfterManySepWalker,_super),NextTerminalAfterManySepWalker.prototype.walkManySep=function(manySepProd,currRest,prevRest){if(manySepProd.idx===this.occurrence){var firstAfterManySep=Object(utils.s)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterManySep,firstAfterManySep instanceof gast_public_Terminal&&(this.result.token=firstAfterManySep.terminalType,this.result.occurrence=firstAfterManySep.idx)}else _super.prototype.walkManySep.call(this,manySepProd,currRest,prevRest)},NextTerminalAfterManySepWalker}(interpreter_AbstractNextTerminalAfterProductionWalker),interpreter_NextTerminalAfterAtLeastOneWalker=function(_super){function NextTerminalAfterAtLeastOneWalker(){return null!==_super&&_super.apply(this,arguments)||this}return Object(tslib_es6.a)(NextTerminalAfterAtLeastOneWalker,_super),NextTerminalAfterAtLeastOneWalker.prototype.walkAtLeastOne=function(atLeastOneProd,currRest,prevRest){if(atLeastOneProd.idx===this.occurrence){var firstAfterAtLeastOne=Object(utils.s)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterAtLeastOne,firstAfterAtLeastOne instanceof gast_public_Terminal&&(this.result.token=firstAfterAtLeastOne.terminalType,this.result.occurrence=firstAfterAtLeastOne.idx)}else _super.prototype.walkAtLeastOne.call(this,atLeastOneProd,currRest,prevRest)},NextTerminalAfterAtLeastOneWalker}(interpreter_AbstractNextTerminalAfterProductionWalker),interpreter_NextTerminalAfterAtLeastOneSepWalker=function(_super){function NextTerminalAfterAtLeastOneSepWalker(){return null!==_super&&_super.apply(this,arguments)||this}return Object(tslib_es6.a)(NextTerminalAfterAtLeastOneSepWalker,_super),NextTerminalAfterAtLeastOneSepWalker.prototype.walkAtLeastOneSep=function(atleastOneSepProd,currRest,prevRest){if(atleastOneSepProd.idx===this.occurrence){var firstAfterfirstAfterAtLeastOneSep=Object(utils.s)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterfirstAfterAtLeastOneSep,firstAfterfirstAfterAtLeastOneSep instanceof gast_public_Terminal&&(this.result.token=firstAfterfirstAfterAtLeastOneSep.terminalType,this.result.occurrence=firstAfterfirstAfterAtLeastOneSep.idx)}else _super.prototype.walkAtLeastOneSep.call(this,atleastOneSepProd,currRest,prevRest)},NextTerminalAfterAtLeastOneSepWalker}(interpreter_AbstractNextTerminalAfterProductionWalker);function possiblePathsFrom(targetDef,maxLength,currPath){void 0===currPath&&(currPath=[]),currPath=Object(utils.g)(currPath);var result=[],i=0;function getAlternativesForProd(definition){var alternatives=possiblePathsFrom(definition.concat(Object(utils.m)(targetDef,i+1)),maxLength,currPath);return result.concat(alternatives)}for(;currPath.length<maxLength&&i<targetDef.length;){var prod=targetDef[i];if(prod instanceof gast_public_Flat)return getAlternativesForProd(prod.definition);if(prod instanceof gast_public_NonTerminal)return getAlternativesForProd(prod.definition);if(prod instanceof gast_public_Option)result=getAlternativesForProd(prod.definition);else{if(prod instanceof gast_public_RepetitionMandatory)return getAlternativesForProd(newDef=prod.definition.concat([new gast_public_Repetition({definition:prod.definition})]));if(prod instanceof gast_public_RepetitionMandatoryWithSeparator)return getAlternativesForProd(newDef=[new gast_public_Flat({definition:prod.definition}),new gast_public_Repetition({definition:[new gast_public_Terminal({terminalType:prod.separator})].concat(prod.definition)})]);if(prod instanceof gast_public_RepetitionWithSeparator){var newDef=prod.definition.concat([new gast_public_Repetition({definition:[new gast_public_Terminal({terminalType:prod.separator})].concat(prod.definition)})]);result=getAlternativesForProd(newDef)}else if(prod instanceof gast_public_Repetition)newDef=prod.definition.concat([new gast_public_Repetition({definition:prod.definition})]),result=getAlternativesForProd(newDef);else{if(prod instanceof gast_public_Alternation)return Object(utils.u)(prod.definition,(function(currAlt){result=getAlternativesForProd(currAlt.definition)})),result;if(!(prod instanceof gast_public_Terminal))throw Error(\"non exhaustive match\");currPath.push(prod.terminalType)}}i++}return result.push({partialPath:currPath,suffixDef:Object(utils.m)(targetDef,i)}),result}function nextPossibleTokensAfter(initialDef,tokenVector,tokMatcher,maxLookAhead){var EXIT_NON_TERMINAL_ARR=[\"EXIT_NONE_TERMINAL\"],foundCompletePath=!1,tokenVectorLength=tokenVector.length,minimalAlternativesIndex=tokenVectorLength-maxLookAhead-1,result=[],possiblePaths=[];for(possiblePaths.push({idx:-1,def:initialDef,ruleStack:[],occurrenceStack:[]});!Object(utils.A)(possiblePaths);){var currPath=possiblePaths.pop();if(\"EXIT_ALTERNATIVE\"!==currPath){var currDef=currPath.def,currIdx=currPath.idx,currRuleStack=currPath.ruleStack,currOccurrenceStack=currPath.occurrenceStack;if(!Object(utils.A)(currDef)){var prod=currDef[0];if(\"EXIT_NONE_TERMINAL\"===prod){var nextPath={idx:currIdx,def:Object(utils.m)(currDef),ruleStack:Object(utils.n)(currRuleStack),occurrenceStack:Object(utils.n)(currOccurrenceStack)};possiblePaths.push(nextPath)}else if(prod instanceof gast_public_Terminal)if(currIdx<tokenVectorLength-1){var nextIdx=currIdx+1;tokMatcher(tokenVector[nextIdx],prod.terminalType)&&(nextPath={idx:nextIdx,def:Object(utils.m)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack},possiblePaths.push(nextPath))}else{if(currIdx!==tokenVectorLength-1)throw Error(\"non exhaustive match\");result.push({nextTokenType:prod.terminalType,nextTokenOccurrence:prod.idx,ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack}),foundCompletePath=!0}else if(prod instanceof gast_public_NonTerminal){var newRuleStack=Object(utils.g)(currRuleStack);newRuleStack.push(prod.nonTerminalName);var newOccurrenceStack=Object(utils.g)(currOccurrenceStack);newOccurrenceStack.push(prod.idx),nextPath={idx:currIdx,def:prod.definition.concat(EXIT_NON_TERMINAL_ARR,Object(utils.m)(currDef)),ruleStack:newRuleStack,occurrenceStack:newOccurrenceStack},possiblePaths.push(nextPath)}else if(prod instanceof gast_public_Option){var nextPathWithout={idx:currIdx,def:Object(utils.m)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWithout),possiblePaths.push(\"EXIT_ALTERNATIVE\");var nextPathWith={idx:currIdx,def:prod.definition.concat(Object(utils.m)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWith)}else if(prod instanceof gast_public_RepetitionMandatory){var secondIteration=new gast_public_Repetition({definition:prod.definition,idx:prod.idx}),nextDef=prod.definition.concat([secondIteration],Object(utils.m)(currDef));possiblePaths.push(nextPath={idx:currIdx,def:nextDef,ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack})}else if(prod instanceof gast_public_RepetitionMandatoryWithSeparator){var separatorGast=new gast_public_Terminal({terminalType:prod.separator});secondIteration=new gast_public_Repetition({definition:[separatorGast].concat(prod.definition),idx:prod.idx}),nextDef=prod.definition.concat([secondIteration],Object(utils.m)(currDef)),possiblePaths.push(nextPath={idx:currIdx,def:nextDef,ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack})}else if(prod instanceof gast_public_RepetitionWithSeparator){nextPathWithout={idx:currIdx,def:Object(utils.m)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack},possiblePaths.push(nextPathWithout),possiblePaths.push(\"EXIT_ALTERNATIVE\"),separatorGast=new gast_public_Terminal({terminalType:prod.separator});var nthRepetition=new gast_public_Repetition({definition:[separatorGast].concat(prod.definition),idx:prod.idx});nextDef=prod.definition.concat([nthRepetition],Object(utils.m)(currDef)),possiblePaths.push(nextPathWith={idx:currIdx,def:nextDef,ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack})}else if(prod instanceof gast_public_Repetition)nextPathWithout={idx:currIdx,def:Object(utils.m)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack},possiblePaths.push(nextPathWithout),possiblePaths.push(\"EXIT_ALTERNATIVE\"),nthRepetition=new gast_public_Repetition({definition:prod.definition,idx:prod.idx}),nextDef=prod.definition.concat([nthRepetition],Object(utils.m)(currDef)),possiblePaths.push(nextPathWith={idx:currIdx,def:nextDef,ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack});else if(prod instanceof gast_public_Alternation)for(var i=prod.definition.length-1;i>=0;i--){var currAltPath={idx:currIdx,def:prod.definition[i].definition.concat(Object(utils.m)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(currAltPath),possiblePaths.push(\"EXIT_ALTERNATIVE\")}else if(prod instanceof gast_public_Flat)possiblePaths.push({idx:currIdx,def:prod.definition.concat(Object(utils.m)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack});else{if(!(prod instanceof gast_public_Rule))throw Error(\"non exhaustive match\");possiblePaths.push(expandTopLevelRule(prod,currIdx,currRuleStack,currOccurrenceStack))}}}else foundCompletePath&&Object(utils.H)(possiblePaths).idx<=minimalAlternativesIndex&&possiblePaths.pop()}return result}function expandTopLevelRule(topRule,currIdx,currRuleStack,currOccurrenceStack){var newRuleStack=Object(utils.g)(currRuleStack);newRuleStack.push(topRule.name);var newCurrOccurrenceStack=Object(utils.g)(currOccurrenceStack);return newCurrOccurrenceStack.push(1),{idx:currIdx,def:topRule.definition,ruleStack:newRuleStack,occurrenceStack:newCurrOccurrenceStack}}var PROD_TYPE=function(PROD_TYPE){return PROD_TYPE[PROD_TYPE.OPTION=0]=\"OPTION\",PROD_TYPE[PROD_TYPE.REPETITION=1]=\"REPETITION\",PROD_TYPE[PROD_TYPE.REPETITION_MANDATORY=2]=\"REPETITION_MANDATORY\",PROD_TYPE[PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR=3]=\"REPETITION_MANDATORY_WITH_SEPARATOR\",PROD_TYPE[PROD_TYPE.REPETITION_WITH_SEPARATOR=4]=\"REPETITION_WITH_SEPARATOR\",PROD_TYPE[PROD_TYPE.ALTERNATION=5]=\"ALTERNATION\",PROD_TYPE}({}),lookahead_RestDefinitionFinderWalker=function(_super){function RestDefinitionFinderWalker(topProd,targetOccurrence,targetProdType){var _this=_super.call(this)||this;return _this.topProd=topProd,_this.targetOccurrence=targetOccurrence,_this.targetProdType=targetProdType,_this}return Object(tslib_es6.a)(RestDefinitionFinderWalker,_super),RestDefinitionFinderWalker.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},RestDefinitionFinderWalker.prototype.checkIsTarget=function(node,expectedProdType,currRest,prevRest){return node.idx===this.targetOccurrence&&this.targetProdType===expectedProdType&&(this.restDef=currRest.concat(prevRest),!0)},RestDefinitionFinderWalker.prototype.walkOption=function(optionProd,currRest,prevRest){this.checkIsTarget(optionProd,PROD_TYPE.OPTION,currRest,prevRest)||_super.prototype.walkOption.call(this,optionProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkAtLeastOne=function(atLeastOneProd,currRest,prevRest){this.checkIsTarget(atLeastOneProd,PROD_TYPE.REPETITION_MANDATORY,currRest,prevRest)||_super.prototype.walkOption.call(this,atLeastOneProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkAtLeastOneSep=function(atLeastOneSepProd,currRest,prevRest){this.checkIsTarget(atLeastOneSepProd,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,currRest,prevRest)||_super.prototype.walkOption.call(this,atLeastOneSepProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkMany=function(manyProd,currRest,prevRest){this.checkIsTarget(manyProd,PROD_TYPE.REPETITION,currRest,prevRest)||_super.prototype.walkOption.call(this,manyProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkManySep=function(manySepProd,currRest,prevRest){this.checkIsTarget(manySepProd,PROD_TYPE.REPETITION_WITH_SEPARATOR,currRest,prevRest)||_super.prototype.walkOption.call(this,manySepProd,currRest,prevRest)},RestDefinitionFinderWalker}(rest_RestWalker),lookahead_InsideDefinitionFinderVisitor=function(_super){function InsideDefinitionFinderVisitor(targetOccurrence,targetProdType,targetRef){var _this=_super.call(this)||this;return _this.targetOccurrence=targetOccurrence,_this.targetProdType=targetProdType,_this.targetRef=targetRef,_this.result=[],_this}return Object(tslib_es6.a)(InsideDefinitionFinderVisitor,_super),InsideDefinitionFinderVisitor.prototype.checkIsTarget=function(node,expectedProdName){node.idx!==this.targetOccurrence||this.targetProdType!==expectedProdName||void 0!==this.targetRef&&node!==this.targetRef||(this.result=node.definition)},InsideDefinitionFinderVisitor.prototype.visitOption=function(node){this.checkIsTarget(node,PROD_TYPE.OPTION)},InsideDefinitionFinderVisitor.prototype.visitRepetition=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION)},InsideDefinitionFinderVisitor.prototype.visitRepetitionMandatory=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION_MANDATORY)},InsideDefinitionFinderVisitor.prototype.visitRepetitionMandatoryWithSeparator=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR)},InsideDefinitionFinderVisitor.prototype.visitRepetitionWithSeparator=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION_WITH_SEPARATOR)},InsideDefinitionFinderVisitor.prototype.visitAlternation=function(node){this.checkIsTarget(node,PROD_TYPE.ALTERNATION)},InsideDefinitionFinderVisitor}(gast_visitor_public_GAstVisitor);function initializeArrayOfArrays(size){for(var result=new Array(size),i=0;i<size;i++)result[i]=[];return result}function pathToHashKeys(path){for(var keys=[\"\"],i=0;i<path.length;i++){for(var tokType=path[i],longerKeys=[],j=0;j<keys.length;j++){var currShorterKey=keys[j];longerKeys.push(currShorterKey+\"_\"+tokType.tokenTypeIdx);for(var t=0;t<tokType.categoryMatches.length;t++)longerKeys.push(currShorterKey+\"_\"+tokType.categoryMatches[t])}keys=longerKeys}return keys}function isUniquePrefixHash(altKnownPathsKeys,searchPathKeys,idx){for(var currAltIdx=0;currAltIdx<altKnownPathsKeys.length;currAltIdx++)if(currAltIdx!==idx)for(var otherAltKnownPathsKeys=altKnownPathsKeys[currAltIdx],searchIdx=0;searchIdx<searchPathKeys.length;searchIdx++)if(!0===otherAltKnownPathsKeys[searchPathKeys[searchIdx]])return!1;return!0}function lookAheadSequenceFromAlternatives(altsDefs,k){for(var partialAlts=Object(utils.I)(altsDefs,(function(currAlt){return possiblePathsFrom([currAlt],1)})),finalResult=initializeArrayOfArrays(partialAlts.length),altsHashes=Object(utils.I)(partialAlts,(function(currAltPaths){var dict={};return Object(utils.u)(currAltPaths,(function(item){var keys=pathToHashKeys(item.partialPath);Object(utils.u)(keys,(function(currKey){dict[currKey]=!0}))})),dict})),newData=partialAlts,pathLength=1;pathLength<=k;pathLength++){var currDataset=newData;newData=initializeArrayOfArrays(currDataset.length);for(var _loop_1=function(altIdx){for(var currAltPathsAndSuffixes=currDataset[altIdx],currPathIdx=0;currPathIdx<currAltPathsAndSuffixes.length;currPathIdx++){var currPathPrefix=currAltPathsAndSuffixes[currPathIdx].partialPath,suffixDef=currAltPathsAndSuffixes[currPathIdx].suffixDef,prefixKeys=pathToHashKeys(currPathPrefix);if(isUniquePrefixHash(altsHashes,prefixKeys,altIdx)||Object(utils.A)(suffixDef)||currPathPrefix.length===k){var currAltResult=finalResult[altIdx];if(!1===containsPath(currAltResult,currPathPrefix)){currAltResult.push(currPathPrefix);for(var j=0;j<prefixKeys.length;j++)altsHashes[altIdx][prefixKeys[j]]=!0}}else{var newPartialPathsAndSuffixes=possiblePathsFrom(suffixDef,pathLength+1,currPathPrefix);newData[altIdx]=newData[altIdx].concat(newPartialPathsAndSuffixes),Object(utils.u)(newPartialPathsAndSuffixes,(function(item){var prefixKeys=pathToHashKeys(item.partialPath);Object(utils.u)(prefixKeys,(function(key){altsHashes[altIdx][key]=!0}))}))}}},altIdx=0;altIdx<currDataset.length;altIdx++)_loop_1(altIdx)}return finalResult}function getLookaheadPathsForOr(occurrence,ruleGrammar,k,orProd){var visitor=new lookahead_InsideDefinitionFinderVisitor(occurrence,PROD_TYPE.ALTERNATION,orProd);return ruleGrammar.accept(visitor),lookAheadSequenceFromAlternatives(visitor.result,k)}function getLookaheadPathsForOptionalProd(occurrence,ruleGrammar,prodType,k){var insideDefVisitor=new lookahead_InsideDefinitionFinderVisitor(occurrence,prodType);ruleGrammar.accept(insideDefVisitor);var insideDef=insideDefVisitor.result,afterDef=new lookahead_RestDefinitionFinderWalker(ruleGrammar,occurrence,prodType).startWalking();return lookAheadSequenceFromAlternatives([new gast_public_Flat({definition:insideDef}),new gast_public_Flat({definition:afterDef})],k)}function containsPath(alternative,searchPath){compareOtherPath:for(var i=0;i<alternative.length;i++){var otherPath=alternative[i];if(otherPath.length===searchPath.length){for(var j=0;j<otherPath.length;j++){var searchTok=searchPath[j],otherTok=otherPath[j];if(0==(searchTok===otherTok||void 0!==otherTok.categoryMatchesMap[searchTok.tokenTypeIdx]))continue compareOtherPath}return!0}}return!1}function areTokenCategoriesNotUsed(lookAheadPaths){return Object(utils.o)(lookAheadPaths,(function(singleAltPaths){return Object(utils.o)(singleAltPaths,(function(singlePath){return Object(utils.o)(singlePath,(function(token){return Object(utils.A)(token.categoryMatches)}))}))}))}function identifyProductionForDuplicates(prod){return getProductionDslName(prod)+\"_#_\"+prod.idx+\"_#_\"+checks_getExtraProductionArgument(prod)}function checks_getExtraProductionArgument(prod){return prod instanceof gast_public_Terminal?prod.terminalType.name:prod instanceof gast_public_NonTerminal?prod.nonTerminalName:\"\"}var checks_OccurrenceValidationCollector=function(_super){function OccurrenceValidationCollector(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.allProductions=[],_this}return Object(tslib_es6.a)(OccurrenceValidationCollector,_super),OccurrenceValidationCollector.prototype.visitNonTerminal=function(subrule){this.allProductions.push(subrule)},OccurrenceValidationCollector.prototype.visitOption=function(option){this.allProductions.push(option)},OccurrenceValidationCollector.prototype.visitRepetitionWithSeparator=function(manySep){this.allProductions.push(manySep)},OccurrenceValidationCollector.prototype.visitRepetitionMandatory=function(atLeastOne){this.allProductions.push(atLeastOne)},OccurrenceValidationCollector.prototype.visitRepetitionMandatoryWithSeparator=function(atLeastOneSep){this.allProductions.push(atLeastOneSep)},OccurrenceValidationCollector.prototype.visitRepetition=function(many){this.allProductions.push(many)},OccurrenceValidationCollector.prototype.visitAlternation=function(or){this.allProductions.push(or)},OccurrenceValidationCollector.prototype.visitTerminal=function(terminal){this.allProductions.push(terminal)},OccurrenceValidationCollector}(gast_visitor_public_GAstVisitor),validTermsPattern=/^[a-zA-Z_]\\w*$/,validNestedRuleName=new RegExp(validTermsPattern.source.replace(\"^\",\"^\\\\$\")),checks_OrCollector=function(_super){function OrCollector(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.alternations=[],_this}return Object(tslib_es6.a)(OrCollector,_super),OrCollector.prototype.visitAlternation=function(node){this.alternations.push(node)},OrCollector}(gast_visitor_public_GAstVisitor),checks_RepetionCollector=function(_super){function RepetionCollector(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.allProductions=[],_this}return Object(tslib_es6.a)(RepetionCollector,_super),RepetionCollector.prototype.visitRepetitionWithSeparator=function(manySep){this.allProductions.push(manySep)},RepetionCollector.prototype.visitRepetitionMandatory=function(atLeastOne){this.allProductions.push(atLeastOne)},RepetionCollector.prototype.visitRepetitionMandatoryWithSeparator=function(atLeastOneSep){this.allProductions.push(atLeastOneSep)},RepetionCollector.prototype.visitRepetition=function(many){this.allProductions.push(many)},RepetionCollector}(gast_visitor_public_GAstVisitor),defaultParserErrorProvider={buildMismatchTokenMessage:function(_a){var expected=_a.expected,actual=_a.actual;return\"Expecting \"+(hasTokenLabel(expected)?\"--\\x3e \"+tokenLabel(expected)+\" <--\":\"token of type --\\x3e \"+expected.name+\" <--\")+\" but found --\\x3e '\"+actual.image+\"' <--\"},buildNotAllInputParsedMessage:function(_a){return\"Redundant input, expecting EOF but found: \"+_a.firstRedundant.image},buildNoViableAltMessage:function(_a){var expectedPathsPerAlt=_a.expectedPathsPerAlt,actual=_a.actual,customUserDescription=_a.customUserDescription,errSuffix=\"\\nbut found: '\"+Object(utils.s)(actual).image+\"'\";if(customUserDescription)return\"Expecting: \"+customUserDescription+errSuffix;var allLookAheadPaths=Object(utils.O)(expectedPathsPerAlt,(function(result,currAltPaths){return result.concat(currAltPaths)}),[]),nextValidTokenSequences=Object(utils.I)(allLookAheadPaths,(function(currPath){return\"[\"+Object(utils.I)(currPath,(function(currTokenType){return tokenLabel(currTokenType)})).join(\", \")+\"]\"}));return\"Expecting: one of these possible Token sequences:\\n\"+Object(utils.I)(nextValidTokenSequences,(function(itemMsg,idx){return\"  \"+(idx+1)+\". \"+itemMsg})).join(\"\\n\")+errSuffix},buildEarlyExitMessage:function(_a){var expectedIterationPaths=_a.expectedIterationPaths,actual=_a.actual,customUserDescription=_a.customUserDescription,errSuffix=\"\\nbut found: '\"+Object(utils.s)(actual).image+\"'\";return customUserDescription?\"Expecting: \"+customUserDescription+errSuffix:\"Expecting: expecting at least one iteration which starts with one of these possible Token sequences::\\n  <\"+Object(utils.I)(expectedIterationPaths,(function(currPath){return\"[\"+Object(utils.I)(currPath,(function(currTokenType){return tokenLabel(currTokenType)})).join(\",\")+\"]\"})).join(\" ,\")+\">\"+errSuffix}};Object.freeze(defaultParserErrorProvider);var defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(topLevelRule,undefinedRule){return\"Invalid grammar, reference to a rule which is not defined: ->\"+undefinedRule.nonTerminalName+\"<-\\ninside top level rule: ->\"+topLevelRule.name+\"<-\"}},defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(topLevelRule,duplicateProds){var prod,topLevelName=topLevelRule.name,duplicateProd=Object(utils.s)(duplicateProds),index=duplicateProd.idx,dslName=getProductionDslName(duplicateProd),extraArgument=(prod=duplicateProd)instanceof gast_public_Terminal?prod.terminalType.name:prod instanceof gast_public_NonTerminal?prod.nonTerminalName:\"\",msg=\"->\"+dslName+(index>0?index:\"\")+\"<- \"+(extraArgument?\"with argument: ->\"+extraArgument+\"<-\":\"\")+\"\\n                  appears more than once (\"+duplicateProds.length+\" times) in the top level rule: ->\"+topLevelName+\"<-.                  \\n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \\n                  \";return(msg=msg.replace(/[ \\t]+/g,\" \")).replace(/\\s\\s+/g,\"\\n\")},buildInvalidNestedRuleNameError:function(topLevelRule,nestedProd){return\"Invalid nested rule name: ->\"+nestedProd.name+\"<- inside rule: ->\"+topLevelRule.name+\"<-\\nit must match the pattern: ->\"+validNestedRuleName.toString()+\"<-.\\nNote that this means a nested rule name must start with the '$'(dollar) sign.\"},buildDuplicateNestedRuleNameError:function(topLevelRule,nestedProd){return\"Duplicate nested rule name: ->\"+Object(utils.s)(nestedProd).name+\"<- inside rule: ->\"+topLevelRule.name+\"<-\\nA nested name must be unique in the scope of a top level grammar rule.\"},buildNamespaceConflictError:function(rule){return\"Namespace conflict found in grammar.\\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <\"+rule.name+\">.\\nTo resolve this make sure each Terminal and Non-Terminal names are unique\\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\\nand Non-Terminal names start with a lower case letter.\"},buildAlternationPrefixAmbiguityError:function(options){var pathMsg=Object(utils.I)(options.prefixPath,(function(currTok){return tokenLabel(currTok)})).join(\", \"),occurrence=0===options.alternation.idx?\"\":options.alternation.idx;return\"Ambiguous alternatives: <\"+options.ambiguityIndices.join(\" ,\")+\"> due to common lookahead prefix\\nin <OR\"+occurrence+\"> inside <\"+options.topLevelRule.name+\"> Rule,\\n<\"+pathMsg+\"> may appears as a prefix path in all these alternatives.\\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\\nFor Further details.\"},buildAlternationAmbiguityError:function(options){var pathMsg=Object(utils.I)(options.prefixPath,(function(currtok){return tokenLabel(currtok)})).join(\", \"),occurrence=0===options.alternation.idx?\"\":options.alternation.idx;return\"Ambiguous Alternatives Detected: <\"+options.ambiguityIndices.join(\" ,\")+\"> in <OR\"+occurrence+\"> inside <\"+options.topLevelRule.name+\"> Rule,\\n<\"+pathMsg+\"> may appears as a prefix path in all these alternatives.\\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\\nFor Further details.\"},buildEmptyRepetitionError:function(options){var dslName=getProductionDslName(options.repetition);return 0!==options.repetition.idx&&(dslName+=options.repetition.idx),\"The repetition <\"+dslName+\"> within Rule <\"+options.topLevelRule.name+\"> can never consume any tokens.\\nThis could lead to an infinite loop.\"},buildTokenNameError:function(options){return\"Invalid Grammar Token name: ->\"+options.tokenType.name+\"<- it must match the pattern: ->\"+options.expectedPattern.toString()+\"<-\"},buildEmptyAlternationError:function(options){return\"Ambiguous empty alternative: <\"+(options.emptyChoiceIdx+1)+\"> in <OR\"+options.alternation.idx+\"> inside <\"+options.topLevelRule.name+\"> Rule.\\nOnly the last alternative may be an empty alternative.\"},buildTooManyAlternativesError:function(options){return\"An Alternation cannot have more than 256 alternatives:\\n<OR\"+options.alternation.idx+\"> inside <\"+options.topLevelRule.name+\"> Rule.\\n has \"+(options.alternation.definition.length+1)+\" alternatives.\"},buildLeftRecursionError:function(options){var ruleName=options.topLevelRule.name;return\"Left Recursion found in grammar.\\nrule: <\"+ruleName+\"> can be invoked from itself (directly or indirectly)\\nwithout consuming any Tokens. The grammar path that causes this is: \\n \"+ruleName+\" --\\x3e \"+utils.I(options.leftRecursionPath,(function(currRule){return currRule.name})).concat([ruleName]).join(\" --\\x3e \")+\"\\n To fix this refactor your grammar to remove the left recursion.\\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring.\"},buildInvalidRuleNameError:function(options){return\"Invalid grammar rule name: ->\"+options.topLevelRule.name+\"<- it must match the pattern: ->\"+options.expectedPattern.toString()+\"<-\"},buildDuplicateRuleNameError:function(options){return\"Duplicate definition, rule: ->\"+(options.topLevelRule instanceof gast_public_Rule?options.topLevelRule.name:options.topLevelRule)+\"<- is already defined in the grammar: ->\"+options.grammarName+\"<-\"}},resolver_GastRefResolverVisitor=function(_super){function GastRefResolverVisitor(nameToTopRule,errMsgProvider){var _this=_super.call(this)||this;return _this.nameToTopRule=nameToTopRule,_this.errMsgProvider=errMsgProvider,_this.errors=[],_this}return Object(tslib_es6.a)(GastRefResolverVisitor,_super),GastRefResolverVisitor.prototype.resolveRefs=function(){var _this=this;Object(utils.u)(Object(utils.U)(this.nameToTopRule),(function(prod){_this.currTopLevel=prod,prod.accept(_this)}))},GastRefResolverVisitor.prototype.visitNonTerminal=function(node){var ref=this.nameToTopRule[node.nonTerminalName];if(ref)node.referencedRule=ref;else{var msg=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,node);this.errors.push({message:msg,type:ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:node.nonTerminalName})}},GastRefResolverVisitor}(gast_visitor_public_GAstVisitor);function gast_resolver_public_resolveGrammar(options){options=Object(utils.k)(options,{errMsgProvider:defaultGrammarResolverErrorProvider});var refResolver,topRulesTable={};return Object(utils.u)(options.rules,(function(rule){topRulesTable[rule.name]=rule})),(refResolver=new resolver_GastRefResolverVisitor(topRulesTable,options.errMsgProvider)).resolveRefs(),refResolver.errors}function gast_resolver_public_validateGrammar(options){return function(topLevels,globalMaxLookahead,tokenTypes,ignoredIssues,errMsgProvider,grammarName){var duplicateErrors=utils.I(topLevels,(function(currTopLevel){return function(topLevelRule,errMsgProvider){var collectorVisitor=new checks_OccurrenceValidationCollector;topLevelRule.accept(collectorVisitor);var productionGroups=utils.v(collectorVisitor.allProductions,identifyProductionForDuplicates),duplicates=utils.N(productionGroups,(function(currGroup){return currGroup.length>1}));return utils.I(utils.U(duplicates),(function(currDuplicates){var firstProd=utils.s(currDuplicates),msg=errMsgProvider.buildDuplicateFoundError(topLevelRule,currDuplicates),dslName=getProductionDslName(firstProd),defError={message:msg,type:ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:topLevelRule.name,dslName:dslName,occurrence:firstProd.idx},param=checks_getExtraProductionArgument(firstProd);return param&&(defError.parameter=param),defError}))}(currTopLevel,errMsgProvider)})),leftRecursionErrors=utils.I(topLevels,(function(currTopRule){return function validateNoLeftRecursion(topRule,currRule,errMsgProvider,path){void 0===path&&(path=[]);var errors=[],nextNonTerminals=function getFirstNoneTerminal(definition){var result=[];if(utils.A(definition))return result;var firstProd=utils.s(definition);if(firstProd instanceof gast_public_NonTerminal)result.push(firstProd.referencedRule);else if(firstProd instanceof gast_public_Flat||firstProd instanceof gast_public_Option||firstProd instanceof gast_public_RepetitionMandatory||firstProd instanceof gast_public_RepetitionMandatoryWithSeparator||firstProd instanceof gast_public_RepetitionWithSeparator||firstProd instanceof gast_public_Repetition)result=result.concat(getFirstNoneTerminal(firstProd.definition));else if(firstProd instanceof gast_public_Alternation)result=utils.t(utils.I(firstProd.definition,(function(currSubDef){return getFirstNoneTerminal(currSubDef.definition)})));else if(!(firstProd instanceof gast_public_Terminal))throw Error(\"non exhaustive match\");if(isOptionalProd(firstProd)&&definition.length>1){var rest=utils.m(definition);return result.concat(getFirstNoneTerminal(rest))}return result}(currRule.definition);if(utils.A(nextNonTerminals))return[];var ruleName=topRule.name;utils.j(nextNonTerminals,topRule)&&errors.push({message:errMsgProvider.buildLeftRecursionError({topLevelRule:topRule,leftRecursionPath:path}),type:ParserDefinitionErrorType.LEFT_RECURSION,ruleName:ruleName});var validNextSteps=utils.l(nextNonTerminals,path.concat([topRule])),errorsFromNextSteps=utils.I(validNextSteps,(function(currRefRule){var newPath=utils.g(path);return newPath.push(currRefRule),validateNoLeftRecursion(topRule,currRefRule,errMsgProvider,newPath)}));return errors.concat(utils.t(errorsFromNextSteps))}(currTopRule,currTopRule,errMsgProvider)})),emptyAltErrors=[],ambiguousAltsErrors=[],emptyRepetitionErrors=[];Object(utils.o)(leftRecursionErrors,utils.A)&&(emptyAltErrors=Object(utils.I)(topLevels,(function(currTopRule){return function(topLevelRule,errMsgProvider){var orCollector=new checks_OrCollector;return topLevelRule.accept(orCollector),utils.O(orCollector.alternations,(function(errors,currOr){var exceptLast=utils.n(currOr.definition),currErrors=utils.I(exceptLast,(function(currAlternative,currAltIdx){var possibleFirstInAlt=nextPossibleTokensAfter([currAlternative],[],null,1);return utils.A(possibleFirstInAlt)?{message:errMsgProvider.buildEmptyAlternationError({topLevelRule:topLevelRule,alternation:currOr,emptyChoiceIdx:currAltIdx}),type:ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:topLevelRule.name,occurrence:currOr.idx,alternative:currAltIdx+1}:null}));return errors.concat(utils.i(currErrors))}),[])}(currTopRule,errMsgProvider)})),ambiguousAltsErrors=Object(utils.I)(topLevels,(function(currTopRule){return function(topLevelRule,globalMaxLookahead,ignoredIssues,errMsgProvider){var orCollector=new checks_OrCollector;topLevelRule.accept(orCollector);var ors=orCollector.alternations,ignoredIssuesForCurrentRule=ignoredIssues[topLevelRule.name];return ignoredIssuesForCurrentRule&&(ors=Object(utils.P)(ors,(function(currOr){return ignoredIssuesForCurrentRule[getProductionDslName(currOr)+(0===currOr.idx?\"\":currOr.idx)]}))),ors=Object(utils.P)(ors,(function(currOr){return!0===currOr.ignoreAmbiguities})),utils.O(ors,(function(result,currOr){var alternatives=getLookaheadPathsForOr(currOr.idx,topLevelRule,currOr.maxLookahead||globalMaxLookahead,currOr),altsAmbiguityErrors=function(alternatives,alternation,rule,errMsgProvider){var foundAmbiguousPaths=[],identicalAmbiguities=Object(utils.O)(alternatives,(function(result,currAlt,currAltIdx){return!0===alternation.definition[currAltIdx].ignoreAmbiguities?result:(Object(utils.u)(currAlt,(function(currPath){var altsCurrPathAppearsIn=[currAltIdx];Object(utils.u)(alternatives,(function(currOtherAlt,currOtherAltIdx){currAltIdx!==currOtherAltIdx&&containsPath(currOtherAlt,currPath)&&!0!==alternation.definition[currOtherAltIdx].ignoreAmbiguities&&altsCurrPathAppearsIn.push(currOtherAltIdx)})),altsCurrPathAppearsIn.length>1&&!containsPath(foundAmbiguousPaths,currPath)&&(foundAmbiguousPaths.push(currPath),result.push({alts:altsCurrPathAppearsIn,path:currPath}))})),result)}),[]);return utils.I(identicalAmbiguities,(function(currAmbDescriptor){var ambgIndices=Object(utils.I)(currAmbDescriptor.alts,(function(currAltIdx){return currAltIdx+1}));return{message:errMsgProvider.buildAlternationAmbiguityError({topLevelRule:rule,alternation:alternation,ambiguityIndices:ambgIndices,prefixPath:currAmbDescriptor.path}),type:ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:rule.name,occurrence:alternation.idx,alternatives:[currAmbDescriptor.alts]}}))}(alternatives,currOr,topLevelRule,errMsgProvider),altsPrefixAmbiguityErrors=function(alternatives,alternation,rule,errMsgProvider){var errors=[],pathsAndIndices=Object(utils.O)(alternatives,(function(result,currAlt,idx){var currPathsAndIdx=Object(utils.I)(currAlt,(function(currPath){return{idx:idx,path:currPath}}));return result.concat(currPathsAndIdx)}),[]);return Object(utils.u)(pathsAndIndices,(function(currPathAndIdx){if(!0!==alternation.definition[currPathAndIdx.idx].ignoreAmbiguities){var targetIdx=currPathAndIdx.idx,targetPath=currPathAndIdx.path,prefixAmbiguitiesPathsAndIndices=Object(utils.r)(pathsAndIndices,(function(searchPathAndIdx){return!0!==alternation.definition[searchPathAndIdx.idx].ignoreAmbiguities&&searchPathAndIdx.idx<targetIdx&&(prefix=searchPathAndIdx.path).length<(other=targetPath).length&&Object(utils.o)(prefix,(function(tokType,idx){var otherTokType=other[idx];return tokType===otherTokType||otherTokType.categoryMatchesMap[tokType.tokenTypeIdx]}));var prefix,other})),currPathPrefixErrors=Object(utils.I)(prefixAmbiguitiesPathsAndIndices,(function(currAmbPathAndIdx){var ambgIndices=[currAmbPathAndIdx.idx+1,targetIdx+1],occurrence=0===alternation.idx?\"\":alternation.idx;return{message:errMsgProvider.buildAlternationPrefixAmbiguityError({topLevelRule:rule,alternation:alternation,ambiguityIndices:ambgIndices,prefixPath:currAmbPathAndIdx.path}),type:ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:rule.name,occurrence:occurrence,alternatives:ambgIndices}}));errors=errors.concat(currPathPrefixErrors)}})),errors}(alternatives,currOr,topLevelRule,errMsgProvider);return result.concat(altsAmbiguityErrors,altsPrefixAmbiguityErrors)}),[])}(currTopRule,globalMaxLookahead,ignoredIssues,errMsgProvider)})),emptyRepetitionErrors=function(topLevelRules,maxLookahead,errMsgProvider){var errors=[];return Object(utils.u)(topLevelRules,(function(currTopRule){var collectorVisitor=new checks_RepetionCollector;currTopRule.accept(collectorVisitor);var allRuleProductions=collectorVisitor.allProductions;Object(utils.u)(allRuleProductions,(function(currProd){var prodType=function(prod){if(prod instanceof gast_public_Option)return PROD_TYPE.OPTION;if(prod instanceof gast_public_Repetition)return PROD_TYPE.REPETITION;if(prod instanceof gast_public_RepetitionMandatory)return PROD_TYPE.REPETITION_MANDATORY;if(prod instanceof gast_public_RepetitionMandatoryWithSeparator)return PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR;if(prod instanceof gast_public_RepetitionWithSeparator)return PROD_TYPE.REPETITION_WITH_SEPARATOR;if(prod instanceof gast_public_Alternation)return PROD_TYPE.ALTERNATION;throw Error(\"non exhaustive match\")}(currProd),pathsInsideProduction=getLookaheadPathsForOptionalProd(currProd.idx,currTopRule,prodType,currProd.maxLookahead||maxLookahead)[0];if(Object(utils.A)(Object(utils.t)(pathsInsideProduction))){var errMsg=errMsgProvider.buildEmptyRepetitionError({topLevelRule:currTopRule,repetition:currProd});errors.push({message:errMsg,type:ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:currTopRule.name})}}))})),errors}(topLevels,globalMaxLookahead,errMsgProvider));var termsNamespaceConflictErrors=function(topLevels,tokenTypes,errMsgProvider){var errors=[],tokenNames=Object(utils.I)(tokenTypes,(function(currToken){return currToken.name}));return Object(utils.u)(topLevels,(function(currRule){var currRuleName=currRule.name;if(Object(utils.j)(tokenNames,currRuleName)){var errMsg=errMsgProvider.buildNamespaceConflictError(currRule);errors.push({message:errMsg,type:ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:currRuleName})}})),errors}(topLevels,tokenTypes,errMsgProvider),tokenNameErrors=utils.I(tokenTypes,(function(currTokType){return function(tokenType,errMsgProvider){var errors=[];return tokenType.name.match(validTermsPattern)||errors.push({message:errMsgProvider.buildTokenNameError({tokenType:tokenType,expectedPattern:validTermsPattern}),type:ParserDefinitionErrorType.INVALID_TOKEN_NAME}),errors}(currTokType,errMsgProvider)})),nestedRulesNameErrors=function(topLevels,errMsgProvider){var result=[];return Object(utils.u)(topLevels,(function(curTopLevel){var namedCollectorVisitor=new cst_NamedDSLMethodsCollectorVisitor(\"\");curTopLevel.accept(namedCollectorVisitor);var nestedProds=Object(utils.I)(namedCollectorVisitor.result,(function(currItem){return currItem.orgProd}));result.push(Object(utils.I)(nestedProds,(function(currNestedProd){return function(topLevel,nestedProd,errMsgProvider){var errMsg,errors=[];return nestedProd.name.match(validNestedRuleName)||(errMsg=errMsgProvider.buildInvalidNestedRuleNameError(topLevel,nestedProd),errors.push({message:errMsg,type:ParserDefinitionErrorType.INVALID_NESTED_RULE_NAME,ruleName:topLevel.name})),errors}(curTopLevel,currNestedProd,errMsgProvider)})))})),Object(utils.t)(result)}(topLevels,errMsgProvider),nestedRulesDuplicateErrors=function(topLevelRules,errMsgProvider){var errors=[];return Object(utils.u)(topLevelRules,(function(currTopRule){var namedCollectorVisitor=new cst_NamedDSLMethodsCollectorVisitor(\"\");currTopRule.accept(namedCollectorVisitor);var prodsByGroup=Object(utils.v)(namedCollectorVisitor.result,(function(item){return item.name})),duplicates=Object(utils.N)(prodsByGroup,(function(currGroup){return currGroup.length>1}));Object(utils.u)(Object(utils.U)(duplicates),(function(currDupGroup){var currDupProds=Object(utils.I)(currDupGroup,(function(dupGroup){return dupGroup.orgProd})),errMsg=errMsgProvider.buildDuplicateNestedRuleNameError(currTopRule,currDupProds);errors.push({message:errMsg,type:ParserDefinitionErrorType.DUPLICATE_NESTED_NAME,ruleName:currTopRule.name})}))})),errors}(topLevels,errMsgProvider),tooManyAltsErrors=Object(utils.I)(topLevels,(function(curRule){return function(topLevelRule,errMsgProvider){var orCollector=new checks_OrCollector;return topLevelRule.accept(orCollector),utils.O(orCollector.alternations,(function(errors,currOr){return currOr.definition.length>255&&errors.push({message:errMsgProvider.buildTooManyAlternativesError({topLevelRule:topLevelRule,alternation:currOr}),type:ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:topLevelRule.name,occurrence:currOr.idx}),errors}),[])}(curRule,errMsgProvider)})),ruleNameErrors=Object(utils.I)(topLevels,(function(curRule){return function(rule,errMsgProvider){var errors=[],ruleName=rule.name;return ruleName.match(validTermsPattern)||errors.push({message:errMsgProvider.buildInvalidRuleNameError({topLevelRule:rule,expectedPattern:validTermsPattern}),type:ParserDefinitionErrorType.INVALID_RULE_NAME,ruleName:ruleName}),errors}(curRule,errMsgProvider)})),duplicateRulesError=Object(utils.I)(topLevels,(function(curRule){return function(rule,allRules,className,errMsgProvider){var errors=[];if(Object(utils.O)(allRules,(function(result,curRule){return curRule.name===rule.name?result+1:result}),0)>1){var errMsg=errMsgProvider.buildDuplicateRuleNameError({topLevelRule:rule,grammarName:className});errors.push({message:errMsg,type:ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:rule.name})}return errors}(curRule,topLevels,grammarName,errMsgProvider)}));return utils.t(duplicateErrors.concat(tokenNameErrors,nestedRulesNameErrors,nestedRulesDuplicateErrors,emptyRepetitionErrors,leftRecursionErrors,emptyAltErrors,ambiguousAltsErrors,termsNamespaceConflictErrors,tooManyAltsErrors,ruleNameErrors,duplicateRulesError))}((options=Object(utils.k)(options,{errMsgProvider:defaultGrammarValidatorErrorProvider,ignoredIssues:{}})).rules,options.maxLookahead,options.tokenTypes,options.ignoredIssues,options.errMsgProvider,options.grammarName)}function assignOccurrenceIndices(options){Object(utils.u)(options.rules,(function(currRule){var methodsCollector=new gast_DslMethodsCollectorVisitor;currRule.accept(methodsCollector),Object(utils.u)(methodsCollector.dslMethods,(function(methods){Object(utils.u)(methods,(function(currMethod,arrIdx){currMethod.idx=arrIdx+1}))}))}))}var MISMATCHED_TOKEN_EXCEPTION=\"MismatchedTokenException\",NO_VIABLE_ALT_EXCEPTION=\"NoViableAltException\",EARLY_EXIT_EXCEPTION=\"EarlyExitException\",NOT_ALL_INPUT_PARSED_EXCEPTION=\"NotAllInputParsedException\",RECOGNITION_EXCEPTION_NAMES=[MISMATCHED_TOKEN_EXCEPTION,NO_VIABLE_ALT_EXCEPTION,EARLY_EXIT_EXCEPTION,NOT_ALL_INPUT_PARSED_EXCEPTION];function isRecognitionException(error){return Object(utils.j)(RECOGNITION_EXCEPTION_NAMES,error.name)}function MismatchedTokenException(message,token,previousToken){this.name=MISMATCHED_TOKEN_EXCEPTION,this.message=message,this.token=token,this.previousToken=previousToken,this.resyncedTokens=[]}function NoViableAltException(message,token,previousToken){this.name=NO_VIABLE_ALT_EXCEPTION,this.message=message,this.token=token,this.previousToken=previousToken,this.resyncedTokens=[]}function NotAllInputParsedException(message,token){this.name=NOT_ALL_INPUT_PARSED_EXCEPTION,this.message=message,this.token=token,this.resyncedTokens=[]}function EarlyExitException(message,token,previousToken){this.name=EARLY_EXIT_EXCEPTION,this.message=message,this.token=token,this.previousToken=previousToken,this.resyncedTokens=[]}Object.freeze(RECOGNITION_EXCEPTION_NAMES),MismatchedTokenException.prototype=Error.prototype,NoViableAltException.prototype=Error.prototype,NotAllInputParsedException.prototype=Error.prototype,EarlyExitException.prototype=Error.prototype;var EOF_FOLLOW_KEY={},IN_RULE_RECOVERY_EXCEPTION=\"InRuleRecoveryException\";function InRuleRecoveryException(message){this.name=IN_RULE_RECOVERY_EXCEPTION,this.message=message}InRuleRecoveryException.prototype=Error.prototype;var recoverable_Recoverable=function(){function Recoverable(){}return Recoverable.prototype.initRecoverable=function(config){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Object(utils.w)(config,\"recoveryEnabled\")?config.recoveryEnabled:DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=attemptInRepetitionRecovery)},Recoverable.prototype.getTokenToInsert=function(tokType){var tokToInsert=createTokenInstance(tokType,\"\",NaN,NaN,NaN,NaN,NaN,NaN);return tokToInsert.isInsertedInRecovery=!0,tokToInsert},Recoverable.prototype.canTokenTypeBeInsertedInRecovery=function(tokType){return!0},Recoverable.prototype.tryInRepetitionRecovery=function(grammarRule,grammarRuleArgs,lookAheadFunc,expectedTokType){for(var _this=this,reSyncTokType=this.findReSyncTokenType(),savedLexerState=this.exportLexerState(),resyncedTokens=[],passedResyncPoint=!1,nextTokenWithoutResync=this.LA(1),currToken=this.LA(1),generateErrorMessage=function(){var previousToken=_this.LA(0),error=new MismatchedTokenException(_this.errorMessageProvider.buildMismatchTokenMessage({expected:expectedTokType,actual:nextTokenWithoutResync,previous:previousToken,ruleName:_this.getCurrRuleFullName()}),nextTokenWithoutResync,_this.LA(0));error.resyncedTokens=Object(utils.n)(resyncedTokens),_this.SAVE_ERROR(error)};!passedResyncPoint;){if(this.tokenMatcher(currToken,expectedTokType))return void generateErrorMessage();if(lookAheadFunc.call(this))return generateErrorMessage(),void grammarRule.apply(this,grammarRuleArgs);this.tokenMatcher(currToken,reSyncTokType)?passedResyncPoint=!0:(currToken=this.SKIP_TOKEN(),this.addToResyncTokens(currToken,resyncedTokens))}this.importLexerState(savedLexerState)},Recoverable.prototype.shouldInRepetitionRecoveryBeTried=function(expectTokAfterLastMatch,nextTokIdx,notStuck){return!1!==notStuck&&void 0!==expectTokAfterLastMatch&&void 0!==nextTokIdx&&!this.tokenMatcher(this.LA(1),expectTokAfterLastMatch)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(expectTokAfterLastMatch,this.getFollowsForInRuleRecovery(expectTokAfterLastMatch,nextTokIdx))},Recoverable.prototype.getFollowsForInRuleRecovery=function(tokType,tokIdxInRule){var grammarPath=this.getCurrentGrammarPath(tokType,tokIdxInRule);return this.getNextPossibleTokenTypes(grammarPath)},Recoverable.prototype.tryInRuleRecovery=function(expectedTokType,follows){if(this.canRecoverWithSingleTokenInsertion(expectedTokType,follows))return this.getTokenToInsert(expectedTokType);if(this.canRecoverWithSingleTokenDeletion(expectedTokType)){var nextTok=this.SKIP_TOKEN();return this.consumeToken(),nextTok}throw new InRuleRecoveryException(\"sad sad panda\")},Recoverable.prototype.canPerformInRuleRecovery=function(expectedToken,follows){return this.canRecoverWithSingleTokenInsertion(expectedToken,follows)||this.canRecoverWithSingleTokenDeletion(expectedToken)},Recoverable.prototype.canRecoverWithSingleTokenInsertion=function(expectedTokType,follows){var _this=this;if(!this.canTokenTypeBeInsertedInRecovery(expectedTokType))return!1;if(Object(utils.A)(follows))return!1;var mismatchedTok=this.LA(1);return void 0!==Object(utils.q)(follows,(function(possibleFollowsTokType){return _this.tokenMatcher(mismatchedTok,possibleFollowsTokType)}))},Recoverable.prototype.canRecoverWithSingleTokenDeletion=function(expectedTokType){return this.tokenMatcher(this.LA(2),expectedTokType)},Recoverable.prototype.isInCurrentRuleReSyncSet=function(tokenTypeIdx){var followKey=this.getCurrFollowKey(),currentRuleReSyncSet=this.getFollowSetFromFollowKey(followKey);return Object(utils.j)(currentRuleReSyncSet,tokenTypeIdx)},Recoverable.prototype.findReSyncTokenType=function(){for(var allPossibleReSyncTokTypes=this.flattenFollowSet(),nextToken=this.LA(1),k=2;;){var nextTokenType=nextToken.tokenType;if(Object(utils.j)(allPossibleReSyncTokTypes,nextTokenType))return nextTokenType;nextToken=this.LA(k),k++}},Recoverable.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return EOF_FOLLOW_KEY;var currRuleShortName=this.getLastExplicitRuleShortName(),currRuleIdx=this.getLastExplicitRuleOccurrenceIndex(),prevRuleShortName=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(currRuleShortName),idxInCallingRule:currRuleIdx,inRule:this.shortRuleNameToFullName(prevRuleShortName)}},Recoverable.prototype.buildFullFollowKeyStack=function(){var _this=this,explicitRuleStack=this.RULE_STACK,explicitOccurrenceStack=this.RULE_OCCURRENCE_STACK;return Object(utils.A)(this.LAST_EXPLICIT_RULE_STACK)||(explicitRuleStack=Object(utils.I)(this.LAST_EXPLICIT_RULE_STACK,(function(idx){return _this.RULE_STACK[idx]})),explicitOccurrenceStack=Object(utils.I)(this.LAST_EXPLICIT_RULE_STACK,(function(idx){return _this.RULE_OCCURRENCE_STACK[idx]}))),Object(utils.I)(explicitRuleStack,(function(ruleName,idx){return 0===idx?EOF_FOLLOW_KEY:{ruleName:_this.shortRuleNameToFullName(ruleName),idxInCallingRule:explicitOccurrenceStack[idx],inRule:_this.shortRuleNameToFullName(explicitRuleStack[idx-1])}}))},Recoverable.prototype.flattenFollowSet=function(){var _this=this,followStack=Object(utils.I)(this.buildFullFollowKeyStack(),(function(currKey){return _this.getFollowSetFromFollowKey(currKey)}));return Object(utils.t)(followStack)},Recoverable.prototype.getFollowSetFromFollowKey=function(followKey){return followKey===EOF_FOLLOW_KEY?[EOF]:this.resyncFollows[followKey.ruleName+followKey.idxInCallingRule+\"_~IN~_\"+followKey.inRule]},Recoverable.prototype.addToResyncTokens=function(token,resyncTokens){return this.tokenMatcher(token,EOF)||resyncTokens.push(token),resyncTokens},Recoverable.prototype.reSyncTo=function(tokType){for(var resyncedTokens=[],nextTok=this.LA(1);!1===this.tokenMatcher(nextTok,tokType);)nextTok=this.SKIP_TOKEN(),this.addToResyncTokens(nextTok,resyncedTokens);return Object(utils.n)(resyncedTokens)},Recoverable.prototype.attemptInRepetitionRecovery=function(prodFunc,args,lookaheadFunc,dslMethodIdx,prodOccurrence,nextToksWalker,notStuck){},Recoverable.prototype.getCurrentGrammarPath=function(tokType,tokIdxInRule){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:Object(utils.g)(this.RULE_OCCURRENCE_STACK),lastTok:tokType,lastTokOccurrence:tokIdxInRule}},Recoverable.prototype.getHumanReadableRuleStack=function(){var _this=this;return Object(utils.A)(this.LAST_EXPLICIT_RULE_STACK)?Object(utils.I)(this.RULE_STACK,(function(currShortName){return _this.shortRuleNameToFullName(currShortName)})):Object(utils.I)(this.LAST_EXPLICIT_RULE_STACK,(function(currIdx){return _this.shortRuleNameToFullName(_this.RULE_STACK[currIdx])}))},Recoverable}();function attemptInRepetitionRecovery(prodFunc,args,lookaheadFunc,dslMethodIdx,prodOccurrence,nextToksWalker,notStuck){var key=this.getKeyForAutomaticLookahead(dslMethodIdx,prodOccurrence),firstAfterRepInfo=this.firstAfterRepMap[key];if(void 0===firstAfterRepInfo){var currRuleName=this.getCurrRuleFullName();firstAfterRepInfo=new nextToksWalker(this.getGAstProductions()[currRuleName],prodOccurrence).startWalking(),this.firstAfterRepMap[key]=firstAfterRepInfo}var expectTokAfterLastMatch=firstAfterRepInfo.token,nextTokIdx=firstAfterRepInfo.occurrence;1===this.RULE_STACK.length&&firstAfterRepInfo.isEndOfRule&&void 0===expectTokAfterLastMatch&&(expectTokAfterLastMatch=EOF,nextTokIdx=1),this.shouldInRepetitionRecoveryBeTried(expectTokAfterLastMatch,nextTokIdx,notStuck)&&this.tryInRepetitionRecovery(prodFunc,args,lookaheadFunc,expectTokAfterLastMatch)}var looksahead_LooksAhead=function(){function LooksAhead(){}return LooksAhead.prototype.initLooksAhead=function(config){this.dynamicTokensEnabled=Object(utils.w)(config,\"dynamicTokensEnabled\")?config.dynamicTokensEnabled:DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=Object(utils.w)(config,\"maxLookahead\")?config.maxLookahead:DEFAULT_PARSER_CONFIG.maxLookahead,this.lookAheadFuncsCache=Object(utils.z)()?new Map:[],Object(utils.z)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},LooksAhead.prototype.preComputeLookaheadFunctions=function(rules){var _this=this;Object(utils.u)(rules,(function(currRule){_this.TRACE_INIT(currRule.name+\" Rule Lookahead\",(function(){var _a=function(rule){gast_collectorVisitor.reset(),rule.accept(gast_collectorVisitor);var dslMethods=gast_collectorVisitor.dslMethods;return gast_collectorVisitor.reset(),dslMethods}(currRule),alternation=_a.alternation,repetition=_a.repetition,option=_a.option,repetitionMandatory=_a.repetitionMandatory,repetitionMandatoryWithSeparator=_a.repetitionMandatoryWithSeparator,repetitionWithSeparator=_a.repetitionWithSeparator;Object(utils.u)(alternation,(function(currProd){var prodIdx=0===currProd.idx?\"\":currProd.idx;_this.TRACE_INIT(\"\"+getProductionDslName(currProd)+prodIdx,(function(){var hasPredicates,dynamicTokensEnabled,lookAheadPaths,laFunc=(hasPredicates=currProd.hasPredicates,dynamicTokensEnabled=_this.dynamicTokensEnabled,(0,_this.lookAheadBuilderForAlternatives)(lookAheadPaths=getLookaheadPathsForOr(currProd.idx,currRule,currProd.maxLookahead||_this.maxLookahead),hasPredicates,areTokenCategoriesNotUsed(lookAheadPaths)?tokenStructuredMatcherNoCategories:tokenStructuredMatcher,dynamicTokensEnabled)),key=getKeyForAutomaticLookahead(_this.fullRuleNameToShort[currRule.name],256,currProd.idx);_this.setLaFuncCache(key,laFunc)}))})),Object(utils.u)(repetition,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,768,PROD_TYPE.REPETITION,currProd.maxLookahead,getProductionDslName(currProd))})),Object(utils.u)(option,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,512,PROD_TYPE.OPTION,currProd.maxLookahead,getProductionDslName(currProd))})),Object(utils.u)(repetitionMandatory,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,1024,PROD_TYPE.REPETITION_MANDATORY,currProd.maxLookahead,getProductionDslName(currProd))})),Object(utils.u)(repetitionMandatoryWithSeparator,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,1536,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,currProd.maxLookahead,getProductionDslName(currProd))})),Object(utils.u)(repetitionWithSeparator,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,1280,PROD_TYPE.REPETITION_WITH_SEPARATOR,currProd.maxLookahead,getProductionDslName(currProd))}))}))}))},LooksAhead.prototype.computeLookaheadFunc=function(rule,prodOccurrence,prodKey,prodType,prodMaxLookahead,dslMethodName){var _this=this;this.TRACE_INIT(\"\"+dslMethodName+(0===prodOccurrence?\"\":prodOccurrence),(function(){var laFunc=function(occurrence,ruleGrammar,k,dynamicTokensEnabled,prodType,lookaheadBuilder){var lookAheadPaths=getLookaheadPathsForOptionalProd(occurrence,ruleGrammar,prodType,k),tokenMatcher=areTokenCategoriesNotUsed(lookAheadPaths)?tokenStructuredMatcherNoCategories:tokenStructuredMatcher;return lookaheadBuilder(lookAheadPaths[0],tokenMatcher,dynamicTokensEnabled)}(prodOccurrence,rule,prodMaxLookahead||_this.maxLookahead,_this.dynamicTokensEnabled,prodType,_this.lookAheadBuilderForOptional),key=getKeyForAutomaticLookahead(_this.fullRuleNameToShort[rule.name],prodKey,prodOccurrence);_this.setLaFuncCache(key,laFunc)}))},LooksAhead.prototype.lookAheadBuilderForOptional=function(alt,tokenMatcher,dynamicTokensEnabled){return function(alt,tokenMatcher,dynamicTokensEnabled){var areAllOneTokenLookahead=Object(utils.o)(alt,(function(currPath){return 1===currPath.length})),numOfPaths=alt.length;if(areAllOneTokenLookahead&&!dynamicTokensEnabled){var singleTokensTypes=Object(utils.t)(alt);if(1===singleTokensTypes.length&&Object(utils.A)(singleTokensTypes[0].categoryMatches)){var expectedTokenUniqueKey_1=singleTokensTypes[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===expectedTokenUniqueKey_1}}var choiceToAlt_2=Object(utils.O)(singleTokensTypes,(function(result,currTokType,idx){return result[currTokType.tokenTypeIdx]=!0,Object(utils.u)(currTokType.categoryMatches,(function(currExtendingType){result[currExtendingType]=!0})),result}),[]);return function(){var nextToken=this.LA(1);return!0===choiceToAlt_2[nextToken.tokenTypeIdx]}}return function(){nextPath:for(var j=0;j<numOfPaths;j++){for(var currPath=alt[j],currPathLength=currPath.length,i=0;i<currPathLength;i++){var nextToken=this.LA(i+1);if(!1===tokenMatcher(nextToken,currPath[i]))continue nextPath}return!0}return!1}}(alt,tokenMatcher,dynamicTokensEnabled)},LooksAhead.prototype.lookAheadBuilderForAlternatives=function(alts,hasPredicates,tokenMatcher,dynamicTokensEnabled){return function(alts,hasPredicates,tokenMatcher,dynamicTokensEnabled){var numOfAlts=alts.length,areAllOneTokenLookahead=Object(utils.o)(alts,(function(currAlt){return Object(utils.o)(currAlt,(function(currPath){return 1===currPath.length}))}));if(hasPredicates)return function(orAlts){for(var predicates=Object(utils.I)(orAlts,(function(currAlt){return currAlt.GATE})),t=0;t<numOfAlts;t++){var currAlt=alts[t],currNumOfPaths=currAlt.length,currPredicate=predicates[t];if(void 0===currPredicate||!1!==currPredicate.call(this))nextPath:for(var j=0;j<currNumOfPaths;j++){for(var currPath=currAlt[j],currPathLength=currPath.length,i=0;i<currPathLength;i++){var nextToken=this.LA(i+1);if(!1===tokenMatcher(nextToken,currPath[i]))continue nextPath}return t}}};if(areAllOneTokenLookahead&&!dynamicTokensEnabled){var singleTokenAlts=Object(utils.I)(alts,(function(currAlt){return Object(utils.t)(currAlt)})),choiceToAlt_1=Object(utils.O)(singleTokenAlts,(function(result,currAlt,idx){return Object(utils.u)(currAlt,(function(currTokType){Object(utils.w)(result,currTokType.tokenTypeIdx)||(result[currTokType.tokenTypeIdx]=idx),Object(utils.u)(currTokType.categoryMatches,(function(currExtendingType){Object(utils.w)(result,currExtendingType)||(result[currExtendingType]=idx)}))})),result}),[]);return function(){var nextToken=this.LA(1);return choiceToAlt_1[nextToken.tokenTypeIdx]}}return function(){for(var t=0;t<numOfAlts;t++){var currAlt=alts[t],currNumOfPaths=currAlt.length;nextPath:for(var j=0;j<currNumOfPaths;j++){for(var currPath=currAlt[j],currPathLength=currPath.length,i=0;i<currPathLength;i++){var nextToken=this.LA(i+1);if(!1===tokenMatcher(nextToken,currPath[i]))continue nextPath}return t}}}}(alts,hasPredicates,tokenMatcher,dynamicTokensEnabled)},LooksAhead.prototype.getKeyForAutomaticLookahead=function(dslMethodIdx,occurrence){return getKeyForAutomaticLookahead(this.getLastExplicitRuleShortName(),dslMethodIdx,occurrence)},LooksAhead.prototype.getLaFuncFromCache=function(key){},LooksAhead.prototype.getLaFuncFromMap=function(key){return this.lookAheadFuncsCache.get(key)},LooksAhead.prototype.getLaFuncFromObj=function(key){return this.lookAheadFuncsCache[key]},LooksAhead.prototype.setLaFuncCache=function(key,value){},LooksAhead.prototype.setLaFuncCacheUsingMap=function(key,value){this.lookAheadFuncsCache.set(key,value)},LooksAhead.prototype.setLaFuncUsingObj=function(key,value){this.lookAheadFuncsCache[key]=value},LooksAhead}(),FUNC_NAME_REGEXP=/^\\s*function\\s*(\\S*)\\s*\\(/,NAME=\"name\";function functionName(func){return func.name||func.toString().match(FUNC_NAME_REGEXP)[1]}function defineNameProp(obj,nameValue){var namePropDescriptor=Object.getOwnPropertyDescriptor(obj,NAME);return!(!Object(utils.F)(namePropDescriptor)&&!namePropDescriptor.configurable||(Object.defineProperty(obj,NAME,{enumerable:!1,configurable:!0,writable:!1,value:nameValue}),0))}function defaultVisit(ctx,param){for(var childrenNames=Object(utils.G)(ctx),childrenNamesLength=childrenNames.length,i=0;i<childrenNamesLength;i++)for(var currChildArray=ctx[childrenNames[i]],currChildArrayLength=currChildArray.length,j=0;j<currChildArrayLength;j++){var currChild=currChildArray[j];void 0===currChild.tokenTypeIdx&&(void 0!==currChild.fullName?this[currChild.fullName](currChild.children,param):this[currChild.name](currChild.children,param))}}var CstVisitorDefinitionError=function(CstVisitorDefinitionError){return CstVisitorDefinitionError[CstVisitorDefinitionError.REDUNDANT_METHOD=0]=\"REDUNDANT_METHOD\",CstVisitorDefinitionError[CstVisitorDefinitionError.MISSING_METHOD=1]=\"MISSING_METHOD\",CstVisitorDefinitionError}({}),VALID_PROP_NAMES=[\"constructor\",\"visit\",\"validateVisitor\"],tree_builder_TreeBuilder=function(){function TreeBuilder(){}return TreeBuilder.prototype.initTreeBuilder=function(config){if(this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.outputCst=Object(utils.w)(config,\"outputCst\")?config.outputCst:DEFAULT_PARSER_CONFIG.outputCst,this.nodeLocationTracking=Object(utils.w)(config,\"nodeLocationTracking\")?config.nodeLocationTracking:DEFAULT_PARSER_CONFIG.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=setNodeLocationFull,this.setNodeLocationFromNode=setNodeLocationFull,this.cstPostRule=utils.b,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=utils.b,this.setNodeLocationFromNode=utils.b,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=setNodeLocationOnlyOffset,this.setNodeLocationFromNode=setNodeLocationOnlyOffset,this.cstPostRule=utils.b,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=utils.b,this.setNodeLocationFromNode=utils.b,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: \"'+config.nodeLocationTracking+'\"');this.setNodeLocationFromToken=utils.b,this.setNodeLocationFromNode=utils.b,this.cstPostRule=utils.b,this.setInitialNodeLocation=utils.b}else this.cstInvocationStateUpdate=utils.b,this.cstFinallyStateUpdate=utils.b,this.cstPostTerminal=utils.b,this.cstPostNonTerminal=utils.b,this.cstPostRule=utils.b,this.getLastExplicitRuleShortName=this.getLastExplicitRuleShortNameNoCst,this.getPreviousExplicitRuleShortName=this.getPreviousExplicitRuleShortNameNoCst,this.getLastExplicitRuleOccurrenceIndex=this.getLastExplicitRuleOccurrenceIndexNoCst,this.manyInternal=this.manyInternalNoCst,this.orInternal=this.orInternalNoCst,this.optionInternal=this.optionInternalNoCst,this.atLeastOneInternal=this.atLeastOneInternalNoCst,this.manySepFirstInternal=this.manySepFirstInternalNoCst,this.atLeastOneSepFirstInternal=this.atLeastOneSepFirstInternalNoCst},TreeBuilder.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(cstNode){cstNode.location={startOffset:NaN,endOffset:NaN}},TreeBuilder.prototype.setInitialNodeLocationOnlyOffsetRegular=function(cstNode){cstNode.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},TreeBuilder.prototype.setInitialNodeLocationFullRecovery=function(cstNode){cstNode.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},TreeBuilder.prototype.setInitialNodeLocationFullRegular=function(cstNode){var nextToken=this.LA(1);cstNode.location={startOffset:nextToken.startOffset,startLine:nextToken.startLine,startColumn:nextToken.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},TreeBuilder.prototype.cstNestedInvocationStateUpdate=function(nestedName,shortName){var cstNode={name:nestedName,fullName:this.shortRuleNameToFull[this.getLastExplicitRuleShortName()]+nestedName,children:{}};this.setInitialNodeLocation(cstNode),this.CST_STACK.push(cstNode)},TreeBuilder.prototype.cstInvocationStateUpdate=function(fullRuleName,shortName){this.LAST_EXPLICIT_RULE_STACK.push(this.RULE_STACK.length-1);var cstNode={name:fullRuleName,children:{}};this.setInitialNodeLocation(cstNode),this.CST_STACK.push(cstNode)},TreeBuilder.prototype.cstFinallyStateUpdate=function(){this.LAST_EXPLICIT_RULE_STACK.pop(),this.CST_STACK.pop()},TreeBuilder.prototype.cstNestedFinallyStateUpdate=function(){var lastCstNode=this.CST_STACK.pop();this.cstPostRule(lastCstNode)},TreeBuilder.prototype.cstPostRuleFull=function(ruleCstNode){var prevToken=this.LA(0),loc=ruleCstNode.location;loc.startOffset<=prevToken.startOffset==1?(loc.endOffset=prevToken.endOffset,loc.endLine=prevToken.endLine,loc.endColumn=prevToken.endColumn):(loc.startOffset=NaN,loc.startLine=NaN,loc.startColumn=NaN)},TreeBuilder.prototype.cstPostRuleOnlyOffset=function(ruleCstNode){var prevToken=this.LA(0),loc=ruleCstNode.location;loc.startOffset<=prevToken.startOffset==1?loc.endOffset=prevToken.endOffset:loc.startOffset=NaN},TreeBuilder.prototype.cstPostTerminal=function(key,consumedToken){var node,token,tokenTypeName,rootCst=this.CST_STACK[this.CST_STACK.length-1];token=consumedToken,void 0===(node=rootCst).children[tokenTypeName=key]?node.children[tokenTypeName]=[token]:node.children[tokenTypeName].push(token),this.setNodeLocationFromToken(rootCst.location,consumedToken)},TreeBuilder.prototype.cstPostNonTerminal=function(ruleCstResult,ruleName){if(!0!==this.isBackTracking()){var preCstNode=this.CST_STACK[this.CST_STACK.length-1];addNoneTerminalToCst(preCstNode,ruleName,ruleCstResult),this.setNodeLocationFromNode(preCstNode.location,ruleCstResult.location)}},TreeBuilder.prototype.getBaseCstVisitorConstructor=function(){if(Object(utils.F)(this.baseCstVisitorConstructor)){var newBaseCstVisitorConstructor=(ruleNames=this.allRuleNames,defineNameProp(derivedConstructor=function(){},this.className+\"BaseSemantics\"),(derivedConstructor.prototype={visit:function(cstNode,param){if(Object(utils.y)(cstNode)&&(cstNode=cstNode[0]),!Object(utils.F)(cstNode))return void 0!==cstNode.fullName?this[cstNode.fullName](cstNode.children,param):this[cstNode.name](cstNode.children,param)},validateVisitor:function(){var semanticDefinitionErrors=function(visitorInstance,ruleNames){var missingErrors=function(visitorInstance,ruleNames){var errors=Object(utils.I)(ruleNames,(function(currRuleName){if(!Object(utils.B)(visitorInstance[currRuleName]))return{msg:\"Missing visitor method: <\"+currRuleName+\"> on \"+functionName(visitorInstance.constructor)+\" CST Visitor.\",type:CstVisitorDefinitionError.MISSING_METHOD,methodName:currRuleName}}));return Object(utils.i)(errors)}(visitorInstance,ruleNames),redundantErrors=function(visitorInstance,ruleNames){var errors=[];for(var prop in visitorInstance)validTermsPattern.test(prop)&&Object(utils.B)(visitorInstance[prop])&&!Object(utils.j)(VALID_PROP_NAMES,prop)&&!Object(utils.j)(ruleNames,prop)&&errors.push({msg:\"Redundant visitor method: <\"+prop+\"> on \"+functionName(visitorInstance.constructor)+\" CST Visitor\\nThere is no Grammar Rule corresponding to this method's name.\\nFor utility methods on visitor classes use methods names that do not match /\"+validTermsPattern.source+\"/.\",type:CstVisitorDefinitionError.REDUNDANT_METHOD,methodName:prop});return errors}(visitorInstance,ruleNames);return missingErrors.concat(redundantErrors)}(this,ruleNames);if(!Object(utils.A)(semanticDefinitionErrors)){var errorMessages=Object(utils.I)(semanticDefinitionErrors,(function(currDefError){return currDefError.msg}));throw Error(\"Errors Detected in CST Visitor <\"+functionName(this.constructor)+\">:\\n\\t\"+errorMessages.join(\"\\n\\n\").replace(/\\n/g,\"\\n\\t\"))}}}).constructor=derivedConstructor,derivedConstructor._RULE_NAMES=ruleNames,derivedConstructor);return this.baseCstVisitorConstructor=newBaseCstVisitorConstructor,newBaseCstVisitorConstructor}var ruleNames,derivedConstructor;return this.baseCstVisitorConstructor},TreeBuilder.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(Object(utils.F)(this.baseCstVisitorWithDefaultsConstructor)){var newConstructor=function(grammarName,ruleNames,baseConstructor){var derivedConstructor=function(){};defineNameProp(derivedConstructor,grammarName+\"BaseSemanticsWithDefaults\");var withDefaultsProto=Object.create(baseConstructor.prototype);return Object(utils.u)(ruleNames,(function(ruleName){withDefaultsProto[ruleName]=defaultVisit})),(derivedConstructor.prototype=withDefaultsProto).constructor=derivedConstructor,derivedConstructor}(this.className,this.allRuleNames,this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=newConstructor,newConstructor}return this.baseCstVisitorWithDefaultsConstructor},TreeBuilder.prototype.nestedRuleBeforeClause=function(methodOpts,laKey){var nestedName;return void 0!==methodOpts.NAME?(this.nestedRuleInvocationStateUpdate(nestedName=methodOpts.NAME,laKey),nestedName):void 0},TreeBuilder.prototype.nestedAltBeforeClause=function(methodOpts,occurrence,methodKeyIdx,altIdx){var nestedName,shortName=getKeyForAltIndex(this.getLastExplicitRuleShortName(),methodKeyIdx,occurrence,altIdx);return void 0!==methodOpts.NAME?(this.nestedRuleInvocationStateUpdate(nestedName=methodOpts.NAME,shortName),{shortName:shortName,nestedName:nestedName}):void 0},TreeBuilder.prototype.nestedRuleFinallyClause=function(laKey,nestedName){var cstStack=this.CST_STACK,nestedRuleCst=cstStack[cstStack.length-1];this.nestedRuleFinallyStateUpdate();var parentCstNode=cstStack[cstStack.length-1];addNoneTerminalToCst(parentCstNode,nestedName,nestedRuleCst),this.setNodeLocationFromNode(parentCstNode.location,nestedRuleCst.location)},TreeBuilder.prototype.getLastExplicitRuleShortName=function(){return this.RULE_STACK[this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1]]},TreeBuilder.prototype.getLastExplicitRuleShortNameNoCst=function(){var ruleStack=this.RULE_STACK;return ruleStack[ruleStack.length-1]},TreeBuilder.prototype.getPreviousExplicitRuleShortName=function(){return this.RULE_STACK[this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-2]]},TreeBuilder.prototype.getPreviousExplicitRuleShortNameNoCst=function(){var ruleStack=this.RULE_STACK;return ruleStack[ruleStack.length-2]},TreeBuilder.prototype.getLastExplicitRuleOccurrenceIndex=function(){return this.RULE_OCCURRENCE_STACK[this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1]]},TreeBuilder.prototype.getLastExplicitRuleOccurrenceIndexNoCst=function(){var occurrenceStack=this.RULE_OCCURRENCE_STACK;return occurrenceStack[occurrenceStack.length-1]},TreeBuilder.prototype.nestedRuleInvocationStateUpdate=function(nestedRuleName,shortNameKey){this.RULE_OCCURRENCE_STACK.push(1),this.RULE_STACK.push(shortNameKey),this.cstNestedInvocationStateUpdate(nestedRuleName,shortNameKey)},TreeBuilder.prototype.nestedRuleFinallyStateUpdate=function(){this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstNestedFinallyStateUpdate()},TreeBuilder}(),lexer_adapter_LexerAdapter=function(){function LexerAdapter(){}return LexerAdapter.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(LexerAdapter.prototype,\"input\",{get:function(){return this.tokVector},set:function(newInput){if(!0!==this.selfAnalysisDone)throw Error(\"Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.\");this.reset(),this.tokVector=newInput,this.tokVectorLength=newInput.length},enumerable:!0,configurable:!0}),LexerAdapter.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):END_OF_FILE},LexerAdapter.prototype.LA=function(howMuch){var soughtIdx=this.currIdx+howMuch;return soughtIdx<0||this.tokVectorLength<=soughtIdx?END_OF_FILE:this.tokVector[soughtIdx]},LexerAdapter.prototype.consumeToken=function(){this.currIdx++},LexerAdapter.prototype.exportLexerState=function(){return this.currIdx},LexerAdapter.prototype.importLexerState=function(newState){this.currIdx=newState},LexerAdapter.prototype.resetLexerState=function(){this.currIdx=-1},LexerAdapter.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},LexerAdapter.prototype.getLexerPosition=function(){return this.exportLexerState()},LexerAdapter}(),recognizer_api_RecognizerApi=function(){function RecognizerApi(){}return RecognizerApi.prototype.ACTION=function(impl){return impl.call(this)},RecognizerApi.prototype.consume=function(idx,tokType,options){return this.consumeInternal(tokType,idx,options)},RecognizerApi.prototype.subrule=function(idx,ruleToCall,options){return this.subruleInternal(ruleToCall,idx,options)},RecognizerApi.prototype.option=function(idx,actionORMethodDef){return this.optionInternal(actionORMethodDef,idx)},RecognizerApi.prototype.or=function(idx,altsOrOpts){return this.orInternal(altsOrOpts,idx)},RecognizerApi.prototype.many=function(idx,actionORMethodDef){return this.manyInternal(idx,actionORMethodDef)},RecognizerApi.prototype.atLeastOne=function(idx,actionORMethodDef){return this.atLeastOneInternal(idx,actionORMethodDef)},RecognizerApi.prototype.CONSUME=function(tokType,options){return this.consumeInternal(tokType,0,options)},RecognizerApi.prototype.CONSUME1=function(tokType,options){return this.consumeInternal(tokType,1,options)},RecognizerApi.prototype.CONSUME2=function(tokType,options){return this.consumeInternal(tokType,2,options)},RecognizerApi.prototype.CONSUME3=function(tokType,options){return this.consumeInternal(tokType,3,options)},RecognizerApi.prototype.CONSUME4=function(tokType,options){return this.consumeInternal(tokType,4,options)},RecognizerApi.prototype.CONSUME5=function(tokType,options){return this.consumeInternal(tokType,5,options)},RecognizerApi.prototype.CONSUME6=function(tokType,options){return this.consumeInternal(tokType,6,options)},RecognizerApi.prototype.CONSUME7=function(tokType,options){return this.consumeInternal(tokType,7,options)},RecognizerApi.prototype.CONSUME8=function(tokType,options){return this.consumeInternal(tokType,8,options)},RecognizerApi.prototype.CONSUME9=function(tokType,options){return this.consumeInternal(tokType,9,options)},RecognizerApi.prototype.SUBRULE=function(ruleToCall,options){return this.subruleInternal(ruleToCall,0,options)},RecognizerApi.prototype.SUBRULE1=function(ruleToCall,options){return this.subruleInternal(ruleToCall,1,options)},RecognizerApi.prototype.SUBRULE2=function(ruleToCall,options){return this.subruleInternal(ruleToCall,2,options)},RecognizerApi.prototype.SUBRULE3=function(ruleToCall,options){return this.subruleInternal(ruleToCall,3,options)},RecognizerApi.prototype.SUBRULE4=function(ruleToCall,options){return this.subruleInternal(ruleToCall,4,options)},RecognizerApi.prototype.SUBRULE5=function(ruleToCall,options){return this.subruleInternal(ruleToCall,5,options)},RecognizerApi.prototype.SUBRULE6=function(ruleToCall,options){return this.subruleInternal(ruleToCall,6,options)},RecognizerApi.prototype.SUBRULE7=function(ruleToCall,options){return this.subruleInternal(ruleToCall,7,options)},RecognizerApi.prototype.SUBRULE8=function(ruleToCall,options){return this.subruleInternal(ruleToCall,8,options)},RecognizerApi.prototype.SUBRULE9=function(ruleToCall,options){return this.subruleInternal(ruleToCall,9,options)},RecognizerApi.prototype.OPTION=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,0)},RecognizerApi.prototype.OPTION1=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,1)},RecognizerApi.prototype.OPTION2=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,2)},RecognizerApi.prototype.OPTION3=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,3)},RecognizerApi.prototype.OPTION4=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,4)},RecognizerApi.prototype.OPTION5=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,5)},RecognizerApi.prototype.OPTION6=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,6)},RecognizerApi.prototype.OPTION7=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,7)},RecognizerApi.prototype.OPTION8=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,8)},RecognizerApi.prototype.OPTION9=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,9)},RecognizerApi.prototype.OR=function(altsOrOpts){return this.orInternal(altsOrOpts,0)},RecognizerApi.prototype.OR1=function(altsOrOpts){return this.orInternal(altsOrOpts,1)},RecognizerApi.prototype.OR2=function(altsOrOpts){return this.orInternal(altsOrOpts,2)},RecognizerApi.prototype.OR3=function(altsOrOpts){return this.orInternal(altsOrOpts,3)},RecognizerApi.prototype.OR4=function(altsOrOpts){return this.orInternal(altsOrOpts,4)},RecognizerApi.prototype.OR5=function(altsOrOpts){return this.orInternal(altsOrOpts,5)},RecognizerApi.prototype.OR6=function(altsOrOpts){return this.orInternal(altsOrOpts,6)},RecognizerApi.prototype.OR7=function(altsOrOpts){return this.orInternal(altsOrOpts,7)},RecognizerApi.prototype.OR8=function(altsOrOpts){return this.orInternal(altsOrOpts,8)},RecognizerApi.prototype.OR9=function(altsOrOpts){return this.orInternal(altsOrOpts,9)},RecognizerApi.prototype.MANY=function(actionORMethodDef){this.manyInternal(0,actionORMethodDef)},RecognizerApi.prototype.MANY1=function(actionORMethodDef){this.manyInternal(1,actionORMethodDef)},RecognizerApi.prototype.MANY2=function(actionORMethodDef){this.manyInternal(2,actionORMethodDef)},RecognizerApi.prototype.MANY3=function(actionORMethodDef){this.manyInternal(3,actionORMethodDef)},RecognizerApi.prototype.MANY4=function(actionORMethodDef){this.manyInternal(4,actionORMethodDef)},RecognizerApi.prototype.MANY5=function(actionORMethodDef){this.manyInternal(5,actionORMethodDef)},RecognizerApi.prototype.MANY6=function(actionORMethodDef){this.manyInternal(6,actionORMethodDef)},RecognizerApi.prototype.MANY7=function(actionORMethodDef){this.manyInternal(7,actionORMethodDef)},RecognizerApi.prototype.MANY8=function(actionORMethodDef){this.manyInternal(8,actionORMethodDef)},RecognizerApi.prototype.MANY9=function(actionORMethodDef){this.manyInternal(9,actionORMethodDef)},RecognizerApi.prototype.MANY_SEP=function(options){this.manySepFirstInternal(0,options)},RecognizerApi.prototype.MANY_SEP1=function(options){this.manySepFirstInternal(1,options)},RecognizerApi.prototype.MANY_SEP2=function(options){this.manySepFirstInternal(2,options)},RecognizerApi.prototype.MANY_SEP3=function(options){this.manySepFirstInternal(3,options)},RecognizerApi.prototype.MANY_SEP4=function(options){this.manySepFirstInternal(4,options)},RecognizerApi.prototype.MANY_SEP5=function(options){this.manySepFirstInternal(5,options)},RecognizerApi.prototype.MANY_SEP6=function(options){this.manySepFirstInternal(6,options)},RecognizerApi.prototype.MANY_SEP7=function(options){this.manySepFirstInternal(7,options)},RecognizerApi.prototype.MANY_SEP8=function(options){this.manySepFirstInternal(8,options)},RecognizerApi.prototype.MANY_SEP9=function(options){this.manySepFirstInternal(9,options)},RecognizerApi.prototype.AT_LEAST_ONE=function(actionORMethodDef){this.atLeastOneInternal(0,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE1=function(actionORMethodDef){return this.atLeastOneInternal(1,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE2=function(actionORMethodDef){this.atLeastOneInternal(2,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE3=function(actionORMethodDef){this.atLeastOneInternal(3,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE4=function(actionORMethodDef){this.atLeastOneInternal(4,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE5=function(actionORMethodDef){this.atLeastOneInternal(5,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE6=function(actionORMethodDef){this.atLeastOneInternal(6,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE7=function(actionORMethodDef){this.atLeastOneInternal(7,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE8=function(actionORMethodDef){this.atLeastOneInternal(8,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE9=function(actionORMethodDef){this.atLeastOneInternal(9,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE_SEP=function(options){this.atLeastOneSepFirstInternal(0,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP1=function(options){this.atLeastOneSepFirstInternal(1,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP2=function(options){this.atLeastOneSepFirstInternal(2,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP3=function(options){this.atLeastOneSepFirstInternal(3,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP4=function(options){this.atLeastOneSepFirstInternal(4,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP5=function(options){this.atLeastOneSepFirstInternal(5,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP6=function(options){this.atLeastOneSepFirstInternal(6,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP7=function(options){this.atLeastOneSepFirstInternal(7,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP8=function(options){this.atLeastOneSepFirstInternal(8,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP9=function(options){this.atLeastOneSepFirstInternal(9,options)},RecognizerApi.prototype.RULE=function(name,implementation,config){if(void 0===config&&(config=DEFAULT_RULE_CONFIG),Object(utils.j)(this.definedRulesNames,name)){var errMsg=defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:name,grammarName:this.className});this.definitionErrors.push({message:errMsg,type:ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:name})}this.definedRulesNames.push(name);var ruleImplementation=this.defineRule(name,implementation,config);return this[name]=ruleImplementation,ruleImplementation},RecognizerApi.prototype.OVERRIDE_RULE=function(name,impl,config){void 0===config&&(config=DEFAULT_RULE_CONFIG);var ruleName,className,errors,ruleErrors=[];ruleErrors=ruleErrors.concat((className=this.className,errors=[],utils.j(this.definedRulesNames,ruleName=name)||errors.push({message:\"Invalid rule override, rule: ->\"+ruleName+\"<- cannot be overridden in the grammar: ->\"+className+\"<-as it is not defined in any of the super grammars \",type:ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:ruleName}),errors)),this.definitionErrors.push.apply(this.definitionErrors,ruleErrors);var ruleImplementation=this.defineRule(name,impl,config);return this[name]=ruleImplementation,ruleImplementation},RecognizerApi.prototype.BACKTRACK=function(grammarRule,args){return function(){this.isBackTrackingStack.push(1);var orgState=this.saveRecogState();try{return grammarRule.apply(this,args),!0}catch(e){if(isRecognitionException(e))return!1;throw e}finally{this.reloadRecogState(orgState),this.isBackTrackingStack.pop()}}},RecognizerApi.prototype.getGAstProductions=function(){return this.gastProductionsCache},RecognizerApi.prototype.getSerializedGastProductions=function(){return serializeGrammar(Object(utils.U)(this.gastProductionsCache))},RecognizerApi}(),recognizer_engine_RecognizerEngine=function(){function RecognizerEngine(){}return RecognizerEngine.prototype.initRecognizerEngine=function(tokenVocabulary,config){if(this.className=functionName(this.constructor),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=tokenStructuredMatcherNoCategories,this.definedRulesNames=[],this.tokensMap={},this.allRuleNames=[],this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Object(utils.w)(config,\"serializedGrammar\"))throw Error(\"The Parser's configuration can no longer contain a <serializedGrammar> property.\\n\\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\\n\\tFor Further details.\");if(Object(utils.y)(tokenVocabulary)){if(Object(utils.A)(tokenVocabulary))throw Error(\"A Token Vocabulary cannot be empty.\\n\\tNote that the first argument for the parser constructor\\n\\tis no longer a Token vector (since v4.0).\");if(\"number\"==typeof tokenVocabulary[0].startOffset)throw Error(\"The Parser constructor no longer accepts a token vector as the first argument.\\n\\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\\n\\tFor Further details.\")}if(Object(utils.y)(tokenVocabulary))this.tokensMap=Object(utils.O)(tokenVocabulary,(function(acc,tokType){return acc[tokType.name]=tokType,acc}),{});else if(Object(utils.w)(tokenVocabulary,\"modes\")&&Object(utils.o)(Object(utils.t)(Object(utils.U)(tokenVocabulary.modes)),isTokenType)){var allTokenTypes=Object(utils.t)(Object(utils.U)(tokenVocabulary.modes)),uniqueTokens=Object(utils.T)(allTokenTypes);this.tokensMap=Object(utils.O)(uniqueTokens,(function(acc,tokType){return acc[tokType.name]=tokType,acc}),{})}else{if(!Object(utils.C)(tokenVocabulary))throw new Error(\"<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition\");this.tokensMap=Object(utils.h)(tokenVocabulary)}this.tokensMap.EOF=EOF;var noTokenCategoriesUsed=Object(utils.o)(Object(utils.U)(tokenVocabulary),(function(tokenConstructor){return Object(utils.A)(tokenConstructor.categoryMatches)}));this.tokenMatcher=noTokenCategoriesUsed?tokenStructuredMatcherNoCategories:tokenStructuredMatcher,augmentTokenTypes(Object(utils.U)(this.tokensMap))},RecognizerEngine.prototype.defineRule=function(ruleName,impl,config){if(this.selfAnalysisDone)throw Error(\"Grammar rule <\"+ruleName+\"> may not be defined after the 'performSelfAnalysis' method has been called'\\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.\");var wrappedGrammarRule,resyncEnabled=Object(utils.w)(config,\"resyncEnabled\")?config.resyncEnabled:DEFAULT_RULE_CONFIG.resyncEnabled,recoveryValueFunc=Object(utils.w)(config,\"recoveryValueFunc\")?config.recoveryValueFunc:DEFAULT_RULE_CONFIG.recoveryValueFunc,shortName=this.ruleShortNameIdx<<12;function invokeRuleWithTry(args){try{if(!0===this.outputCst){impl.apply(this,args);var cst=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(cst),cst}return impl.apply(this,args)}catch(e){return this.invokeRuleCatch(e,resyncEnabled,recoveryValueFunc)}finally{this.ruleFinallyStateUpdate()}}return this.ruleShortNameIdx++,this.shortRuleNameToFull[shortName]=ruleName,this.fullRuleNameToShort[ruleName]=shortName,(wrappedGrammarRule=function(idxInCallingRule,args){return void 0===idxInCallingRule&&(idxInCallingRule=0),this.ruleInvocationStateUpdate(shortName,ruleName,idxInCallingRule),invokeRuleWithTry.call(this,args)}).ruleName=ruleName,wrappedGrammarRule.originalGrammarAction=impl,wrappedGrammarRule},RecognizerEngine.prototype.invokeRuleCatch=function(e,resyncEnabledConfig,recoveryValueFunc){var isFirstInvokedRule=1===this.RULE_STACK.length,reSyncEnabled=resyncEnabledConfig&&!this.isBackTracking()&&this.recoveryEnabled;if(isRecognitionException(e)){var recogError=e;if(reSyncEnabled){var partialCstResult,reSyncTokType=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(reSyncTokType))return recogError.resyncedTokens=this.reSyncTo(reSyncTokType),this.outputCst?((partialCstResult=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,partialCstResult):recoveryValueFunc();throw this.outputCst&&((partialCstResult=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,recogError.partialCstResult=partialCstResult),recogError}if(isFirstInvokedRule)return this.moveToTerminatedState(),recoveryValueFunc();throw recogError}throw e},RecognizerEngine.prototype.optionInternal=function(actionORMethodDef,occurrence){var key=this.getKeyForAutomaticLookahead(512,occurrence),nestedName=this.nestedRuleBeforeClause(actionORMethodDef,key);try{return this.optionInternalLogic(actionORMethodDef,occurrence,key)}finally{void 0!==nestedName&&this.nestedRuleFinallyClause(key,nestedName)}},RecognizerEngine.prototype.optionInternalNoCst=function(actionORMethodDef,occurrence){var key=this.getKeyForAutomaticLookahead(512,occurrence);return this.optionInternalLogic(actionORMethodDef,occurrence,key)},RecognizerEngine.prototype.optionInternalLogic=function(actionORMethodDef,occurrence,key){var action,predicate,_this=this,lookAheadFunc=this.getLaFuncFromCache(key);if(void 0!==actionORMethodDef.DEF){if(action=actionORMethodDef.DEF,void 0!==(predicate=actionORMethodDef.GATE)){var orgLookaheadFunction_1=lookAheadFunc;lookAheadFunc=function(){return predicate.call(_this)&&orgLookaheadFunction_1.call(_this)}}}else action=actionORMethodDef;if(!0===lookAheadFunc.call(this))return action.call(this)},RecognizerEngine.prototype.atLeastOneInternal=function(prodOccurrence,actionORMethodDef){var laKey=this.getKeyForAutomaticLookahead(1024,prodOccurrence),nestedName=this.nestedRuleBeforeClause(actionORMethodDef,laKey);try{return this.atLeastOneInternalLogic(prodOccurrence,actionORMethodDef,laKey)}finally{void 0!==nestedName&&this.nestedRuleFinallyClause(laKey,nestedName)}},RecognizerEngine.prototype.atLeastOneInternalNoCst=function(prodOccurrence,actionORMethodDef){var key=this.getKeyForAutomaticLookahead(1024,prodOccurrence);this.atLeastOneInternalLogic(prodOccurrence,actionORMethodDef,key)},RecognizerEngine.prototype.atLeastOneInternalLogic=function(prodOccurrence,actionORMethodDef,key){var action,predicate,_this=this,lookAheadFunc=this.getLaFuncFromCache(key);if(void 0!==actionORMethodDef.DEF){if(action=actionORMethodDef.DEF,void 0!==(predicate=actionORMethodDef.GATE)){var orgLookaheadFunction_2=lookAheadFunc;lookAheadFunc=function(){return predicate.call(_this)&&orgLookaheadFunction_2.call(_this)}}}else action=actionORMethodDef;if(!0!==lookAheadFunc.call(this))throw this.raiseEarlyExitException(prodOccurrence,PROD_TYPE.REPETITION_MANDATORY,actionORMethodDef.ERR_MSG);for(var notStuck=this.doSingleRepetition(action);!0===lookAheadFunc.call(this)&&!0===notStuck;)notStuck=this.doSingleRepetition(action);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[prodOccurrence,actionORMethodDef],lookAheadFunc,1024,prodOccurrence,interpreter_NextTerminalAfterAtLeastOneWalker)},RecognizerEngine.prototype.atLeastOneSepFirstInternal=function(prodOccurrence,options){var laKey=this.getKeyForAutomaticLookahead(1536,prodOccurrence),nestedName=this.nestedRuleBeforeClause(options,laKey);try{this.atLeastOneSepFirstInternalLogic(prodOccurrence,options,laKey)}finally{void 0!==nestedName&&this.nestedRuleFinallyClause(laKey,nestedName)}},RecognizerEngine.prototype.atLeastOneSepFirstInternalNoCst=function(prodOccurrence,options){var laKey=this.getKeyForAutomaticLookahead(1536,prodOccurrence);this.atLeastOneSepFirstInternalLogic(prodOccurrence,options,laKey)},RecognizerEngine.prototype.atLeastOneSepFirstInternalLogic=function(prodOccurrence,options,key){var _this=this,action=options.DEF,separator=options.SEP;if(!0!==this.getLaFuncFromCache(key).call(this))throw this.raiseEarlyExitException(prodOccurrence,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,options.ERR_MSG);action.call(this);for(var separatorLookAheadFunc=function(){return _this.tokenMatcher(_this.LA(1),separator)};!0===this.tokenMatcher(this.LA(1),separator);)this.CONSUME(separator),action.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[prodOccurrence,separator,separatorLookAheadFunc,action,interpreter_NextTerminalAfterAtLeastOneSepWalker],separatorLookAheadFunc,1536,prodOccurrence,interpreter_NextTerminalAfterAtLeastOneSepWalker)},RecognizerEngine.prototype.manyInternal=function(prodOccurrence,actionORMethodDef){var laKey=this.getKeyForAutomaticLookahead(768,prodOccurrence),nestedName=this.nestedRuleBeforeClause(actionORMethodDef,laKey);try{return this.manyInternalLogic(prodOccurrence,actionORMethodDef,laKey)}finally{void 0!==nestedName&&this.nestedRuleFinallyClause(laKey,nestedName)}},RecognizerEngine.prototype.manyInternalNoCst=function(prodOccurrence,actionORMethodDef){var laKey=this.getKeyForAutomaticLookahead(768,prodOccurrence);return this.manyInternalLogic(prodOccurrence,actionORMethodDef,laKey)},RecognizerEngine.prototype.manyInternalLogic=function(prodOccurrence,actionORMethodDef,key){var action,predicate,_this=this,lookaheadFunction=this.getLaFuncFromCache(key);if(void 0!==actionORMethodDef.DEF){if(action=actionORMethodDef.DEF,void 0!==(predicate=actionORMethodDef.GATE)){var orgLookaheadFunction_3=lookaheadFunction;lookaheadFunction=function(){return predicate.call(_this)&&orgLookaheadFunction_3.call(_this)}}}else action=actionORMethodDef;for(var notStuck=!0;!0===lookaheadFunction.call(this)&&!0===notStuck;)notStuck=this.doSingleRepetition(action);this.attemptInRepetitionRecovery(this.manyInternal,[prodOccurrence,actionORMethodDef],lookaheadFunction,768,prodOccurrence,interpreter_NextTerminalAfterManyWalker,notStuck)},RecognizerEngine.prototype.manySepFirstInternal=function(prodOccurrence,options){var laKey=this.getKeyForAutomaticLookahead(1280,prodOccurrence),nestedName=this.nestedRuleBeforeClause(options,laKey);try{this.manySepFirstInternalLogic(prodOccurrence,options,laKey)}finally{void 0!==nestedName&&this.nestedRuleFinallyClause(laKey,nestedName)}},RecognizerEngine.prototype.manySepFirstInternalNoCst=function(prodOccurrence,options){var laKey=this.getKeyForAutomaticLookahead(1280,prodOccurrence);this.manySepFirstInternalLogic(prodOccurrence,options,laKey)},RecognizerEngine.prototype.manySepFirstInternalLogic=function(prodOccurrence,options,key){var _this=this,action=options.DEF,separator=options.SEP;if(!0===this.getLaFuncFromCache(key).call(this)){action.call(this);for(var separatorLookAheadFunc=function(){return _this.tokenMatcher(_this.LA(1),separator)};!0===this.tokenMatcher(this.LA(1),separator);)this.CONSUME(separator),action.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[prodOccurrence,separator,separatorLookAheadFunc,action,interpreter_NextTerminalAfterManySepWalker],separatorLookAheadFunc,1280,prodOccurrence,interpreter_NextTerminalAfterManySepWalker)}},RecognizerEngine.prototype.repetitionSepSecondInternal=function(prodOccurrence,separator,separatorLookAheadFunc,action,nextTerminalAfterWalker){for(;separatorLookAheadFunc();)this.CONSUME(separator),action.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[prodOccurrence,separator,separatorLookAheadFunc,action,nextTerminalAfterWalker],separatorLookAheadFunc,1536,prodOccurrence,nextTerminalAfterWalker)},RecognizerEngine.prototype.doSingleRepetition=function(action){var beforeIteration=this.getLexerPosition();return action.call(this),this.getLexerPosition()>beforeIteration},RecognizerEngine.prototype.orInternalNoCst=function(altsOrOpts,occurrence){var alts=Object(utils.y)(altsOrOpts)?altsOrOpts:altsOrOpts.DEF,laKey=this.getKeyForAutomaticLookahead(256,occurrence),altIdxToTake=this.getLaFuncFromCache(laKey).call(this,alts);if(void 0!==altIdxToTake)return alts[altIdxToTake].ALT.call(this);this.raiseNoAltException(occurrence,altsOrOpts.ERR_MSG)},RecognizerEngine.prototype.orInternal=function(altsOrOpts,occurrence){var laKey=this.getKeyForAutomaticLookahead(256,occurrence),nestedName=this.nestedRuleBeforeClause(altsOrOpts,laKey);try{var alts=Object(utils.y)(altsOrOpts)?altsOrOpts:altsOrOpts.DEF,altIdxToTake=this.getLaFuncFromCache(laKey).call(this,alts);if(void 0!==altIdxToTake){var chosenAlternative=alts[altIdxToTake],nestedAltBeforeClauseResult=this.nestedAltBeforeClause(chosenAlternative,occurrence,256,altIdxToTake);try{return chosenAlternative.ALT.call(this)}finally{void 0!==nestedAltBeforeClauseResult&&this.nestedRuleFinallyClause(nestedAltBeforeClauseResult.shortName,nestedAltBeforeClauseResult.nestedName)}}this.raiseNoAltException(occurrence,altsOrOpts.ERR_MSG)}finally{void 0!==nestedName&&this.nestedRuleFinallyClause(laKey,nestedName)}},RecognizerEngine.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var firstRedundantTok=this.LA(1),errMsg=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:firstRedundantTok,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new NotAllInputParsedException(errMsg,firstRedundantTok))}},RecognizerEngine.prototype.subruleInternal=function(ruleToCall,idx,options){var ruleResult;try{return ruleResult=ruleToCall.call(this,idx,void 0!==options?options.ARGS:void 0),this.cstPostNonTerminal(ruleResult,void 0!==options&&void 0!==options.LABEL?options.LABEL:ruleToCall.ruleName),ruleResult}catch(e){this.subruleInternalError(e,options,ruleToCall.ruleName)}},RecognizerEngine.prototype.subruleInternalError=function(e,options,ruleName){throw isRecognitionException(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==options&&void 0!==options.LABEL?options.LABEL:ruleName),delete e.partialCstResult),e},RecognizerEngine.prototype.consumeInternal=function(tokType,idx,options){var consumedToken;try{var nextToken=this.LA(1);!0===this.tokenMatcher(nextToken,tokType)?(this.consumeToken(),consumedToken=nextToken):this.consumeInternalError(tokType,nextToken,options)}catch(eFromConsumption){consumedToken=this.consumeInternalRecovery(tokType,idx,eFromConsumption)}return this.cstPostTerminal(void 0!==options&&void 0!==options.LABEL?options.LABEL:tokType.name,consumedToken),consumedToken},RecognizerEngine.prototype.consumeInternalError=function(tokType,nextToken,options){var msg,previousToken=this.LA(0);throw msg=void 0!==options&&options.ERR_MSG?options.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:tokType,actual:nextToken,previous:previousToken,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new MismatchedTokenException(msg,nextToken,previousToken))},RecognizerEngine.prototype.consumeInternalRecovery=function(tokType,idx,eFromConsumption){if(!this.recoveryEnabled||\"MismatchedTokenException\"!==eFromConsumption.name||this.isBackTracking())throw eFromConsumption;var follows=this.getFollowsForInRuleRecovery(tokType,idx);try{return this.tryInRuleRecovery(tokType,follows)}catch(eFromInRuleRecovery){throw eFromInRuleRecovery.name===IN_RULE_RECOVERY_EXCEPTION?eFromConsumption:eFromInRuleRecovery}},RecognizerEngine.prototype.saveRecogState=function(){var savedErrors=this.errors,savedRuleStack=Object(utils.g)(this.RULE_STACK);return{errors:savedErrors,lexerState:this.exportLexerState(),RULE_STACK:savedRuleStack,CST_STACK:this.CST_STACK,LAST_EXPLICIT_RULE_STACK:this.LAST_EXPLICIT_RULE_STACK}},RecognizerEngine.prototype.reloadRecogState=function(newState){this.errors=newState.errors,this.importLexerState(newState.lexerState),this.RULE_STACK=newState.RULE_STACK},RecognizerEngine.prototype.ruleInvocationStateUpdate=function(shortName,fullName,idxInCallingRule){this.RULE_OCCURRENCE_STACK.push(idxInCallingRule),this.RULE_STACK.push(shortName),this.cstInvocationStateUpdate(fullName,shortName)},RecognizerEngine.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},RecognizerEngine.prototype.getCurrRuleFullName=function(){var shortName=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[shortName]},RecognizerEngine.prototype.shortRuleNameToFullName=function(shortName){return this.shortRuleNameToFull[shortName]},RecognizerEngine.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),EOF)},RecognizerEngine.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},RecognizerEngine}(),error_handler_ErrorHandler=function(){function ErrorHandler(){}return ErrorHandler.prototype.initErrorHandler=function(config){this._errors=[],this.errorMessageProvider=Object(utils.k)(config.errorMessageProvider,DEFAULT_PARSER_CONFIG.errorMessageProvider)},ErrorHandler.prototype.SAVE_ERROR=function(error){if(isRecognitionException(error))return error.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Object(utils.g)(this.RULE_OCCURRENCE_STACK)},this._errors.push(error),error;throw Error(\"Trying to save an Error which is not a RecognitionException\")},Object.defineProperty(ErrorHandler.prototype,\"errors\",{get:function(){return Object(utils.g)(this._errors)},set:function(newErrors){this._errors=newErrors},enumerable:!0,configurable:!0}),ErrorHandler.prototype.raiseEarlyExitException=function(occurrence,prodType,userDefinedErrMsg){for(var ruleName=this.getCurrRuleFullName(),insideProdPaths=getLookaheadPathsForOptionalProd(occurrence,this.getGAstProductions()[ruleName],prodType,this.maxLookahead)[0],actualTokens=[],i=1;i<=this.maxLookahead;i++)actualTokens.push(this.LA(i));var msg=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:insideProdPaths,actual:actualTokens,previous:this.LA(0),customUserDescription:userDefinedErrMsg,ruleName:ruleName});throw this.SAVE_ERROR(new EarlyExitException(msg,this.LA(1),this.LA(0)))},ErrorHandler.prototype.raiseNoAltException=function(occurrence,errMsgTypes){for(var ruleName=this.getCurrRuleFullName(),lookAheadPathsPerAlternative=getLookaheadPathsForOr(occurrence,this.getGAstProductions()[ruleName],this.maxLookahead),actualTokens=[],i=1;i<=this.maxLookahead;i++)actualTokens.push(this.LA(i));var previousToken=this.LA(0),errMsg=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:lookAheadPathsPerAlternative,actual:actualTokens,previous:previousToken,customUserDescription:errMsgTypes,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new NoViableAltException(errMsg,this.LA(1),previousToken))},ErrorHandler}(),context_assist_ContentAssist=function(){function ContentAssist(){}return ContentAssist.prototype.initContentAssist=function(){},ContentAssist.prototype.computeContentAssist=function(startRuleName,precedingInput){var startRuleGast=this.gastProductionsCache[startRuleName];if(Object(utils.F)(startRuleGast))throw Error(\"Rule ->\"+startRuleName+\"<- does not exist in this grammar.\");return nextPossibleTokensAfter([startRuleGast],precedingInput,this.tokenMatcher,this.maxLookahead)},ContentAssist.prototype.getNextPossibleTokenTypes=function(grammarPath){var topRuleName=Object(utils.s)(grammarPath.ruleStack),gastProductions=this.getGAstProductions();return new interpreter_NextAfterTokenWalker(gastProductions[topRuleName],grammarPath).startWalking()},ContentAssist}(),RECORDING_NULL_OBJECT={description:\"This Object indicates the Parser is during Recording Phase\"};Object.freeze(RECORDING_NULL_OBJECT);var MAX_METHOD_IDX=Math.pow(2,8)-1,RFT=createToken({name:\"RECORDING_PHASE_TOKEN\",pattern:lexer_public_Lexer.NA});augmentTokenTypes([RFT]);var RECORDING_PHASE_TOKEN=createTokenInstance(RFT,\"This IToken indicates the Parser is in Recording Phase\\n\\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details\",-1,-1,-1,-1,-1,-1);Object.freeze(RECORDING_PHASE_TOKEN);var RECORDING_PHASE_CSTNODE={name:\"This CSTNode indicates the Parser is in Recording Phase\\n\\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details\",children:{}},gast_recorder_GastRecorder=function(){function GastRecorder(){}return GastRecorder.prototype.initGastRecorder=function(config){this.recordingProdStack=[],this.RECORDING_PHASE=!1},GastRecorder.prototype.enableRecording=function(){var _this=this;this.RECORDING_PHASE=!0,this.TRACE_INIT(\"Enable Recording\",(function(){for(var _loop_1=function(i){var idx=i>0?i:\"\";_this[\"CONSUME\"+idx]=function(arg1,arg2){return this.consumeInternalRecord(arg1,i,arg2)},_this[\"SUBRULE\"+idx]=function(arg1,arg2){return this.subruleInternalRecord(arg1,i,arg2)},_this[\"OPTION\"+idx]=function(arg1){return this.optionInternalRecord(arg1,i)},_this[\"OR\"+idx]=function(arg1){return this.orInternalRecord(arg1,i)},_this[\"MANY\"+idx]=function(arg1){this.manyInternalRecord(i,arg1)},_this[\"MANY_SEP\"+idx]=function(arg1){this.manySepFirstInternalRecord(i,arg1)},_this[\"AT_LEAST_ONE\"+idx]=function(arg1){this.atLeastOneInternalRecord(i,arg1)},_this[\"AT_LEAST_ONE_SEP\"+idx]=function(arg1){this.atLeastOneSepFirstInternalRecord(i,arg1)}},i=0;i<10;i++)_loop_1(i);_this.consume=function(idx,arg1,arg2){return this.consumeInternalRecord(arg1,idx,arg2)},_this.subrule=function(idx,arg1,arg2){return this.subruleInternalRecord(arg1,idx,arg2)},_this.option=function(idx,arg1){return this.optionInternalRecord(arg1,idx)},_this.or=function(idx,arg1){return this.orInternalRecord(arg1,idx)},_this.many=function(idx,arg1){this.manyInternalRecord(idx,arg1)},_this.atLeastOne=function(idx,arg1){this.atLeastOneInternalRecord(idx,arg1)},_this.ACTION=_this.ACTION_RECORD,_this.BACKTRACK=_this.BACKTRACK_RECORD,_this.LA=_this.LA_RECORD}))},GastRecorder.prototype.disableRecording=function(){var _this=this;this.RECORDING_PHASE=!1,this.TRACE_INIT(\"Deleting Recording methods\",(function(){for(var i=0;i<10;i++){var idx=i>0?i:\"\";delete _this[\"CONSUME\"+idx],delete _this[\"SUBRULE\"+idx],delete _this[\"OPTION\"+idx],delete _this[\"OR\"+idx],delete _this[\"MANY\"+idx],delete _this[\"MANY_SEP\"+idx],delete _this[\"AT_LEAST_ONE\"+idx],delete _this[\"AT_LEAST_ONE_SEP\"+idx]}delete _this.consume,delete _this.subrule,delete _this.option,delete _this.or,delete _this.many,delete _this.atLeastOne,delete _this.ACTION,delete _this.BACKTRACK,delete _this.LA}))},GastRecorder.prototype.ACTION_RECORD=function(impl){},GastRecorder.prototype.BACKTRACK_RECORD=function(grammarRule,args){return function(){return!0}},GastRecorder.prototype.LA_RECORD=function(howMuch){return END_OF_FILE},GastRecorder.prototype.topLevelRuleRecord=function(name,def){try{var newTopLevelRule=new gast_public_Rule({definition:[],name:name});return newTopLevelRule.name=name,this.recordingProdStack.push(newTopLevelRule),def.call(this),this.recordingProdStack.pop(),newTopLevelRule}catch(originalError){if(!0!==originalError.KNOWN_RECORDER_ERROR)try{originalError.message=originalError.message+'\\n\\t This error was thrown during the \"grammar recording phase\" For more info see:\\n\\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(mutabilityError){throw originalError}throw originalError}},GastRecorder.prototype.optionInternalRecord=function(actionORMethodDef,occurrence){return recordProd.call(this,gast_public_Option,actionORMethodDef,occurrence)},GastRecorder.prototype.atLeastOneInternalRecord=function(occurrence,actionORMethodDef){recordProd.call(this,gast_public_RepetitionMandatory,actionORMethodDef,occurrence)},GastRecorder.prototype.atLeastOneSepFirstInternalRecord=function(occurrence,options){recordProd.call(this,gast_public_RepetitionMandatoryWithSeparator,options,occurrence,!0)},GastRecorder.prototype.manyInternalRecord=function(occurrence,actionORMethodDef){recordProd.call(this,gast_public_Repetition,actionORMethodDef,occurrence)},GastRecorder.prototype.manySepFirstInternalRecord=function(occurrence,options){recordProd.call(this,gast_public_RepetitionWithSeparator,options,occurrence,!0)},GastRecorder.prototype.orInternalRecord=function(altsOrOpts,occurrence){return recordOrProd.call(this,altsOrOpts,occurrence)},GastRecorder.prototype.subruleInternalRecord=function(ruleToCall,occurrence,options){if(assertMethodIdxIsValid(occurrence),!ruleToCall||!1===Object(utils.w)(ruleToCall,\"ruleName\")){var error=new Error(\"<SUBRULE\"+getIdxSuffix(occurrence)+\"> argument is invalid expecting a Parser method reference but got: <\"+JSON.stringify(ruleToCall)+\">\\n inside top level rule: <\"+this.recordingProdStack[0].name+\">\");throw error.KNOWN_RECORDER_ERROR=!0,error}var prevProd=Object(utils.M)(this.recordingProdStack),newNoneTerminal=new gast_public_NonTerminal({idx:occurrence,nonTerminalName:ruleToCall.ruleName,referencedRule:void 0});return prevProd.definition.push(newNoneTerminal),this.outputCst?RECORDING_PHASE_CSTNODE:RECORDING_NULL_OBJECT},GastRecorder.prototype.consumeInternalRecord=function(tokType,occurrence,options){if(assertMethodIdxIsValid(occurrence),!hasShortKeyProperty(tokType)){var error=new Error(\"<CONSUME\"+getIdxSuffix(occurrence)+\"> argument is invalid expecting a TokenType reference but got: <\"+JSON.stringify(tokType)+\">\\n inside top level rule: <\"+this.recordingProdStack[0].name+\">\");throw error.KNOWN_RECORDER_ERROR=!0,error}var prevProd=Object(utils.M)(this.recordingProdStack),newNoneTerminal=new gast_public_Terminal({idx:occurrence,terminalType:tokType});return prevProd.definition.push(newNoneTerminal),RECORDING_PHASE_TOKEN},GastRecorder}();function recordProd(prodConstructor,mainProdArg,occurrence,handleSep){void 0===handleSep&&(handleSep=!1),assertMethodIdxIsValid(occurrence);var prevProd=Object(utils.M)(this.recordingProdStack),grammarAction=Object(utils.B)(mainProdArg)?mainProdArg:mainProdArg.DEF,newProd=new prodConstructor({definition:[],idx:occurrence});return Object(utils.w)(mainProdArg,\"NAME\")&&(newProd.name=mainProdArg.NAME),handleSep&&(newProd.separator=mainProdArg.SEP),Object(utils.w)(mainProdArg,\"MAX_LOOKAHEAD\")&&(newProd.maxLookahead=mainProdArg.MAX_LOOKAHEAD),this.recordingProdStack.push(newProd),grammarAction.call(this),prevProd.definition.push(newProd),this.recordingProdStack.pop(),RECORDING_NULL_OBJECT}function recordOrProd(mainProdArg,occurrence){var _this=this;assertMethodIdxIsValid(occurrence);var prevProd=Object(utils.M)(this.recordingProdStack),hasOptions=!1===Object(utils.y)(mainProdArg),alts=!1===hasOptions?mainProdArg:mainProdArg.DEF,newOrProd=new gast_public_Alternation({definition:[],idx:occurrence,ignoreAmbiguities:hasOptions&&!0===mainProdArg.IGNORE_AMBIGUITIES});Object(utils.w)(mainProdArg,\"NAME\")&&(newOrProd.name=mainProdArg.NAME),Object(utils.w)(mainProdArg,\"MAX_LOOKAHEAD\")&&(newOrProd.maxLookahead=mainProdArg.MAX_LOOKAHEAD);var hasPredicates=Object(utils.Q)(alts,(function(currAlt){return Object(utils.B)(currAlt.GATE)}));return newOrProd.hasPredicates=hasPredicates,prevProd.definition.push(newOrProd),Object(utils.u)(alts,(function(currAlt){var currAltFlat=new gast_public_Flat({definition:[]});newOrProd.definition.push(currAltFlat),Object(utils.w)(currAlt,\"NAME\")&&(currAltFlat.name=currAlt.NAME),Object(utils.w)(currAlt,\"IGNORE_AMBIGUITIES\")?currAltFlat.ignoreAmbiguities=currAlt.IGNORE_AMBIGUITIES:Object(utils.w)(currAlt,\"GATE\")&&(currAltFlat.ignoreAmbiguities=!0),_this.recordingProdStack.push(currAltFlat),currAlt.ALT.call(_this),_this.recordingProdStack.pop()})),RECORDING_NULL_OBJECT}function getIdxSuffix(idx){return 0===idx?\"\":\"\"+idx}function assertMethodIdxIsValid(idx){if(idx<0||idx>MAX_METHOD_IDX){var error=new Error(\"Invalid DSL Method idx value: <\"+idx+\">\\n\\tIdx value must be a none negative value smaller than \"+(MAX_METHOD_IDX+1));throw error.KNOWN_RECORDER_ERROR=!0,error}}var perf_tracer_PerformanceTracer=function(){function PerformanceTracer(){}return PerformanceTracer.prototype.initPerformanceTracer=function(config){if(Object(utils.w)(config,\"traceInitPerf\")){var userTraceInitPerf=config.traceInitPerf,traceIsNumber=\"number\"==typeof userTraceInitPerf;this.traceInitMaxIdent=traceIsNumber?userTraceInitPerf:1/0,this.traceInitPerf=traceIsNumber?userTraceInitPerf>0:userTraceInitPerf}else this.traceInitMaxIdent=0,this.traceInitPerf=DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},PerformanceTracer.prototype.TRACE_INIT=function(phaseDesc,phaseImpl){if(!0===this.traceInitPerf){this.traceInitIndent++;var indent=new Array(this.traceInitIndent+1).join(\"\\t\");this.traceInitIndent<this.traceInitMaxIdent&&console.log(indent+\"--\\x3e <\"+phaseDesc+\">\");var _a=Object(utils.R)(phaseImpl),time=_a.time,value=_a.value,traceMethod=time>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&traceMethod(indent+\"<-- <\"+phaseDesc+\"> time: \"+time+\"ms\"),this.traceInitIndent--,value}return phaseImpl()},PerformanceTracer}(),END_OF_FILE=createTokenInstance(EOF,\"\",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(END_OF_FILE);var DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:4,ignoredIssues:{},dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:defaultParserErrorProvider,nodeLocationTracking:\"none\",traceInitPerf:!1,skipValidations:!1}),DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),ParserDefinitionErrorType=function(ParserDefinitionErrorType){return ParserDefinitionErrorType[ParserDefinitionErrorType.INVALID_RULE_NAME=0]=\"INVALID_RULE_NAME\",ParserDefinitionErrorType[ParserDefinitionErrorType.DUPLICATE_RULE_NAME=1]=\"DUPLICATE_RULE_NAME\",ParserDefinitionErrorType[ParserDefinitionErrorType.INVALID_RULE_OVERRIDE=2]=\"INVALID_RULE_OVERRIDE\",ParserDefinitionErrorType[ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS=3]=\"DUPLICATE_PRODUCTIONS\",ParserDefinitionErrorType[ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF=4]=\"UNRESOLVED_SUBRULE_REF\",ParserDefinitionErrorType[ParserDefinitionErrorType.LEFT_RECURSION=5]=\"LEFT_RECURSION\",ParserDefinitionErrorType[ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT=6]=\"NONE_LAST_EMPTY_ALT\",ParserDefinitionErrorType[ParserDefinitionErrorType.AMBIGUOUS_ALTS=7]=\"AMBIGUOUS_ALTS\",ParserDefinitionErrorType[ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE=8]=\"CONFLICT_TOKENS_RULES_NAMESPACE\",ParserDefinitionErrorType[ParserDefinitionErrorType.INVALID_TOKEN_NAME=9]=\"INVALID_TOKEN_NAME\",ParserDefinitionErrorType[ParserDefinitionErrorType.INVALID_NESTED_RULE_NAME=10]=\"INVALID_NESTED_RULE_NAME\",ParserDefinitionErrorType[ParserDefinitionErrorType.DUPLICATE_NESTED_NAME=11]=\"DUPLICATE_NESTED_NAME\",ParserDefinitionErrorType[ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD=12]=\"NO_NON_EMPTY_LOOKAHEAD\",ParserDefinitionErrorType[ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS=13]=\"AMBIGUOUS_PREFIX_ALTS\",ParserDefinitionErrorType[ParserDefinitionErrorType.TOO_MANY_ALTS=14]=\"TOO_MANY_ALTS\",ParserDefinitionErrorType}({});function EMPTY_ALT(value){return void 0===value&&(value=void 0),function(){return value}}var parser_Parser=function(){function Parser(tokenVocabulary,config){void 0===config&&(config=DEFAULT_PARSER_CONFIG),this.ignoredIssues=DEFAULT_PARSER_CONFIG.ignoredIssues,this.definitionErrors=[],this.selfAnalysisDone=!1,this.initErrorHandler(config),this.initLexerAdapter(),this.initLooksAhead(config),this.initRecognizerEngine(tokenVocabulary,config),this.initRecoverable(config),this.initTreeBuilder(config),this.initContentAssist(),this.initGastRecorder(config),this.initPerformanceTracer(config),Object(utils.w)(config,\"ignoredIssues\")&&config.ignoredIssues!==DEFAULT_PARSER_CONFIG.ignoredIssues&&Object(utils.d)(\"The <ignoredIssues> IParserConfig property is soft-deprecated and will be removed in future versions.\\n\\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\"),this.ignoredIssues=Object(utils.w)(config,\"ignoredIssues\")?config.ignoredIssues:DEFAULT_PARSER_CONFIG.ignoredIssues,this.skipValidations=Object(utils.w)(config,\"skipValidations\")?config.skipValidations:DEFAULT_PARSER_CONFIG.skipValidations}return Parser.performSelfAnalysis=function(parserInstance){parserInstance.performSelfAnalysis()},Parser.prototype.performSelfAnalysis=function(){var _this=this;this.TRACE_INIT(\"performSelfAnalysis\",(function(){var defErrorsMsgs;_this.selfAnalysisDone=!0;var className=_this.className;_this.TRACE_INIT(\"toFastProps\",(function(){Object(utils.S)(_this)})),_this.TRACE_INIT(\"Grammar Recording\",(function(){try{_this.enableRecording(),Object(utils.u)(_this.definedRulesNames,(function(currRuleName){var originalGrammarAction=_this[currRuleName].originalGrammarAction,recordedRuleGast=void 0;_this.TRACE_INIT(currRuleName+\" Rule\",(function(){recordedRuleGast=_this.topLevelRuleRecord(currRuleName,originalGrammarAction)})),_this.gastProductionsCache[currRuleName]=recordedRuleGast}))}finally{_this.disableRecording()}}));var resolverErrors=[];if(_this.TRACE_INIT(\"Grammar Resolving\",(function(){resolverErrors=gast_resolver_public_resolveGrammar({rules:Object(utils.U)(_this.gastProductionsCache)}),_this.definitionErrors.push.apply(_this.definitionErrors,resolverErrors)})),_this.TRACE_INIT(\"Grammar Validations\",(function(){if(Object(utils.A)(resolverErrors)&&!1===_this.skipValidations){var validationErrors=gast_resolver_public_validateGrammar({rules:Object(utils.U)(_this.gastProductionsCache),maxLookahead:_this.maxLookahead,tokenTypes:Object(utils.U)(_this.tokensMap),ignoredIssues:_this.ignoredIssues,errMsgProvider:defaultGrammarValidatorErrorProvider,grammarName:className});_this.definitionErrors.push.apply(_this.definitionErrors,validationErrors)}})),Object(utils.A)(_this.definitionErrors)&&(_this.recoveryEnabled&&_this.TRACE_INIT(\"computeAllProdsFollows\",(function(){var topProductions,reSyncFollows,allFollows=(topProductions=Object(utils.U)(_this.gastProductionsCache),reSyncFollows={},Object(utils.u)(topProductions,(function(topProd){var currRefsFollow=new follow_ResyncFollowsWalker(topProd).startWalking();Object(utils.f)(reSyncFollows,currRefsFollow)})),reSyncFollows);_this.resyncFollows=allFollows})),_this.TRACE_INIT(\"ComputeLookaheadFunctions\",(function(){_this.preComputeLookaheadFunctions(Object(utils.U)(_this.gastProductionsCache))}))),_this.TRACE_INIT(\"expandAllNestedRuleNames\",(function(){var topRules,fullToShortName,result,cstAnalysisResult=(topRules=Object(utils.U)(_this.gastProductionsCache),fullToShortName=_this.fullRuleNameToShort,result={allRuleNames:[]},Object(utils.u)(topRules,(function(currTopRule){var currTopRuleShortName=fullToShortName[currTopRule.name];result.allRuleNames.push(currTopRule.name);var namedCollectorVisitor=new cst_NamedDSLMethodsCollectorVisitor(currTopRuleShortName);currTopRule.accept(namedCollectorVisitor),Object(utils.u)(namedCollectorVisitor.result,(function(_a){result.allRuleNames.push(currTopRule.name+_a.name)}))})),result);_this.allRuleNames=cstAnalysisResult.allRuleNames})),!Parser.DEFER_DEFINITION_ERRORS_HANDLING&&!Object(utils.A)(_this.definitionErrors))throw defErrorsMsgs=Object(utils.I)(_this.definitionErrors,(function(defError){return defError.message})),new Error(\"Parser Definition Errors detected:\\n \"+defErrorsMsgs.join(\"\\n-------------------------------\\n\"))}))},Parser.DEFER_DEFINITION_ERRORS_HANDLING=!1,Parser}();Object(utils.e)(parser_Parser,[recoverable_Recoverable,looksahead_LooksAhead,tree_builder_TreeBuilder,lexer_adapter_LexerAdapter,recognizer_engine_RecognizerEngine,recognizer_api_RecognizerApi,error_handler_ErrorHandler,context_assist_ContentAssist,gast_recorder_GastRecorder,perf_tracer_PerformanceTracer]);var parser_CstParser=function(_super){function CstParser(tokenVocabulary,config){void 0===config&&(config=DEFAULT_PARSER_CONFIG);var configClone=Object(utils.h)(config);return configClone.outputCst=!0,_super.call(this,tokenVocabulary,configClone)||this}return Object(tslib_es6.a)(CstParser,_super),CstParser}(parser_Parser),parser_EmbeddedActionsParser=function(_super){function EmbeddedActionsParser(tokenVocabulary,config){void 0===config&&(config=DEFAULT_PARSER_CONFIG);var configClone=Object(utils.h)(config);return configClone.outputCst=!1,_super.call(this,tokenVocabulary,configClone)||this}return Object(tslib_es6.a)(EmbeddedActionsParser,_super),EmbeddedActionsParser}(parser_Parser);function createSyntaxDiagramsCode(grammar,_a){var _b=void 0===_a?{}:_a,_c=_b.resourceBase,resourceBase=void 0===_c?\"https://unpkg.com/chevrotain@\"+VERSION+\"/diagrams/\":_c,_d=_b.css;return\"\\n\\x3c!-- This is a generated file --\\x3e\\n<!DOCTYPE html>\\n<meta charset=\\\"utf-8\\\">\\n<style>\\n  body {\\n    background-color: hsl(30, 20%, 95%)\\n  }\\n</style>\\n\\n\\n<link rel='stylesheet' href='\"+(void 0===_d?\"https://unpkg.com/chevrotain@\"+VERSION+\"/diagrams/diagrams.css\":_d)+\"'>\\n\\n<script src='\"+resourceBase+\"vendor/railroad-diagrams.js'><\\/script>\\n<script src='\"+resourceBase+\"src/diagrams_builder.js'><\\/script>\\n<script src='\"+resourceBase+\"src/diagrams_behavior.js'><\\/script>\\n<script src='\"+resourceBase+'src/main.js\\'><\\/script>\\n\\n<div id=\"diagrams\" align=\"center\"></div>    \\n\\n<script>\\n    window.serializedGrammar = '+JSON.stringify(grammar,null,\"  \")+';\\n<\\/script>\\n\\n<script>\\n    var diagramsDiv = document.getElementById(\"diagrams\");\\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\\n<\\/script>\\n'}var NL=\"\\n\";function genClass(options){var rules;return\"\\nfunction \"+options.name+\"(tokenVocabulary, config) {\\n    // invoke super constructor\\n    // No support for embedded actions currently, so we can 'hardcode'\\n    // The use of CstParser.\\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\\n\\n    const $ = this\\n\\n    \"+(rules=options.rules,Object(utils.I)(rules,(function(currRule){return result=generate_indent(1,'$.RULE(\"'+(prod=currRule).name+'\", function() {')+NL,(result+=genDefinition(prod.definition,2))+(generate_indent(2,\"})\")+NL);var prod,result})).join(\"\\n\"))+\"\\n\\n    // very important to call this after all the rules have been defined.\\n    // otherwise the parser may not work correctly as it will lack information\\n    // derived during the self analysis phase.\\n    this.performSelfAnalysis(this)\\n}\\n\\n// inheritance as implemented in javascript in the previous decade... :(\\n\"+options.name+\".prototype = Object.create(chevrotain.CstParser.prototype)\\n\"+options.name+\".prototype.constructor = \"+options.name+\"    \\n    \"}function genDSLRule(dslName,prod,n){var result=generate_indent(n,\"$.\"+(dslName+prod.idx)+\"(\");return prod.name||prod.separator?(result+=\"{\"+NL,prod.name&&(result+=generate_indent(n+1,'NAME: \"'+prod.name+'\"')+\",\"+NL),prod.separator&&(result+=generate_indent(n+1,\"SEP: this.tokensMap.\"+prod.separator.name)+\",\"+NL),result+=\"DEF: \"+genDefFunction(prod.definition,n+2)+NL,result+=generate_indent(n,\"}\")+NL):result+=genDefFunction(prod.definition,n+1),result+(generate_indent(n,\")\")+NL)}function genDefFunction(definition,n){var def=\"function() {\"+NL;return(def+=genDefinition(definition,n))+(generate_indent(n,\"}\")+NL)}function genDefinition(def,n){var result=\"\";return Object(utils.u)(def,(function(prod){result+=function(prod,n){if(prod instanceof gast_public_NonTerminal)return function(prod,n){return generate_indent(n,\"$.SUBRULE\"+prod.idx+\"($.\"+prod.nonTerminalName+\")\"+NL)}(prod,n);if(prod instanceof gast_public_Option)return genDSLRule(\"OPTION\",prod,n);if(prod instanceof gast_public_RepetitionMandatory)return genDSLRule(\"AT_LEAST_ONE\",prod,n);if(prod instanceof gast_public_RepetitionMandatoryWithSeparator)return genDSLRule(\"AT_LEAST_ONE_SEP\",prod,n);if(prod instanceof gast_public_RepetitionWithSeparator)return genDSLRule(\"MANY_SEP\",prod,n);if(prod instanceof gast_public_Repetition)return genDSLRule(\"MANY\",prod,n);if(prod instanceof gast_public_Alternation)return function(prod,n){var result=generate_indent(n,\"$.OR\"+prod.idx+\"([\")+NL,alts=Object(utils.I)(prod.definition,(function(altDef){return function(prod,n){var result=generate_indent(n,\"{\")+NL;return prod.name&&(result+=generate_indent(n+1,'NAME: \"'+prod.name+'\",')+NL),result+=generate_indent(n+1,\"ALT: function() {\")+NL,result+=genDefinition(prod.definition,n+1),(result+=generate_indent(n+1,\"}\")+NL)+generate_indent(n,\"}\")}(altDef,n+1)}));return(result+=alts.join(\",\"+NL))+(NL+generate_indent(n,\"])\"+NL))}(prod,n);if(prod instanceof gast_public_Terminal)return function(prod,n){return generate_indent(n,\"$.CONSUME\"+prod.idx+\"(this.tokensMap.\"+prod.terminalType.name+\")\"+NL)}(prod,n);if(prod instanceof gast_public_Flat)return genDefinition(prod.definition,n);throw Error(\"non exhaustive match\")}(prod,n+1)})),result}function generate_indent(howMuch,text){return Array(4*howMuch+1).join(\" \")+text}function generateParserFactory(options){var wrapperText=function(options){return\"    \\n\"+genClass(options)+\"\\nreturn new \"+options.name+\"(tokenVocabulary, config)    \\n\"}({name:options.name,rules:options.rules}),constructorWrapper=new Function(\"tokenVocabulary\",\"config\",\"chevrotain\",wrapperText);return function(config){return constructorWrapper(options.tokenVocabulary,config,__webpack_require__(\"+oOE\"))}}function generateParserModule(options){return function(options){return\"\\n(function (root, factory) {\\n    if (typeof define === 'function' && define.amd) {\\n        // AMD. Register as an anonymous module.\\n        define(['chevrotain'], factory);\\n    } else if (typeof module === 'object' && module.exports) {\\n        // Node. Does not work with strict CommonJS, but\\n        // only CommonJS-like environments that support module.exports,\\n        // like Node.\\n        module.exports = factory(require('chevrotain'));\\n    } else {\\n        // Browser globals (root is window)\\n        root.returnExports = factory(root.b);\\n    }\\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\\n\\n\"+genClass(options)+\"\\n    \\nreturn {\\n    \"+options.name+\": \"+options.name+\" \\n}\\n}));\\n\"}({name:options.name,rules:options.rules})}function clearCache(){console.warn(\"The clearCache function was 'soft' removed from the Chevrotain API.\\n\\t It performs no action other than printing this message.\\n\\t Please avoid using it as it will be completely removed in the future\")}__webpack_require__.d(__webpack_exports__,\"clearCache\",(function(){return clearCache})),__webpack_require__.d(__webpack_exports__,\"VERSION\",(function(){return VERSION})),__webpack_require__.d(__webpack_exports__,\"Parser\",(function(){return parser_Parser})),__webpack_require__.d(__webpack_exports__,\"CstParser\",(function(){return parser_CstParser})),__webpack_require__.d(__webpack_exports__,\"EmbeddedActionsParser\",(function(){return parser_EmbeddedActionsParser})),__webpack_require__.d(__webpack_exports__,\"ParserDefinitionErrorType\",(function(){return ParserDefinitionErrorType})),__webpack_require__.d(__webpack_exports__,\"EMPTY_ALT\",(function(){return EMPTY_ALT})),__webpack_require__.d(__webpack_exports__,\"Lexer\",(function(){return lexer_public_Lexer})),__webpack_require__.d(__webpack_exports__,\"LexerDefinitionErrorType\",(function(){return LexerDefinitionErrorType})),__webpack_require__.d(__webpack_exports__,\"createToken\",(function(){return createToken})),__webpack_require__.d(__webpack_exports__,\"createTokenInstance\",(function(){return createTokenInstance})),__webpack_require__.d(__webpack_exports__,\"EOF\",(function(){return EOF})),__webpack_require__.d(__webpack_exports__,\"tokenLabel\",(function(){return tokenLabel})),__webpack_require__.d(__webpack_exports__,\"tokenMatcher\",(function(){return tokens_public_tokenMatcher})),__webpack_require__.d(__webpack_exports__,\"tokenName\",(function(){return tokenName})),__webpack_require__.d(__webpack_exports__,\"defaultGrammarResolverErrorProvider\",(function(){return defaultGrammarResolverErrorProvider})),__webpack_require__.d(__webpack_exports__,\"defaultGrammarValidatorErrorProvider\",(function(){return defaultGrammarValidatorErrorProvider})),__webpack_require__.d(__webpack_exports__,\"defaultParserErrorProvider\",(function(){return defaultParserErrorProvider})),__webpack_require__.d(__webpack_exports__,\"EarlyExitException\",(function(){return EarlyExitException})),__webpack_require__.d(__webpack_exports__,\"isRecognitionException\",(function(){return isRecognitionException})),__webpack_require__.d(__webpack_exports__,\"MismatchedTokenException\",(function(){return MismatchedTokenException})),__webpack_require__.d(__webpack_exports__,\"NotAllInputParsedException\",(function(){return NotAllInputParsedException})),__webpack_require__.d(__webpack_exports__,\"NoViableAltException\",(function(){return NoViableAltException})),__webpack_require__.d(__webpack_exports__,\"defaultLexerErrorProvider\",(function(){return defaultLexerErrorProvider})),__webpack_require__.d(__webpack_exports__,\"Alternation\",(function(){return gast_public_Alternation})),__webpack_require__.d(__webpack_exports__,\"Flat\",(function(){return gast_public_Flat})),__webpack_require__.d(__webpack_exports__,\"NonTerminal\",(function(){return gast_public_NonTerminal})),__webpack_require__.d(__webpack_exports__,\"Option\",(function(){return gast_public_Option})),__webpack_require__.d(__webpack_exports__,\"Repetition\",(function(){return gast_public_Repetition})),__webpack_require__.d(__webpack_exports__,\"RepetitionMandatory\",(function(){return gast_public_RepetitionMandatory})),__webpack_require__.d(__webpack_exports__,\"RepetitionMandatoryWithSeparator\",(function(){return gast_public_RepetitionMandatoryWithSeparator})),__webpack_require__.d(__webpack_exports__,\"RepetitionWithSeparator\",(function(){return gast_public_RepetitionWithSeparator})),__webpack_require__.d(__webpack_exports__,\"Rule\",(function(){return gast_public_Rule})),__webpack_require__.d(__webpack_exports__,\"Terminal\",(function(){return gast_public_Terminal})),__webpack_require__.d(__webpack_exports__,\"serializeGrammar\",(function(){return serializeGrammar})),__webpack_require__.d(__webpack_exports__,\"serializeProduction\",(function(){return serializeProduction})),__webpack_require__.d(__webpack_exports__,\"GAstVisitor\",(function(){return gast_visitor_public_GAstVisitor})),__webpack_require__.d(__webpack_exports__,\"assignOccurrenceIndices\",(function(){return assignOccurrenceIndices})),__webpack_require__.d(__webpack_exports__,\"resolveGrammar\",(function(){return gast_resolver_public_resolveGrammar})),__webpack_require__.d(__webpack_exports__,\"validateGrammar\",(function(){return gast_resolver_public_validateGrammar})),__webpack_require__.d(__webpack_exports__,\"createSyntaxDiagramsCode\",(function(){return createSyntaxDiagramsCode})),__webpack_require__.d(__webpack_exports__,\"generateParserFactory\",(function(){return generateParserFactory})),__webpack_require__.d(__webpack_exports__,\"generateParserModule\",(function(){return generateParserModule}))},\"/9rB\":function(module,exports,__webpack_require__){!function(CodeMirror){\"use strict\";function hookIdentifier(stream){for(var ch;null!=(ch=stream.next());)if(\"`\"==ch&&!stream.eat(\"`\"))return\"variable-2\";return stream.backUp(stream.current().length-1),stream.eatWhile(/\\w/)?\"variable-2\":null}function hookVar(stream){return stream.eat(\"@\")&&(stream.match(/^session\\./),stream.match(/^local\\./),stream.match(/^global\\./)),stream.eat(\"'\")?(stream.match(/^.*'/),\"variable-2\"):stream.eat('\"')?(stream.match(/^.*\"/),\"variable-2\"):stream.eat(\"`\")?(stream.match(/^.*`/),\"variable-2\"):stream.match(/^[0-9a-zA-Z$\\.\\_]+/)?\"variable-2\":null}function hookClient(stream){return stream.eat(\"N\")?\"atom\":stream.match(/^[a-zA-Z.#!?]/)?\"variable-2\":null}CodeMirror.defineMode(\"sql\",(function(config,parserConfig){var client=parserConfig.client||{},atoms=parserConfig.atoms||{false:!0,true:!0,null:!0},builtin=parserConfig.builtin||set(defaultBuiltin),keywords=parserConfig.keywords||set(sqlKeywords),operatorChars=parserConfig.operatorChars||/^[*+\\-%<>!=&|~^\\/]/,support=parserConfig.support||{},hooks=parserConfig.hooks||{},dateSQL=parserConfig.dateSQL||{date:!0,time:!0,timestamp:!0},backslashStringEscapes=!1!==parserConfig.backslashStringEscapes,brackets=parserConfig.brackets||/^[\\{}\\(\\)\\[\\]]/,punctuation=parserConfig.punctuation||/^[;.,:]/;function tokenBase(stream,state){var quote,ch=stream.next();if(hooks[ch]){var result=hooks[ch](stream,state);if(!1!==result)return result}if(support.hexNumber&&(\"0\"==ch&&stream.match(/^[xX][0-9a-fA-F]+/)||(\"x\"==ch||\"X\"==ch)&&stream.match(/^'[0-9a-fA-F]+'/)))return\"number\";if(support.binaryNumber&&((\"b\"==ch||\"B\"==ch)&&stream.match(/^'[01]+'/)||\"0\"==ch&&stream.match(/^b[01]+/)))return\"number\";if(ch.charCodeAt(0)>47&&ch.charCodeAt(0)<58)return stream.match(/^[0-9]*(\\.[0-9]+)?([eE][-+]?[0-9]+)?/),support.decimallessFloat&&stream.match(/^\\.(?!\\.)/),\"number\";if(\"?\"==ch&&(stream.eatSpace()||stream.eol()||stream.eat(\";\")))return\"variable-3\";if(\"'\"==ch||'\"'==ch&&support.doubleQuote)return state.tokenize=(quote=ch,function(stream,state){for(var ch,escaped=!1;null!=(ch=stream.next());){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=backslashStringEscapes&&!escaped&&\"\\\\\"==ch}return\"string\"}),state.tokenize(stream,state);if((support.nCharCast&&(\"n\"==ch||\"N\"==ch)||support.charsetCast&&\"_\"==ch&&stream.match(/[a-z][a-z0-9]*/i))&&(\"'\"==stream.peek()||'\"'==stream.peek()))return\"keyword\";if(support.commentSlashSlash&&\"/\"==ch&&stream.eat(\"/\"))return stream.skipToEnd(),\"comment\";if(support.commentHash&&\"#\"==ch||\"-\"==ch&&stream.eat(\"-\")&&(!support.commentSpaceRequired||stream.eat(\" \")))return stream.skipToEnd(),\"comment\";if(\"/\"==ch&&stream.eat(\"*\"))return state.tokenize=function tokenComment(depth){return function(stream,state){var m=stream.match(/^.*?(\\/\\*|\\*\\/)/);return m?state.tokenize=\"/*\"==m[1]?tokenComment(depth+1):depth>1?tokenComment(depth-1):tokenBase:stream.skipToEnd(),\"comment\"}}(1),state.tokenize(stream,state);if(\".\"!=ch){if(operatorChars.test(ch))return stream.eatWhile(operatorChars),\"operator\";if(brackets.test(ch))return\"bracket\";if(punctuation.test(ch))return stream.eatWhile(punctuation),\"punctuation\";if(\"{\"==ch&&(stream.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||stream.match(/^( )*(d|D|t|T|ts|TS)( )*\"[^\"]*\"( )*}/)))return\"number\";stream.eatWhile(/^[_\\w\\d]/);var word=stream.current().toLowerCase();return dateSQL.hasOwnProperty(word)&&(stream.match(/^( )+'[^']*'/)||stream.match(/^( )+\"[^\"]*\"/))?\"number\":atoms.hasOwnProperty(word)?\"atom\":builtin.hasOwnProperty(word)?\"builtin\":keywords.hasOwnProperty(word)?\"keyword\":client.hasOwnProperty(word)?\"string-2\":null}return support.zerolessFloat&&stream.match(/^(?:\\d+(?:e[+-]?\\d+)?)/i)?\"number\":stream.match(/^\\.+/)?null:support.ODBCdotTable&&stream.match(/^[\\w\\d_]+/)?\"variable-2\":void 0}function pushContext(stream,state,type){state.context={prev:state.context,indent:stream.indentation(),col:stream.column(),type:type}}return{startState:function(){return{tokenize:tokenBase,context:null}},token:function(stream,state){if(stream.sol()&&state.context&&null==state.context.align&&(state.context.align=!1),state.tokenize==tokenBase&&stream.eatSpace())return null;var style=state.tokenize(stream,state);if(\"comment\"==style)return style;state.context&&null==state.context.align&&(state.context.align=!0);var tok=stream.current();return\"(\"==tok?pushContext(stream,state,\")\"):\"[\"==tok?pushContext(stream,state,\"]\"):state.context&&state.context.type==tok&&function(state){state.indent=state.context.indent,state.context=state.context.prev}(state),style},indent:function(state,textAfter){var cx=state.context;if(!cx)return CodeMirror.Pass;var closing=textAfter.charAt(0)==cx.type;return cx.align?cx.col+(closing?0:1):cx.indent+(closing?0:config.indentUnit)},blockCommentStart:\"/*\",blockCommentEnd:\"*/\",lineComment:support.commentSlashSlash?\"//\":support.commentHash?\"#\":\"--\",closeBrackets:\"()[]{}''\\\"\\\"``\"}}));var sqlKeywords=\"alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit \";function set(str){for(var obj={},words=str.split(\" \"),i=0;i<words.length;++i)obj[words[i]]=!0;return obj}var defaultBuiltin=\"bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric\";CodeMirror.defineMIME(\"text/x-sql\",{name:\"sql\",keywords:set(sqlKeywords+\"begin\"),builtin:set(defaultBuiltin),atoms:set(\"false true null unknown\"),dateSQL:set(\"date time timestamp\"),support:set(\"ODBCdotTable doubleQuote binaryNumber hexNumber\")}),CodeMirror.defineMIME(\"text/x-mssql\",{name:\"sql\",client:set(\"$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id\"),keywords:set(sqlKeywords+\"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with\"),builtin:set(\"bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table \"),atoms:set(\"is not null like and or in left right between inner outer join all any some cross unpivot pivot exists\"),operatorChars:/^[*+\\-%<>!=^\\&|\\/]/,brackets:/^[\\{}\\(\\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:set(\"date datetimeoffset datetime2 smalldatetime datetime time\"),hooks:{\"@\":hookVar}}),CodeMirror.defineMIME(\"text/x-mysql\",{name:\"sql\",client:set(\"charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee\"),keywords:set(sqlKeywords+\"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat\"),builtin:set(\"bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric\"),atoms:set(\"false true null unknown\"),operatorChars:/^[*+\\-%<>!=&|^]/,dateSQL:set(\"date time timestamp\"),support:set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired\"),hooks:{\"@\":hookVar,\"`\":hookIdentifier,\"\\\\\":hookClient}}),CodeMirror.defineMIME(\"text/x-mariadb\",{name:\"sql\",client:set(\"charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee\"),keywords:set(sqlKeywords+\"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat\"),builtin:set(\"bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric\"),atoms:set(\"false true null unknown\"),operatorChars:/^[*+\\-%<>!=&|^]/,dateSQL:set(\"date time timestamp\"),support:set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired\"),hooks:{\"@\":hookVar,\"`\":hookIdentifier,\"\\\\\":hookClient}}),CodeMirror.defineMIME(\"text/x-sqlite\",{name:\"sql\",client:set(\"auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width\"),keywords:set(sqlKeywords+\"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without\"),builtin:set(\"bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real\"),atoms:set(\"null current_date current_time current_timestamp\"),operatorChars:/^[*+\\-%<>!=&|/~]/,dateSQL:set(\"date time timestamp datetime\"),support:set(\"decimallessFloat zerolessFloat\"),identifierQuote:'\"',hooks:{\"@\":hookVar,\":\":hookVar,\"?\":hookVar,$:hookVar,'\"':function(stream){for(var ch;null!=(ch=stream.next());)if('\"'==ch&&!stream.eat('\"'))return\"variable-2\";return stream.backUp(stream.current().length-1),stream.eatWhile(/\\w/)?\"variable-2\":null},\"`\":hookIdentifier}}),CodeMirror.defineMIME(\"text/x-cassandra\",{name:\"sql\",client:{},keywords:set(\"add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime\"),builtin:set(\"ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint\"),atoms:set(\"false true infinity NaN\"),operatorChars:/^[<>=]/,dateSQL:{},support:set(\"commentSlashSlash decimallessFloat\"),hooks:{}}),CodeMirror.defineMIME(\"text/x-plsql\",{name:\"sql\",client:set(\"appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap\"),keywords:set(\"abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work\"),builtin:set(\"abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml\"),operatorChars:/^[*\\/+\\-%<>!=~]/,dateSQL:set(\"date time timestamp\"),support:set(\"doubleQuote nCharCast zerolessFloat binaryNumber hexNumber\")}),CodeMirror.defineMIME(\"text/x-hive\",{name:\"sql\",keywords:set(\"select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year\"),builtin:set(\"bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar\"),atoms:set(\"false true null unknown\"),operatorChars:/^[*+\\-%<>!=]/,dateSQL:set(\"date timestamp\"),support:set(\"ODBCdotTable doubleQuote binaryNumber hexNumber\")}),CodeMirror.defineMIME(\"text/x-pgsql\",{name:\"sql\",client:set(\"source\"),keywords:set(sqlKeywords+\"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone\"),builtin:set(\"bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml\"),atoms:set(\"false true null unknown\"),operatorChars:/^[*\\/+\\-%<>!=&|^\\/#@?~]/,dateSQL:set(\"date time timestamp\"),support:set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast\")}),CodeMirror.defineMIME(\"text/x-gql\",{name:\"sql\",keywords:set(\"ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where\"),atoms:set(\"false true\"),builtin:set(\"blob datetime first key __key__ string integer double boolean null\"),operatorChars:/^[*+\\-%<>!=]/}),CodeMirror.defineMIME(\"text/x-gpsql\",{name:\"sql\",client:set(\"source\"),keywords:set(\"abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone\"),builtin:set(\"bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml\"),atoms:set(\"false true null unknown\"),operatorChars:/^[*+\\-%<>!=&|^\\/#@?~]/,dateSQL:set(\"date time timestamp\"),support:set(\"ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast\")}),CodeMirror.defineMIME(\"text/x-sparksql\",{name:\"sql\",keywords:set(\"add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases datata dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with\"),builtin:set(\"tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat\"),atoms:set(\"false true null\"),operatorChars:/^[*\\/+\\-%<>!=~&|^]/,dateSQL:set(\"date time timestamp\"),support:set(\"ODBCdotTable doubleQuote zerolessFloat\")}),CodeMirror.defineMIME(\"text/x-esper\",{name:\"sql\",client:set(\"source\"),keywords:set(\"alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window\"),builtin:{},atoms:set(\"false true null\"),operatorChars:/^[*+\\-%<>!=&|^\\/#@?~]/,dateSQL:set(\"time\"),support:set(\"decimallessFloat zerolessFloat binaryNumber hexNumber\")})}(__webpack_require__(\"VrN/\"))},0:function(module,exports,__webpack_require__){module.exports=__webpack_require__(\"zUnb\")},\"1eCo\":function(module,exports,__webpack_require__){!function(CodeMirror){\"use strict\";var htmlConfig={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},xmlConfig={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};CodeMirror.defineMode(\"xml\",(function(editorConf,config_){var type,setStyle,indentUnit=editorConf.indentUnit,config={},defaults=config_.htmlMode?htmlConfig:xmlConfig;for(var prop in defaults)config[prop]=defaults[prop];for(var prop in config_)config[prop]=config_[prop];function inText(stream,state){function chain(parser){return state.tokenize=parser,parser(stream,state)}var ch=stream.next();return\"<\"==ch?stream.eat(\"!\")?stream.eat(\"[\")?stream.match(\"CDATA[\")?chain(inBlock(\"atom\",\"]]>\")):null:stream.match(\"--\")?chain(inBlock(\"comment\",\"--\\x3e\")):stream.match(\"DOCTYPE\",!0,!0)?(stream.eatWhile(/[\\w\\._\\-]/),chain(function doctype(depth){return function(stream,state){for(var ch;null!=(ch=stream.next());){if(\"<\"==ch)return state.tokenize=doctype(depth+1),state.tokenize(stream,state);if(\">\"==ch){if(1==depth){state.tokenize=inText;break}return state.tokenize=doctype(depth-1),state.tokenize(stream,state)}}return\"meta\"}}(1))):null:stream.eat(\"?\")?(stream.eatWhile(/[\\w\\._\\-]/),state.tokenize=inBlock(\"meta\",\"?>\"),\"meta\"):(type=stream.eat(\"/\")?\"closeTag\":\"openTag\",state.tokenize=inTag,\"tag bracket\"):\"&\"==ch?(stream.eat(\"#\")?stream.eat(\"x\")?stream.eatWhile(/[a-fA-F\\d]/)&&stream.eat(\";\"):stream.eatWhile(/[\\d]/)&&stream.eat(\";\"):stream.eatWhile(/[\\w\\.\\-:]/)&&stream.eat(\";\"))?\"atom\":\"error\":(stream.eatWhile(/[^&<]/),null)}function inTag(stream,state){var quote,closure,ch=stream.next();if(\">\"==ch||\"/\"==ch&&stream.eat(\">\"))return state.tokenize=inText,type=\">\"==ch?\"endTag\":\"selfcloseTag\",\"tag bracket\";if(\"=\"==ch)return type=\"equals\",null;if(\"<\"==ch){state.tokenize=inText,state.state=baseState,state.tagName=state.tagStart=null;var next=state.tokenize(stream,state);return next?next+\" tag error\":\"tag error\"}return/[\\'\\\"]/.test(ch)?(state.tokenize=(quote=ch,(closure=function(stream,state){for(;!stream.eol();)if(stream.next()==quote){state.tokenize=inTag;break}return\"string\"}).isInAttribute=!0,closure),state.stringStartCol=stream.column(),state.tokenize(stream,state)):(stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/),\"word\")}function inBlock(style,terminator){return function(stream,state){for(;!stream.eol();){if(stream.match(terminator)){state.tokenize=inText;break}stream.next()}return style}}function Context(state,tagName,startOfLine){this.prev=state.context,this.tagName=tagName,this.indent=state.indented,this.startOfLine=startOfLine,(config.doNotIndent.hasOwnProperty(tagName)||state.context&&state.context.noIndent)&&(this.noIndent=!0)}function popContext(state){state.context&&(state.context=state.context.prev)}function maybePopContext(state,nextTagName){for(var parentTagName;;){if(!state.context)return;if(!config.contextGrabbers.hasOwnProperty(parentTagName=state.context.tagName)||!config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName))return;popContext(state)}}function baseState(type,stream,state){return\"openTag\"==type?(state.tagStart=stream.column(),tagNameState):\"closeTag\"==type?closeTagNameState:baseState}function tagNameState(type,stream,state){return\"word\"==type?(state.tagName=stream.current(),setStyle=\"tag\",attrState):config.allowMissingTagName&&\"endTag\"==type?(setStyle=\"tag bracket\",attrState(type,0,state)):(setStyle=\"error\",tagNameState)}function closeTagNameState(type,stream,state){if(\"word\"==type){var tagName=stream.current();return state.context&&state.context.tagName!=tagName&&config.implicitlyClosed.hasOwnProperty(state.context.tagName)&&popContext(state),state.context&&state.context.tagName==tagName||!1===config.matchClosing?(setStyle=\"tag\",closeState):(setStyle=\"tag error\",closeStateErr)}return config.allowMissingTagName&&\"endTag\"==type?(setStyle=\"tag bracket\",closeState(type,0,state)):(setStyle=\"error\",closeStateErr)}function closeState(type,_stream,state){return\"endTag\"!=type?(setStyle=\"error\",closeState):(popContext(state),baseState)}function closeStateErr(type,stream,state){return setStyle=\"error\",closeState(type,0,state)}function attrState(type,_stream,state){if(\"word\"==type)return setStyle=\"attribute\",attrEqState;if(\"endTag\"==type||\"selfcloseTag\"==type){var tagName=state.tagName,tagStart=state.tagStart;return state.tagName=state.tagStart=null,\"selfcloseTag\"==type||config.autoSelfClosers.hasOwnProperty(tagName)?maybePopContext(state,tagName):(maybePopContext(state,tagName),state.context=new Context(state,tagName,tagStart==state.indented)),baseState}return setStyle=\"error\",attrState}function attrEqState(type,stream,state){return\"equals\"==type?attrValueState:(config.allowMissing||(setStyle=\"error\"),attrState(type,0,state))}function attrValueState(type,stream,state){return\"string\"==type?attrContinuedState:\"word\"==type&&config.allowUnquoted?(setStyle=\"string\",attrState):(setStyle=\"error\",attrState(type,0,state))}function attrContinuedState(type,stream,state){return\"string\"==type?attrContinuedState:attrState(type,0,state)}return inText.isInText=!0,{startState:function(baseIndent){var state={tokenize:inText,state:baseState,indented:baseIndent||0,tagName:null,tagStart:null,context:null};return null!=baseIndent&&(state.baseIndent=baseIndent),state},token:function(stream,state){if(!state.tagName&&stream.sol()&&(state.indented=stream.indentation()),stream.eatSpace())return null;type=null;var style=state.tokenize(stream,state);return(style||type)&&\"comment\"!=style&&(setStyle=null,state.state=state.state(type||style,stream,state),setStyle&&(style=\"error\"==setStyle?style+\" error\":setStyle)),style},indent:function(state,textAfter,fullLine){var context=state.context;if(state.tokenize.isInAttribute)return state.tagStart==state.indented?state.stringStartCol+1:state.indented+indentUnit;if(context&&context.noIndent)return CodeMirror.Pass;if(state.tokenize!=inTag&&state.tokenize!=inText)return fullLine?fullLine.match(/^(\\s*)/)[0].length:0;if(state.tagName)return!1!==config.multilineTagIndentPastTag?state.tagStart+state.tagName.length+2:state.tagStart+indentUnit*(config.multilineTagIndentFactor||1);if(config.alignCDATA&&/<!\\[CDATA\\[/.test(textAfter))return 0;var tagAfter=textAfter&&/^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);if(tagAfter&&tagAfter[1])for(;context;){if(context.tagName==tagAfter[2]){context=context.prev;break}if(!config.implicitlyClosed.hasOwnProperty(context.tagName))break;context=context.prev}else if(tagAfter)for(;context;){var grabbers=config.contextGrabbers[context.tagName];if(!grabbers||!grabbers.hasOwnProperty(tagAfter[2]))break;context=context.prev}for(;context&&context.prev&&!context.startOfLine;)context=context.prev;return context?context.indent+indentUnit:state.baseIndent||0},electricInput:/<\\/[\\s\\w:]+>$/,blockCommentStart:\"\\x3c!--\",blockCommentEnd:\"--\\x3e\",configuration:config.htmlMode?\"html\":\"xml\",helperType:config.htmlMode?\"html\":\"xml\",skipAttribute:function(state){state.state==attrValueState&&(state.state=attrState)},xmlCurrentTag:function(state){return state.tagName?{name:state.tagName,close:\"closeTag\"==state.type}:null},xmlCurrentContext:function(state){for(var context=[],cx=state.context;cx;cx=cx.prev)cx.tagName&&context.push(cx.tagName);return context.reverse()}}})),CodeMirror.defineMIME(\"text/xml\",\"xml\"),CodeMirror.defineMIME(\"application/xml\",\"xml\"),CodeMirror.mimeModes.hasOwnProperty(\"text/html\")||CodeMirror.defineMIME(\"text/html\",{name:\"xml\",htmlMode:!0})}(__webpack_require__(\"VrN/\"))},\"1p+/\":function(module,exports,__webpack_require__){!function(CodeMirror){\"use strict\";var defaultTags={script:[[\"lang\",/(javascript|babel)/i,\"javascript\"],[\"type\",/^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,\"javascript\"],[\"type\",/./,\"text/plain\"],[null,null,\"javascript\"]],style:[[\"lang\",/^css$/i,\"css\"],[\"type\",/^(text\\/)?(x-)?(stylesheet|css)$/i,\"css\"],[\"type\",/./,\"text/plain\"],[null,null,\"css\"]]},attrRegexpCache={};function getTagRegexp(tagName,anchored){return new RegExp((anchored?\"^\":\"\")+\"</s*\"+tagName+\"s*>\",\"i\")}function addTags(from,to){for(var tag in from)for(var dest=to[tag]||(to[tag]=[]),source=from[tag],i=source.length-1;i>=0;i--)dest.unshift(source[i])}CodeMirror.defineMode(\"htmlmixed\",(function(config,parserConfig){var htmlMode=CodeMirror.getMode(config,{name:\"xml\",htmlMode:!0,multilineTagIndentFactor:parserConfig.multilineTagIndentFactor,multilineTagIndentPastTag:parserConfig.multilineTagIndentPastTag}),tags={},configTags=parserConfig&&parserConfig.tags,configScript=parserConfig&&parserConfig.scriptTypes;if(addTags(defaultTags,tags),configTags&&addTags(configTags,tags),configScript)for(var i=configScript.length-1;i>=0;i--)tags.script.unshift([\"type\",configScript[i].matches,configScript[i].mode]);function html(stream,state){var tagName,style=htmlMode.token(stream,state.htmlState),tag=/\\btag\\b/.test(style);if(tag&&!/[<>\\s\\/]/.test(stream.current())&&(tagName=state.htmlState.tagName&&state.htmlState.tagName.toLowerCase())&&tags.hasOwnProperty(tagName))state.inTag=tagName+\" \";else if(state.inTag&&tag&&/>$/.test(stream.current())){var inTag=/^([\\S]+) (.*)/.exec(state.inTag);state.inTag=null;var modeSpec=\">\"==stream.current()&&function(tagInfo,tagText){for(var i=0;i<tagInfo.length;i++){var spec=tagInfo[i];if(!spec[0]||spec[1].test((void 0,(match=tagText.match(attrRegexpCache[attr=spec[0]]||(attrRegexpCache[attr]=new RegExp(\"\\\\s+\"+attr+\"\\\\s*=\\\\s*('|\\\")?([^'\\\"]+)('|\\\")?\\\\s*\"))))?/^\\s*(.*?)\\s*$/.exec(match[2])[1]:\"\")))return spec[2]}var attr,match}(tags[inTag[1]],inTag[2]),mode=CodeMirror.getMode(config,modeSpec),endTagA=getTagRegexp(inTag[1],!0),endTag=getTagRegexp(inTag[1],!1);state.token=function(stream,state){return stream.match(endTagA,!1)?(state.token=html,state.localState=state.localMode=null,null):function(stream,pat,style){var cur=stream.current(),close=cur.search(pat);return close>-1?stream.backUp(cur.length-close):cur.match(/<\\/?$/)&&(stream.backUp(cur.length),stream.match(pat,!1)||stream.match(cur)),style}(stream,endTag,state.localMode.token(stream,state.localState))},state.localMode=mode,state.localState=CodeMirror.startState(mode,htmlMode.indent(state.htmlState,\"\",\"\"))}else state.inTag&&(state.inTag+=stream.current(),stream.eol()&&(state.inTag+=\" \"));return style}return{startState:function(){return{token:html,inTag:null,localMode:null,localState:null,htmlState:CodeMirror.startState(htmlMode)}},copyState:function(state){var local;return state.localState&&(local=CodeMirror.copyState(state.localMode,state.localState)),{token:state.token,inTag:state.inTag,localMode:state.localMode,localState:local,htmlState:CodeMirror.copyState(htmlMode,state.htmlState)}},token:function(stream,state){return state.token(stream,state)},indent:function(state,textAfter,line){return!state.localMode||/^\\s*<\\//.test(textAfter)?htmlMode.indent(state.htmlState,textAfter,line):state.localMode.indent?state.localMode.indent(state.localState,textAfter,line):CodeMirror.Pass},innerMode:function(state){return{state:state.localState||state.htmlState,mode:state.localMode||htmlMode}}}}),\"xml\",\"javascript\",\"css\"),CodeMirror.defineMIME(\"text/html\",\"htmlmixed\")}(__webpack_require__(\"VrN/\"),__webpack_require__(\"1eCo\"),__webpack_require__(\"+dQi\"),__webpack_require__(\"ewDg\"))},\"25Eh\":function(module,exports,__webpack_require__){!function(CodeMirror){\"use strict\";function wordRegexp(words){return new RegExp(\"^((\"+words.join(\")|(\")+\"))\\\\b\")}var wordOperators=wordRegexp([\"and\",\"or\",\"not\",\"is\"]),commonKeywords=[\"as\",\"assert\",\"break\",\"class\",\"continue\",\"def\",\"del\",\"elif\",\"else\",\"except\",\"finally\",\"for\",\"from\",\"global\",\"if\",\"import\",\"lambda\",\"pass\",\"raise\",\"return\",\"try\",\"while\",\"with\",\"yield\",\"in\"],commonBuiltins=[\"abs\",\"all\",\"any\",\"bin\",\"bool\",\"bytearray\",\"callable\",\"chr\",\"classmethod\",\"compile\",\"complex\",\"delattr\",\"dict\",\"dir\",\"divmod\",\"enumerate\",\"eval\",\"filter\",\"float\",\"format\",\"frozenset\",\"getattr\",\"globals\",\"hasattr\",\"hash\",\"help\",\"hex\",\"id\",\"input\",\"int\",\"isinstance\",\"issubclass\",\"iter\",\"len\",\"list\",\"locals\",\"map\",\"max\",\"memoryview\",\"min\",\"next\",\"object\",\"oct\",\"open\",\"ord\",\"pow\",\"property\",\"range\",\"repr\",\"reversed\",\"round\",\"set\",\"setattr\",\"slice\",\"sorted\",\"staticmethod\",\"str\",\"sum\",\"super\",\"tuple\",\"type\",\"vars\",\"zip\",\"__import__\",\"NotImplemented\",\"Ellipsis\",\"__debug__\"];function top(state){return state.scopes[state.scopes.length-1]}CodeMirror.registerHelper(\"hintWords\",\"python\",commonKeywords.concat(commonBuiltins)),CodeMirror.defineMode(\"python\",(function(conf,parserConf){for(var ERRORCLASS=\"error\",delimiters=parserConf.delimiters||parserConf.singleDelimiters||/^[\\(\\)\\[\\]\\{\\}@,:`=;\\.\\\\]/,operators=[parserConf.singleOperators,parserConf.doubleOperators,parserConf.doubleDelimiters,parserConf.tripleDelimiters,parserConf.operators||/^([-+*/%\\/&|^]=?|[<>=]+|\\/\\/=?|\\*\\*=?|!=|[~!@]|\\.\\.\\.)/],i=0;i<operators.length;i++)operators[i]||operators.splice(i--,1);var hangingIndent=parserConf.hangingIndent||conf.indentUnit,myKeywords=commonKeywords,myBuiltins=commonBuiltins;null!=parserConf.extra_keywords&&(myKeywords=myKeywords.concat(parserConf.extra_keywords)),null!=parserConf.extra_builtins&&(myBuiltins=myBuiltins.concat(parserConf.extra_builtins));var py3=!(parserConf.version&&Number(parserConf.version)<3);if(py3){var identifiers=parserConf.identifiers||/^[_A-Za-z\\u00A1-\\uFFFF][_A-Za-z0-9\\u00A1-\\uFFFF]*/;myKeywords=myKeywords.concat([\"nonlocal\",\"False\",\"True\",\"None\",\"async\",\"await\"]),myBuiltins=myBuiltins.concat([\"ascii\",\"bytes\",\"exec\",\"print\"]);var stringPrefixes=new RegExp(\"^(([rbuf]|(br)|(fr))?('{3}|\\\"{3}|['\\\"]))\",\"i\")}else identifiers=parserConf.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/,myKeywords=myKeywords.concat([\"exec\",\"print\"]),myBuiltins=myBuiltins.concat([\"apply\",\"basestring\",\"buffer\",\"cmp\",\"coerce\",\"execfile\",\"file\",\"intern\",\"long\",\"raw_input\",\"reduce\",\"reload\",\"unichr\",\"unicode\",\"xrange\",\"False\",\"True\",\"None\"]),stringPrefixes=new RegExp(\"^(([rubf]|(ur)|(br))?('{3}|\\\"{3}|['\\\"]))\",\"i\");var keywords=wordRegexp(myKeywords),builtins=wordRegexp(myBuiltins);function tokenBase(stream,state){var sol=stream.sol()&&\"\\\\\"!=state.lastToken;if(sol&&(state.indent=stream.indentation()),sol&&\"py\"==top(state).type){var scopeOffset=top(state).offset;if(stream.eatSpace()){var lineOffset=stream.indentation();return lineOffset>scopeOffset?pushPyScope(state):lineOffset<scopeOffset&&dedent(stream,state)&&\"#\"!=stream.peek()&&(state.errorToken=!0),null}var style=tokenBaseInner(stream,state);return scopeOffset>0&&dedent(stream,state)&&(style+=\" \"+ERRORCLASS),style}return tokenBaseInner(stream,state)}function tokenBaseInner(stream,state){if(stream.eatSpace())return null;if(stream.match(/^#.*/))return\"comment\";if(stream.match(/^[0-9\\.]/,!1)){var floatLiteral=!1;if(stream.match(/^[\\d_]*\\.\\d+(e[\\+\\-]?\\d+)?/i)&&(floatLiteral=!0),stream.match(/^[\\d_]+\\.\\d*/)&&(floatLiteral=!0),stream.match(/^\\.\\d+/)&&(floatLiteral=!0),floatLiteral)return stream.eat(/J/i),\"number\";var intLiteral=!1;if(stream.match(/^0x[0-9a-f_]+/i)&&(intLiteral=!0),stream.match(/^0b[01_]+/i)&&(intLiteral=!0),stream.match(/^0o[0-7_]+/i)&&(intLiteral=!0),stream.match(/^[1-9][\\d_]*(e[\\+\\-]?[\\d_]+)?/)&&(stream.eat(/J/i),intLiteral=!0),stream.match(/^0(?![\\dx])/i)&&(intLiteral=!0),intLiteral)return stream.eat(/L/i),\"number\"}if(stream.match(stringPrefixes))return-1!==stream.current().toLowerCase().indexOf(\"f\")?(state.tokenize=function(delimiter,tokenOuter){for(;\"rubf\".indexOf(delimiter.charAt(0).toLowerCase())>=0;)delimiter=delimiter.substr(1);var singleline=1==delimiter.length,OUTCLASS=\"string\";function tokenNestedExpr(depth){return function(stream,state){var inner=tokenBaseInner(stream,state);return\"punctuation\"==inner&&(\"{\"==stream.current()?state.tokenize=tokenNestedExpr(depth+1):\"}\"==stream.current()&&(state.tokenize=depth>1?tokenNestedExpr(depth-1):tokenString)),inner}}function tokenString(stream,state){for(;!stream.eol();)if(stream.eatWhile(/[^'\"\\{\\}\\\\]/),stream.eat(\"\\\\\")){if(stream.next(),singleline&&stream.eol())return OUTCLASS}else{if(stream.match(delimiter))return state.tokenize=tokenOuter,OUTCLASS;if(stream.match(\"{{\"))return OUTCLASS;if(stream.match(\"{\",!1))return state.tokenize=tokenNestedExpr(0),stream.current()?OUTCLASS:state.tokenize(stream,state);if(stream.match(\"}}\"))return OUTCLASS;if(stream.match(\"}\"))return ERRORCLASS;stream.eat(/['\"]/)}if(singleline){if(parserConf.singleLineStringErrors)return ERRORCLASS;state.tokenize=tokenOuter}return OUTCLASS}return tokenString.isString=!0,tokenString}(stream.current(),state.tokenize),state.tokenize(stream,state)):(state.tokenize=function(delimiter,tokenOuter){for(;\"rubf\".indexOf(delimiter.charAt(0).toLowerCase())>=0;)delimiter=delimiter.substr(1);var singleline=1==delimiter.length,OUTCLASS=\"string\";function tokenString(stream,state){for(;!stream.eol();)if(stream.eatWhile(/[^'\"\\\\]/),stream.eat(\"\\\\\")){if(stream.next(),singleline&&stream.eol())return OUTCLASS}else{if(stream.match(delimiter))return state.tokenize=tokenOuter,OUTCLASS;stream.eat(/['\"]/)}if(singleline){if(parserConf.singleLineStringErrors)return ERRORCLASS;state.tokenize=tokenOuter}return OUTCLASS}return tokenString.isString=!0,tokenString}(stream.current(),state.tokenize),state.tokenize(stream,state));for(var i=0;i<operators.length;i++)if(stream.match(operators[i]))return\"operator\";return stream.match(delimiters)?\"punctuation\":\".\"==state.lastToken&&stream.match(identifiers)?\"property\":stream.match(keywords)||stream.match(wordOperators)?\"keyword\":stream.match(builtins)?\"builtin\":stream.match(/^(self|cls)\\b/)?\"variable-2\":stream.match(identifiers)?\"def\"==state.lastToken||\"class\"==state.lastToken?\"def\":\"variable\":(stream.next(),ERRORCLASS)}function pushPyScope(state){for(;\"py\"!=top(state).type;)state.scopes.pop();state.scopes.push({offset:top(state).offset+conf.indentUnit,type:\"py\",align:null})}function dedent(stream,state){for(var indented=stream.indentation();state.scopes.length>1&&top(state).offset>indented;){if(\"py\"!=top(state).type)return!0;state.scopes.pop()}return top(state).offset!=indented}return{startState:function(basecolumn){return{tokenize:tokenBase,scopes:[{offset:basecolumn||0,type:\"py\",align:null}],indent:basecolumn||0,lastToken:null,lambda:!1,dedent:0}},token:function(stream,state){var addErr=state.errorToken;addErr&&(state.errorToken=!1);var style=function(stream,state){stream.sol()&&(state.beginningOfLine=!0);var style=state.tokenize(stream,state),current=stream.current();if(state.beginningOfLine&&\"@\"==current)return stream.match(identifiers,!1)?\"meta\":py3?\"operator\":ERRORCLASS;if(/\\S/.test(current)&&(state.beginningOfLine=!1),\"variable\"!=style&&\"builtin\"!=style||\"meta\"!=state.lastToken||(style=\"meta\"),\"pass\"!=current&&\"return\"!=current||(state.dedent+=1),\"lambda\"==current&&(state.lambda=!0),\":\"!=current||state.lambda||\"py\"!=top(state).type||pushPyScope(state),1==current.length&&!/string|comment/.test(style)){var delimiter_index=\"[({\".indexOf(current);if(-1!=delimiter_index&&function(stream,state,type){var align=stream.match(/^([\\s\\[\\{\\(]|#.*)*$/,!1)?null:stream.column()+1;state.scopes.push({offset:state.indent+hangingIndent,type:type,align:align})}(stream,state,\"])}\".slice(delimiter_index,delimiter_index+1)),-1!=(delimiter_index=\"])}\".indexOf(current))){if(top(state).type!=current)return ERRORCLASS;state.indent=state.scopes.pop().offset-hangingIndent}}return state.dedent>0&&stream.eol()&&\"py\"==top(state).type&&(state.scopes.length>1&&state.scopes.pop(),state.dedent-=1),style}(stream,state);return style&&\"comment\"!=style&&(state.lastToken=\"keyword\"==style||\"punctuation\"==style?stream.current():style),\"punctuation\"==style&&(style=null),stream.eol()&&state.lambda&&(state.lambda=!1),addErr?style+\" \"+ERRORCLASS:style},indent:function(state,textAfter){if(state.tokenize!=tokenBase)return state.tokenize.isString?CodeMirror.Pass:0;var scope=top(state),closing=scope.type==textAfter.charAt(0);return null!=scope.align?scope.align-(closing?1:0):scope.offset-(closing?hangingIndent:0)},electricInput:/^\\s*[\\}\\]\\)]$/,closeBrackets:{triples:\"'\\\"\"},lineComment:\"#\",fold:\"indent\"}})),CodeMirror.defineMIME(\"text/x-python\",\"python\"),CodeMirror.defineMIME(\"text/x-cython\",{name:\"python\",extra_keywords:\"by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE\".split(\" \")})}(__webpack_require__(\"VrN/\"))},\"VrN/\":function(module,exports,__webpack_require__){module.exports=function(){\"use strict\";var userAgent=navigator.userAgent,platform=navigator.platform,gecko=/gecko\\/\\d/i.test(userAgent),ie_upto10=/MSIE \\d/.test(userAgent),ie_11up=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent),edge=/Edge\\/(\\d+)/.exec(userAgent),ie=ie_upto10||ie_11up||edge,ie_version=ie&&(ie_upto10?document.documentMode||6:+(edge||ie_11up)[1]),webkit=!edge&&/WebKit\\//.test(userAgent),qtwebkit=webkit&&/Qt\\/\\d+\\.\\d+/.test(userAgent),chrome=!edge&&/Chrome\\//.test(userAgent),presto=/Opera\\//.test(userAgent),safari=/Apple Computer/.test(navigator.vendor),mac_geMountainLion=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent),phantom=/PhantomJS/.test(userAgent),ios=!edge&&/AppleWebKit/.test(userAgent)&&/Mobile\\/\\w+/.test(userAgent),android=/Android/.test(userAgent),mobile=ios||android||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent),mac=ios||/Mac/.test(platform),chromeOS=/\\bCrOS\\b/.test(userAgent),windows=/win/i.test(platform),presto_version=presto&&userAgent.match(/Version\\/(\\d*\\.\\d*)/);presto_version&&(presto_version=Number(presto_version[1])),presto_version&&presto_version>=15&&(presto=!1,webkit=!0);var flipCtrlCmd=mac&&(qtwebkit||presto&&(null==presto_version||presto_version<12.11)),captureRightClick=gecko||ie&&ie_version>=9;function classTest(cls){return new RegExp(\"(^|\\\\s)\"+cls+\"(?:$|\\\\s)\\\\s*\")}var range,rmClass=function(node,cls){var current=node.className,match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:\"\")}};function removeChildren(e){for(var count=e.childNodes.length;count>0;--count)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className&&(e.className=className),style&&(e.style.cssText=style),\"string\"==typeof content)e.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i)e.appendChild(content[i]);return e}function eltP(tag,content,className,style){var e=elt(tag,content,className,style);return e.setAttribute(\"role\",\"presentation\"),e}function contains(parent,child){if(3==child.nodeType&&(child=child.parentNode),parent.contains)return parent.contains(child);do{if(11==child.nodeType&&(child=child.host),child==parent)return!0}while(child=child.parentNode)}function activeElt(){var activeElement;try{activeElement=document.activeElement}catch(e){activeElement=document.body||null}for(;activeElement&&activeElement.shadowRoot&&activeElement.shadowRoot.activeElement;)activeElement=activeElement.shadowRoot.activeElement;return activeElement}function addClass(node,cls){var current=node.className;classTest(cls).test(current)||(node.className+=(current?\" \":\"\")+cls)}function joinClasses(a,b){for(var as=a.split(\" \"),i=0;i<as.length;i++)as[i]&&!classTest(as[i]).test(b)&&(b+=\" \"+as[i]);return b}range=document.createRange?function(node,start,end,endNode){var r=document.createRange();return r.setEnd(endNode||node,end),r.setStart(node,start),r}:function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd(\"character\",end),r.moveStart(\"character\",start),r};var selectInput=function(node){node.select()};function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){for(var prop in target||(target={}),obj)!obj.hasOwnProperty(prop)||!1===overwrite&&target.hasOwnProperty(prop)||(target[prop]=obj[prop]);return target}function countColumn(string,end,tabSize,startIndex,startValue){null==end&&-1==(end=string.search(/[^\\s\\u00a0]/))&&(end=string.length);for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf(\"\\t\",i);if(nextTab<0||nextTab>=end)return n+(end-i);n+=nextTab-i,n+=tabSize-n%tabSize,i=nextTab+1}}ios?selectInput=function(node){node.selectionStart=0,node.selectionEnd=node.value.length}:ie&&(selectInput=function(node){try{node.select()}catch(_e){}});var Delayed=function(){this.id=null};function indexOf(array,elt){for(var i=0;i<array.length;++i)if(array[i]==elt)return i;return-1}Delayed.prototype.set=function(ms,f){clearTimeout(this.id),this.id=setTimeout(f,ms)};var scrollerGap=30,Pass={toString:function(){return\"CodeMirror.Pass\"}},sel_dontScroll={scroll:!1},sel_mouse={origin:\"*mouse\"},sel_move={origin:\"+move\"};function findColumn(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf(\"\\t\",pos);-1==nextTab&&(nextTab=string.length);var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)return pos+Math.min(skipped,goal-col);if(col+=nextTab-pos,pos=nextTab+1,(col+=tabSize-col%tabSize)>=goal)return pos}}var spaceStrs=[\"\"];function spaceStr(n){for(;spaceStrs.length<=n;)spaceStrs.push(lst(spaceStrs)+\" \");return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function map(array,f){for(var out=[],i=0;i<array.length;i++)out[i]=f(array[i],i);return out}function nothing(){}function createObj(base,props){var inst;return Object.create?inst=Object.create(base):(nothing.prototype=base,inst=new nothing),props&&copyObj(props,inst),inst}var nonASCIISingleCaseWordChar=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;function isWordCharBasic(ch){return/\\w/.test(ch)||ch>\"\"&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){return helper?!!(helper.source.indexOf(\"\\\\w\")>-1&&isWordCharBasic(ch))||helper.test(ch):isWordCharBasic(ch)}function isEmpty(obj){for(var n in obj)if(obj.hasOwnProperty(n)&&obj[n])return!1;return!0}var extendingChars=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch)}function skipExtendingChars(str,pos,dir){for(;(dir<0?pos>0:pos<str.length)&&isExtendingChar(str.charAt(pos));)pos+=dir;return pos}function findFirst(pred,from,to){for(var dir=from>to?-1:1;;){if(from==to)return from;var midF=(from+to)/2,mid=dir<0?Math.ceil(midF):Math.floor(midF);if(mid==from)return pred(mid)?from:to;pred(mid)?to=mid:from=mid+dir}}var bidiOther=null;function getBidiPartAt(order,ch,sticky){var found;bidiOther=null;for(var i=0;i<order.length;++i){var cur=order[i];if(cur.from<ch&&cur.to>ch)return i;cur.to==ch&&(cur.from!=cur.to&&\"before\"==sticky?found=i:bidiOther=i),cur.from==ch&&(cur.from!=cur.to&&\"before\"!=sticky?found=i:bidiOther=i)}return null!=found?found:bidiOther}var bidiOrdering=function(){var bidiRE=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/,isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;function BidiSpan(level,from,to){this.level=level,this.from=from,this.to=to}return function(str,direction){var outerType=\"ltr\"==direction?\"L\":\"R\";if(0==str.length||\"ltr\"==direction&&!bidiRE.test(str))return!1;for(var code,len=str.length,types=[],i=0;i<len;++i)types.push((code=str.charCodeAt(i))<=247?\"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\".charAt(code):1424<=code&&code<=1524?\"R\":1536<=code&&code<=1785?\"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\".charAt(code-1536):1774<=code&&code<=2220?\"r\":8192<=code&&code<=8203?\"w\":8204==code?\"b\":\"L\");for(var i$1=0,prev=outerType;i$1<len;++i$1){var type=types[i$1];\"m\"==type?types[i$1]=prev:prev=type}for(var i$2=0,cur=outerType;i$2<len;++i$2){var type$1=types[i$2];\"1\"==type$1&&\"r\"==cur?types[i$2]=\"n\":isStrong.test(type$1)&&(cur=type$1,\"r\"==type$1&&(types[i$2]=\"R\"))}for(var i$3=1,prev$1=types[0];i$3<len-1;++i$3){var type$2=types[i$3];\"+\"==type$2&&\"1\"==prev$1&&\"1\"==types[i$3+1]?types[i$3]=\"1\":\",\"!=type$2||prev$1!=types[i$3+1]||\"1\"!=prev$1&&\"n\"!=prev$1||(types[i$3]=prev$1),prev$1=type$2}for(var i$4=0;i$4<len;++i$4){var type$3=types[i$4];if(\",\"==type$3)types[i$4]=\"N\";else if(\"%\"==type$3){var end=void 0;for(end=i$4+1;end<len&&\"%\"==types[end];++end);for(var replace=i$4&&\"!\"==types[i$4-1]||end<len&&\"1\"==types[end]?\"1\":\"N\",j=i$4;j<end;++j)types[j]=replace;i$4=end-1}}for(var i$5=0,cur$1=outerType;i$5<len;++i$5){var type$4=types[i$5];\"L\"==cur$1&&\"1\"==type$4?types[i$5]=\"L\":isStrong.test(type$4)&&(cur$1=type$4)}for(var i$6=0;i$6<len;++i$6)if(isNeutral.test(types[i$6])){var end$1=void 0;for(end$1=i$6+1;end$1<len&&isNeutral.test(types[end$1]);++end$1);for(var before=\"L\"==(i$6?types[i$6-1]:outerType),replace$1=before==(\"L\"==(end$1<len?types[end$1]:outerType))?before?\"L\":\"R\":outerType,j$1=i$6;j$1<end$1;++j$1)types[j$1]=replace$1;i$6=end$1-1}for(var m,order=[],i$7=0;i$7<len;)if(countsAsLeft.test(types[i$7])){var start=i$7;for(++i$7;i$7<len&&countsAsLeft.test(types[i$7]);++i$7);order.push(new BidiSpan(0,start,i$7))}else{var pos=i$7,at=order.length;for(++i$7;i$7<len&&\"L\"!=types[i$7];++i$7);for(var j$2=pos;j$2<i$7;)if(countsAsNum.test(types[j$2])){pos<j$2&&order.splice(at,0,new BidiSpan(1,pos,j$2));var nstart=j$2;for(++j$2;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2);order.splice(at,0,new BidiSpan(2,nstart,j$2)),pos=j$2}else++j$2;pos<i$7&&order.splice(at,0,new BidiSpan(1,pos,i$7))}return\"ltr\"==direction&&(1==order[0].level&&(m=str.match(/^\\s+/))&&(order[0].from=m[0].length,order.unshift(new BidiSpan(0,0,m[0].length))),1==lst(order).level&&(m=str.match(/\\s+$/))&&(lst(order).to-=m[0].length,order.push(new BidiSpan(0,len-m[0].length,len)))),\"rtl\"==direction?order.reverse():order}}();function getOrder(line,direction){var order=line.order;return null==order&&(order=line.order=bidiOrdering(line.text,direction)),order}var noHandlers=[],on=function(emitter,type,f){if(emitter.addEventListener)emitter.addEventListener(type,f,!1);else if(emitter.attachEvent)emitter.attachEvent(\"on\"+type,f);else{var map$$1=emitter._handlers||(emitter._handlers={});map$$1[type]=(map$$1[type]||noHandlers).concat(f)}};function getHandlers(emitter,type){return emitter._handlers&&emitter._handlers[type]||noHandlers}function off(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,f,!1);else if(emitter.detachEvent)emitter.detachEvent(\"on\"+type,f);else{var map$$1=emitter._handlers,arr=map$$1&&map$$1[type];if(arr){var index=indexOf(arr,f);index>-1&&(map$$1[type]=arr.slice(0,index).concat(arr.slice(index+1)))}}}function signal(emitter,type){var handlers=getHandlers(emitter,type);if(handlers.length)for(var args=Array.prototype.slice.call(arguments,2),i=0;i<handlers.length;++i)handlers[i].apply(null,args)}function signalDOMEvent(cm,e,override){return\"string\"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),signal(cm,override||e.type,cm,e),e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(arr)for(var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]),i=0;i<arr.length;++i)-1==indexOf(set,arr[i])&&set.push(arr[i])}function hasHandler(emitter,type){return getHandlers(emitter,type).length>0}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)},ctor.prototype.off=function(type,f){off(this,type,f)}}function e_preventDefault(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function e_stopPropagation(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function e_defaultPrevented(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function e_stop(e){e_preventDefault(e),e_stopPropagation(e)}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;return null==b&&(1&e.button?b=1:2&e.button?b=3:4&e.button&&(b=2)),mac&&e.ctrlKey&&1==b&&(b=3),b}var zwspSupported,badBidiRects,dragAndDrop=function(){if(ie&&ie_version<9)return!1;var div=elt(\"div\");return\"draggable\"in div||\"dragDrop\"in div}();function zeroWidthElement(measure){if(null==zwspSupported){var test=elt(\"span\",\"​\");removeChildrenAndAdd(measure,elt(\"span\",[test,document.createTextNode(\"x\")])),0!=measure.firstChild.offsetHeight&&(zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8))}var node=zwspSupported?elt(\"span\",\"​\"):elt(\"span\",\" \",null,\"display: inline-block; width: 1px; margin-right: -1px\");return node.setAttribute(\"cm-text\",\"\"),node}function hasBadBidiRects(measure){if(null!=badBidiRects)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode(\"AخA\")),r0=range(txt,0,1).getBoundingClientRect(),r1=range(txt,1,2).getBoundingClientRect();return removeChildren(measure),!(!r0||r0.left==r0.right)&&(badBidiRects=r1.right-r0.right<3)}var e,splitLinesAuto=3!=\"\\n\\nb\".split(/\\n/).length?function(string){for(var pos=0,result=[],l=string.length;pos<=l;){var nl=string.indexOf(\"\\n\",pos);-1==nl&&(nl=string.length);var line=string.slice(pos,\"\\r\"==string.charAt(nl-1)?nl-1:nl),rt=line.indexOf(\"\\r\");-1!=rt?(result.push(line.slice(0,rt)),pos+=rt+1):(result.push(line),pos=nl+1)}return result}:function(string){return string.split(/\\r\\n?|\\n/)},hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return!1}}:function(te){var range$$1;try{range$$1=te.ownerDocument.selection.createRange()}catch(e){}return!(!range$$1||range$$1.parentElement()!=te)&&0!=range$$1.compareEndPoints(\"StartToEnd\",range$$1)},hasCopyEvent=\"oncopy\"in(e=elt(\"div\"))||(e.setAttribute(\"oncopy\",\"return;\"),\"function\"==typeof e.oncopy),badZoomedRects=null,modes={},mimeModes={};function defineMode(name,mode){arguments.length>2&&(mode.dependencies=Array.prototype.slice.call(arguments,2)),modes[name]=mode}function resolveMode(spec){if(\"string\"==typeof spec&&mimeModes.hasOwnProperty(spec))spec=mimeModes[spec];else if(spec&&\"string\"==typeof spec.name&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];\"string\"==typeof found&&(found={name:found}),(spec=createObj(found,spec)).name=found.name}else{if(\"string\"==typeof spec&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec))return resolveMode(\"application/xml\");if(\"string\"==typeof spec&&/^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec))return resolveMode(\"application/json\")}return\"string\"==typeof spec?{name:spec}:spec||{name:\"null\"}}function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory)return getMode(options,\"text/plain\");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts)exts.hasOwnProperty(prop)&&(modeObj.hasOwnProperty(prop)&&(modeObj[\"_\"+prop]=modeObj[prop]),modeObj[prop]=exts[prop])}if(modeObj.name=spec.name,spec.helperType&&(modeObj.helperType=spec.helperType),spec.modeProps)for(var prop$1 in spec.modeProps)modeObj[prop$1]=spec.modeProps[prop$1];return modeObj}var modeExtensions={};function extendMode(mode,properties){copyObj(properties,modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={})}function copyState(mode,state){if(!0===state)return state;if(mode.copyState)return mode.copyState(state);var nstate={};for(var n in state){var val=state[n];val instanceof Array&&(val=val.concat([])),nstate[n]=val}return nstate}function innerMode(mode,state){for(var info;mode.innerMode&&(info=mode.innerMode(state))&&info.mode!=mode;)state=info.state,mode=info.mode;return info||{mode:mode,state:state}}function startState(mode,a1,a2){return!mode.startState||mode.startState(a1,a2)}var StringStream=function(string,tabSize,lineOracle){this.pos=this.start=0,this.string=string,this.tabSize=tabSize||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=lineOracle};function getLine(doc,n){if((n-=doc.first)<0||n>=doc.size)throw new Error(\"There is no line \"+(n+doc.first)+\" in the document.\");for(var chunk=doc;!chunk.lines;)for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;return doc.iter(start.line,end.line+1,(function(line){var text=line.text;n==end.line&&(text=text.slice(0,end.ch)),n==start.line&&(text=text.slice(start.ch)),out.push(text),++n})),out}function getLines(doc,from,to){var out=[];return doc.iter(from,to,(function(line){out.push(line.text)})),out}function updateLineHeight(line,height){var diff=height-line.height;if(diff)for(var n=line;n;n=n.parent)n.height+=diff}function lineNo(line){if(null==line.parent)return null;for(var cur=line.parent,no=indexOf(cur.lines,line),chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent)for(var i=0;chunk.children[i]!=cur;++i)no+=chunk.children[i].chunkSize();return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i$1=0;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch,n+=child.chunkSize()}return n}while(!chunk.lines);for(var i=0;i<chunk.lines.length;++i){var lh=chunk.lines[i].height;if(h<lh)break;h-=lh}return n+i}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))}function Pos(line,ch,sticky){if(void 0===sticky&&(sticky=null),!(this instanceof Pos))return new Pos(line,ch,sticky);this.line=line,this.ch=ch,this.sticky=sticky}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function equalCursorPos(a,b){return a.sticky==b.sticky&&0==cmp(a,b)}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;return pos.line>last?Pos(last,getLine(doc,last).text.length):function(pos,linelen){var ch=pos.ch;return null==ch||ch>linelen?Pos(pos.line,linelen):ch<0?Pos(pos.line,0):pos}(pos,getLine(doc,pos.line).text.length)}function clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++)out[i]=clipPos(doc,array[i]);return out}StringStream.prototype.eol=function(){return this.pos>=this.string.length},StringStream.prototype.sol=function(){return this.pos==this.lineStart},StringStream.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},StringStream.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},StringStream.prototype.eat=function(match){var ch=this.string.charAt(this.pos);if(\"string\"==typeof match?ch==match:ch&&(match.test?match.test(ch):match(ch)))return++this.pos,ch},StringStream.prototype.eatWhile=function(match){for(var start=this.pos;this.eat(match););return this.pos>start},StringStream.prototype.eatSpace=function(){for(var start=this.pos;/[\\s\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>start},StringStream.prototype.skipToEnd=function(){this.pos=this.string.length},StringStream.prototype.skipTo=function(ch){var found=this.string.indexOf(ch,this.pos);if(found>-1)return this.pos=found,!0},StringStream.prototype.backUp=function(n){this.pos-=n},StringStream.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},StringStream.prototype.indentation=function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},StringStream.prototype.match=function(pattern,consume,caseInsensitive){if(\"string\"!=typeof pattern){var match=this.string.slice(this.pos).match(pattern);return match&&match.index>0?null:(match&&!1!==consume&&(this.pos+=match[0].length),match)}var cased=function(str){return caseInsensitive?str.toLowerCase():str};if(cased(this.string.substr(this.pos,pattern.length))==cased(pattern))return!1!==consume&&(this.pos+=pattern.length),!0},StringStream.prototype.current=function(){return this.string.slice(this.start,this.pos)},StringStream.prototype.hideFirstChars=function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}},StringStream.prototype.lookAhead=function(n){var oracle=this.lineOracle;return oracle&&oracle.lookAhead(n)},StringStream.prototype.baseToken=function(){var oracle=this.lineOracle;return oracle&&oracle.baseToken(this.pos)};var SavedContext=function(state,lookAhead){this.state=state,this.lookAhead=lookAhead},Context=function(doc,state,line,lookAhead){this.state=state,this.doc=doc,this.line=line,this.maxLookAhead=lookAhead||0,this.baseTokens=null,this.baseTokenPos=1};function highlightLine(cm,line,context,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,context,(function(end,style){return st.push(end,style)}),lineClasses,forceToEnd);for(var state=context.state,loop=function(o){context.baseTokens=st;var overlay=cm.state.overlays[o],i=1,at=0;context.state=!0,runMode(cm,line.text,overlay.mode,context,(function(end,style){for(var start=i;at<end;){var i_end=st[i];i_end>end&&st.splice(i,1,end,st[i+1],i_end),i+=2,at=Math.min(end,i_end)}if(style)if(overlay.opaque)st.splice(start,i-start,end,\"overlay \"+style),i=start+2;else for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+\" \":\"\")+\"overlay \"+style}}),lineClasses),context.state=state,context.baseTokens=null,context.baseTokenPos=1},o=0;o<cm.state.overlays.length;++o)loop(o);return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var context=getContextBefore(cm,lineNo(line)),resetState=line.text.length>cm.options.maxHighlightLength&&copyState(cm.doc.mode,context.state),result=highlightLine(cm,line,context);resetState&&(context.state=resetState),line.stateAfter=context.save(!resetState),line.styles=result.styles,result.classes?line.styleClasses=result.classes:line.styleClasses&&(line.styleClasses=null),updateFrontier===cm.doc.highlightFrontier&&(cm.doc.modeFrontier=Math.max(cm.doc.modeFrontier,++cm.doc.highlightFrontier))}return line.styles}function getContextBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState)return new Context(doc,!0,n);var start=function(cm,n,precise){for(var minindent,minline,doc=cm.doc,lim=precise?-1:n-(cm.doc.mode.innerMode?1e3:100),search=n;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1),after=line.stateAfter;if(after&&(!precise||search+(after instanceof SavedContext?after.lookAhead:0)<=doc.modeFrontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);(null==minline||minindent>indented)&&(minline=search-1,minindent=indented)}return minline}(cm,n,precise),saved=start>doc.first&&getLine(doc,start-1).stateAfter,context=saved?Context.fromSaved(doc,saved,start):new Context(doc,startState(doc.mode),start);return doc.iter(start,n,(function(line){processLine(cm,line.text,context);var pos=context.line;line.stateAfter=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo?context.save():null,context.nextLine()})),precise&&(doc.modeFrontier=context.line),context}function processLine(cm,text,context,startAt){var mode=cm.doc.mode,stream=new StringStream(text,cm.options.tabSize,context);for(stream.start=stream.pos=startAt||0,\"\"==text&&callBlankLine(mode,context.state);!stream.eol();)readToken(mode,stream,context.state),stream.start=stream.pos}function callBlankLine(mode,state){if(mode.blankLine)return mode.blankLine(state);if(mode.innerMode){var inner=innerMode(mode,state);return inner.mode.blankLine?inner.mode.blankLine(inner.state):void 0}}function readToken(mode,stream,state,inner){for(var i=0;i<10;i++){inner&&(inner[0]=innerMode(mode,state).mode);var style=mode.token(stream,state);if(stream.pos>stream.start)return style}throw new Error(\"Mode \"+mode.name+\" failed to advance stream.\")}Context.prototype.lookAhead=function(n){var line=this.doc.getLine(this.line+n);return null!=line&&n>this.maxLookAhead&&(this.maxLookAhead=n),line},Context.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var type=this.baseTokens[this.baseTokenPos+1];return{type:type&&type.replace(/( |^)overlay .*/,\"\"),size:this.baseTokens[this.baseTokenPos]-n}},Context.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Context.fromSaved=function(doc,saved,line){return saved instanceof SavedContext?new Context(doc,copyState(doc.mode,saved.state),line,saved.lookAhead):new Context(doc,copyState(doc.mode,saved),line)},Context.prototype.save=function(copy){var state=!1!==copy?copyState(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new SavedContext(state,this.maxLookAhead):state};var Token=function(stream,type,state){this.start=stream.start,this.end=stream.pos,this.string=stream.current(),this.type=type||null,this.state=state};function takeToken(cm,pos,precise,asArray){var style,tokens,doc=cm.doc,mode=doc.mode,line=getLine(doc,(pos=clipPos(doc,pos)).line),context=getContextBefore(cm,pos.line,precise),stream=new StringStream(line.text,cm.options.tabSize,context);for(asArray&&(tokens=[]);(asArray||stream.pos<pos.ch)&&!stream.eol();)stream.start=stream.pos,style=readToken(mode,stream,context.state),asArray&&tokens.push(new Token(stream,style,copyState(doc.mode,context.state)));return asArray?tokens:new Token(stream,style,context.state)}function extractLineClasses(type,output){if(type)for(;;){var lineClass=type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!lineClass)break;type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?\"bgClass\":\"textClass\";null==output[prop]?output[prop]=lineClass[2]:new RegExp(\"(?:^|s)\"+lineClass[2]+\"(?:$|s)\").test(output[prop])||(output[prop]+=\" \"+lineClass[2])}return type}function runMode(cm,text,mode,context,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;null==flattenSpans&&(flattenSpans=cm.options.flattenSpans);var style,curStart=0,curStyle=null,stream=new StringStream(text,cm.options.tabSize,context),inner=cm.options.addModeClass&&[null];for(\"\"==text&&extractLineClasses(callBlankLine(mode,context.state),lineClasses);!stream.eol();){if(stream.pos>cm.options.maxHighlightLength?(flattenSpans=!1,forceToEnd&&processLine(cm,text,context,stream.pos),stream.pos=text.length,style=null):style=extractLineClasses(readToken(mode,stream,context.state,inner),lineClasses),inner){var mName=inner[0].name;mName&&(style=\"m-\"+(style?mName+\" \"+style:mName))}if(!flattenSpans||curStyle!=style){for(;curStart<stream.start;)f(curStart=Math.min(stream.start,curStart+5e3),curStyle);curStyle=style}stream.start=stream.pos}for(;curStart<stream.pos;){var pos=Math.min(stream.pos,curStart+5e3);f(pos,curStyle),curStart=pos}}var sawReadOnlySpans=!1,sawCollapsedSpans=!1;function MarkedSpan(marker,from,to){this.marker=marker,this.from=from,this.to=to}function getMarkedSpanFor(spans,marker){if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker)return span}}function removeMarkedSpan(spans,span){for(var r,i=0;i<spans.length;++i)spans[i]!=span&&(r||(r=[])).push(spans[i]);return r}function stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans,oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch,endCh=change.to.ch,isInsert=0==cmp(change.from,change.to),first=function(old,startCh,isInsert){var nw;if(old)for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;null!=span.from&&!(marker.inclusiveLeft?span.from<=startCh:span.from<startCh)&&(span.from!=startCh||\"bookmark\"!=marker.type||isInsert&&span.marker.insertLeft)||(nw||(nw=[])).push(new MarkedSpan(marker,span.from,null==span.to||(marker.inclusiveRight?span.to>=startCh:span.to>startCh)?null:span.to))}return nw}(oldFirst,startCh,isInsert),last=function(old,endCh,isInsert){var nw;if(old)for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;(null==span.to||(marker.inclusiveRight?span.to>=endCh:span.to>endCh)||span.from==endCh&&\"bookmark\"==marker.type&&(!isInsert||span.marker.insertLeft))&&(nw||(nw=[])).push(new MarkedSpan(marker,null==span.from||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh)?null:span.from-endCh,null==span.to?null:span.to-endCh))}return nw}(oldLast,endCh,isInsert),sameLine=1==change.text.length,offset=lst(change.text).length+(sameLine?startCh:0);if(first)for(var i=0;i<first.length;++i){var span=first[i];if(null==span.to){var found=getMarkedSpanFor(last,span.marker);found?sameLine&&(span.to=null==found.to?null:found.to+offset):span.to=startCh}}if(last)for(var i$1=0;i$1<last.length;++i$1){var span$1=last[i$1];null!=span$1.to&&(span$1.to+=offset),null==span$1.from?getMarkedSpanFor(first,span$1.marker)||(span$1.from=offset,sameLine&&(first||(first=[])).push(span$1)):(span$1.from+=offset,sameLine&&(first||(first=[])).push(span$1))}first&&(first=clearEmptySpans(first)),last&&last!=first&&(last=clearEmptySpans(last));var newMarkers=[first];if(!sameLine){var gapMarkers,gap=change.text.length-2;if(gap>0&&first)for(var i$2=0;i$2<first.length;++i$2)null==first[i$2].to&&(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,null,null));for(var i$3=0;i$3<gap;++i$3)newMarkers.push(gapMarkers);newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];null!=span.from&&span.from==span.to&&!1!==span.marker.clearWhenEmpty&&spans.splice(i--,1)}return spans.length?spans:null}function detachMarkedSpans(line){var spans=line.markedSpans;if(spans){for(var i=0;i<spans.length;++i)spans[i].marker.detachLine(line);line.markedSpans=null}}function attachMarkedSpans(line,spans){if(spans){for(var i=0;i<spans.length;++i)spans[i].marker.attachLine(line);line.markedSpans=spans}}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(0!=lenDiff)return lenDiff;var aPos=a.find(),bPos=b.find(),fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);return fromCmp?-fromCmp:cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b)||b.id-a.id}function collapsedSpanAtSide(line,start){var found,sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp=void 0,i=0;i<sps.length;++i)(sp=sps[i]).marker.collapsed&&null==(start?sp.from:sp.to)&&(!found||compareCollapsedMarkers(found,sp.marker)<0)&&(found=sp.marker);return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,!0)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,!1)}function collapsedSpanAround(line,ch){var found,sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){var sp=sps[i];sp.marker.collapsed&&(null==sp.from||sp.from<ch)&&(null==sp.to||sp.to>ch)&&(!found||compareCollapsedMarkers(found,sp.marker)<0)&&(found=sp.marker)}return found}function conflictingCollapsedRange(doc,lineNo$$1,from,to,marker){var line=getLine(doc,lineNo$$1),sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){var sp=sps[i];if(sp.marker.collapsed){var found=sp.marker.find(0),fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker),toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(!(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0)&&(fromCmp<=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.to,from)>=0:cmp(found.to,from)>0)||fromCmp>=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.from,to)<=0:cmp(found.from,to)<0)))return!0}}}function visualLine(line){for(var merged;merged=collapsedSpanAtStart(line);)line=merged.find(-1,!0).line;return line}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);return line==vis?lineN:lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var merged,line=getLine(doc,lineN);if(!lineIsHidden(doc,line))return lineN;for(;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line;return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp=void 0,i=0;i<sps.length;++i)if((sp=sps[i]).marker.collapsed){if(null==sp.from)return!0;if(!sp.marker.widgetNode&&0==sp.from&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))return!0}}function lineIsHiddenInner(doc,line,span){if(null==span.to){var end=span.marker.find(1,!0);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length)return!0;for(var sp=void 0,i=0;i<line.markedSpans.length;++i)if((sp=line.markedSpans[i]).marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(null==sp.to||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return!0}function heightAtLine(lineObj){for(var h=0,chunk=(lineObj=visualLine(lineObj)).parent,i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj)break;h+=line.height}for(var p=chunk.parent;p;p=(chunk=p).parent)for(var i$1=0;i$1<p.children.length;++i$1){var cur=p.children[i$1];if(cur==chunk)break;h+=cur.height}return h}function lineLength(line){if(0==line.height)return 0;for(var merged,len=line.text.length,cur=line;merged=collapsedSpanAtStart(cur);){var found=merged.find(0,!0);cur=found.from.line,len+=found.from.ch-found.to.ch}for(cur=line;merged=collapsedSpanAtEnd(cur);){var found$1=merged.find(0,!0);len-=cur.text.length-found$1.from.ch,len+=(cur=found$1.to.line).text.length-found$1.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first),d.maxLineLength=lineLength(d.maxLine),d.maxLineChanged=!0,doc.iter((function(line){var len=lineLength(line);len>d.maxLineLength&&(d.maxLineLength=len,d.maxLine=line)}))}var Line=function(text,markedSpans,estimateHeight){this.text=text,attachMarkedSpans(this,markedSpans),this.height=estimateHeight?estimateHeight(this):1};function cleanUpLine(line){line.parent=null,detachMarkedSpans(line)}Line.prototype.lineNo=function(){return lineNo(this)},eventMixin(Line);var styleToClassCache={},styleToClassCacheWithMode={};function interpretTokenStyle(style,options){if(!style||/^\\s*$/.test(style))return null;var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\\S+/g,\"cm-$&\"))}function buildLineContent(cm,lineView){var content=eltP(\"span\",null,null,webkit?\"padding-right: .1px\":null),builder={pre:eltP(\"pre\",[content],\"CodeMirror-line\"),content:content,col:0,pos:0,cm:cm,trailingSpace:!1,splitSpaces:cm.getOption(\"lineWrapping\")};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order=void 0;builder.pos=0,builder.addToken=buildToken,hasBadBidiRects(cm.display.measure)&&(order=getOrder(line,cm.doc.direction))&&(builder.addToken=buildTokenBadBidi(builder.addToken,order)),builder.map=[],insertLineContent(line,builder,getLineStyles(cm,line,lineView!=cm.display.externalMeasured&&lineNo(line))),line.styleClasses&&(line.styleClasses.bgClass&&(builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||\"\")),line.styleClasses.textClass&&(builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||\"\"))),0==builder.map.length&&builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure))),0==i?(lineView.measure.map=builder.map,lineView.measure.cache={}):((lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map),(lineView.measure.caches||(lineView.measure.caches=[])).push({}))}if(webkit){var last=builder.content.lastChild;(/\\bcm-tab\\b/.test(last.className)||last.querySelector&&last.querySelector(\".cm-tab\"))&&(builder.content.className=\"cm-tab-wrap-hack\")}return signal(cm,\"renderLine\",cm,lineView.line,builder.pre),builder.pre.className&&(builder.textClass=joinClasses(builder.pre.className,builder.textClass||\"\")),builder}function defaultSpecialCharPlaceholder(ch){var token=elt(\"span\",\"•\",\"cm-invalidchar\");return token.title=\"\\\\u\"+ch.charCodeAt(0).toString(16),token.setAttribute(\"aria-label\",token.title),token}function buildToken(builder,text,style,startStyle,endStyle,css,attributes){if(text){var content,displayText=builder.splitSpaces?function(text,trailingBefore){if(text.length>1&&!/  /.test(text))return text;for(var spaceBefore=trailingBefore,result=\"\",i=0;i<text.length;i++){var ch=text.charAt(i);\" \"!=ch||!spaceBefore||i!=text.length-1&&32!=text.charCodeAt(i+1)||(ch=\" \"),result+=ch,spaceBefore=\" \"==ch}return result}(text,builder.trailingSpace):text,special=builder.cm.state.specialChars,mustWrap=!1;if(special.test(text)){content=document.createDocumentFragment();for(var pos=0;;){special.lastIndex=pos;var m=special.exec(text),skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));content.appendChild(ie&&ie_version<9?elt(\"span\",[txt]):txt),builder.map.push(builder.pos,builder.pos+skipped,txt),builder.col+=skipped,builder.pos+=skipped}if(!m)break;pos+=skipped+1;var txt$1=void 0;if(\"\\t\"==m[0]){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;(txt$1=content.appendChild(elt(\"span\",spaceStr(tabWidth),\"cm-tab\"))).setAttribute(\"role\",\"presentation\"),txt$1.setAttribute(\"cm-text\",\"\\t\"),builder.col+=tabWidth}else\"\\r\"==m[0]||\"\\n\"==m[0]?((txt$1=content.appendChild(elt(\"span\",\"\\r\"==m[0]?\"␍\":\"␤\",\"cm-invalidchar\"))).setAttribute(\"cm-text\",m[0]),builder.col+=1):((txt$1=builder.cm.options.specialCharPlaceholder(m[0])).setAttribute(\"cm-text\",m[0]),content.appendChild(ie&&ie_version<9?elt(\"span\",[txt$1]):txt$1),builder.col+=1);builder.map.push(builder.pos,builder.pos+1,txt$1),builder.pos++}}else builder.col+=text.length,content=document.createTextNode(displayText),builder.map.push(builder.pos,builder.pos+text.length,content),ie&&ie_version<9&&(mustWrap=!0),builder.pos+=text.length;if(builder.trailingSpace=32==displayText.charCodeAt(text.length-1),style||startStyle||endStyle||mustWrap||css){var fullStyle=style||\"\";startStyle&&(fullStyle+=startStyle),endStyle&&(fullStyle+=endStyle);var token=elt(\"span\",[content],fullStyle,css);if(attributes)for(var attr in attributes)attributes.hasOwnProperty(attr)&&\"style\"!=attr&&\"class\"!=attr&&token.setAttribute(attr,attributes[attr]);return builder.content.appendChild(token)}builder.content.appendChild(content)}}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,css,attributes){style=style?style+\" cm-force-border\":\"cm-force-border\";for(var start=builder.pos,end=start+text.length;;){for(var part=void 0,i=0;i<order.length&&!((part=order[i]).to>start&&part.from<=start);i++);if(part.to>=end)return inner(builder,text,style,startStyle,endStyle,css,attributes);inner(builder,text.slice(0,part.to-start),style,startStyle,null,css,attributes),startStyle=null,text=text.slice(part.to-start),start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;widget&&builder.map.push(builder.pos,builder.pos+size,widget),!ignoreWidget&&builder.cm.display.input.needsContentAttribute&&(widget||(widget=builder.content.appendChild(document.createElement(\"span\"))),widget.setAttribute(\"cm-marker\",marker.id)),widget&&(builder.cm.display.input.setUneditable(widget),builder.content.appendChild(widget)),builder.pos+=size,builder.trailingSpace=!1}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(spans)for(var style,css,spanStyle,spanEndStyle,spanStartStyle,collapsed,attributes,len=allText.length,pos=0,i=1,text=\"\",nextChange=0;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=css=\"\",attributes=null,collapsed=null,nextChange=1/0;for(var foundBookmarks=[],endStyles=void 0,j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if(\"bookmark\"==m.type&&sp.from==pos&&m.widgetNode)foundBookmarks.push(m);else if(sp.from<=pos&&(null==sp.to||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(null!=sp.to&&sp.to!=pos&&nextChange>sp.to&&(nextChange=sp.to,spanEndStyle=\"\"),m.className&&(spanStyle+=\" \"+m.className),m.css&&(css=(css?css+\";\":\"\")+m.css),m.startStyle&&sp.from==pos&&(spanStartStyle+=\" \"+m.startStyle),m.endStyle&&sp.to==nextChange&&(endStyles||(endStyles=[])).push(m.endStyle,sp.to),m.title&&((attributes||(attributes={})).title=m.title),m.attributes)for(var attr in m.attributes)(attributes||(attributes={}))[attr]=m.attributes[attr];m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0)&&(collapsed=sp)}else sp.from>pos&&nextChange>sp.from&&(nextChange=sp.from)}if(endStyles)for(var j$1=0;j$1<endStyles.length;j$1+=2)endStyles[j$1+1]==nextChange&&(spanEndStyle+=\" \"+endStyles[j$1]);if(!collapsed||collapsed.from==pos)for(var j$2=0;j$2<foundBookmarks.length;++j$2)buildCollapsedSpan(builder,0,foundBookmarks[j$2]);if(collapsed&&(collapsed.from||0)==pos){if(buildCollapsedSpan(builder,(null==collapsed.to?len+1:collapsed.to)-pos,collapsed.marker,null==collapsed.from),null==collapsed.to)return;collapsed.to==pos&&(collapsed=!1)}}if(pos>=len)break;for(var upto=Math.min(len,nextChange);;){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:\"\",css,attributes)}if(end>=upto){text=text.slice(upto-pos),pos=upto;break}pos=end,spanStartStyle=\"\"}text=allText.slice(at,at=styles[i++]),style=interpretTokenStyle(styles[i++],builder.cm.options)}}else for(var i$1=1;i$1<styles.length;i$1+=2)builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options))}function LineView(doc,line,lineN){this.line=line,this.rest=function(line){for(var merged,lines;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line,(lines||(lines=[])).push(line);return lines}(line),this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1,this.node=this.text=null,this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){for(var nextPos,array=[],pos=from;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size,array.push(view)}return array}var operationGroup=null,orphanDelayedCallbacks=null;function signalLater(emitter,type){var arr=getHandlers(emitter,type);if(arr.length){var list,args=Array.prototype.slice.call(arguments,2);operationGroup?list=operationGroup.delayedCallbacks:orphanDelayedCallbacks?list=orphanDelayedCallbacks:(list=orphanDelayedCallbacks=[],setTimeout(fireOrphanDelayed,0));for(var loop=function(i){list.push((function(){return arr[i].apply(null,args)}))},i=0;i<arr.length;++i)loop(i)}}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i)delayed[i]()}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];\"text\"==type?updateLineText(cm,lineView):\"gutter\"==type?updateLineGutter(cm,lineView,lineN,dims):\"class\"==type?updateLineClasses(cm,lineView):\"widget\"==type&&updateLineWidgets(cm,lineView,dims)}lineView.changes=null}function ensureLineWrapped(lineView){return lineView.node==lineView.text&&(lineView.node=elt(\"div\",null,null,\"position: relative\"),lineView.text.parentNode&&lineView.text.parentNode.replaceChild(lineView.node,lineView.text),lineView.node.appendChild(lineView.text),ie&&ie_version<8&&(lineView.node.style.zIndex=2)),lineView.node}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;return ext&&ext.line==lineView.line?(cm.display.externalMeasured=null,lineView.measure=ext.measure,ext.built):buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className,built=getLineContent(cm,lineView);lineView.text==lineView.node&&(lineView.node=built.pre),lineView.text.parentNode.replaceChild(built.pre,lineView.text),lineView.text=built.pre,built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass?(lineView.bgClass=built.bgClass,lineView.textClass=built.textClass,updateLineClasses(cm,lineView)):cls&&(lineView.text.className=cls)}function updateLineClasses(cm,lineView){!function(cm,lineView){var cls=lineView.bgClass?lineView.bgClass+\" \"+(lineView.line.bgClass||\"\"):lineView.line.bgClass;if(cls&&(cls+=\" CodeMirror-linebackground\"),lineView.background)cls?lineView.background.className=cls:(lineView.background.parentNode.removeChild(lineView.background),lineView.background=null);else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt(\"div\",null,cls),wrap.firstChild),cm.display.input.setUneditable(lineView.background)}}(cm,lineView),lineView.line.wrapClass?ensureLineWrapped(lineView).className=lineView.line.wrapClass:lineView.node!=lineView.text&&(lineView.node.className=\"\"),lineView.text.className=(lineView.textClass?lineView.textClass+\" \"+(lineView.line.textClass||\"\"):lineView.line.textClass)||\"\"}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter&&(lineView.node.removeChild(lineView.gutter),lineView.gutter=null),lineView.gutterBackground&&(lineView.node.removeChild(lineView.gutterBackground),lineView.gutterBackground=null),lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt(\"div\",null,\"CodeMirror-gutter-background \"+lineView.line.gutterClass,\"left: \"+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+\"px; width: \"+dims.gutterTotalWidth+\"px\"),cm.display.input.setUneditable(lineView.gutterBackground),wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView),gutterWrap=lineView.gutter=elt(\"div\",null,\"CodeMirror-gutter-wrapper\",\"left: \"+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+\"px\");if(cm.display.input.setUneditable(gutterWrap),wrap$1.insertBefore(gutterWrap,lineView.text),lineView.line.gutterClass&&(gutterWrap.className+=\" \"+lineView.line.gutterClass),!cm.options.lineNumbers||markers&&markers[\"CodeMirror-linenumbers\"]||(lineView.lineNumber=gutterWrap.appendChild(elt(\"div\",lineNumberFor(cm.options,lineN),\"CodeMirror-linenumber CodeMirror-gutter-elt\",\"left: \"+dims.gutterLeft[\"CodeMirror-linenumbers\"]+\"px; width: \"+cm.display.lineNumInnerWidth+\"px\"))),markers)for(var k=0;k<cm.display.gutterSpecs.length;++k){var id=cm.display.gutterSpecs[k].className,found=markers.hasOwnProperty(id)&&markers[id];found&&gutterWrap.appendChild(elt(\"div\",[found],\"CodeMirror-gutter-elt\",\"left: \"+dims.gutterLeft[id]+\"px; width: \"+dims.gutterWidth[id]+\"px\"))}}}function updateLineWidgets(cm,lineView,dims){lineView.alignable&&(lineView.alignable=null);for(var node=lineView.node.firstChild,next=void 0;node;node=next)next=node.nextSibling,\"CodeMirror-linewidget\"==node.className&&lineView.node.removeChild(node);insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);return lineView.text=lineView.node=built.pre,built.bgClass&&(lineView.bgClass=built.bgClass),built.textClass&&(lineView.textClass=built.textClass),updateLineClasses(cm,lineView),updateLineGutter(cm,lineView,lineN,dims),insertLineWidgets(cm,lineView,dims),lineView.node}function insertLineWidgets(cm,lineView,dims){if(insertLineWidgetsFor(cm,lineView.line,lineView,dims,!0),lineView.rest)for(var i=0;i<lineView.rest.length;i++)insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,!1)}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(line.widgets)for(var wrap=ensureLineWrapped(lineView),i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt(\"div\",[widget.node],\"CodeMirror-linewidget\");widget.handleMouseEvents||node.setAttribute(\"cm-ignore-events\",\"true\"),positionLineWidget(widget,node,lineView,dims),cm.display.input.setUneditable(node),allowAbove&&widget.above?wrap.insertBefore(node,lineView.gutter||lineView.text):wrap.appendChild(node),signalLater(widget,\"redraw\")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+\"px\",widget.coverGutter||(width-=dims.gutterTotalWidth,node.style.paddingLeft=dims.gutterTotalWidth+\"px\"),node.style.width=width+\"px\"}widget.coverGutter&&(node.style.zIndex=5,node.style.position=\"relative\",widget.noHScroll||(node.style.marginLeft=-dims.gutterTotalWidth+\"px\"))}function widgetHeight(widget){if(null!=widget.height)return widget.height;var cm=widget.doc.cm;if(!cm)return 0;if(!contains(document.body,widget.node)){var parentStyle=\"position: relative;\";widget.coverGutter&&(parentStyle+=\"margin-left: -\"+cm.display.gutters.offsetWidth+\"px;\"),widget.noHScroll&&(parentStyle+=\"width: \"+cm.display.wrapper.clientWidth+\"px;\"),removeChildrenAndAdd(cm.display.measure,elt(\"div\",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&\"true\"==n.getAttribute(\"cm-ignore-events\")||n.parentNode==display.sizer&&n!=display.mover)return!0}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt(\"pre\",\"x\",\"CodeMirror-line-like\")),style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};return isNaN(data.left)||isNaN(data.right)||(display.cachedPaddingH=data),data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function mapFromLineView(lineView,line,lineN){if(lineView.line==line)return{map:lineView.measure.map,cache:lineView.measure.cache};for(var i=0;i<lineView.rest.length;i++)if(lineView.rest[i]==line)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};for(var i$1=0;i$1<lineView.rest.length;i$1++)if(lineNo(lineView.rest[i$1])>lineN)return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:!0}}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;return ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size?ext:void 0}function prepareMeasureForLine(cm,line){var lineN=lineNo(line),view=findViewForLine(cm,lineN);view&&!view.text?view=null:view&&view.changes&&(updateLineForChanges(cm,view,lineN,getDimensions(cm)),cm.curOp.forceUpdate=!0),view||(view=function(cm,line){var lineN=lineNo(line=visualLine(line)),view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);return view.text=built.pre,removeChildrenAndAdd(cm.display.lineMeasure,built.pre),view}(cm,line));var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:!1}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){prepared.before&&(ch=-1);var found,key=ch+(bias||\"\");return prepared.cache.hasOwnProperty(key)?found=prepared.cache[key]:(prepared.rect||(prepared.rect=prepared.view.text.getBoundingClientRect()),prepared.hasHeights||(function(cm,lineView,rect){var wrapping=cm.options.lineWrapping,curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;for(var rects=lineView.text.firstChild.getClientRects(),i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];Math.abs(cur.bottom-next.bottom)>2&&heights.push((cur.bottom+next.top)/2-rect.top)}}heights.push(rect.bottom-rect.top)}}(cm,prepared.view,prepared.rect),prepared.hasHeights=!0),(found=function(cm,prepared,ch,bias){var rect,place=nodeAndOffsetInLineMap(prepared.map,ch,bias),node=place.node,start=place.start,end=place.end,collapse=place.collapse;if(3==node.nodeType){for(var i$1=0;i$1<4;i$1++){for(;start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start));)--start;for(;place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end));)++end;if((rect=ie&&ie_version<9&&0==start&&end==place.coverEnd-place.coverStart?node.parentNode.getBoundingClientRect():getUsefulRect(range(node,start,end).getClientRects(),bias)).left||rect.right||0==start)break;end=start,start-=1,collapse=\"right\"}ie&&ie_version<11&&(rect=function(measure,rect){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(measure){if(null!=badZoomedRects)return badZoomedRects;var node=removeChildrenAndAdd(measure,elt(\"span\",\"x\")),normal=node.getBoundingClientRect(),fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1}(measure))return rect;var scaleX=screen.logicalXDPI/screen.deviceXDPI,scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}(cm.display.measure,rect))}else{var rects;start>0&&(collapse=bias=\"right\"),rect=cm.options.lineWrapping&&(rects=node.getClientRects()).length>1?rects[\"right\"==bias?rects.length-1:0]:node.getBoundingClientRect()}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];rect=rSpan?{left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom}:nullRect}for(var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top,mid=(rtop+rbot)/2,heights=prepared.view.measure.heights,i=0;i<heights.length-1&&!(mid<heights[i]);i++);var result={left:(\"right\"==collapse?rect.right:rect.left)-prepared.rect.left,right:(\"left\"==collapse?rect.left:rect.right)-prepared.rect.left,top:i?heights[i-1]:0,bottom:heights[i]};return rect.left||rect.right||(result.bogus=!0),cm.options.singleCursorHeightPerLine||(result.rtop=rtop,result.rbottom=rbot),result}(cm,prepared,ch,bias)).bogus||(prepared.cache[key]=found)),{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}var measureText,nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map$$1,ch,bias){for(var node,start,end,collapse,mStart,mEnd,i=0;i<map$$1.length;i+=3)if(mEnd=map$$1[i+1],ch<(mStart=map$$1[i])?(start=0,end=1,collapse=\"left\"):ch<mEnd?end=1+(start=ch-mStart):(i==map$$1.length-3||ch==mEnd&&map$$1[i+3]>ch)&&(start=(end=mEnd-mStart)-1,ch>=mEnd&&(collapse=\"right\")),null!=start){if(node=map$$1[i+2],mStart==mEnd&&bias==(node.insertLeft?\"left\":\"right\")&&(collapse=bias),\"left\"==bias&&0==start)for(;i&&map$$1[i-2]==map$$1[i-3]&&map$$1[i-1].insertLeft;)node=map$$1[2+(i-=3)],collapse=\"left\";if(\"right\"==bias&&start==mEnd-mStart)for(;i<map$$1.length-3&&map$$1[i+3]==map$$1[i+4]&&!map$$1[i+5].insertLeft;)node=map$$1[(i+=3)+2],collapse=\"right\";break}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}function getUsefulRect(rects,bias){var rect=nullRect;if(\"left\"==bias)for(var i=0;i<rects.length&&(rect=rects[i]).left==rect.right;i++);else for(var i$1=rects.length-1;i$1>=0&&(rect=rects[i$1]).left==rect.right;i$1--);return rect}function clearLineMeasurementCacheFor(lineView){if(lineView.measure&&(lineView.measure.cache={},lineView.measure.heights=null,lineView.rest))for(var i=0;i<lineView.rest.length;i++)lineView.measure.caches[i]={}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null,removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++)clearLineMeasurementCacheFor(cm.display.view[i])}function clearCaches(cm){clearLineMeasurementCache(cm),cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null,cm.options.lineWrapping||(cm.display.maxLineChanged=!0),cm.display.lineNumChars=null}function pageScrollX(){return chrome&&android?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return chrome&&android?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function widgetTopHeight(lineObj){var height=0;if(lineObj.widgets)for(var i=0;i<lineObj.widgets.length;++i)lineObj.widgets[i].above&&(height+=widgetHeight(lineObj.widgets[i]));return height}function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){if(!includeWidgets){var height=widgetTopHeight(lineObj);rect.top+=height,rect.bottom+=height}if(\"line\"==context)return rect;context||(context=\"local\");var yOff=heightAtLine(lineObj);if(\"local\"==context?yOff+=paddingTop(cm.display):yOff-=cm.display.viewOffset,\"page\"==context||\"window\"==context){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+(\"window\"==context?0:pageScrollY());var xOff=lOff.left+(\"window\"==context?0:pageScrollX());rect.left+=xOff,rect.right+=xOff}return rect.top+=yOff,rect.bottom+=yOff,rect}function fromCoordSystem(cm,coords,context){if(\"div\"==context)return coords;var left=coords.left,top=coords.top;if(\"page\"==context)left-=pageScrollX(),top-=pageScrollY();else if(\"local\"==context||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left,top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){return lineObj||(lineObj=getLine(cm.doc,pos.line)),intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?\"right\":\"left\",varHeight);return right?m.left=m.right:m.right=m.left,intoCoordSystem(cm,lineObj,m,context)}lineObj=lineObj||getLine(cm.doc,pos.line),preparedMeasure||(preparedMeasure=prepareMeasureForLine(cm,lineObj));var order=getOrder(lineObj,cm.doc.direction),ch=pos.ch,sticky=pos.sticky;if(ch>=lineObj.text.length?(ch=lineObj.text.length,sticky=\"before\"):ch<=0&&(ch=0,sticky=\"after\"),!order)return get(\"before\"==sticky?ch-1:ch,\"before\"==sticky);function getBidi(ch,partPos,invert){return get(invert?ch-1:ch,1==order[partPos].level!=invert)}var partPos=getBidiPartAt(order,ch,sticky),other=bidiOther,val=getBidi(ch,partPos,\"before\"==sticky);return null!=other&&(val.other=getBidi(ch,other,\"before\"!=sticky)),val}function estimateCoords(cm,pos){var left=0;pos=clipPos(cm.doc,pos),cm.options.lineWrapping||(left=charWidth(cm.display)*pos.ch);var lineObj=getLine(cm.doc,pos.line),top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,sticky,outside,xRel){var pos=Pos(line,ch,sticky);return pos.xRel=xRel,outside&&(pos.outside=outside),pos}function coordsChar(cm,x,y){var doc=cm.doc;if((y+=cm.display.viewOffset)<0)return PosWithInfo(doc.first,0,null,-1,-1);var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,null,1,1);x<0&&(x=0);for(var lineObj=getLine(doc,lineN);;){var found=coordsCharInner(cm,lineObj,lineN,x,y),collapsed=collapsedSpanAround(lineObj,found.ch+(found.xRel>0||found.outside>0?1:0));if(!collapsed)return found;var rangeEnd=collapsed.find(1);if(rangeEnd.line==lineN)return rangeEnd;lineObj=getLine(doc,lineN=rangeEnd.line)}}function wrappedLineExtent(cm,lineObj,preparedMeasure,y){y-=widgetTopHeight(lineObj);var end=lineObj.text.length,begin=findFirst((function(ch){return measureCharPrepared(cm,preparedMeasure,ch-1).bottom<=y}),end,0);return{begin:begin,end:end=findFirst((function(ch){return measureCharPrepared(cm,preparedMeasure,ch).top>y}),begin,end)}}function wrappedLineExtentChar(cm,lineObj,preparedMeasure,target){return preparedMeasure||(preparedMeasure=prepareMeasureForLine(cm,lineObj)),wrappedLineExtent(cm,lineObj,preparedMeasure,intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,target),\"line\").top)}function boxIsAfter(box,x,y,left){return!(box.bottom<=y)&&(box.top>y||(left?box.left:box.right)>x)}function coordsCharInner(cm,lineObj,lineNo$$1,x,y){y-=heightAtLine(lineObj);var preparedMeasure=prepareMeasureForLine(cm,lineObj),widgetHeight$$1=widgetTopHeight(lineObj),begin=0,end=lineObj.text.length,ltr=!0,order=getOrder(lineObj,cm.doc.direction);if(order){var part=(cm.options.lineWrapping?coordsBidiPartWrapped:coordsBidiPart)(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y);begin=(ltr=1!=part.level)?part.from:part.to-1,end=ltr?part.to:part.from-1}var baseX,sticky,chAround=null,boxAround=null,ch=findFirst((function(ch){var box=measureCharPrepared(cm,preparedMeasure,ch);return box.top+=widgetHeight$$1,box.bottom+=widgetHeight$$1,!!boxIsAfter(box,x,y,!1)&&(box.top<=y&&box.left<=x&&(chAround=ch,boxAround=box),!0)}),begin,end),outside=!1;if(boxAround){var atLeft=x-boxAround.left<boxAround.right-x,atStart=atLeft==ltr;ch=chAround+(atStart?0:1),sticky=atStart?\"after\":\"before\",baseX=atLeft?boxAround.left:boxAround.right}else{ltr||ch!=end&&ch!=begin||ch++,sticky=0==ch?\"after\":ch==lineObj.text.length?\"before\":measureCharPrepared(cm,preparedMeasure,ch-(ltr?1:0)).bottom+widgetHeight$$1<=y==ltr?\"after\":\"before\";var coords=cursorCoords(cm,Pos(lineNo$$1,ch,sticky),\"line\",lineObj,preparedMeasure);baseX=coords.left,outside=y<coords.top?-1:y>=coords.bottom?1:0}return PosWithInfo(lineNo$$1,ch=skipExtendingChars(lineObj.text,ch,1),sticky,outside,x-baseX)}function coordsBidiPart(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y){var index=findFirst((function(i){var part=order[i],ltr=1!=part.level;return boxIsAfter(cursorCoords(cm,Pos(lineNo$$1,ltr?part.to:part.from,ltr?\"before\":\"after\"),\"line\",lineObj,preparedMeasure),x,y,!0)}),0,order.length-1),part=order[index];if(index>0){var ltr=1!=part.level,start=cursorCoords(cm,Pos(lineNo$$1,ltr?part.from:part.to,ltr?\"after\":\"before\"),\"line\",lineObj,preparedMeasure);boxIsAfter(start,x,y,!0)&&start.top>y&&(part=order[index-1])}return part}function coordsBidiPartWrapped(cm,lineObj,_lineNo,preparedMeasure,order,x,y){var ref=wrappedLineExtent(cm,lineObj,preparedMeasure,y),begin=ref.begin,end=ref.end;/\\s/.test(lineObj.text.charAt(end-1))&&end--;for(var part=null,closestDist=null,i=0;i<order.length;i++){var p=order[i];if(!(p.from>=end||p.to<=begin)){var endX=measureCharPrepared(cm,preparedMeasure,1!=p.level?Math.min(end,p.to)-1:Math.max(begin,p.from)).right,dist=endX<x?x-endX+1e9:endX-x;(!part||closestDist>dist)&&(part=p,closestDist=dist)}}return part||(part=order[order.length-1]),part.from<begin&&(part={from:begin,to:part.to,level:part.level}),part.to>end&&(part={from:part.from,to:end,level:part.level}),part}function textHeight(display){if(null!=display.cachedTextHeight)return display.cachedTextHeight;if(null==measureText){measureText=elt(\"pre\",null,\"CodeMirror-line-like\");for(var i=0;i<49;++i)measureText.appendChild(document.createTextNode(\"x\")),measureText.appendChild(elt(\"br\"));measureText.appendChild(document.createTextNode(\"x\"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;return height>3&&(display.cachedTextHeight=height),removeChildren(display.measure),height||1}function charWidth(display){if(null!=display.cachedCharWidth)return display.cachedCharWidth;var anchor=elt(\"span\",\"xxxxxxxxxx\"),pre=elt(\"pre\",[anchor],\"CodeMirror-line-like\");removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;return width>2&&(display.cachedCharWidth=width),width||10}function getDimensions(cm){for(var d=cm.display,left={},width={},gutterLeft=d.gutters.clientLeft,n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){var id=cm.display.gutterSpecs[i].className;left[id]=n.offsetLeft+n.clientLeft+gutterLeft,width[id]=n.clientWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping,perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++)line.widgets[i].height&&(widgetsHeight+=line.widgets[i].height);return wrapping?widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th:widgetsHeight+th}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter((function(line){var estHeight=est(line);estHeight!=line.height&&updateLineHeight(line,estHeight)}))}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&\"true\"==e_target(e).getAttribute(\"cm-not-content\"))return null;var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left,y=e.clientY-space.top}catch(e){return null}var line,coords=coordsChar(cm,x,y);if(forRect&&1==coords.xRel&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;if((n-=cm.display.viewFrom)<0)return null;for(var view=cm.display.view,i=0;i<view.length;i++)if((n-=view[i].size)<0)return i}function regChange(cm,from,to,lendiff){null==from&&(from=cm.doc.first),null==to&&(to=cm.doc.first+cm.doc.size),lendiff||(lendiff=0);var display=cm.display;if(lendiff&&to<display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>from)&&(display.updateLineNumbers=from),cm.curOp.viewChanged=!0,from>=display.viewTo)sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo&&resetView(cm);else if(to<=display.viewFrom)sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom?resetView(cm):(display.viewFrom+=lendiff,display.viewTo+=lendiff);else if(from<=display.viewFrom&&to>=display.viewTo)resetView(cm);else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);cut?(display.view=display.view.slice(cut.index),display.viewFrom=cut.lineN,display.viewTo+=lendiff):resetView(cm)}else if(to>=display.viewTo){var cut$1=viewCuttingPoint(cm,from,from,-1);cut$1?(display.view=display.view.slice(0,cut$1.index),display.viewTo=cut$1.lineN):resetView(cm)}else{var cutTop=viewCuttingPoint(cm,from,from,-1),cutBot=viewCuttingPoint(cm,to,to+lendiff,1);cutTop&&cutBot?(display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index)),display.viewTo+=lendiff):resetView(cm)}var ext=display.externalMeasured;ext&&(to<ext.lineN?ext.lineN+=lendiff:from<ext.lineN+ext.size&&(display.externalMeasured=null))}function regLineChange(cm,line,type){cm.curOp.viewChanged=!0;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size&&(display.externalMeasured=null),!(line<display.viewFrom||line>=display.viewTo)){var lineView=display.view[findViewIndex(cm,line)];if(null!=lineView.node){var arr=lineView.changes||(lineView.changes=[]);-1==indexOf(arr,type)&&arr.push(type)}}}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first,cm.display.view=[],cm.display.viewOffset=0}function viewCuttingPoint(cm,oldN,newN,dir){var diff,index=findViewIndex(cm,oldN),view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)return{index:index,lineN:newN};for(var n=cm.display.viewFrom,i=0;i<index;i++)n+=view[i].size;if(n!=oldN){if(dir>0){if(index==view.length-1)return null;diff=n+view[index].size-oldN,index++}else diff=n-oldN;oldN+=diff,newN+=diff}for(;visualLineNo(cm.doc,newN)!=newN;){if(index==(dir<0?0:view.length-1))return null;newN+=dir*view[index-(dir<0?1:0)].size,index+=dir}return{index:index,lineN:newN}}function countDirtyView(cm){for(var view=cm.display.view,dirty=0,i=0;i<view.length;i++){var lineView=view[i];lineView.hidden||lineView.node&&!lineView.changes||++dirty}return dirty}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){void 0===primary&&(primary=!0);for(var doc=cm.doc,result={},curFragment=result.cursors=document.createDocumentFragment(),selFragment=result.selection=document.createDocumentFragment(),i=0;i<doc.sel.ranges.length;i++)if(primary||i!=doc.sel.primIndex){var range$$1=doc.sel.ranges[i];if(!(range$$1.from().line>=cm.display.viewTo||range$$1.to().line<cm.display.viewFrom)){var collapsed=range$$1.empty();(collapsed||cm.options.showCursorWhenSelecting)&&drawSelectionCursor(cm,range$$1.head,curFragment),collapsed||drawSelectionRange(cm,range$$1,selFragment)}}return result}function drawSelectionCursor(cm,head,output){var pos=cursorCoords(cm,head,\"div\",null,null,!cm.options.singleCursorHeightPerLine),cursor=output.appendChild(elt(\"div\",\" \",\"CodeMirror-cursor\"));if(cursor.style.left=pos.left+\"px\",cursor.style.top=pos.top+\"px\",cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+\"px\",pos.other){var otherCursor=output.appendChild(elt(\"div\",\" \",\"CodeMirror-cursor CodeMirror-secondarycursor\"));otherCursor.style.display=\"\",otherCursor.style.left=pos.other.left+\"px\",otherCursor.style.top=pos.other.top+\"px\",otherCursor.style.height=.85*(pos.other.bottom-pos.other.top)+\"px\"}}function cmpCoords(a,b){return a.top-b.top||a.left-b.left}function drawSelectionRange(cm,range$$1,output){var display=cm.display,doc=cm.doc,fragment=document.createDocumentFragment(),padding=paddingH(cm.display),leftSide=padding.left,rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right,docLTR=\"ltr\"==doc.direction;function add(left,top,width,bottom){top<0&&(top=0),top=Math.round(top),bottom=Math.round(bottom),fragment.appendChild(elt(\"div\",null,\"CodeMirror-selected\",\"position: absolute; left: \"+left+\"px;\\n                             top: \"+top+\"px; width: \"+(null==width?rightSide-left:width)+\"px;\\n                             height: \"+(bottom-top)+\"px\"))}function drawForLine(line,fromArg,toArg){var start,end,lineObj=getLine(doc,line),lineLen=lineObj.text.length;function coords(ch,bias){return charCoords(cm,Pos(line,ch),\"div\",lineObj,bias)}function wrapX(pos,dir,side){var extent=wrappedLineExtentChar(cm,lineObj,null,pos),prop=\"ltr\"==dir==(\"after\"==side)?\"left\":\"right\";return coords(\"after\"==side?extent.begin:extent.end-(/\\s/.test(lineObj.text.charAt(extent.end-1))?2:1),prop)[prop]}var order=getOrder(lineObj,doc.direction);return function(order,from,to,f){if(!order)return f(from,to,\"ltr\",0);for(var found=!1,i=0;i<order.length;++i){var part=order[i];(part.from<to&&part.to>from||from==to&&part.to==from)&&(f(Math.max(part.from,from),Math.min(part.to,to),1==part.level?\"rtl\":\"ltr\",i),found=!0)}found||f(from,to,\"ltr\")}(order,fromArg||0,null==toArg?lineLen:toArg,(function(from,to,dir,i){var ltr=\"ltr\"==dir,fromPos=coords(from,ltr?\"left\":\"right\"),toPos=coords(to-1,ltr?\"right\":\"left\"),openStart=null==fromArg&&0==from,openEnd=null==toArg&&to==lineLen,first=0==i,last=!order||i==order.length-1;if(toPos.top-fromPos.top<=3){var left=(docLTR?openStart:openEnd)&&first?leftSide:(ltr?fromPos:toPos).left;add(left,fromPos.top,((docLTR?openEnd:openStart)&&last?rightSide:(ltr?toPos:fromPos).right)-left,fromPos.bottom)}else{var topLeft,topRight,botLeft,botRight;ltr?(topLeft=docLTR&&openStart&&first?leftSide:fromPos.left,topRight=docLTR?rightSide:wrapX(from,dir,\"before\"),botLeft=docLTR?leftSide:wrapX(to,dir,\"after\"),botRight=docLTR&&openEnd&&last?rightSide:toPos.right):(topLeft=docLTR?wrapX(from,dir,\"before\"):leftSide,topRight=!docLTR&&openStart&&first?rightSide:fromPos.right,botLeft=!docLTR&&openEnd&&last?leftSide:toPos.left,botRight=docLTR?wrapX(to,dir,\"after\"):rightSide),add(topLeft,fromPos.top,topRight-topLeft,fromPos.bottom),fromPos.bottom<toPos.top&&add(leftSide,fromPos.bottom,null,toPos.top),add(botLeft,toPos.top,botRight-botLeft,toPos.bottom)}(!start||cmpCoords(fromPos,start)<0)&&(start=fromPos),cmpCoords(toPos,start)<0&&(start=toPos),(!end||cmpCoords(fromPos,end)<0)&&(end=fromPos),cmpCoords(toPos,end)<0&&(end=toPos)})),{start:start,end:end}}var sFrom=range$$1.from(),sTo=range$$1.to();if(sFrom.line==sTo.line)drawForLine(sFrom.line,sFrom.ch,sTo.ch);else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line),singleVLine=visualLine(fromLine)==visualLine(toLine),leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end,rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;singleVLine&&(leftEnd.top<rightStart.top-2?(add(leftEnd.right,leftEnd.top,null,leftEnd.bottom),add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)):add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)),leftEnd.bottom<rightStart.top&&add(leftSide,leftEnd.bottom,null,rightStart.top)}output.appendChild(fragment)}function restartBlink(cm){if(cm.state.focused){var display=cm.display;clearInterval(display.blinker);var on=!0;display.cursorDiv.style.visibility=\"\",cm.options.cursorBlinkRate>0?display.blinker=setInterval((function(){return display.cursorDiv.style.visibility=(on=!on)?\"\":\"hidden\"}),cm.options.cursorBlinkRate):cm.options.cursorBlinkRate<0&&(display.cursorDiv.style.visibility=\"hidden\")}}function ensureFocus(cm){cm.state.focused||(cm.display.input.focus(),onFocus(cm))}function delayBlurEvent(cm){cm.state.delayingBlurEvent=!0,setTimeout((function(){cm.state.delayingBlurEvent&&(cm.state.delayingBlurEvent=!1,onBlur(cm))}),100)}function onFocus(cm,e){cm.state.delayingBlurEvent&&(cm.state.delayingBlurEvent=!1),\"nocursor\"!=cm.options.readOnly&&(cm.state.focused||(signal(cm,\"focus\",cm,e),cm.state.focused=!0,addClass(cm.display.wrapper,\"CodeMirror-focused\"),cm.curOp||cm.display.selForContextMenu==cm.doc.sel||(cm.display.input.reset(),webkit&&setTimeout((function(){return cm.display.input.reset(!0)}),20)),cm.display.input.receivedFocus()),restartBlink(cm))}function onBlur(cm,e){cm.state.delayingBlurEvent||(cm.state.focused&&(signal(cm,\"blur\",cm,e),cm.state.focused=!1,rmClass(cm.display.wrapper,\"CodeMirror-focused\")),clearInterval(cm.display.blinker),setTimeout((function(){cm.state.focused||(cm.display.shift=!1)}),150))}function updateHeightsInViewport(cm){for(var display=cm.display,prevBottom=display.lineDiv.offsetTop,i=0;i<display.view.length;i++){var cur=display.view[i],wrapping=cm.options.lineWrapping,height=void 0,width=0;if(!cur.hidden){if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom,prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top,!wrapping&&cur.text.firstChild&&(width=cur.text.firstChild.getBoundingClientRect().right-box.left-1)}var diff=cur.line.height-height;if((diff>.005||diff<-.005)&&(updateLineHeight(cur.line,height),updateWidgetHeight(cur.line),cur.rest))for(var j=0;j<cur.rest.length;j++)updateWidgetHeight(cur.rest[j]);if(width>cm.display.sizerWidth){var chWidth=Math.ceil(width/charWidth(cm.display));chWidth>cm.display.maxLineLength&&(cm.display.maxLineLength=chWidth,cm.display.maxLine=cur.line,cm.display.maxLineChanged=!0)}}}}function updateWidgetHeight(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i){var w=line.widgets[i],parent=w.node.parentNode;parent&&(w.height=parent.offsetHeight)}}function visibleLines(display,doc,viewport){var top=viewport&&null!=viewport.top?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&null!=viewport.bottom?viewport.bottom:top+display.wrapper.clientHeight,from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;ensureFrom<from?(from=ensureFrom,to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)):Math.min(ensureTo,doc.lastLine())>=to&&(from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight),to=ensureTo)}return{from:from,to:Math.max(to,from+1)}}function calculateScrollPos(cm,rect){var display=cm.display,snapMargin=textHeight(cm.display);rect.top<0&&(rect.top=0);var screentop=cm.curOp&&null!=cm.curOp.scrollTop?cm.curOp.scrollTop:display.scroller.scrollTop,screen=displayHeight(cm),result={};rect.bottom-rect.top>screen&&(rect.bottom=rect.top+screen);var docBottom=cm.doc.height+paddingVert(display),atBottom=rect.bottom>docBottom-snapMargin;if(rect.top<screentop)result.scrollTop=rect.top<snapMargin?0:rect.top;else if(rect.bottom>screentop+screen){var newTop=Math.min(rect.top,(atBottom?docBottom:rect.bottom)-screen);newTop!=screentop&&(result.scrollTop=newTop)}var screenleft=cm.curOp&&null!=cm.curOp.scrollLeft?cm.curOp.scrollLeft:display.scroller.scrollLeft,screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0),tooWide=rect.right-rect.left>screenw;return tooWide&&(rect.right=rect.left+screenw),rect.left<10?result.scrollLeft=0:rect.left<screenleft?result.scrollLeft=Math.max(0,rect.left-(tooWide?0:10)):rect.right>screenw+screenleft-3&&(result.scrollLeft=rect.right+(tooWide?0:10)-screenw),result}function addToScrollTop(cm,top){null!=top&&(resolveScrollToPos(cm),cm.curOp.scrollTop=(null==cm.curOp.scrollTop?cm.doc.scrollTop:cm.curOp.scrollTop)+top)}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor();cm.curOp.scrollToPos={from:cur,to:cur,margin:cm.options.cursorScrollMargin}}function scrollToCoords(cm,x,y){null==x&&null==y||resolveScrollToPos(cm),null!=x&&(cm.curOp.scrollLeft=x),null!=y&&(cm.curOp.scrollTop=y)}function resolveScrollToPos(cm){var range$$1=cm.curOp.scrollToPos;range$$1&&(cm.curOp.scrollToPos=null,scrollToCoordsRange(cm,estimateCoords(cm,range$$1.from),estimateCoords(cm,range$$1.to),range$$1.margin))}function scrollToCoordsRange(cm,from,to,margin){var sPos=calculateScrollPos(cm,{left:Math.min(from.left,to.left),top:Math.min(from.top,to.top)-margin,right:Math.max(from.right,to.right),bottom:Math.max(from.bottom,to.bottom)+margin});scrollToCoords(cm,sPos.scrollLeft,sPos.scrollTop)}function updateScrollTop(cm,val){Math.abs(cm.doc.scrollTop-val)<2||(gecko||updateDisplaySimple(cm,{top:val}),setScrollTop(cm,val,!0),gecko&&updateDisplaySimple(cm),startWorker(cm,100))}function setScrollTop(cm,val,forceScroll){val=Math.min(cm.display.scroller.scrollHeight-cm.display.scroller.clientHeight,val),(cm.display.scroller.scrollTop!=val||forceScroll)&&(cm.doc.scrollTop=val,cm.display.scrollbars.setScrollTop(val),cm.display.scroller.scrollTop!=val&&(cm.display.scroller.scrollTop=val))}function setScrollLeft(cm,val,isScroller,forceScroll){val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth),(isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)&&!forceScroll||(cm.doc.scrollLeft=val,alignHorizontally(cm),cm.display.scroller.scrollLeft!=val&&(cm.display.scroller.scrollLeft=val),cm.display.scrollbars.setScrollLeft(val))}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth,docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}var NativeScrollbars=function(place,scroll,cm){this.cm=cm;var vert=this.vert=elt(\"div\",[elt(\"div\",null,null,\"min-width: 1px\")],\"CodeMirror-vscrollbar\"),horiz=this.horiz=elt(\"div\",[elt(\"div\",null,null,\"height: 100%; min-height: 1px\")],\"CodeMirror-hscrollbar\");vert.tabIndex=horiz.tabIndex=-1,place(vert),place(horiz),on(vert,\"scroll\",(function(){vert.clientHeight&&scroll(vert.scrollTop,\"vertical\")})),on(horiz,\"scroll\",(function(){horiz.clientWidth&&scroll(horiz.scrollLeft,\"horizontal\")})),this.checkedZeroWidth=!1,ie&&ie_version<8&&(this.horiz.style.minHeight=this.vert.style.minWidth=\"18px\")};NativeScrollbars.prototype.update=function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1,needsV=measure.scrollHeight>measure.clientHeight+1,sWidth=measure.nativeBarWidth;return needsV?(this.vert.style.display=\"block\",this.vert.style.bottom=needsH?sWidth+\"px\":\"0\",this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+(measure.viewHeight-(needsH?sWidth:0)))+\"px\"):(this.vert.style.display=\"\",this.vert.firstChild.style.height=\"0\"),needsH?(this.horiz.style.display=\"block\",this.horiz.style.right=needsV?sWidth+\"px\":\"0\",this.horiz.style.left=measure.barLeft+\"px\",this.horiz.firstChild.style.width=Math.max(0,measure.scrollWidth-measure.clientWidth+(measure.viewWidth-measure.barLeft-(needsV?sWidth:0)))+\"px\"):(this.horiz.style.display=\"\",this.horiz.firstChild.style.width=\"0\"),!this.checkedZeroWidth&&measure.clientHeight>0&&(0==sWidth&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:needsV?sWidth:0,bottom:needsH?sWidth:0}},NativeScrollbars.prototype.setScrollLeft=function(pos){this.horiz.scrollLeft!=pos&&(this.horiz.scrollLeft=pos),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,\"horiz\")},NativeScrollbars.prototype.setScrollTop=function(pos){this.vert.scrollTop!=pos&&(this.vert.scrollTop=pos),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,\"vert\")},NativeScrollbars.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=mac&&!mac_geMountainLion?\"12px\":\"18px\",this.horiz.style.pointerEvents=this.vert.style.pointerEvents=\"none\",this.disableHoriz=new Delayed,this.disableVert=new Delayed},NativeScrollbars.prototype.enableZeroWidthBar=function(bar,delay,type){bar.style.pointerEvents=\"auto\",delay.set(1e3,(function maybeDisable(){var box=bar.getBoundingClientRect();(\"vert\"==type?document.elementFromPoint(box.right-1,(box.top+box.bottom)/2):document.elementFromPoint((box.right+box.left)/2,box.bottom-1))!=bar?bar.style.pointerEvents=\"none\":delay.set(1e3,maybeDisable)}))},NativeScrollbars.prototype.clear=function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz),parent.removeChild(this.vert)};var NullScrollbars=function(){};function updateScrollbars(cm,measure){measure||(measure=measureForScrollbars(cm));var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++)startWidth!=cm.display.barWidth&&cm.options.lineWrapping&&updateHeightsInViewport(cm),updateScrollbarsInner(cm,measureForScrollbars(cm)),startWidth=cm.display.barWidth,startHeight=cm.display.barHeight}function updateScrollbarsInner(cm,measure){var d=cm.display,sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+\"px\",d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+\"px\",d.heightForcer.style.borderBottom=sizes.bottom+\"px solid transparent\",sizes.right&&sizes.bottom?(d.scrollbarFiller.style.display=\"block\",d.scrollbarFiller.style.height=sizes.bottom+\"px\",d.scrollbarFiller.style.width=sizes.right+\"px\"):d.scrollbarFiller.style.display=\"\",sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter?(d.gutterFiller.style.display=\"block\",d.gutterFiller.style.height=sizes.bottom+\"px\",d.gutterFiller.style.width=measure.gutterWidth+\"px\"):d.gutterFiller.style.display=\"\"}NullScrollbars.prototype.update=function(){return{bottom:0,right:0}},NullScrollbars.prototype.setScrollLeft=function(){},NullScrollbars.prototype.setScrollTop=function(){},NullScrollbars.prototype.clear=function(){};var scrollbarModel={native:NativeScrollbars,null:NullScrollbars};function initScrollbars(cm){cm.display.scrollbars&&(cm.display.scrollbars.clear(),cm.display.scrollbars.addClass&&rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)),cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle]((function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller),on(node,\"mousedown\",(function(){cm.state.focused&&setTimeout((function(){return cm.display.input.focus()}),0)})),node.setAttribute(\"cm-not-content\",\"true\")}),(function(pos,axis){\"horizontal\"==axis?setScrollLeft(cm,pos):updateScrollTop(cm,pos)}),cm),cm.display.scrollbars.addClass&&addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}var nextOpId=0;function startOperation(cm){var op;cm.curOp={cm:cm,viewChanged:!1,startHeight:cm.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++nextOpId},op=cm.curOp,operationGroup?operationGroup.ops.push(op):op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]}}function endOperation(cm){var op=cm.curOp;op&&function(op,endCb){var group=op.ownsGroup;if(group)try{!function(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++)callbacks[i].call(null);for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers)for(;op.cursorActivityCalled<op.cursorActivityHandlers.length;)op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}while(i<callbacks.length)}(group)}finally{operationGroup=null,function(group){for(var i=0;i<group.ops.length;i++)group.ops[i].cm.curOp=null;!function(group){for(var ops=group.ops,i=0;i<ops.length;i++)endOperation_R1(ops[i]);for(var i$1=0;i$1<ops.length;i$1++)(op=ops[i$1]).updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update);for(var op,i$2=0;i$2<ops.length;i$2++)endOperation_R2(ops[i$2]);for(var i$3=0;i$3<ops.length;i$3++)endOperation_W2(ops[i$3]);for(var i$4=0;i$4<ops.length;i$4++)endOperation_finish(ops[i$4])}(group)}(group)}}(op)}function endOperation_R1(op){var cm=op.cm,display=cm.display;!function(cm){var display=cm.display;!display.scrollbarsClipped&&display.scroller.offsetWidth&&(display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth,display.heightForcer.style.height=scrollGap(cm)+\"px\",display.sizer.style.marginBottom=-display.nativeBarWidth+\"px\",display.sizer.style.borderRightWidth=scrollGap(cm)+\"px\",display.scrollbarsClipped=!0)}(cm),op.updateMaxLine&&findMaxLine(cm),op.mustUpdate=op.viewChanged||op.forceUpdate||null!=op.scrollTop||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping,op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_R2(op){var cm=op.cm,display=cm.display;op.updatedDisplay&&updateHeightsInViewport(cm),op.barMeasure=measureForScrollbars(cm),display.maxLineChanged&&!cm.options.lineWrapping&&(op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3,cm.display.sizerWidth=op.adjustWidthTo,op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth),op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))),(op.updatedDisplay||op.selectionChanged)&&(op.preparedSelection=display.input.prepareSelection())}function endOperation_W2(op){var cm=op.cm;null!=op.adjustWidthTo&&(cm.display.sizer.style.minWidth=op.adjustWidthTo+\"px\",op.maxScrollLeft<cm.doc.scrollLeft&&setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),!0),cm.display.maxLineChanged=!1);var takeFocus=op.focus&&op.focus==activeElt();op.preparedSelection&&cm.display.input.showSelection(op.preparedSelection,takeFocus),(op.updatedDisplay||op.startHeight!=cm.doc.height)&&updateScrollbars(cm,op.barMeasure),op.updatedDisplay&&setDocumentHeight(cm,op.barMeasure),op.selectionChanged&&restartBlink(cm),cm.state.focused&&op.updateInput&&cm.display.input.reset(op.typing),takeFocus&&ensureFocus(op.cm)}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;op.updatedDisplay&&postUpdateDisplay(cm,op.update),null==display.wheelStartX||null==op.scrollTop&&null==op.scrollLeft&&!op.scrollToPos||(display.wheelStartX=display.wheelStartY=null),null!=op.scrollTop&&setScrollTop(cm,op.scrollTop,op.forceScroll),null!=op.scrollLeft&&setScrollLeft(cm,op.scrollLeft,!0,!0),op.scrollToPos&&function(cm,rect){if(!signalDOMEvent(cm,\"scrollCursorIntoView\")){var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(rect.top+box.top<0?doScroll=!0:rect.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)&&(doScroll=!1),null!=doScroll&&!phantom){var scrollNode=elt(\"div\",\"​\",null,\"position: absolute;\\n                         top: \"+(rect.top-display.viewOffset-paddingTop(cm.display))+\"px;\\n                         height: \"+(rect.bottom-rect.top+scrollGap(cm)+display.barHeight)+\"px;\\n                         left: \"+rect.left+\"px; width: \"+Math.max(2,rect.right-rect.left)+\"px;\");cm.display.lineSpace.appendChild(scrollNode),scrollNode.scrollIntoView(doScroll),cm.display.lineSpace.removeChild(scrollNode)}}}(cm,function(cm,pos,end,margin){var rect;null==margin&&(margin=0),cm.options.lineWrapping||pos!=end||(end=\"before\"==(pos=pos.ch?Pos(pos.line,\"before\"==pos.sticky?pos.ch-1:pos.ch,\"after\"):pos).sticky?Pos(pos.line,pos.ch+1,\"before\"):pos);for(var limit=0;limit<5;limit++){var changed=!1,coords=cursorCoords(cm,pos),endCoords=end&&end!=pos?cursorCoords(cm,end):coords,scrollPos=calculateScrollPos(cm,rect={left:Math.min(coords.left,endCoords.left),top:Math.min(coords.top,endCoords.top)-margin,right:Math.max(coords.left,endCoords.left),bottom:Math.max(coords.bottom,endCoords.bottom)+margin}),startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(null!=scrollPos.scrollTop&&(updateScrollTop(cm,scrollPos.scrollTop),Math.abs(cm.doc.scrollTop-startTop)>1&&(changed=!0)),null!=scrollPos.scrollLeft&&(setScrollLeft(cm,scrollPos.scrollLeft),Math.abs(cm.doc.scrollLeft-startLeft)>1&&(changed=!0)),!changed)break}return rect}(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin));var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden)for(var i=0;i<hidden.length;++i)hidden[i].lines.length||signal(hidden[i],\"hide\");if(unhidden)for(var i$1=0;i$1<unhidden.length;++i$1)unhidden[i$1].lines.length&&signal(unhidden[i$1],\"unhide\");display.wrapper.offsetHeight&&(doc.scrollTop=cm.display.scroller.scrollTop),op.changeObjs&&signal(cm,\"changes\",cm,op.changeObjs),op.update&&op.update.finish()}function runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function startWorker(cm,time){cm.doc.highlightFrontier<cm.display.viewTo&&cm.state.highlight.set(time,bind(highlightWorker,cm))}function highlightWorker(cm){var doc=cm.doc;if(!(doc.highlightFrontier>=cm.display.viewTo)){var end=+new Date+cm.options.workTime,context=getContextBefore(cm,doc.highlightFrontier),changedLines=[];doc.iter(context.line,Math.min(doc.first+doc.size,cm.display.viewTo+500),(function(line){if(context.line>=cm.display.viewFrom){var oldStyles=line.styles,resetState=line.text.length>cm.options.maxHighlightLength?copyState(doc.mode,context.state):null,highlighted=highlightLine(cm,line,context,!0);resetState&&(context.state=resetState),line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;newCls?line.styleClasses=newCls:oldCls&&(line.styleClasses=null);for(var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass),i=0;!ischange&&i<oldStyles.length;++i)ischange=oldStyles[i]!=line.styles[i];ischange&&changedLines.push(context.line),line.stateAfter=context.save(),context.nextLine()}else line.text.length<=cm.options.maxHighlightLength&&processLine(cm,line.text,context),line.stateAfter=context.line%5==0?context.save():null,context.nextLine();if(+new Date>end)return startWorker(cm,cm.options.workDelay),!0})),doc.highlightFrontier=context.line,doc.modeFrontier=Math.max(doc.modeFrontier,context.line),changedLines.length&&runInOp(cm,(function(){for(var i=0;i<changedLines.length;i++)regLineChange(cm,changedLines[i],\"text\")}))}}var DisplayUpdate=function(cm,viewport,force){var display=cm.display;this.viewport=viewport,this.visible=visibleLines(display,cm.doc,viewport),this.editorIsHidden=!display.wrapper.offsetWidth,this.wrapperHeight=display.wrapper.clientHeight,this.wrapperWidth=display.wrapper.clientWidth,this.oldDisplayWidth=displayWidth(cm),this.force=force,this.dims=getDimensions(cm),this.events=[]};function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden)return resetView(cm),!1;if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&0==countDirtyView(cm))return!1;maybeUpdateLineNumberWidth(cm)&&(resetView(cm),update.dims=getDimensions(cm));var end=doc.first+doc.size,from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first),to=Math.min(end,update.visible.to+cm.options.viewportMargin);display.viewFrom<from&&from-display.viewFrom<20&&(from=Math.max(doc.first,display.viewFrom)),display.viewTo>to&&display.viewTo-to<20&&(to=Math.min(end,display.viewTo)),sawCollapsedSpans&&(from=visualLineNo(cm.doc,from),to=visualLineEndNo(cm.doc,to));var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;!function(cm,from,to){var display=cm.display;0==display.view.length||from>=display.viewTo||to<=display.viewFrom?(display.view=buildViewArray(cm,from,to),display.viewFrom=from):(display.viewFrom>from?display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view):display.viewFrom<from&&(display.view=display.view.slice(findViewIndex(cm,from))),display.viewFrom=from,display.viewTo<to?display.view=display.view.concat(buildViewArray(cm,display.viewTo,to)):display.viewTo>to&&(display.view=display.view.slice(0,findViewIndex(cm,to)))),display.viewTo=to}(cm,from,to),display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom)),cm.display.mover.style.top=display.viewOffset+\"px\";var toUpdate=countDirtyView(cm);if(!different&&0==toUpdate&&!update.force&&display.renderedView==display.view&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo))return!1;var selSnapshot=function(cm){if(cm.hasFocus())return null;var active=activeElt();if(!active||!contains(cm.display.lineDiv,active))return null;var result={activeElt:active};if(window.getSelection){var sel=window.getSelection();sel.anchorNode&&sel.extend&&contains(cm.display.lineDiv,sel.anchorNode)&&(result.anchorNode=sel.anchorNode,result.anchorOffset=sel.anchorOffset,result.focusNode=sel.focusNode,result.focusOffset=sel.focusOffset)}return result}(cm);return toUpdate>4&&(display.lineDiv.style.display=\"none\"),function(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers,container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling;return webkit&&mac&&cm.display.currentWheelTarget==node?node.style.display=\"none\":node.parentNode.removeChild(node),next}for(var view=display.view,lineN=display.viewFrom,i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden);else if(lineView.node&&lineView.node.parentNode==container){for(;cur!=lineView.node;)cur=rm(cur);var updateNumber=lineNumbers&&null!=updateNumbersFrom&&updateNumbersFrom<=lineN&&lineView.lineNumber;lineView.changes&&(indexOf(lineView.changes,\"gutter\")>-1&&(updateNumber=!1),updateLineForChanges(cm,lineView,lineN,dims)),updateNumber&&(removeChildren(lineView.lineNumber),lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))),cur=lineView.node.nextSibling}else{var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}lineN+=lineView.size}for(;cur;)cur=rm(cur)}(cm,display.updateLineNumbers,update.dims),toUpdate>4&&(display.lineDiv.style.display=\"\"),display.renderedView=display.view,function(snapshot){if(snapshot&&snapshot.activeElt&&snapshot.activeElt!=activeElt()&&(snapshot.activeElt.focus(),snapshot.anchorNode&&contains(document.body,snapshot.anchorNode)&&contains(document.body,snapshot.focusNode))){var sel=window.getSelection(),range$$1=document.createRange();range$$1.setEnd(snapshot.anchorNode,snapshot.anchorOffset),range$$1.collapse(!1),sel.removeAllRanges(),sel.addRange(range$$1),sel.extend(snapshot.focusNode,snapshot.focusOffset)}}(selSnapshot),removeChildren(display.cursorDiv),removeChildren(display.selectionDiv),display.gutters.style.height=display.sizer.style.minHeight=0,different&&(display.lastWrapHeight=update.wrapperHeight,display.lastWrapWidth=update.wrapperWidth,startWorker(cm,400)),display.updateLineNumbers=null,!0}function postUpdateDisplay(cm,update){for(var viewport=update.viewport,first=!0;(first&&cm.options.lineWrapping&&update.oldDisplayWidth!=displayWidth(cm)||(viewport&&null!=viewport.top&&(viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}),update.visible=visibleLines(cm.display,cm.doc,viewport),!(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo)))&&updateDisplayIfNeeded(cm,update);first=!1){updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm),updateScrollbars(cm,barMeasure),setDocumentHeight(cm,barMeasure),update.force=!1}update.signal(cm,\"update\",cm),cm.display.viewFrom==cm.display.reportedViewFrom&&cm.display.viewTo==cm.display.reportedViewTo||(update.signal(cm,\"viewportChange\",cm,cm.display.viewFrom,cm.display.viewTo),cm.display.reportedViewFrom=cm.display.viewFrom,cm.display.reportedViewTo=cm.display.viewTo)}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm),postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm),updateScrollbars(cm,barMeasure),setDocumentHeight(cm,barMeasure),update.finish()}}function updateGutterSpace(display){display.sizer.style.marginLeft=display.gutters.offsetWidth+\"px\"}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+\"px\",cm.display.heightForcer.style.top=measure.docHeight+\"px\",cm.display.gutters.style.height=measure.docHeight+cm.display.barHeight+scrollGap(cm)+\"px\"}function alignHorizontally(cm){var display=cm.display,view=display.view;if(display.alignWidgets||display.gutters.firstChild&&cm.options.fixedGutter){for(var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft,gutterW=display.gutters.offsetWidth,left=comp+\"px\",i=0;i<view.length;i++)if(!view[i].hidden){cm.options.fixedGutter&&(view[i].gutter&&(view[i].gutter.style.left=left),view[i].gutterBackground&&(view[i].gutterBackground.style.left=left));var align=view[i].alignable;if(align)for(var j=0;j<align.length;j++)align[j].style.left=left}cm.options.fixedGutter&&(display.gutters.style.left=comp+gutterW+\"px\")}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return!1;var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt(\"div\",[elt(\"div\",last)],\"CodeMirror-linenumber CodeMirror-gutter-elt\")),innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;return display.lineGutter.style.width=\"\",display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1,display.lineNumWidth=display.lineNumInnerWidth+padding,display.lineNumChars=display.lineNumInnerWidth?last.length:-1,display.lineGutter.style.width=display.lineNumWidth+\"px\",updateGutterSpace(cm.display),!0}return!1}function getGutters(gutters,lineNumbers){for(var result=[],sawLineNumbers=!1,i=0;i<gutters.length;i++){var name=gutters[i],style=null;if(\"string\"!=typeof name&&(style=name.style,name=name.className),\"CodeMirror-linenumbers\"==name){if(!lineNumbers)continue;sawLineNumbers=!0}result.push({className:name,style:style})}return lineNumbers&&!sawLineNumbers&&result.push({className:\"CodeMirror-linenumbers\",style:null}),result}function renderGutters(display){var gutters=display.gutters,specs=display.gutterSpecs;removeChildren(gutters),display.lineGutter=null;for(var i=0;i<specs.length;++i){var ref=specs[i],className=ref.className,style=ref.style,gElt=gutters.appendChild(elt(\"div\",null,\"CodeMirror-gutter \"+className));style&&(gElt.style.cssText=style),\"CodeMirror-linenumbers\"==className&&(display.lineGutter=gElt,gElt.style.width=(display.lineNumWidth||1)+\"px\")}gutters.style.display=specs.length?\"\":\"none\",updateGutterSpace(display)}function updateGutters(cm){renderGutters(cm.display),regChange(cm),alignHorizontally(cm)}function Display(place,doc,input,options){var d=this;this.input=input,d.scrollbarFiller=elt(\"div\",null,\"CodeMirror-scrollbar-filler\"),d.scrollbarFiller.setAttribute(\"cm-not-content\",\"true\"),d.gutterFiller=elt(\"div\",null,\"CodeMirror-gutter-filler\"),d.gutterFiller.setAttribute(\"cm-not-content\",\"true\"),d.lineDiv=eltP(\"div\",null,\"CodeMirror-code\"),d.selectionDiv=elt(\"div\",null,null,\"position: relative; z-index: 1\"),d.cursorDiv=elt(\"div\",null,\"CodeMirror-cursors\"),d.measure=elt(\"div\",null,\"CodeMirror-measure\"),d.lineMeasure=elt(\"div\",null,\"CodeMirror-measure\"),d.lineSpace=eltP(\"div\",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,\"position: relative; outline: none\");var lines=eltP(\"div\",[d.lineSpace],\"CodeMirror-lines\");d.mover=elt(\"div\",[lines],null,\"position: relative\"),d.sizer=elt(\"div\",[d.mover],\"CodeMirror-sizer\"),d.sizerWidth=null,d.heightForcer=elt(\"div\",null,null,\"position: absolute; height: \"+scrollerGap+\"px; width: 1px;\"),d.gutters=elt(\"div\",null,\"CodeMirror-gutters\"),d.lineGutter=null,d.scroller=elt(\"div\",[d.sizer,d.heightForcer,d.gutters],\"CodeMirror-scroll\"),d.scroller.setAttribute(\"tabIndex\",\"-1\"),d.wrapper=elt(\"div\",[d.scrollbarFiller,d.gutterFiller,d.scroller],\"CodeMirror\"),ie&&ie_version<8&&(d.gutters.style.zIndex=-1,d.scroller.style.paddingRight=0),webkit||gecko&&mobile||(d.scroller.draggable=!0),place&&(place.appendChild?place.appendChild(d.wrapper):place(d.wrapper)),d.viewFrom=d.viewTo=doc.first,d.reportedViewFrom=d.reportedViewTo=doc.first,d.view=[],d.renderedView=null,d.externalMeasured=null,d.viewOffset=0,d.lastWrapHeight=d.lastWrapWidth=0,d.updateLineNumbers=null,d.nativeBarWidth=d.barHeight=d.barWidth=0,d.scrollbarsClipped=!1,d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null,d.alignWidgets=!1,d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.maxLine=null,d.maxLineLength=0,d.maxLineChanged=!1,d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null,d.shift=!1,d.selForContextMenu=null,d.activeTouch=null,d.gutterSpecs=getGutters(options.gutters,options.lineNumbers),renderGutters(d),input.init(d)}DisplayUpdate.prototype.signal=function(emitter,type){hasHandler(emitter,type)&&this.events.push(arguments)},DisplayUpdate.prototype.finish=function(){for(var i=0;i<this.events.length;i++)signal.apply(null,this.events[i])};var wheelSamples=0,wheelPixelsPerUnit=null;function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;return null==dx&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(dx=e.detail),null==dy&&e.detail&&e.axis==e.VERTICAL_AXIS?dy=e.detail:null==dy&&(dy=e.wheelDelta),{x:dx,y:dy}}function wheelEventPixels(e){var delta=wheelEventDelta(e);return delta.x*=wheelPixelsPerUnit,delta.y*=wheelPixelsPerUnit,delta}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y,display=cm.display,scroll=display.scroller,canScrollY=scroll.scrollHeight>scroll.clientHeight;if(dx&&scroll.scrollWidth>scroll.clientWidth||dy&&canScrollY){if(dy&&mac&&webkit)outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode)for(var i=0;i<view.length;i++)if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}if(dx&&!gecko&&!presto&&null!=wheelPixelsPerUnit)return dy&&canScrollY&&updateScrollTop(cm,Math.max(0,scroll.scrollTop+dy*wheelPixelsPerUnit)),setScrollLeft(cm,Math.max(0,scroll.scrollLeft+dx*wheelPixelsPerUnit)),(!dy||dy&&canScrollY)&&e_preventDefault(e),void(display.wheelStartX=null);if(dy&&null!=wheelPixelsPerUnit){var pixels=dy*wheelPixelsPerUnit,top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;pixels<0?top=Math.max(0,top+pixels-50):bot=Math.min(cm.doc.height,bot+pixels+50),updateDisplaySimple(cm,{top:top,bottom:bot})}wheelSamples<20&&(null==display.wheelStartX?(display.wheelStartX=scroll.scrollLeft,display.wheelStartY=scroll.scrollTop,display.wheelDX=dx,display.wheelDY=dy,setTimeout((function(){if(null!=display.wheelStartX){var movedX=scroll.scrollLeft-display.wheelStartX,movedY=scroll.scrollTop-display.wheelStartY,sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null,sample&&(wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1),++wheelSamples)}}),200)):(display.wheelDX+=dx,display.wheelDY+=dy))}}ie?wheelPixelsPerUnit=-.53:gecko?wheelPixelsPerUnit=15:chrome?wheelPixelsPerUnit=-.7:safari&&(wheelPixelsPerUnit=-1/3);var Selection=function(ranges,primIndex){this.ranges=ranges,this.primIndex=primIndex};Selection.prototype.primary=function(){return this.ranges[this.primIndex]},Selection.prototype.equals=function(other){if(other==this)return!0;if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var here=this.ranges[i],there=other.ranges[i];if(!equalCursorPos(here.anchor,there.anchor)||!equalCursorPos(here.head,there.head))return!1}return!0},Selection.prototype.deepCopy=function(){for(var out=[],i=0;i<this.ranges.length;i++)out[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));return new Selection(out,this.primIndex)},Selection.prototype.somethingSelected=function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},Selection.prototype.contains=function(pos,end){end||(end=pos);for(var i=0;i<this.ranges.length;i++){var range=this.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0)return i}return-1};var Range=function(anchor,head){this.anchor=anchor,this.head=head};function normalizeSelection(cm,ranges,primIndex){var mayTouch=cm&&cm.options.selectionsMayTouch,prim=ranges[primIndex];ranges.sort((function(a,b){return cmp(a.from(),b.from())})),primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1],diff=cmp(prev.to(),cur.from());if(mayTouch&&!cur.empty()?diff>0:diff>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to()),inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;i<=primIndex&&--primIndex,ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function changeEnd(change){return change.text?Pos(change.from.line+change.text.length-1,lst(change.text).length+(1==change.text.length?change.from.ch:0)):change.to}function adjustForChange(pos,change){if(cmp(pos,change.from)<0)return pos;if(cmp(pos,change.to)<=0)return changeEnd(change);var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;return pos.line==change.to.line&&(ch+=changeEnd(change).ch-change.to.ch),Pos(line,ch)}function computeSelAfterChange(doc,change){for(var out=[],i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(doc.cm,out,doc.sel.primIndex)}function offsetPos(pos,old,nw){return pos.line==old.line?Pos(nw.line,pos.ch-old.ch+nw.ch):Pos(nw.line+(pos.line-old.line),pos.ch)}function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption),resetModeState(cm)}function resetModeState(cm){cm.doc.iter((function(line){line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null)})),cm.doc.modeFrontier=cm.doc.highlightFrontier=cm.doc.first,startWorker(cm,100),cm.state.modeGen++,cm.curOp&&regChange(cm)}function isWholeLineUpdate(doc,change){return 0==change.from.ch&&0==change.to.ch&&\"\"==lst(change.text)&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight$$1){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){!function(line,text,markedSpans,estimateHeight){line.text=text,line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null),null!=line.order&&(line.order=null),detachMarkedSpans(line),attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;estHeight!=line.height&&updateLineHeight(line,estHeight)}(line,text,spans,estimateHeight$$1),signalLater(line,\"change\",line,change)}function linesFor(start,end){for(var result=[],i=start;i<end;++i)result.push(new Line(text[i],spansFor(i),estimateHeight$$1));return result}var from=change.from,to=change.to,text=change.text,firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line),lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full)doc.insert(0,linesFor(0,text.length)),doc.remove(text.length,doc.size-text.length);else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans),nlines&&doc.remove(from.line,nlines),added.length&&doc.insert(from.line,added)}else if(firstLine==lastLine)if(1==text.length)update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans);else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight$$1)),update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0)),doc.insert(from.line+1,added$1)}else if(1==text.length)update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0)),doc.remove(from.line+1,nlines);else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0)),update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added$2=linesFor(1,text.length-1);nlines>1&&doc.remove(from.line+1,nlines-1),doc.insert(from.line+1,added$2)}signalLater(doc,\"change\",doc,change)}function linkedDocs(doc,f,sharedHistOnly){!function propagate(doc,skip,sharedHist){if(doc.linked)for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc!=skip){var shared=sharedHist&&rel.sharedHist;sharedHistOnly&&!shared||(f(rel.doc,shared),propagate(rel.doc,doc,shared))}}}(doc,null,!0)}function attachDoc(cm,doc){if(doc.cm)throw new Error(\"This document is already in use.\");cm.doc=doc,doc.cm=cm,estimateLineHeights(cm),loadMode(cm),setDirectionClass(cm),cm.options.lineWrapping||findMaxLine(cm),cm.options.mode=doc.modeOption,regChange(cm)}function setDirectionClass(cm){(\"rtl\"==cm.doc.direction?addClass:rmClass)(cm.display.lineDiv,\"CodeMirror-rtl\")}function History(startGen){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=startGen||1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1),linkedDocs(doc,(function(doc){return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)}),!0),histChange}function clearSelectionEvents(array){for(;array.length&&lst(array).ranges;)array.pop()}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var cur,last,time=+new Date;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&(\"+\"==change.origin.charAt(0)&&hist.lastModTime>time-(doc.cm?doc.cm.options.historyEventDelay:500)||\"*\"==change.origin.charAt(0)))&&(cur=function(hist,force){return force?(clearSelectionEvents(hist.done),lst(hist.done)):hist.done.length&&!lst(hist.done).ranges?lst(hist.done):hist.done.length>1&&!hist.done[hist.done.length-2].ranges?(hist.done.pop(),lst(hist.done)):void 0}(hist,hist.lastOp==opId)))last=lst(cur.changes),0==cmp(change.from,change.to)&&0==cmp(change.from,last.to)?last.to=changeEnd(change):cur.changes.push(historyChangeFromChange(doc,change));else{var before=lst(hist.done);for(before&&before.ranges||pushSelectionToHistory(doc.sel,hist.done),cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation},hist.done.push(cur);hist.done.length>hist.undoDepth;)hist.done.shift(),hist.done[0].ranges||hist.done.shift()}hist.done.push(selAfter),hist.generation=++hist.maxGeneration,hist.lastModTime=hist.lastSelTime=time,hist.lastOp=hist.lastSelOp=opId,hist.lastOrigin=hist.lastSelOrigin=change.origin,last||signal(doc,\"historyAdded\")}function pushSelectionToHistory(sel,dest){var top=lst(dest);top&&top.ranges&&top.equals(sel)||dest.push(sel)}function attachLocalSpans(doc,change,from,to){var existing=change[\"spans_\"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),(function(line){line.markedSpans&&((existing||(existing=change[\"spans_\"+doc.id]={}))[n]=line.markedSpans),++n}))}function removeClearedSpans(spans){if(!spans)return null;for(var out,i=0;i<spans.length;++i)spans[i].marker.explicitlyCleared?out||(out=spans.slice(0,i)):out&&out.push(spans[i]);return out?out.length?out:null:spans}function mergeOldSpans(doc,change){var old=function(doc,change){var found=change[\"spans_\"+doc.id];if(!found)return null;for(var nw=[],i=0;i<change.text.length;++i)nw.push(removeClearedSpans(found[i]));return nw}(doc,change),stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur)spans:for(var j=0;j<stretchCur.length;++j){for(var span=stretchCur[j],k=0;k<oldCur.length;++k)if(oldCur[k].marker==span.marker)continue spans;oldCur.push(span)}else stretchCur&&(old[i]=stretchCur)}return old}function copyHistoryArray(events,newGroup,instantiateSel){for(var copy=[],i=0;i<events.length;++i){var event=events[i];if(event.ranges)copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);else{var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m=void 0;if(newChanges.push({from:change.from,to:change.to,text:change.text}),newGroup)for(var prop in change)(m=prop.match(/^spans_(\\d+)$/))&&indexOf(newGroup,Number(m[1]))>-1&&(lst(newChanges)[prop]=change[prop],delete change[prop])}}}return copy}function extendRange(range,head,other,extend){if(extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;posBefore!=cmp(other,anchor)<0?(anchor=head,head=other):posBefore!=cmp(head,other)<0&&(head=other)}return new Range(anchor,head)}return new Range(other||head,head)}function extendSelection(doc,head,other,options,extend){null==extend&&(extend=doc.cm&&(doc.cm.display.shift||doc.extend)),setSelection(doc,new Selection([extendRange(doc.sel.primary(),head,other,extend)],0),options)}function extendSelections(doc,heads,options){for(var out=[],extend=doc.cm&&(doc.cm.display.shift||doc.extend),i=0;i<doc.sel.ranges.length;i++)out[i]=extendRange(doc.sel.ranges[i],heads[i],null,extend);setSelection(doc,normalizeSelection(doc.cm,out,doc.sel.primIndex),options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range,setSelection(doc,normalizeSelection(doc.cm,ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);last&&last.ranges?(done[done.length-1]=sel,setSelectionNoUndo(doc,sel,options)):setSelection(doc,sel,options)}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options),function(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||function(doc,origin,prev,sel){var ch=origin.charAt(0);return\"*\"==ch||\"+\"==ch&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}(doc,origin,lst(hist.done),sel))?hist.done[hist.done.length-1]=sel:pushSelectionToHistory(sel,hist.done),hist.lastSelTime=+new Date,hist.lastSelOrigin=origin,hist.lastSelOp=opId,options&&!1!==options.clearRedo&&clearSelectionEvents(hist.undone)}(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){(hasHandler(doc,\"beforeSelectionChange\")||doc.cm&&hasHandler(doc.cm,\"beforeSelectionChange\"))&&(sel=function(doc,sel,options){var obj={ranges:sel.ranges,update:function(ranges){this.ranges=[];for(var i=0;i<ranges.length;i++)this.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))},origin:options&&options.origin};return signal(doc,\"beforeSelectionChange\",doc,obj),doc.cm&&signal(doc.cm,\"beforeSelectionChange\",doc.cm,obj),obj.ranges!=sel.ranges?normalizeSelection(doc.cm,obj.ranges,obj.ranges.length-1):sel}(doc,sel,options));var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,!0)),options&&!1===options.scroll||!doc.cm||ensureCursorVisible(doc.cm)}function setSelectionInner(doc,sel){sel.equals(doc.sel)||(doc.sel=sel,doc.cm&&(doc.cm.curOp.updateInput=1,doc.cm.curOp.selectionChanged=!0,signalCursorActivity(doc.cm)),signalLater(doc,\"cursorActivity\",doc))}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,!1))}function skipAtomicInSelection(doc,sel,bias,mayClear){for(var out,i=0;i<sel.ranges.length;i++){var range=sel.ranges[i],old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i],newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear),newHead=skipAtomic(doc,range.head,old&&old.head,bias,mayClear);(out||newAnchor!=range.anchor||newHead!=range.head)&&(out||(out=sel.ranges.slice(0,i)),out[i]=new Range(newAnchor,newHead))}return out?normalizeSelection(doc.cm,out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker,preventCursorLeft=\"selectLeft\"in m?!m.selectLeft:m.inclusiveLeft,preventCursorRight=\"selectRight\"in m?!m.selectRight:m.inclusiveRight;if((null==sp.from||(preventCursorLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(null==sp.to||(preventCursorRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear&&(signal(m,\"beforeCursorEnter\"),m.explicitlyCleared)){if(line.markedSpans){--i;continue}break}if(!m.atomic)continue;if(oldPos){var near=m.find(dir<0?1:-1),diff=void 0;if((dir<0?preventCursorRight:preventCursorLeft)&&(near=movePos(doc,near,-dir,near&&near.line==pos.line?line:null)),near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(dir<0?diff<0:diff>0))return skipAtomicInner(doc,near,pos,dir,mayClear)}var far=m.find(dir<0?-1:1);return(dir<0?preventCursorLeft:preventCursorRight)&&(far=movePos(doc,far,dir,far.line==pos.line?line:null)),far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1;return skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,!0)||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,!0)||(doc.cantEdit=!0,Pos(doc.first,0))}function movePos(doc,pos,dir,line){return dir<0&&0==pos.ch?pos.line>doc.first?clipPos(doc,Pos(pos.line-1)):null:dir>0&&pos.ch==(line||getLine(doc,pos.line)).text.length?pos.line<doc.first+doc.size-1?Pos(pos.line+1,0):null:new Pos(pos.line,pos.ch+dir)}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)}function filterChange(doc,change,update){var obj={canceled:!1,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){return obj.canceled=!0}};return update&&(obj.update=function(from,to,text,origin){from&&(obj.from=clipPos(doc,from)),to&&(obj.to=clipPos(doc,to)),text&&(obj.text=text),void 0!==origin&&(obj.origin=origin)}),signal(doc,\"beforeChange\",doc,obj),doc.cm&&signal(doc.cm,\"beforeChange\",doc.cm,obj),obj.canceled?(doc.cm&&(doc.cm.curOp.updateInput=2),null):{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return}if(!(hasHandler(doc,\"beforeChange\")||doc.cm&&hasHandler(doc.cm,\"beforeChange\"))||(change=filterChange(doc,change,!0))){var split=sawReadOnlySpans&&!ignoreReadOnly&&function(doc,from,to){var markers=null;if(doc.iter(from.line,to.line+1,(function(line){if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;!mark.readOnly||markers&&-1!=indexOf(markers,mark)||(markers||(markers=[])).push(mark)}})),!markers)return null;for(var parts=[{from:from,to:to}],i=0;i<markers.length;++i)for(var mk=markers[i],m=mk.find(0),j=0;j<parts.length;++j){var p=parts[j];if(!(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0)){var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);(dfrom<0||!mk.inclusiveLeft&&!dfrom)&&newParts.push({from:p.from,to:m.from}),(dto>0||!mk.inclusiveRight&&!dto)&&newParts.push({from:m.to,to:p.to}),parts.splice.apply(parts,newParts),j+=newParts.length-3}}return parts}(doc,change.from,change.to);if(split)for(var i=split.length-1;i>=0;--i)makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[\"\"]:change.text,origin:change.origin});else makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(1!=change.text.length||\"\"!=change.text[0]||0!=cmp(change.from,change.to)){var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN),makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,(function(doc,sharedHist){sharedHist||-1!=indexOf(rebased,doc.history)||(rebaseHist(doc.history,change),rebased.push(doc.history)),makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))}))}}function makeChangeFromHistory(doc,type,allowSelectionOnly){var suppress=doc.cm&&doc.cm.state.suppressEdits;if(!suppress||allowSelectionOnly){for(var event,hist=doc.history,selAfter=doc.sel,source=\"undo\"==type?hist.done:hist.undone,dest=\"undo\"==type?hist.undone:hist.done,i=0;i<source.length&&(event=source[i],allowSelectionOnly?!event.ranges||event.equals(doc.sel):event.ranges);i++);if(i!=source.length){for(hist.lastOrigin=hist.lastSelOrigin=null;;){if(!(event=source.pop()).ranges){if(suppress)return void source.push(event);break}if(pushSelectionToHistory(event,dest),allowSelectionOnly&&!event.equals(doc.sel))return void setSelection(doc,event,{clearRedo:!1});selAfter=event}var antiChanges=[];pushSelectionToHistory(selAfter,dest),dest.push({changes:antiChanges,generation:hist.generation}),hist.generation=event.generation||++hist.maxGeneration;for(var filter=hasHandler(doc,\"beforeChange\")||doc.cm&&hasHandler(doc.cm,\"beforeChange\"),loop=function(i){var change=event.changes[i];if(change.origin=type,filter&&!filterChange(doc,change,!1))return source.length=0,{};antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change)),!i&&doc.cm&&doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)});var rebased=[];linkedDocs(doc,(function(doc,sharedHist){sharedHist||-1!=indexOf(rebased,doc.history)||(rebaseHist(doc.history,change),rebased.push(doc.history)),makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))}))},i$1=event.changes.length-1;i$1>=0;--i$1){var returned=loop(i$1);if(returned)return returned.v}}}}function shiftDoc(doc,distance){if(0!=distance&&(doc.first+=distance,doc.sel=new Selection(map(doc.sel.ranges,(function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))})),doc.sel.primIndex),doc.cm)){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++)regLineChange(doc.cm,l,\"gutter\")}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line<doc.first)shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));else if(!(change.from.line>doc.lastLine())){if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift),change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();change.to.line>last&&(change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}),change.removed=getBetween(doc,change.from,change.to),selAfter||(selAfter=computeSelAfterChange(doc,change)),doc.cm?function(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to,recomputeMaxLength=!1,checkWidthStart=from.line;cm.options.lineWrapping||(checkWidthStart=lineNo(visualLine(getLine(doc,from.line))),doc.iter(checkWidthStart,to.line+1,(function(line){if(line==display.maxLine)return recomputeMaxLength=!0,!0}))),doc.sel.contains(change.from,change.to)>-1&&signalCursorActivity(cm),updateDoc(doc,change,spans,estimateHeight(cm)),cm.options.lineWrapping||(doc.iter(checkWidthStart,from.line+change.text.length,(function(line){var len=lineLength(line);len>display.maxLineLength&&(display.maxLine=line,display.maxLineLength=len,display.maxLineChanged=!0,recomputeMaxLength=!1)})),recomputeMaxLength&&(cm.curOp.updateMaxLine=!0)),function(doc,n){if(doc.modeFrontier=Math.min(doc.modeFrontier,n),!(doc.highlightFrontier<n-10)){for(var start=doc.first,line=n-1;line>start;line--){var saved=getLine(doc,line).stateAfter;if(saved&&(!(saved instanceof SavedContext)||line+saved.lookAhead<n)){start=line+1;break}}doc.highlightFrontier=Math.min(doc.highlightFrontier,start)}}(doc,from.line),startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;change.full?regChange(cm):from.line!=to.line||1!=change.text.length||isWholeLineUpdate(cm.doc,change)?regChange(cm,from.line,to.line+1,lendiff):regLineChange(cm,from.line,\"text\");var changesHandler=hasHandler(cm,\"changes\"),changeHandler=hasHandler(cm,\"change\");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};changeHandler&&signalLater(cm,\"change\",cm,obj),changesHandler&&(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}cm.display.selForContextMenu=null}(doc.cm,change,spans):updateDoc(doc,change,spans),setSelectionNoUndo(doc,selAfter,sel_dontScroll),doc.cantEdit&&skipAtomic(doc,Pos(doc.firstLine(),0))&&(doc.cantEdit=!1)}}function replaceRange(doc,code,from,to,origin){var assign;to||(to=from),cmp(to,from)<0&&(from=(assign=[to,from])[0],to=assign[1]),\"string\"==typeof code&&(code=doc.splitLines(code)),makeChange(doc,{from:from,to:to,text:code,origin:origin})}function rebaseHistSelSingle(pos,from,to,diff){to<pos.line?pos.line+=diff:from<pos.line&&(pos.line=from,pos.ch=0)}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=!0;if(sub.ranges){sub.copied||((sub=array[i]=sub.deepCopy()).copied=!0);for(var j=0;j<sub.ranges.length;j++)rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff),rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}else{for(var j$1=0;j$1<sub.changes.length;++j$1){var cur=sub.changes[j$1];if(to<cur.from.line)cur.from=Pos(cur.from.line+diff,cur.from.ch),cur.to=Pos(cur.to.line+diff,cur.to.ch);else if(from<=cur.to.line){ok=!1;break}}ok||(array.splice(0,i+1),i=0)}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff),rebaseHistArray(hist.undone,from,to,diff)}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;return\"number\"==typeof handle?line=getLine(doc,clipLine(doc,handle)):no=lineNo(handle),null==no?null:(op(line,no)&&doc.cm&&regLineChange(doc.cm,no,changeType),line)}function LeafChunk(lines){this.lines=lines,this.parent=null;for(var height=0,i=0;i<lines.length;++i)lines[i].parent=this,height+=lines[i].height;this.height=height}function BranchChunk(children){this.children=children;for(var size=0,height=0,i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize(),height+=ch.height,ch.parent=this}this.size=size,this.height=height,this.parent=null}Range.prototype.from=function(){return minPos(this.anchor,this.head)},Range.prototype.to=function(){return maxPos(this.anchor,this.head)},Range.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){for(var i=at,e=at+n;i<e;++i){var line=this.lines[i];this.height-=line.height,cleanUpLine(line),signalLater(line,\"delete\")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){this.height+=height,this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i)lines[i].parent=this},iterN:function(at,n,op){for(var e=at+n;at<e;++at)if(op(this.lines[at]))return!0}},BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){this.size-=n;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;if(child.removeInner(at,rm),this.height-=oldHeight-child.height,sz==rm&&(this.children.splice(i--,1),child.parent=null),0==(n-=rm))break;at=0}else at-=sz}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines),this.children=[new LeafChunk(lines)],this.children[0].parent=this}},collapse:function(lines){for(var i=0;i<this.children.length;++i)this.children[i].collapse(lines)},insertInner:function(at,lines,height){this.size+=lines.length,this.height+=height;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<=sz){if(child.insertInner(at,lines,height),child.lines&&child.lines.length>50){for(var remaining=child.lines.length%25+25,pos=remaining;pos<child.lines.length;){var leaf=new LeafChunk(child.lines.slice(pos,pos+=25));child.height-=leaf.height,this.children.splice(++i,0,leaf),leaf.parent=this}child.lines=child.lines.slice(0,remaining),this.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(!(this.children.length<=10)){var me=this;do{var sibling=new BranchChunk(me.children.splice(me.children.length-5,5));if(me.parent){me.size-=sibling.size,me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}else{var copy=new BranchChunk(me.children);copy.parent=me,me.children=[copy,sibling],me=copy}sibling.parent=me.parent}while(me.children.length>10);me.parent.maybeSpill()}},iterN:function(at,n,op){for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op))return!0;if(0==(n-=used))break;at=0}else at-=sz}}};var LineWidget=function(doc,node,options){if(options)for(var opt in options)options.hasOwnProperty(opt)&&(this[opt]=options[opt]);this.doc=doc,this.node=node};function adjustScrollWhenAboveVisible(cm,line,diff){heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop)&&addToScrollTop(cm,diff)}LineWidget.prototype.clear=function(){var cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(null!=no&&ws){for(var i=0;i<ws.length;++i)ws[i]==this&&ws.splice(i--,1);ws.length||(line.widgets=null);var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height)),cm&&(runInOp(cm,(function(){adjustScrollWhenAboveVisible(cm,line,-height),regLineChange(cm,no,\"widget\")})),signalLater(cm,\"lineWidgetCleared\",cm,this,no))}},LineWidget.prototype.changed=function(){var this$1=this,oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;diff&&(lineIsHidden(this.doc,line)||updateLineHeight(line,line.height+diff),cm&&runInOp(cm,(function(){cm.curOp.forceUpdate=!0,adjustScrollWhenAboveVisible(cm,line,diff),signalLater(cm,\"lineWidgetChanged\",cm,this$1,lineNo(line))})))},eventMixin(LineWidget);var nextMarkerId=0,TextMarker=function(doc,type){this.lines=[],this.type=type,this.doc=doc,this.id=++nextMarkerId};function markText(doc,from,to,options,type){if(options&&options.shared)return function(doc,from,to,options,type){(options=copyObj(options)).shared=!1;var markers=[markText(doc,from,to,options,type)],primary=markers[0],widget=options.widgetNode;return linkedDocs(doc,(function(doc){widget&&(options.widgetNode=widget.cloneNode(!0)),markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i)if(doc.linked[i].isParent)return;primary=lst(markers)})),new SharedTextMarker(markers,primary)}(doc,from,to,options,type);if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,markText)(doc,from,to,options,type);var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options&&copyObj(options,marker,!1),diff>0||0==diff&&!1!==marker.clearWhenEmpty)return marker;if(marker.replacedWith&&(marker.collapsed=!0,marker.widgetNode=eltP(\"span\",[marker.replacedWith],\"CodeMirror-widget\"),options.handleMouseEvents||marker.widgetNode.setAttribute(\"cm-ignore-events\",\"true\"),options.insertLeft&&(marker.widgetNode.insertLeft=!0)),marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");sawCollapsedSpans=!0}marker.addToHistory&&addChangeToHistory(doc,{from:from,to:to,origin:\"markText\"},doc.sel,NaN);var updateMaxLine,curLine=from.line,cm=doc.cm;if(doc.iter(curLine,to.line+1,(function(line){cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine&&(updateMaxLine=!0),marker.collapsed&&curLine!=from.line&&updateLineHeight(line,0),function(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span],span.marker.attachLine(line)}(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null)),++curLine})),marker.collapsed&&doc.iter(from.line,to.line+1,(function(line){lineIsHidden(doc,line)&&updateLineHeight(line,0)})),marker.clearOnEnter&&on(marker,\"beforeCursorEnter\",(function(){return marker.clear()})),marker.readOnly&&(sawReadOnlySpans=!0,(doc.history.done.length||doc.history.undone.length)&&doc.clearHistory()),marker.collapsed&&(marker.id=++nextMarkerId,marker.atomic=!0),cm){if(updateMaxLine&&(cm.curOp.updateMaxLine=!0),marker.collapsed)regChange(cm,from.line,to.line+1);else if(marker.className||marker.startStyle||marker.endStyle||marker.css||marker.attributes||marker.title)for(var i=from.line;i<=to.line;i++)regLineChange(cm,i,\"text\");marker.atomic&&reCheckSelection(cm.doc),signalLater(cm,\"markerAdded\",cm,marker)}return marker}TextMarker.prototype.clear=function(){if(!this.explicitlyCleared){var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp&&startOperation(cm),hasHandler(this,\"clear\")){var found=this.find();found&&signalLater(this,\"clear\",found.from,found.to)}for(var min=null,max=null,i=0;i<this.lines.length;++i){var line=this.lines[i],span=getMarkedSpanFor(line.markedSpans,this);cm&&!this.collapsed?regLineChange(cm,lineNo(line),\"text\"):cm&&(null!=span.to&&(max=lineNo(line)),null!=span.from&&(min=lineNo(line))),line.markedSpans=removeMarkedSpan(line.markedSpans,span),null==span.from&&this.collapsed&&!lineIsHidden(this.doc,line)&&cm&&updateLineHeight(line,textHeight(cm.display))}if(cm&&this.collapsed&&!cm.options.lineWrapping)for(var i$1=0;i$1<this.lines.length;++i$1){var visual=visualLine(this.lines[i$1]),len=lineLength(visual);len>cm.display.maxLineLength&&(cm.display.maxLine=visual,cm.display.maxLineLength=len,cm.display.maxLineChanged=!0)}null!=min&&cm&&this.collapsed&&regChange(cm,min,max+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,cm&&reCheckSelection(cm.doc)),cm&&signalLater(cm,\"markerCleared\",cm,this,min,max),withOp&&endOperation(cm),this.parent&&this.parent.clear()}},TextMarker.prototype.find=function(side,lineObj){var from,to;null==side&&\"bookmark\"==this.type&&(side=1);for(var i=0;i<this.lines.length;++i){var line=this.lines[i],span=getMarkedSpanFor(line.markedSpans,this);if(null!=span.from&&(from=Pos(lineObj?line:lineNo(line),span.from),-1==side))return from;if(null!=span.to&&(to=Pos(lineObj?line:lineNo(line),span.to),1==side))return to}return from&&{from:from,to:to}},TextMarker.prototype.changed=function(){var this$1=this,pos=this.find(-1,!0),widget=this,cm=this.doc.cm;pos&&cm&&runInOp(cm,(function(){var line=pos.line,lineN=lineNo(pos.line),view=findViewForLine(cm,lineN);if(view&&(clearLineMeasurementCacheFor(view),cm.curOp.selectionChanged=cm.curOp.forceUpdate=!0),cm.curOp.updateMaxLine=!0,!lineIsHidden(widget.doc,line)&&null!=widget.height){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;dHeight&&updateLineHeight(line,line.height+dHeight)}signalLater(cm,\"markerChanged\",cm,this$1)}))},TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;op.maybeHiddenMarkers&&-1!=indexOf(op.maybeHiddenMarkers,this)||(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(line)},TextMarker.prototype.detachLine=function(line){if(this.lines.splice(indexOf(this.lines,line),1),!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}},eventMixin(TextMarker);var SharedTextMarker=function(markers,primary){this.markers=markers,this.primary=primary;for(var i=0;i<markers.length;++i)markers[i].parent=this};function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),(function(m){return m.parent}))}function detachSharedMarkers(markers){for(var loop=function(i){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,(function(d){return linked.push(d)}));for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];-1==indexOf(linked,subMarker.doc)&&(subMarker.parent=null,marker.markers.splice(j--,1))}},i=0;i<markers.length;i++)loop(i)}SharedTextMarker.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();signalLater(this,\"clear\")}},SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)},eventMixin(SharedTextMarker);var nextDocId=0,Doc=function(text,mode,firstLine,lineSep,direction){if(!(this instanceof Doc))return new Doc(text,mode,firstLine,lineSep,direction);null==firstLine&&(firstLine=0),BranchChunk.call(this,[new LeafChunk([new Line(\"\",null)])]),this.first=firstLine,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start),this.history=new History(null),this.id=++nextDocId,this.modeOption=mode,this.lineSep=lineSep,this.direction=\"rtl\"==direction?\"rtl\":\"ltr\",this.extend=!1,\"string\"==typeof text&&(text=this.splitLines(text)),updateDoc(this,{from:start,to:start,text:text}),setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){op?this.iterN(from-this.first,to-from,op):this.iterN(this.first,this.first+this.size,from)},insert:function(at,lines){for(var height=0,i=0;i<lines.length;++i)height+=lines[i].height;this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);return!1===lineSep?lines:lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp((function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:\"setValue\",full:!0},!0),this.cm&&scrollToCoords(this.cm,0,0),setSelection(this,simpleSelection(top),sel_dontScroll)})),replaceRange:function(code,from,to,origin){replaceRange(this,code,from=clipPos(this,from),to=to?clipPos(this,to):from,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));return!1===lineSep?lines:lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line))return getLine(this,line)},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){return\"number\"==typeof line&&(line=getLine(this,line)),visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var range$$1=this.sel.primary();return null==start||\"head\"==start?range$$1.head:\"anchor\"==start?range$$1.anchor:\"end\"==start||\"to\"==start||!1===start?range$$1.to():range$$1.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp((function(line,ch,options){setSimpleSelection(this,clipPos(this,\"number\"==typeof line?Pos(line,ch||0):line),null,options)})),setSelection:docMethodOp((function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)})),extendSelection:docMethodOp((function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)})),extendSelections:docMethodOp((function(heads,options){extendSelections(this,clipPosArray(this,heads),options)})),extendSelectionsBy:docMethodOp((function(f,options){extendSelections(this,clipPosArray(this,map(this.sel.ranges,f)),options)})),setSelections:docMethodOp((function(ranges,primary,options){if(ranges.length){for(var out=[],i=0;i<ranges.length;i++)out[i]=new Range(clipPos(this,ranges[i].anchor),clipPos(this,ranges[i].head));null==primary&&(primary=Math.min(ranges.length-1,this.sel.primIndex)),setSelection(this,normalizeSelection(this.cm,out,primary),options)}})),addSelection:docMethodOp((function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor))),setSelection(this,normalizeSelection(this.cm,ranges,ranges.length-1),options)})),getSelection:function(lineSep){for(var lines,ranges=this.sel.ranges,i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}return!1===lineSep?lines:lines.join(lineSep||this.lineSeparator())},getSelections:function(lineSep){for(var parts=[],ranges=this.sel.ranges,i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());!1!==lineSep&&(sel=sel.join(lineSep||this.lineSeparator())),parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){for(var dup=[],i=0;i<this.sel.ranges.length;i++)dup[i]=code;this.replaceSelections(dup,collapse,origin||\"+input\")},replaceSelections:docMethodOp((function(code,collapse,origin){for(var changes=[],sel=this.sel,i=0;i<sel.ranges.length;i++){var range$$1=sel.ranges[i];changes[i]={from:range$$1.from(),to:range$$1.to(),text:this.splitLines(code[i]),origin:origin}}for(var newSel=collapse&&\"end\"!=collapse&&function(doc,changes,hint){for(var out=[],oldPrev=Pos(doc.first,0),newPrev=oldPrev,i=0;i<changes.length;i++){var change=changes[i],from=offsetPos(change.from,oldPrev,newPrev),to=offsetPos(changeEnd(change),oldPrev,newPrev);if(oldPrev=change.to,newPrev=to,\"around\"==hint){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to)}else out[i]=new Range(from,from)}return new Selection(out,doc.sel.primIndex)}(this,changes,collapse),i$1=changes.length-1;i$1>=0;i$1--)makeChange(this,changes[i$1]);newSel?setSelectionReplaceHistory(this,newSel):this.cm&&ensureCursorVisible(this.cm)})),undo:docMethodOp((function(){makeChangeFromHistory(this,\"undo\")})),redo:docMethodOp((function(){makeChangeFromHistory(this,\"redo\")})),undoSelection:docMethodOp((function(){makeChangeFromHistory(this,\"undo\",!0)})),redoSelection:docMethodOp((function(){makeChangeFromHistory(this,\"redo\",!0)})),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){for(var hist=this.history,done=0,undone=0,i=0;i<hist.done.length;i++)hist.done[i].ranges||++done;for(var i$1=0;i$1<hist.undone.length;i$1++)hist.undone[i$1].ranges||++undone;return{undo:done,redo:undone}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(forceSplit){return forceSplit&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,!0),hist.undone=copyHistoryArray(histData.undone.slice(0),null,!0)},setGutterMarker:docMethodOp((function(line,gutterID,value){return changeLine(this,line,\"gutter\",(function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});return markers[gutterID]=value,!value&&isEmpty(markers)&&(line.gutterMarkers=null),!0}))})),clearGutter:docMethodOp((function(gutterID){var this$1=this;this.iter((function(line){line.gutterMarkers&&line.gutterMarkers[gutterID]&&changeLine(this$1,line,\"gutter\",(function(){return line.gutterMarkers[gutterID]=null,isEmpty(line.gutterMarkers)&&(line.gutterMarkers=null),!0}))}))})),lineInfo:function(line){var n;if(\"number\"==typeof line){if(!isLine(this,line))return null;if(n=line,!(line=getLine(this,line)))return null}else if(null==(n=lineNo(line)))return null;return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:docMethodOp((function(handle,where,cls){return changeLine(this,handle,\"gutter\"==where?\"gutter\":\"class\",(function(line){var prop=\"text\"==where?\"textClass\":\"background\"==where?\"bgClass\":\"gutter\"==where?\"gutterClass\":\"wrapClass\";if(line[prop]){if(classTest(cls).test(line[prop]))return!1;line[prop]+=\" \"+cls}else line[prop]=cls;return!0}))})),removeLineClass:docMethodOp((function(handle,where,cls){return changeLine(this,handle,\"gutter\"==where?\"gutter\":\"class\",(function(line){var prop=\"text\"==where?\"textClass\":\"background\"==where?\"bgClass\":\"gutter\"==where?\"gutterClass\":\"wrapClass\",cur=line[prop];if(!cur)return!1;if(null==cls)line[prop]=null;else{var found=cur.match(classTest(cls));if(!found)return!1;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(found.index&&end!=cur.length?\" \":\"\")+cur.slice(end)||null}return!0}))})),addLineWidget:docMethodOp((function(handle,node,options){return function(doc,handle,node,options){var widget=new LineWidget(doc,node,options),cm=doc.cm;return cm&&widget.noHScroll&&(cm.display.alignWidgets=!0),changeLine(doc,handle,\"widget\",(function(line){var widgets=line.widgets||(line.widgets=[]);if(null==widget.insertAt?widgets.push(widget):widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget),widget.line=line,cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget)),aboveVisible&&addToScrollTop(cm,widget.height),cm.curOp.forceUpdate=!0}return!0})),cm&&signalLater(cm,\"lineWidgetAdded\",cm,widget,\"number\"==typeof handle?handle:lineNo(handle)),widget}(this,handle,node,options)})),removeLineWidget:function(widget){widget.clear()},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options&&options.type||\"range\")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(null==options.nodeType?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:!1,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};return markText(this,pos=clipPos(this,pos),pos,realOpts,\"bookmark\")},findMarksAt:function(pos){var markers=[],spans=getLine(this,(pos=clipPos(this,pos)).line).markedSpans;if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];(null==span.from||span.from<=pos.ch)&&(null==span.to||span.to>=pos.ch)&&markers.push(span.marker.parent||span.marker)}return markers},findMarks:function(from,to,filter){from=clipPos(this,from),to=clipPos(this,to);var found=[],lineNo$$1=from.line;return this.iter(from.line,to.line+1,(function(line){var spans=line.markedSpans;if(spans)for(var i=0;i<spans.length;i++){var span=spans[i];null!=span.to&&lineNo$$1==from.line&&from.ch>=span.to||null==span.from&&lineNo$$1!=from.line||null!=span.from&&lineNo$$1==to.line&&span.from>=to.ch||filter&&!filter(span.marker)||found.push(span.marker.parent||span.marker)}++lineNo$$1})),found},getAllMarks:function(){var markers=[];return this.iter((function(line){var sps=line.markedSpans;if(sps)for(var i=0;i<sps.length;++i)null!=sps[i].from&&markers.push(sps[i].marker)})),markers},posFromIndex:function(off){var ch,lineNo$$1=this.first,sepSize=this.lineSeparator().length;return this.iter((function(line){var sz=line.text.length+sepSize;if(sz>off)return ch=off,!0;off-=sz,++lineNo$$1})),clipPos(this,Pos(lineNo$$1,ch))},indexFromPos:function(coords){var index=(coords=clipPos(this,coords)).ch;if(coords.line<this.first||coords.ch<0)return 0;var sepSize=this.lineSeparator().length;return this.iter(this.first,coords.line,(function(line){index+=line.text.length+sepSize})),index},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return doc.scrollTop=this.scrollTop,doc.scrollLeft=this.scrollLeft,doc.sel=this.sel,doc.extend=!1,copyHistory&&(doc.history.undoDepth=this.history.undoDepth,doc.setHistory(this.getHistory())),doc},linkedDoc:function(options){options||(options={});var from=this.first,to=this.first+this.size;null!=options.from&&options.from>from&&(from=options.from),null!=options.to&&options.to<to&&(to=options.to);var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep,this.direction);return options.sharedHist&&(copy.history=this.history),(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist}),copy.linked=[{doc:this,isParent:!0,sharedHist:options.sharedHist}],function(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find(),mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark),subMark.parent=marker}}}(copy,findSharedMarkers(this)),copy},unlinkDoc:function(other){if(other instanceof CodeMirror&&(other=other.doc),this.linked)for(var i=0;i<this.linked.length;++i)if(this.linked[i].doc==other){this.linked.splice(i,1),other.unlinkDoc(this),detachSharedMarkers(findSharedMarkers(this));break}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,(function(doc){return splitIds.push(doc.id)}),!0),other.history=new History(null),other.history.done=copyHistoryArray(this.history.done,splitIds),other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){return this.lineSep?str.split(this.lineSep):splitLinesAuto(str)},lineSeparator:function(){return this.lineSep||\"\\n\"},setDirection:docMethodOp((function(dir){var cm;\"rtl\"!=dir&&(dir=\"ltr\"),dir!=this.direction&&(this.direction=dir,this.iter((function(line){return line.order=null})),this.cm&&runInOp(cm=this.cm,(function(){setDirectionClass(cm),regChange(cm)})))}))}),Doc.prototype.eachLine=Doc.prototype.iter;var lastDrop=0;function onDrop(e){var cm=this;if(clearDragCursor(cm),!signalDOMEvent(cm,e)&&!eventInWidget(cm.display,e)){e_preventDefault(e),ie&&(lastDrop=+new Date);var pos=posFromMouse(cm,e,!0),files=e.dataTransfer.files;if(pos&&!cm.isReadOnly())if(files&&files.length&&window.FileReader&&window.File)for(var n=files.length,text=Array(n),read=0,loadFile=function(file,i){if(!cm.options.allowDropFileTypes||-1!=indexOf(cm.options.allowDropFileTypes,file.type)){var reader=new FileReader;reader.onload=operation(cm,(function(){var content=reader.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)&&(content=\"\"),text[i]=content,++read==n){var change={from:pos=clipPos(cm.doc,pos),to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:\"paste\"};makeChange(cm.doc,change),setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}})),reader.readAsText(file)}},i=0;i<n;++i)loadFile(files[i],i);else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1)return cm.state.draggingText(e),void setTimeout((function(){return cm.display.input.focus()}),20);try{var text$1=e.dataTransfer.getData(\"Text\");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy&&(selected=cm.listSelections()),setSelectionNoUndo(cm.doc,simpleSelection(pos,pos)),selected)for(var i$1=0;i$1<selected.length;++i$1)replaceRange(cm.doc,\"\",selected[i$1].anchor,selected[i$1].head,\"drag\");cm.replaceSelection(text$1,\"around\",\"paste\"),cm.display.input.focus()}}catch(e){}}}}function clearDragCursor(cm){cm.display.dragCursor&&(cm.display.lineSpace.removeChild(cm.display.dragCursor),cm.display.dragCursor=null)}function forEachCodeMirror(f){if(document.getElementsByClassName){for(var byClass=document.getElementsByClassName(\"CodeMirror\"),editors=[],i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;cm&&editors.push(cm)}editors.length&&editors[0].operation((function(){for(var i=0;i<editors.length;i++)f(editors[i])}))}}var globalsRegistered=!1;function onResize(cm){var d=cm.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,cm.setSize()}for(var keyNames={3:\"Pause\",8:\"Backspace\",9:\"Tab\",13:\"Enter\",16:\"Shift\",17:\"Ctrl\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Esc\",32:\"Space\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"Left\",38:\"Up\",39:\"Right\",40:\"Down\",44:\"PrintScrn\",45:\"Insert\",46:\"Delete\",59:\";\",61:\"=\",91:\"Mod\",92:\"Mod\",93:\"Mod\",106:\"*\",107:\"=\",109:\"-\",110:\".\",111:\"/\",145:\"ScrollLock\",173:\"-\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\",63232:\"Up\",63233:\"Down\",63234:\"Left\",63235:\"Right\",63272:\"Delete\",63273:\"Home\",63275:\"End\",63276:\"PageUp\",63277:\"PageDown\",63302:\"Insert\"},i=0;i<10;i++)keyNames[i+48]=keyNames[i+96]=String(i);for(var i$1=65;i$1<=90;i$1++)keyNames[i$1]=String.fromCharCode(i$1);for(var i$2=1;i$2<=12;i$2++)keyNames[i$2+111]=keyNames[i$2+63235]=\"F\"+i$2;var keyMap={};function normalizeKeyName(name){var alt,ctrl,shift,cmd,parts=name.split(/-(?!$)/);name=parts[parts.length-1];for(var i=0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))cmd=!0;else if(/^a(lt)?$/i.test(mod))alt=!0;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=!0;else{if(!/^s(hift)?$/i.test(mod))throw new Error(\"Unrecognized modifier name: \"+mod);shift=!0}}return alt&&(name=\"Alt-\"+name),ctrl&&(name=\"Ctrl-\"+name),cmd&&(name=\"Cmd-\"+name),shift&&(name=\"Shift-\"+name),name}function normalizeKeyMap(keymap){var copy={};for(var keyname in keymap)if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname))continue;if(\"...\"==value){delete keymap[keyname];continue}for(var keys=map(keyname.split(\" \"),normalizeKeyName),i=0;i<keys.length;i++){var val=void 0,name=void 0;i==keys.length-1?(name=keys.join(\" \"),val=value):(name=keys.slice(0,i+1).join(\" \"),val=\"...\");var prev=copy[name];if(prev){if(prev!=val)throw new Error(\"Inconsistent bindings for \"+name)}else copy[name]=val}delete keymap[keyname]}for(var prop in copy)keymap[prop]=copy[prop];return keymap}function lookupKey(key,map$$1,handle,context){var found=(map$$1=getKeyMap(map$$1)).call?map$$1.call(key,context):map$$1[key];if(!1===found)return\"nothing\";if(\"...\"===found)return\"multi\";if(null!=found&&handle(found))return\"handled\";if(map$$1.fallthrough){if(\"[object Array]\"!=Object.prototype.toString.call(map$$1.fallthrough))return lookupKey(key,map$$1.fallthrough,handle,context);for(var i=0;i<map$$1.fallthrough.length;i++){var result=lookupKey(key,map$$1.fallthrough[i],handle,context);if(result)return result}}}function isModifierKey(value){var name=\"string\"==typeof value?value:keyNames[value.keyCode];return\"Ctrl\"==name||\"Alt\"==name||\"Shift\"==name||\"Mod\"==name}function addModifierNames(name,event,noShift){var base=name;return event.altKey&&\"Alt\"!=base&&(name=\"Alt-\"+name),(flipCtrlCmd?event.metaKey:event.ctrlKey)&&\"Ctrl\"!=base&&(name=\"Ctrl-\"+name),(flipCtrlCmd?event.ctrlKey:event.metaKey)&&\"Cmd\"!=base&&(name=\"Cmd-\"+name),!noShift&&event.shiftKey&&\"Shift\"!=base&&(name=\"Shift-\"+name),name}function keyName(event,noShift){if(presto&&34==event.keyCode&&event.char)return!1;var name=keyNames[event.keyCode];return null!=name&&!event.altGraphKey&&(3==event.keyCode&&event.code&&(name=event.code),addModifierNames(name,event,noShift))}function getKeyMap(val){return\"string\"==typeof val?keyMap[val]:val}function deleteNearSelection(cm,compute){for(var ranges=cm.doc.sel.ranges,kill=[],i=0;i<ranges.length;i++){for(var toKill=compute(ranges[i]);kill.length&&cmp(toKill.from,lst(kill).to)<=0;){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,(function(){for(var i=kill.length-1;i>=0;i--)replaceRange(cm.doc,\"\",kill[i].from,kill[i].to,\"+delete\");ensureCursorVisible(cm)}))}function moveCharLogically(line,ch,dir){var target=skipExtendingChars(line.text,ch+dir,dir);return target<0||target>line.text.length?null:target}function moveLogically(line,start,dir){var ch=moveCharLogically(line,start.ch,dir);return null==ch?null:new Pos(start.line,ch,dir<0?\"after\":\"before\")}function endOfLine(visually,cm,lineObj,lineNo,dir){if(visually){var order=getOrder(lineObj,cm.doc.direction);if(order){var ch,part=dir<0?lst(order):order[0],sticky=dir<0==(1==part.level)?\"after\":\"before\";if(part.level>0||\"rtl\"==cm.doc.direction){var prep=prepareMeasureForLine(cm,lineObj),targetTop=measureCharPrepared(cm,prep,ch=dir<0?lineObj.text.length-1:0).top;ch=findFirst((function(ch){return measureCharPrepared(cm,prep,ch).top==targetTop}),dir<0==(1==part.level)?part.from:part.to-1,ch),\"before\"==sticky&&(ch=moveCharLogically(lineObj,ch,1))}else ch=dir<0?part.to:part.from;return new Pos(lineNo,ch,sticky)}}return new Pos(lineNo,dir<0?lineObj.text.length:0,dir<0?\"before\":\"after\")}keyMap.basic={Left:\"goCharLeft\",Right:\"goCharRight\",Up:\"goLineUp\",Down:\"goLineDown\",End:\"goLineEnd\",Home:\"goLineStartSmart\",PageUp:\"goPageUp\",PageDown:\"goPageDown\",Delete:\"delCharAfter\",Backspace:\"delCharBefore\",\"Shift-Backspace\":\"delCharBefore\",Tab:\"defaultTab\",\"Shift-Tab\":\"indentAuto\",Enter:\"newlineAndIndent\",Insert:\"toggleOverwrite\",Esc:\"singleSelection\"},keyMap.pcDefault={\"Ctrl-A\":\"selectAll\",\"Ctrl-D\":\"deleteLine\",\"Ctrl-Z\":\"undo\",\"Shift-Ctrl-Z\":\"redo\",\"Ctrl-Y\":\"redo\",\"Ctrl-Home\":\"goDocStart\",\"Ctrl-End\":\"goDocEnd\",\"Ctrl-Up\":\"goLineUp\",\"Ctrl-Down\":\"goLineDown\",\"Ctrl-Left\":\"goGroupLeft\",\"Ctrl-Right\":\"goGroupRight\",\"Alt-Left\":\"goLineStart\",\"Alt-Right\":\"goLineEnd\",\"Ctrl-Backspace\":\"delGroupBefore\",\"Ctrl-Delete\":\"delGroupAfter\",\"Ctrl-S\":\"save\",\"Ctrl-F\":\"find\",\"Ctrl-G\":\"findNext\",\"Shift-Ctrl-G\":\"findPrev\",\"Shift-Ctrl-F\":\"replace\",\"Shift-Ctrl-R\":\"replaceAll\",\"Ctrl-[\":\"indentLess\",\"Ctrl-]\":\"indentMore\",\"Ctrl-U\":\"undoSelection\",\"Shift-Ctrl-U\":\"redoSelection\",\"Alt-U\":\"redoSelection\",fallthrough:\"basic\"},keyMap.emacsy={\"Ctrl-F\":\"goCharRight\",\"Ctrl-B\":\"goCharLeft\",\"Ctrl-P\":\"goLineUp\",\"Ctrl-N\":\"goLineDown\",\"Alt-F\":\"goWordRight\",\"Alt-B\":\"goWordLeft\",\"Ctrl-A\":\"goLineStart\",\"Ctrl-E\":\"goLineEnd\",\"Ctrl-V\":\"goPageDown\",\"Shift-Ctrl-V\":\"goPageUp\",\"Ctrl-D\":\"delCharAfter\",\"Ctrl-H\":\"delCharBefore\",\"Alt-D\":\"delWordAfter\",\"Alt-Backspace\":\"delWordBefore\",\"Ctrl-K\":\"killLine\",\"Ctrl-T\":\"transposeChars\",\"Ctrl-O\":\"openLine\"},keyMap.macDefault={\"Cmd-A\":\"selectAll\",\"Cmd-D\":\"deleteLine\",\"Cmd-Z\":\"undo\",\"Shift-Cmd-Z\":\"redo\",\"Cmd-Y\":\"redo\",\"Cmd-Home\":\"goDocStart\",\"Cmd-Up\":\"goDocStart\",\"Cmd-End\":\"goDocEnd\",\"Cmd-Down\":\"goDocEnd\",\"Alt-Left\":\"goGroupLeft\",\"Alt-Right\":\"goGroupRight\",\"Cmd-Left\":\"goLineLeft\",\"Cmd-Right\":\"goLineRight\",\"Alt-Backspace\":\"delGroupBefore\",\"Ctrl-Alt-Backspace\":\"delGroupAfter\",\"Alt-Delete\":\"delGroupAfter\",\"Cmd-S\":\"save\",\"Cmd-F\":\"find\",\"Cmd-G\":\"findNext\",\"Shift-Cmd-G\":\"findPrev\",\"Cmd-Alt-F\":\"replace\",\"Shift-Cmd-Alt-F\":\"replaceAll\",\"Cmd-[\":\"indentLess\",\"Cmd-]\":\"indentMore\",\"Cmd-Backspace\":\"delWrappedLineLeft\",\"Cmd-Delete\":\"delWrappedLineRight\",\"Cmd-U\":\"undoSelection\",\"Shift-Cmd-U\":\"redoSelection\",\"Ctrl-Up\":\"goDocStart\",\"Ctrl-Down\":\"goDocEnd\",fallthrough:[\"basic\",\"emacsy\"]},keyMap.default=mac?keyMap.macDefault:keyMap.pcDefault;var commands={selectAll:selectAll,singleSelection:function(cm){return cm.setSelection(cm.getCursor(\"anchor\"),cm.getCursor(\"head\"),sel_dontScroll)},killLine:function(cm){return deleteNearSelection(cm,(function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;return range.head.ch==len&&range.head.line<cm.lastLine()?{from:range.head,to:Pos(range.head.line+1,0)}:{from:range.head,to:Pos(range.head.line,len)}}return{from:range.from(),to:range.to()}}))},deleteLine:function(cm){return deleteNearSelection(cm,(function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}}))},delLineLeft:function(cm){return deleteNearSelection(cm,(function(range){return{from:Pos(range.from().line,0),to:range.from()}}))},delWrappedLineLeft:function(cm){return deleteNearSelection(cm,(function(range){var top=cm.charCoords(range.head,\"div\").top+5;return{from:cm.coordsChar({left:0,top:top},\"div\"),to:range.from()}}))},delWrappedLineRight:function(cm){return deleteNearSelection(cm,(function(range){var top=cm.charCoords(range.head,\"div\").top+5,rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},\"div\");return{from:range.from(),to:rightPos}}))},undo:function(cm){return cm.undo()},redo:function(cm){return cm.redo()},undoSelection:function(cm){return cm.undoSelection()},redoSelection:function(cm){return cm.redoSelection()},goDocStart:function(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){return cm.extendSelectionsBy((function(range){return lineStart(cm,range.head.line)}),{origin:\"+move\",bias:1})},goLineStartSmart:function(cm){return cm.extendSelectionsBy((function(range){return lineStartSmart(cm,range.head)}),{origin:\"+move\",bias:1})},goLineEnd:function(cm){return cm.extendSelectionsBy((function(range){return function(cm,lineN){var line=getLine(cm.doc,lineN),visual=function(line){for(var merged;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line;return line}(line);return visual!=line&&(lineN=lineNo(visual)),endOfLine(!0,cm,line,lineN,-1)}(cm,range.head.line)}),{origin:\"+move\",bias:-1})},goLineRight:function(cm){return cm.extendSelectionsBy((function(range){var top=cm.cursorCoords(range.head,\"div\").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},\"div\")}),sel_move)},goLineLeft:function(cm){return cm.extendSelectionsBy((function(range){var top=cm.cursorCoords(range.head,\"div\").top+5;return cm.coordsChar({left:0,top:top},\"div\")}),sel_move)},goLineLeftSmart:function(cm){return cm.extendSelectionsBy((function(range){var top=cm.cursorCoords(range.head,\"div\").top+5,pos=cm.coordsChar({left:0,top:top},\"div\");return pos.ch<cm.getLine(pos.line).search(/\\S/)?lineStartSmart(cm,range.head):pos}),sel_move)},goLineUp:function(cm){return cm.moveV(-1,\"line\")},goLineDown:function(cm){return cm.moveV(1,\"line\")},goPageUp:function(cm){return cm.moveV(-1,\"page\")},goPageDown:function(cm){return cm.moveV(1,\"page\")},goCharLeft:function(cm){return cm.moveH(-1,\"char\")},goCharRight:function(cm){return cm.moveH(1,\"char\")},goColumnLeft:function(cm){return cm.moveH(-1,\"column\")},goColumnRight:function(cm){return cm.moveH(1,\"column\")},goWordLeft:function(cm){return cm.moveH(-1,\"word\")},goGroupRight:function(cm){return cm.moveH(1,\"group\")},goGroupLeft:function(cm){return cm.moveH(-1,\"group\")},goWordRight:function(cm){return cm.moveH(1,\"word\")},delCharBefore:function(cm){return cm.deleteH(-1,\"char\")},delCharAfter:function(cm){return cm.deleteH(1,\"char\")},delWordBefore:function(cm){return cm.deleteH(-1,\"word\")},delWordAfter:function(cm){return cm.deleteH(1,\"word\")},delGroupBefore:function(cm){return cm.deleteH(-1,\"group\")},delGroupAfter:function(cm){return cm.deleteH(1,\"group\")},indentAuto:function(cm){return cm.indentSelection(\"smart\")},indentMore:function(cm){return cm.indentSelection(\"add\")},indentLess:function(cm){return cm.indentSelection(\"subtract\")},insertTab:function(cm){return cm.replaceSelection(\"\\t\")},insertSoftTab:function(cm){for(var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize,i=0;i<ranges.length;i++){var pos=ranges[i].from(),col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize))}cm.replaceSelections(spaces)},defaultTab:function(cm){cm.somethingSelected()?cm.indentSelection(\"add\"):cm.execCommand(\"insertTab\")},transposeChars:function(cm){return runInOp(cm,(function(){for(var ranges=cm.listSelections(),newSel=[],i=0;i<ranges.length;i++)if(ranges[i].empty()){var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line)if(cur.ch==line.length&&(cur=new Pos(cur.line,cur.ch-1)),cur.ch>0)cur=new Pos(cur.line,cur.ch+1),cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,\"+transpose\");else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;prev&&(cur=new Pos(cur.line,1),cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,\"+transpose\"))}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)}))},newlineAndIndent:function(cm){return runInOp(cm,(function(){for(var sels=cm.listSelections(),i=sels.length-1;i>=0;i--)cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,\"+input\");sels=cm.listSelections();for(var i$1=0;i$1<sels.length;i$1++)cm.indentLine(sels[i$1].from().line,null,!0);ensureCursorVisible(cm)}))},openLine:function(cm){return cm.replaceSelection(\"\\n\",\"start\")},toggleOverwrite:function(cm){return cm.toggleOverwrite()}};function lineStart(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLine(line);return visual!=line&&(lineN=lineNo(visual)),endOfLine(!0,cm,visual,lineN,1)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line),line=getLine(cm.doc,start.line),order=getOrder(line,cm.doc.direction);if(!order||0==order[0].level){var firstNonWS=Math.max(0,line.text.search(/\\S/));return Pos(start.line,pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch?0:firstNonWS,start.sticky)}return start}function doHandleBinding(cm,bound,dropShift){if(\"string\"==typeof bound&&!(bound=commands[bound]))return!1;cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=!1;try{cm.isReadOnly()&&(cm.state.suppressEdits=!0),dropShift&&(cm.display.shift=!1),done=bound(cm)!=Pass}finally{cm.display.shift=prevShift,cm.state.suppressEdits=!1}return done}var stopSeq=new Delayed;function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name))return\"handled\";if(/\\'$/.test(name)?cm.state.keySeq=null:stopSeq.set(50,(function(){cm.state.keySeq==seq&&(cm.state.keySeq=null,cm.display.input.reset())})),dispatchKeyInner(cm,seq+\" \"+name,e,handle))return!0}return dispatchKeyInner(cm,name,e,handle)}function dispatchKeyInner(cm,name,e,handle){var result=function(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result)return result}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}(cm,name,handle);return\"multi\"==result&&(cm.state.keySeq=name),\"handled\"==result&&signalLater(cm,\"keyHandled\",cm,name,e),\"handled\"!=result&&\"multi\"!=result||(e_preventDefault(e),restartBlink(cm)),!!result}function handleKeyBinding(cm,e){var name=keyName(e,!0);return!!name&&(e.shiftKey&&!cm.state.keySeq?dispatchKey(cm,\"Shift-\"+name,e,(function(b){return doHandleBinding(cm,b,!0)}))||dispatchKey(cm,name,e,(function(b){if(\"string\"==typeof b?/^go[A-Z]/.test(b):b.motion)return doHandleBinding(cm,b)})):dispatchKey(cm,name,e,(function(b){return doHandleBinding(cm,b)})))}var lastStoppedKey=null;function onKeyDown(e){var cm=this;if(cm.curOp.focus=activeElt(),!signalDOMEvent(cm,e)){ie&&ie_version<11&&27==e.keyCode&&(e.returnValue=!1);var code=e.keyCode;cm.display.shift=16==code||e.shiftKey;var handled=handleKeyBinding(cm,e);presto&&(lastStoppedKey=handled?code:null,!handled&&88==code&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)&&cm.replaceSelection(\"\",null,\"cut\")),18!=code||/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className)||function(cm){var lineDiv=cm.display.lineDiv;function up(e){18!=e.keyCode&&e.altKey||(rmClass(lineDiv,\"CodeMirror-crosshair\"),off(document,\"keyup\",up),off(document,\"mouseover\",up))}addClass(lineDiv,\"CodeMirror-crosshair\"),on(document,\"keyup\",up),on(document,\"mouseover\",up)}(cm)}}function onKeyUp(e){16==e.keyCode&&(this.doc.sel.shift=!1),signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(!(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey)){var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey)return lastStoppedKey=null,void e_preventDefault(e);if(!presto||e.which&&!(e.which<10)||!handleKeyBinding(cm,e)){var ch=String.fromCharCode(null==charCode?keyCode:charCode);\"\\b\"!=ch&&(function(cm,e,ch){return dispatchKey(cm,\"'\"+ch+\"'\",e,(function(b){return doHandleBinding(cm,b,!0)}))}(cm,e,ch)||cm.display.input.onKeyPress(e))}}}var lastClick,lastDoubleClick,PastClick=function(time,pos,button){this.time=time,this.pos=pos,this.button=button};function onMouseDown(e){var cm=this,display=cm.display;if(!(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch()))if(display.input.ensurePolled(),display.shift=e.shiftKey,eventInWidget(display,e))webkit||(display.scroller.draggable=!1,setTimeout((function(){return display.scroller.draggable=!0}),100));else if(!clickInGutter(cm,e)){var pos=posFromMouse(cm,e),button=e_button(e),repeat=pos?function(pos,button){var now=+new Date;return lastDoubleClick&&lastDoubleClick.compare(now,pos,button)?(lastClick=lastDoubleClick=null,\"triple\"):lastClick&&lastClick.compare(now,pos,button)?(lastDoubleClick=new PastClick(now,pos,button),lastClick=null,\"double\"):(lastClick=new PastClick(now,pos,button),lastDoubleClick=null,\"single\")}(pos,button):\"single\";window.focus(),1==button&&cm.state.selectingText&&cm.state.selectingText(e),pos&&function(cm,button,pos,repeat,event){var name=\"Click\";return\"double\"==repeat?name=\"Double\"+name:\"triple\"==repeat&&(name=\"Triple\"+name),dispatchKey(cm,addModifierNames(name=(1==button?\"Left\":2==button?\"Middle\":\"Right\")+name,event),event,(function(bound){if(\"string\"==typeof bound&&(bound=commands[bound]),!bound)return!1;var done=!1;try{cm.isReadOnly()&&(cm.state.suppressEdits=!0),done=bound(cm,pos)!=Pass}finally{cm.state.suppressEdits=!1}return done}))}(cm,button,pos,repeat,e)||(1==button?pos?function(cm,pos,repeat,event){ie?setTimeout(bind(ensureFocus,cm),0):cm.curOp.focus=activeElt();var contained,behavior=function(cm,repeat,event){var option=cm.getOption(\"configureMouse\"),value=option?option(cm,repeat,event):{};return null==value.unit&&(value.unit=(chromeOS?event.shiftKey&&event.metaKey:event.altKey)?\"rectangle\":\"single\"==repeat?\"char\":\"double\"==repeat?\"word\":\"line\"),(null==value.extend||cm.doc.extend)&&(value.extend=cm.doc.extend||event.shiftKey),null==value.addNew&&(value.addNew=mac?event.metaKey:event.ctrlKey),null==value.moveOnDrag&&(value.moveOnDrag=!(mac?event.altKey:event.ctrlKey)),value}(cm,repeat,event),sel=cm.doc.sel;cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&\"single\"==repeat&&(contained=sel.contains(pos))>-1&&(cmp((contained=sel.ranges[contained]).from(),pos)<0||pos.xRel>0)&&(cmp(contained.to(),pos)>0||pos.xRel<0)?function(cm,event,pos,behavior){var display=cm.display,moved=!1,dragEnd=operation(cm,(function(e){webkit&&(display.scroller.draggable=!1),cm.state.draggingText=!1,off(display.wrapper.ownerDocument,\"mouseup\",dragEnd),off(display.wrapper.ownerDocument,\"mousemove\",mouseMove),off(display.scroller,\"dragstart\",dragStart),off(display.scroller,\"drop\",dragEnd),moved||(e_preventDefault(e),behavior.addNew||extendSelection(cm.doc,pos,null,null,behavior.extend),webkit||ie&&9==ie_version?setTimeout((function(){display.wrapper.ownerDocument.body.focus(),display.input.focus()}),20):display.input.focus())})),mouseMove=function(e2){moved=moved||Math.abs(event.clientX-e2.clientX)+Math.abs(event.clientY-e2.clientY)>=10},dragStart=function(){return moved=!0};webkit&&(display.scroller.draggable=!0),cm.state.draggingText=dragEnd,dragEnd.copy=!behavior.moveOnDrag,display.scroller.dragDrop&&display.scroller.dragDrop(),on(display.wrapper.ownerDocument,\"mouseup\",dragEnd),on(display.wrapper.ownerDocument,\"mousemove\",mouseMove),on(display.scroller,\"dragstart\",dragStart),on(display.scroller,\"drop\",dragEnd),delayBlurEvent(cm),setTimeout((function(){return display.input.focus()}),20)}(cm,event,pos,behavior):function(cm,event,start,behavior){var display=cm.display,doc=cm.doc;e_preventDefault(event);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(behavior.addNew&&!behavior.extend?(ourIndex=doc.sel.contains(start),ourRange=ourIndex>-1?ranges[ourIndex]:new Range(start,start)):(ourRange=doc.sel.primary(),ourIndex=doc.sel.primIndex),\"rectangle\"==behavior.unit)behavior.addNew||(ourRange=new Range(start,start)),start=posFromMouse(cm,event,!0,!0),ourIndex=-1;else{var range$$1=rangeForUnit(cm,start,behavior.unit);ourRange=behavior.extend?extendRange(ourRange,range$$1.anchor,range$$1.head,behavior.extend):range$$1}behavior.addNew?-1==ourIndex?(ourIndex=ranges.length,setSelection(doc,normalizeSelection(cm,ranges.concat([ourRange]),ourIndex),{scroll:!1,origin:\"*mouse\"})):ranges.length>1&&ranges[ourIndex].empty()&&\"char\"==behavior.unit&&!behavior.extend?(setSelection(doc,normalizeSelection(cm,ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:!1,origin:\"*mouse\"}),startSel=doc.sel):replaceOneSelection(doc,ourIndex,ourRange,sel_mouse):(ourIndex=0,setSelection(doc,new Selection([ourRange],0),sel_mouse),startSel=doc.sel);var lastPos=start,editorSize=display.wrapper.getBoundingClientRect(),counter=0;function done(e){cm.state.selectingText=!1,counter=1/0,e&&(e_preventDefault(e),display.input.focus()),off(display.wrapper.ownerDocument,\"mousemove\",move),off(display.wrapper.ownerDocument,\"mouseup\",up),doc.history.lastSelOrigin=null}var move=operation(cm,(function(e){0!==e.buttons&&e_button(e)?function extend(e){var curCount=++counter,cur=posFromMouse(cm,e,!0,\"rectangle\"==behavior.unit);if(cur)if(0!=cmp(cur,lastPos)){cm.curOp.focus=activeElt(),function(pos){if(0!=cmp(lastPos,pos))if(lastPos=pos,\"rectangle\"==behavior.unit){for(var ranges=[],tabSize=cm.options.tabSize,startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize),posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize),left=Math.min(startCol,posCol),right=Math.max(startCol,posCol),line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);left==right?ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos))):text.length>leftPos&&ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}ranges.length||ranges.push(new Range(start,start)),setSelection(doc,normalizeSelection(cm,startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:\"*mouse\",scroll:!1}),cm.scrollIntoView(pos)}else{var head,oldRange=ourRange,range$$1=rangeForUnit(cm,pos,behavior.unit),anchor=oldRange.anchor;cmp(range$$1.anchor,anchor)>0?(head=range$$1.head,anchor=minPos(oldRange.from(),range$$1.anchor)):(head=range$$1.anchor,anchor=maxPos(oldRange.to(),range$$1.head));var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=function(cm,range$$1){var anchor=range$$1.anchor,head=range$$1.head,anchorLine=getLine(cm.doc,anchor.line);if(0==cmp(anchor,head)&&anchor.sticky==head.sticky)return range$$1;var order=getOrder(anchorLine);if(!order)return range$$1;var index=getBidiPartAt(order,anchor.ch,anchor.sticky),part=order[index];if(part.from!=anchor.ch&&part.to!=anchor.ch)return range$$1;var leftSide,boundary=index+(part.from==anchor.ch==(1!=part.level)?0:1);if(0==boundary||boundary==order.length)return range$$1;if(head.line!=anchor.line)leftSide=(head.line-anchor.line)*(\"ltr\"==cm.doc.direction?1:-1)>0;else{var headIndex=getBidiPartAt(order,head.ch,head.sticky),dir=headIndex-index||(head.ch-anchor.ch)*(1==part.level?-1:1);leftSide=headIndex==boundary-1||headIndex==boundary?dir<0:dir>0}var usePart=order[boundary+(leftSide?-1:0)],from=leftSide==(1==usePart.level),ch=from?usePart.from:usePart.to,sticky=from?\"after\":\"before\";return anchor.ch==ch&&anchor.sticky==sticky?range$$1:new Range(new Pos(anchor.line,ch,sticky),head)}(cm,new Range(clipPos(doc,anchor),head)),setSelection(doc,normalizeSelection(cm,ranges$1,ourIndex),sel_mouse)}}(cur);var visible=visibleLines(display,doc);(cur.line>=visible.to||cur.line<visible.from)&&setTimeout(operation(cm,(function(){counter==curCount&&extend(e)})),150)}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;outside&&setTimeout(operation(cm,(function(){counter==curCount&&(display.scroller.scrollTop+=outside,extend(e))})),50)}}(e):done(e)})),up=operation(cm,done);cm.state.selectingText=up,on(display.wrapper.ownerDocument,\"mousemove\",move),on(display.wrapper.ownerDocument,\"mouseup\",up)}(cm,event,pos,behavior)}(cm,pos,repeat,e):e_target(e)==display.scroller&&e_preventDefault(e):2==button?(pos&&extendSelection(cm.doc,pos),setTimeout((function(){return display.input.focus()}),20)):3==button&&(captureRightClick?cm.display.input.onContextMenu(e):delayBlurEvent(cm)))}}function rangeForUnit(cm,pos,unit){if(\"char\"==unit)return new Range(pos,pos);if(\"word\"==unit)return cm.findWordAt(pos);if(\"line\"==unit)return new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)));var result=unit(cm,pos);return new Range(result.from,result.to)}function gutterEvent(cm,e,type,prevent){var mX,mY;if(e.touches)mX=e.touches[0].clientX,mY=e.touches[0].clientY;else try{mX=e.clientX,mY=e.clientY}catch(e){return!1}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right))return!1;prevent&&e_preventDefault(e);var display=cm.display,lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.display.gutterSpecs.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX)return signal(cm,type,cm,lineAtHeight(cm.doc,mY),cm.display.gutterSpecs[i].className,e),e_defaultPrevented(e)}}function clickInGutter(cm,e){return gutterEvent(cm,e,\"gutterClick\",!0)}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,\"\")+cm.options.theme.replace(/(^|\\s)\\s*/g,\" cm-s-\"),clearCaches(cm)}PastClick.prototype.compare=function(time,pos,button){return this.time+400>time&&0==cmp(pos,this.pos)&&button==this.button};var Init={toString:function(){return\"CodeMirror.Init\"}},defaults={},optionHandlers={};function dragDropChanged(cm,value,old){if(!value!=!(old&&old!=Init)){var funcs=cm.display.dragFunctions,toggle=value?on:off;toggle(cm.display.scroller,\"dragstart\",funcs.start),toggle(cm.display.scroller,\"dragenter\",funcs.enter),toggle(cm.display.scroller,\"dragover\",funcs.over),toggle(cm.display.scroller,\"dragleave\",funcs.leave),toggle(cm.display.scroller,\"drop\",funcs.drop)}}function wrappingChanged(cm){cm.options.lineWrapping?(addClass(cm.display.wrapper,\"CodeMirror-wrap\"),cm.display.sizer.style.minWidth=\"\",cm.display.sizerWidth=null):(rmClass(cm.display.wrapper,\"CodeMirror-wrap\"),findMaxLine(cm)),estimateLineHeights(cm),regChange(cm),clearCaches(cm),setTimeout((function(){return updateScrollbars(cm)}),100)}function CodeMirror(place,options){var this$1=this;if(!(this instanceof CodeMirror))return new CodeMirror(place,options);this.options=options=options?copyObj(options):{},copyObj(defaults,options,!1);var doc=options.value;\"string\"==typeof doc?doc=new Doc(doc,options.mode,null,options.lineSeparator,options.direction):options.mode&&(doc.modeOption=options.mode),this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this),display=this.display=new Display(place,doc,input,options);for(var opt in display.wrapper.CodeMirror=this,themeChanged(this),options.lineWrapping&&(this.display.wrapper.className+=\" CodeMirror-wrap\"),initScrollbars(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Delayed,keySeq:null,specialChars:null},options.autofocus&&!mobile&&display.input.focus(),ie&&ie_version<11&&setTimeout((function(){return this$1.display.input.reset(!0)}),20),function(cm){var d=cm.display;on(d.scroller,\"mousedown\",operation(cm,onMouseDown)),on(d.scroller,\"dblclick\",ie&&ie_version<11?operation(cm,(function(e){if(!signalDOMEvent(cm,e)){var pos=posFromMouse(cm,e);if(pos&&!clickInGutter(cm,e)&&!eventInWidget(cm.display,e)){e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}}})):function(e){return signalDOMEvent(cm,e)||e_preventDefault(e)}),on(d.scroller,\"contextmenu\",(function(e){return function(cm,e){eventInWidget(cm.display,e)||function(cm,e){return!!hasHandler(cm,\"gutterContextMenu\")&&gutterEvent(cm,e,\"gutterContextMenu\",!1)}(cm,e)||signalDOMEvent(cm,e,\"contextmenu\")||captureRightClick||cm.display.input.onContextMenu(e)}(cm,e)}));var touchFinished,prevTouch={end:0};function finishTouch(){d.activeTouch&&(touchFinished=setTimeout((function(){return d.activeTouch=null}),1e3),(prevTouch=d.activeTouch).end=+new Date)}function farAway(touch,other){if(null==other.left)return!0;var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>400}on(d.scroller,\"touchstart\",(function(e){if(!signalDOMEvent(cm,e)&&!function(e){if(1!=e.touches.length)return!1;var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1}(e)&&!clickInGutter(cm,e)){d.input.ensurePolled(),clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:!1,prev:now-prevTouch.end<=300?prevTouch:null},1==e.touches.length&&(d.activeTouch.left=e.touches[0].pageX,d.activeTouch.top=e.touches[0].pageY)}})),on(d.scroller,\"touchmove\",(function(){d.activeTouch&&(d.activeTouch.moved=!0)})),on(d.scroller,\"touchend\",(function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&null!=touch.left&&!touch.moved&&new Date-touch.start<300){var range,pos=cm.coordsChar(d.activeTouch,\"page\");range=!touch.prev||farAway(touch,touch.prev)?new Range(pos,pos):!touch.prev.prev||farAway(touch,touch.prev.prev)?cm.findWordAt(pos):new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0))),cm.setSelection(range.anchor,range.head),cm.focus(),e_preventDefault(e)}finishTouch()})),on(d.scroller,\"touchcancel\",finishTouch),on(d.scroller,\"scroll\",(function(){d.scroller.clientHeight&&(updateScrollTop(cm,d.scroller.scrollTop),setScrollLeft(cm,d.scroller.scrollLeft,!0),signal(cm,\"scroll\",cm))})),on(d.scroller,\"mousewheel\",(function(e){return onScrollWheel(cm,e)})),on(d.scroller,\"DOMMouseScroll\",(function(e){return onScrollWheel(cm,e)})),on(d.wrapper,\"scroll\",(function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0})),d.dragFunctions={enter:function(e){signalDOMEvent(cm,e)||e_stop(e)},over:function(e){signalDOMEvent(cm,e)||(function(cm,e){var pos=posFromMouse(cm,e);if(pos){var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag),cm.display.dragCursor||(cm.display.dragCursor=elt(\"div\",null,\"CodeMirror-cursors CodeMirror-dragcursors\"),cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)),removeChildrenAndAdd(cm.display.dragCursor,frag)}}(cm,e),e_stop(e))},start:function(e){return function(cm,e){if(ie&&(!cm.state.draggingText||+new Date-lastDrop<100))e_stop(e);else if(!signalDOMEvent(cm,e)&&!eventInWidget(cm.display,e)&&(e.dataTransfer.setData(\"Text\",cm.getSelection()),e.dataTransfer.effectAllowed=\"copyMove\",e.dataTransfer.setDragImage&&!safari)){var img=elt(\"img\",null,null,\"position: fixed; left: 0; top: 0;\");img.src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\",presto&&(img.width=img.height=1,cm.display.wrapper.appendChild(img),img._top=img.offsetTop),e.dataTransfer.setDragImage(img,0,0),presto&&img.parentNode.removeChild(img)}}(cm,e)},drop:operation(cm,onDrop),leave:function(e){signalDOMEvent(cm,e)||clearDragCursor(cm)}};var inp=d.input.getField();on(inp,\"keyup\",(function(e){return onKeyUp.call(cm,e)})),on(inp,\"keydown\",operation(cm,onKeyDown)),on(inp,\"keypress\",operation(cm,onKeyPress)),on(inp,\"focus\",(function(e){return onFocus(cm,e)})),on(inp,\"blur\",(function(e){return onBlur(cm,e)}))}(this),function(){var resizeTimer;globalsRegistered||(on(window,\"resize\",(function(){null==resizeTimer&&(resizeTimer=setTimeout((function(){resizeTimer=null,forEachCodeMirror(onResize)}),100))})),on(window,\"blur\",(function(){return forEachCodeMirror(onBlur)})),globalsRegistered=!0)}(),startOperation(this),this.curOp.forceUpdate=!0,attachDoc(this,doc),options.autofocus&&!mobile||this.hasFocus()?setTimeout(bind(onFocus,this),20):onBlur(this),optionHandlers)optionHandlers.hasOwnProperty(opt)&&optionHandlers[opt](this$1,options[opt],Init);maybeUpdateLineNumberWidth(this),options.finishInit&&options.finishInit(this);for(var i=0;i<initHooks.length;++i)initHooks[i](this$1);endOperation(this),webkit&&options.lineWrapping&&\"optimizelegibility\"==getComputedStyle(display.lineDiv).textRendering&&(display.lineDiv.style.textRendering=\"auto\")}CodeMirror.defaults=defaults,CodeMirror.optionHandlers=optionHandlers;var initHooks=[];function indentLine(cm,n,how,aggressive){var state,doc=cm.doc;null==how&&(how=\"add\"),\"smart\"==how&&(doc.mode.indent?state=getContextBefore(cm,n).state:how=\"prev\");var tabSize=cm.options.tabSize,line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);line.stateAfter&&(line.stateAfter=null);var indentation,curSpaceString=line.text.match(/^\\s*/)[0];if(aggressive||/\\S/.test(line.text)){if(\"smart\"==how&&((indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text))==Pass||indentation>150)){if(!aggressive)return;how=\"prev\"}}else indentation=0,how=\"not\";\"prev\"==how?indentation=n>doc.first?countColumn(getLine(doc,n-1).text,null,tabSize):0:\"add\"==how?indentation=curSpace+cm.options.indentUnit:\"subtract\"==how?indentation=curSpace-cm.options.indentUnit:\"number\"==typeof how&&(indentation=curSpace+how),indentation=Math.max(0,indentation);var indentString=\"\",pos=0;if(cm.options.indentWithTabs)for(var i=Math.floor(indentation/tabSize);i;--i)pos+=tabSize,indentString+=\"\\t\";if(pos<indentation&&(indentString+=spaceStr(indentation-pos)),indentString!=curSpaceString)return replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),\"+input\"),line.stateAfter=null,!0;for(var i$1=0;i$1<doc.sel.ranges.length;i$1++){var range=doc.sel.ranges[i$1];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break}}}CodeMirror.defineInitHook=function(f){return initHooks.push(f)};var lastCopied=null;function setLastCopied(newLastCopied){lastCopied=newLastCopied}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=!1,sel||(sel=doc.sel);var recent=+new Date-200,paste=\"paste\"==origin||cm.state.pasteIncoming>recent,textLines=splitLinesAuto(inserted),multiPaste=null;if(paste&&sel.ranges.length>1)if(lastCopied&&lastCopied.text.join(\"\\n\")==inserted){if(sel.ranges.length%lastCopied.text.length==0){multiPaste=[];for(var i=0;i<lastCopied.text.length;i++)multiPaste.push(doc.splitLines(lastCopied.text[i]))}}else textLines.length==sel.ranges.length&&cm.options.pasteLinesPerSelection&&(multiPaste=map(textLines,(function(l){return[l]})));for(var updateInput=cm.curOp.updateInput,i$1=sel.ranges.length-1;i$1>=0;i$1--){var range$$1=sel.ranges[i$1],from=range$$1.from(),to=range$$1.to();range$$1.empty()&&(deleted&&deleted>0?from=Pos(from.line,from.ch-deleted):cm.state.overwrite&&!paste?to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length)):paste&&lastCopied&&lastCopied.lineWise&&lastCopied.text.join(\"\\n\")==inserted&&(from=to=Pos(from.line,0)));var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?\"paste\":cm.state.cutIncoming>recent?\"cut\":\"+input\")};makeChange(cm.doc,changeEvent),signalLater(cm,\"inputRead\",cm,changeEvent)}inserted&&!paste&&triggerElectric(cm,inserted),ensureCursorVisible(cm),cm.curOp.updateInput<2&&(cm.curOp.updateInput=updateInput),cm.curOp.typing=!0,cm.state.pasteIncoming=cm.state.cutIncoming=-1}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData(\"Text\");if(pasted)return e.preventDefault(),cm.isReadOnly()||cm.options.disableInput||runInOp(cm,(function(){return applyTextInput(cm,pasted,0,null,\"paste\")})),!0}function triggerElectric(cm,inserted){if(cm.options.electricChars&&cm.options.smartIndent)for(var sel=cm.doc.sel,i=sel.ranges.length-1;i>=0;i--){var range$$1=sel.ranges[i];if(!(range$$1.head.ch>100||i&&sel.ranges[i-1].head.line==range$$1.head.line)){var mode=cm.getModeAt(range$$1.head),indented=!1;if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++)if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indented=indentLine(cm,range$$1.head.line,\"smart\");break}}else mode.electricInput&&mode.electricInput.test(getLine(cm.doc,range$$1.head.line).text.slice(0,range$$1.head.ch))&&(indented=indentLine(cm,range$$1.head.line,\"smart\"));indented&&signalLater(cm,\"electricInput\",cm,range$$1.head.line)}}}function copyableRanges(cm){for(var text=[],ranges=[],i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line,lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange),text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field,spellcheck,autocorrect,autocapitalize){field.setAttribute(\"autocorrect\",autocorrect?\"\":\"off\"),field.setAttribute(\"autocapitalize\",autocapitalize?\"\":\"off\"),field.setAttribute(\"spellcheck\",!!spellcheck)}function hiddenTextarea(){var te=elt(\"textarea\",null,null,\"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\"),div=elt(\"div\",[te],null,\"overflow: hidden; position: relative; width: 3px; height: 0px;\");return webkit?te.style.width=\"1000px\":te.setAttribute(\"wrap\",\"off\"),ios&&(te.style.border=\"1px solid black\"),disableBrowserMagic(te),div}function findPosH(doc,pos,dir,unit,visually){var oldPos=pos,origDir=dir,lineObj=getLine(doc,pos.line);function moveOnce(boundToLine){var next,l;if(null==(next=visually?function(cm,line,start,dir){var bidi=getOrder(line,cm.doc.direction);if(!bidi)return moveLogically(line,start,dir);start.ch>=line.text.length?(start.ch=line.text.length,start.sticky=\"before\"):start.ch<=0&&(start.ch=0,start.sticky=\"after\");var partPos=getBidiPartAt(bidi,start.ch,start.sticky),part=bidi[partPos];if(\"ltr\"==cm.doc.direction&&part.level%2==0&&(dir>0?part.to>start.ch:part.from<start.ch))return moveLogically(line,start,dir);var prep,mv=function(pos,dir){return moveCharLogically(line,pos instanceof Pos?pos.ch:pos,dir)},getWrappedLineExtent=function(ch){return cm.options.lineWrapping?(prep=prep||prepareMeasureForLine(cm,line),wrappedLineExtentChar(cm,line,prep,ch)):{begin:0,end:line.text.length}},wrappedLineExtent=getWrappedLineExtent(\"before\"==start.sticky?mv(start,-1):start.ch);if(\"rtl\"==cm.doc.direction||1==part.level){var moveInStorageOrder=1==part.level==dir<0,ch=mv(start,moveInStorageOrder?1:-1);if(null!=ch&&(moveInStorageOrder?ch<=part.to&&ch<=wrappedLineExtent.end:ch>=part.from&&ch>=wrappedLineExtent.begin))return new Pos(start.line,ch,moveInStorageOrder?\"before\":\"after\")}var searchInVisualLine=function(partPos,dir,wrappedLineExtent){for(var getRes=function(ch,moveInStorageOrder){return moveInStorageOrder?new Pos(start.line,mv(ch,1),\"before\"):new Pos(start.line,ch,\"after\")};partPos>=0&&partPos<bidi.length;partPos+=dir){var part=bidi[partPos],moveInStorageOrder=dir>0==(1!=part.level),ch=moveInStorageOrder?wrappedLineExtent.begin:mv(wrappedLineExtent.end,-1);if(part.from<=ch&&ch<part.to)return getRes(ch,moveInStorageOrder);if(ch=moveInStorageOrder?part.from:mv(part.to,-1),wrappedLineExtent.begin<=ch&&ch<wrappedLineExtent.end)return getRes(ch,moveInStorageOrder)}},res=searchInVisualLine(partPos+dir,dir,wrappedLineExtent);if(res)return res;var nextCh=dir>0?wrappedLineExtent.end:mv(wrappedLineExtent.begin,-1);return null==nextCh||dir>0&&nextCh==line.text.length||!(res=searchInVisualLine(dir>0?0:bidi.length-1,dir,getWrappedLineExtent(nextCh)))?null:res}(doc.cm,lineObj,pos,dir):moveLogically(lineObj,pos,dir))){if(boundToLine||(l=pos.line+dir)<doc.first||l>=doc.first+doc.size||(pos=new Pos(l,pos.ch,pos.sticky),!(lineObj=getLine(doc,l))))return!1;pos=endOfLine(visually,doc.cm,lineObj,pos.line,dir)}else pos=next;return!0}if(\"char\"==unit)moveOnce();else if(\"column\"==unit)moveOnce(!0);else if(\"word\"==unit||\"group\"==unit)for(var sawType=null,group=\"group\"==unit,helper=doc.cm&&doc.cm.getHelper(pos,\"wordChars\"),first=!0;!(dir<0)||moveOnce(!first);first=!1){var cur=lineObj.text.charAt(pos.ch)||\"\\n\",type=isWordChar(cur,helper)?\"w\":group&&\"\\n\"==cur?\"n\":!group||/\\s/.test(cur)?null:\"p\";if(!group||first||type||(type=\"s\"),sawType&&sawType!=type){dir<0&&(dir=1,moveOnce(),pos.sticky=\"after\");break}if(type&&(sawType=type),dir>0&&!moveOnce(!first))break}var result=skipAtomic(doc,pos,oldPos,origDir,!0);return equalCursorPos(oldPos,result)&&(result.hitSide=!0),result}function findPosV(cm,pos,dir,unit){var y,target,doc=cm.doc,x=pos.left;if(\"page\"==unit){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),moveAmount=Math.max(pageSize-.5*textHeight(cm.display),3);y=(dir>0?pos.bottom:pos.top)+dir*moveAmount}else\"line\"==unit&&(y=dir>0?pos.bottom+3:pos.top-3);for(;(target=coordsChar(cm,x,y)).outside;){if(dir<0?y<=0:y>=doc.height){target.hitSide=!0;break}y+=5*dir}return target}var ContentEditableInput=function(cm){this.cm=cm,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Delayed,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line=getLine(cm.doc,pos.line),info=mapFromLineView(view,line,pos.line),order=getOrder(line,cm.doc.direction),side=\"left\";order&&(side=getBidiPartAt(order,pos.ch)%2?\"right\":\"left\");var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);return result.offset=\"right\"==result.collapse?result.end:result.start,result}function badPos(pos,bad){return bad&&(pos.bad=!0),pos}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){if(!(lineNode=cm.display.lineDiv.childNodes[offset]))return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),!0);node=null,offset=0}else for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv)return null;if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv)break}for(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode)return locateNodeInLineView(lineView,node,offset)}}function locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=!1;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),!0);if(node==wrapper&&(bad=!0,node=wrapper.childNodes[offset],offset=0,!node)){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad)}var textNode=3==node.nodeType?node:null,topNode=node;for(textNode||1!=node.childNodes.length||3!=node.firstChild.nodeType||(textNode=node.firstChild,offset&&(offset=textNode.nodeValue.length));topNode.parentNode!=wrapper;)topNode=topNode.parentNode;var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++)for(var map$$1=i<0?measure.map:maps[i],j=0;j<map$$1.length;j+=3){var curNode=map$$1[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]),ch=map$$1[j]+offset;return(offset<0||curNode!=textNode)&&(ch=map$$1[j+(offset?1:0)]),Pos(line,ch)}}}var found=find(textNode,topNode,offset);if(found)return badPos(found,bad);for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){if(found=find(after,after.firstChild,0))return badPos(Pos(found.line,found.ch-dist),bad);dist+=after.textContent.length}for(var before=topNode.previousSibling,dist$1=offset;before;before=before.previousSibling){if(found=find(before,before.firstChild,-1))return badPos(Pos(found.line,found.ch+dist$1),bad);dist$1+=before.textContent.length}}ContentEditableInput.prototype.init=function(display){var this$1=this,input=this,cm=input.cm,div=input.div=display.lineDiv;function onCopyCut(e){if(!signalDOMEvent(cm,e)){if(cm.somethingSelected())setLastCopied({lineWise:!1,text:cm.getSelections()}),\"cut\"==e.type&&cm.replaceSelection(\"\",null,\"cut\");else{if(!cm.options.lineWiseCopyCut)return;var ranges=copyableRanges(cm);setLastCopied({lineWise:!0,text:ranges.text}),\"cut\"==e.type&&cm.operation((function(){cm.setSelections(ranges.ranges,0,sel_dontScroll),cm.replaceSelection(\"\",null,\"cut\")}))}if(e.clipboardData){e.clipboardData.clearData();var content=lastCopied.text.join(\"\\n\");if(e.clipboardData.setData(\"Text\",content),e.clipboardData.getData(\"Text\")==content)return void e.preventDefault()}var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild),te.value=lastCopied.text.join(\"\\n\");var hadFocus=document.activeElement;selectInput(te),setTimeout((function(){cm.display.lineSpace.removeChild(kludge),hadFocus.focus(),hadFocus==div&&input.showPrimarySelection()}),50)}}disableBrowserMagic(div,cm.options.spellcheck,cm.options.autocorrect,cm.options.autocapitalize),on(div,\"paste\",(function(e){signalDOMEvent(cm,e)||handlePaste(e,cm)||ie_version<=11&&setTimeout(operation(cm,(function(){return this$1.updateFromDOM()})),20)})),on(div,\"compositionstart\",(function(e){this$1.composing={data:e.data,done:!1}})),on(div,\"compositionupdate\",(function(e){this$1.composing||(this$1.composing={data:e.data,done:!1})})),on(div,\"compositionend\",(function(e){this$1.composing&&(e.data!=this$1.composing.data&&this$1.readFromDOMSoon(),this$1.composing.done=!0)})),on(div,\"touchstart\",(function(){return input.forceCompositionEnd()})),on(div,\"input\",(function(){this$1.composing||this$1.readFromDOMSoon()})),on(div,\"copy\",onCopyCut),on(div,\"cut\",onCopyCut)},ContentEditableInput.prototype.prepareSelection=function(){var result=prepareSelection(this.cm,!1);return result.focus=this.cm.state.focused,result},ContentEditableInput.prototype.showSelection=function(info,takeFocus){info&&this.cm.display.view.length&&((info.focus||takeFocus)&&this.showPrimarySelection(),this.showMultipleSelections(info))},ContentEditableInput.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ContentEditableInput.prototype.showPrimarySelection=function(){var sel=this.getSelection(),cm=this.cm,prim=cm.doc.sel.primary(),from=prim.from(),to=prim.to();if(cm.display.viewTo==cm.display.viewFrom||from.line>=cm.display.viewTo||to.line<cm.display.viewFrom)sel.removeAllRanges();else{var curAnchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),curFocus=domToPos(cm,sel.focusNode,sel.focusOffset);if(!curAnchor||curAnchor.bad||!curFocus||curFocus.bad||0!=cmp(minPos(curAnchor,curFocus),from)||0!=cmp(maxPos(curAnchor,curFocus),to)){var view=cm.display.view,start=from.line>=cm.display.viewFrom&&posToDOM(cm,from)||{node:view[0].measure.map[2],offset:0},end=to.line<cm.display.viewTo&&posToDOM(cm,to);if(!end){var measure=view[view.length-1].measure,map$$1=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map$$1[map$$1.length-1],offset:map$$1[map$$1.length-2]-map$$1[map$$1.length-3]}}if(start&&end){var rng,old=sel.rangeCount&&sel.getRangeAt(0);try{rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}rng&&(!gecko&&cm.state.focused?(sel.collapse(start.node,start.offset),rng.collapsed||(sel.removeAllRanges(),sel.addRange(rng))):(sel.removeAllRanges(),sel.addRange(rng)),old&&null==sel.anchorNode?sel.addRange(old):gecko&&this.startGracePeriod()),this.rememberSelection()}else sel.removeAllRanges()}}},ContentEditableInput.prototype.startGracePeriod=function(){var this$1=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){this$1.gracePeriod=!1,this$1.selectionChanged()&&this$1.cm.operation((function(){return this$1.cm.curOp.selectionChanged=!0}))}),20)},ContentEditableInput.prototype.showMultipleSelections=function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors),removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)},ContentEditableInput.prototype.rememberSelection=function(){var sel=this.getSelection();this.lastAnchorNode=sel.anchorNode,this.lastAnchorOffset=sel.anchorOffset,this.lastFocusNode=sel.focusNode,this.lastFocusOffset=sel.focusOffset},ContentEditableInput.prototype.selectionInEditor=function(){var sel=this.getSelection();if(!sel.rangeCount)return!1;var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)},ContentEditableInput.prototype.focus=function(){\"nocursor\"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},ContentEditableInput.prototype.blur=function(){this.div.blur()},ContentEditableInput.prototype.getField=function(){return this.div},ContentEditableInput.prototype.supportsTouch=function(){return!0},ContentEditableInput.prototype.receivedFocus=function(){var input=this;this.selectionInEditor()?this.pollSelection():runInOp(this.cm,(function(){return input.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function poll(){input.cm.state.focused&&(input.pollSelection(),input.polling.set(input.cm.options.pollInterval,poll))}))},ContentEditableInput.prototype.selectionChanged=function(){var sel=this.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset},ContentEditableInput.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var sel=this.getSelection(),cm=this.cm;if(android&&chrome&&this.cm.display.gutterSpecs.length&&function(node){for(var scan=node;scan;scan=scan.parentNode)if(/CodeMirror-gutter-wrapper/.test(scan.className))return!0;return!1}(sel.anchorNode))return this.cm.triggerOnKeyDown({type:\"keydown\",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),head=domToPos(cm,sel.focusNode,sel.focusOffset);anchor&&head&&runInOp(cm,(function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll),(anchor.bad||head.bad)&&(cm.curOp.selectionChanged=!0)}))}}},ContentEditableInput.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var fromIndex,fromLine,fromNode,cm=this.cm,display=cm.display,sel=cm.doc.sel.primary(),from=sel.from(),to=sel.to();if(0==from.ch&&from.line>cm.firstLine()&&(from=Pos(from.line-1,getLine(cm.doc,from.line-1).length)),to.ch==getLine(cm.doc,to.line).text.length&&to.line<cm.lastLine()&&(to=Pos(to.line+1,0)),from.line<display.viewFrom||to.line>display.viewTo-1)return!1;from.line==display.viewFrom||0==(fromIndex=findViewIndex(cm,from.line))?(fromLine=lineNo(display.view[0].line),fromNode=display.view[0].node):(fromLine=lineNo(display.view[fromIndex].line),fromNode=display.view[fromIndex-1].node.nextSibling);var toLine,toNode,toIndex=findViewIndex(cm,to.line);if(toIndex==display.view.length-1?(toLine=display.viewTo-1,toNode=display.lineDiv.lastChild):(toLine=lineNo(display.view[toIndex+1].line)-1,toNode=display.view[toIndex+1].node.previousSibling),!fromNode)return!1;for(var newText=cm.doc.splitLines(function(cm,from,to,fromLine,toLine){var text=\"\",closing=!1,lineSep=cm.doc.lineSeparator(),extraLinebreak=!1;function close(){closing&&(text+=lineSep,extraLinebreak&&(text+=lineSep),closing=extraLinebreak=!1)}function addText(str){str&&(close(),text+=str)}function walk(node){if(1==node.nodeType){var cmText=node.getAttribute(\"cm-text\");if(cmText)return void addText(cmText);var range$$1,markerID=node.getAttribute(\"cm-marker\");if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),(id=+markerID,function(marker){return marker.id==id}));return void(found.length&&(range$$1=found[0].find(0))&&addText(getBetween(cm.doc,range$$1.from,range$$1.to).join(lineSep)))}if(\"false\"==node.getAttribute(\"contenteditable\"))return;var isBlock=/^(pre|div|p|li|table|br)$/i.test(node.nodeName);if(!/^br$/i.test(node.nodeName)&&0==node.textContent.length)return;isBlock&&close();for(var i=0;i<node.childNodes.length;i++)walk(node.childNodes[i]);/^(pre|p)$/i.test(node.nodeName)&&(extraLinebreak=!0),isBlock&&(closing=!0)}else 3==node.nodeType&&addText(node.nodeValue.replace(/\\u200b/g,\"\").replace(/\\u00a0/g,\" \"));var id}for(;walk(from),from!=to;)from=from.nextSibling,extraLinebreak=!1;return text}(cm,fromNode,toNode,fromLine,toLine)),oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));newText.length>1&&oldText.length>1;)if(lst(newText)==lst(oldText))newText.pop(),oldText.pop(),toLine--;else{if(newText[0]!=oldText[0])break;newText.shift(),oldText.shift(),fromLine++}for(var cutFront=0,cutEnd=0,newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront);)++cutFront;for(var newBot=lst(newText),oldBot=lst(oldText),maxCutEnd=Math.min(newBot.length-(1==newText.length?cutFront:0),oldBot.length-(1==oldText.length?cutFront:0));cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1);)++cutEnd;if(1==newText.length&&1==oldText.length&&fromLine==from.line)for(;cutFront&&cutFront>from.ch&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1);)cutFront--,cutEnd++;newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd).replace(/^\\u200b+/,\"\"),newText[0]=newText[0].slice(cutFront).replace(/\\u200b+$/,\"\");var chFrom=Pos(fromLine,cutFront),chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);return newText.length>1||newText[0]||cmp(chFrom,chTo)?(replaceRange(cm.doc,newText,chFrom,chTo,\"+input\"),!0):void 0},ContentEditableInput.prototype.ensurePolled=function(){this.forceCompositionEnd()},ContentEditableInput.prototype.reset=function(){this.forceCompositionEnd()},ContentEditableInput.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ContentEditableInput.prototype.readFromDOMSoon=function(){var this$1=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(this$1.readDOMTimeout=null,this$1.composing){if(!this$1.composing.done)return;this$1.composing=null}this$1.updateFromDOM()}),80))},ContentEditableInput.prototype.updateFromDOM=function(){var this$1=this;!this.cm.isReadOnly()&&this.pollContent()||runInOp(this.cm,(function(){return regChange(this$1.cm)}))},ContentEditableInput.prototype.setUneditable=function(node){node.contentEditable=\"false\"},ContentEditableInput.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},ContentEditableInput.prototype.readOnlyChanged=function(val){this.div.contentEditable=String(\"nocursor\"!=val)},ContentEditableInput.prototype.onContextMenu=function(){},ContentEditableInput.prototype.resetPosition=function(){},ContentEditableInput.prototype.needsContentAttribute=!0;var TextareaInput=function(cm){this.cm=cm,this.prevInput=\"\",this.pollingFast=!1,this.polling=new Delayed,this.hasSelection=!1,this.composing=null};TextareaInput.prototype.init=function(display){var this$1=this,input=this,cm=this.cm;this.createField(display);var te=this.textarea;function prepareCopyCut(e){if(!signalDOMEvent(cm,e)){if(cm.somethingSelected())setLastCopied({lineWise:!1,text:cm.getSelections()});else{if(!cm.options.lineWiseCopyCut)return;var ranges=copyableRanges(cm);setLastCopied({lineWise:!0,text:ranges.text}),\"cut\"==e.type?cm.setSelections(ranges.ranges,null,sel_dontScroll):(input.prevInput=\"\",te.value=ranges.text.join(\"\\n\"),selectInput(te))}\"cut\"==e.type&&(cm.state.cutIncoming=+new Date)}}display.wrapper.insertBefore(this.wrapper,display.wrapper.firstChild),ios&&(te.style.width=\"0px\"),on(te,\"input\",(function(){ie&&ie_version>=9&&this$1.hasSelection&&(this$1.hasSelection=null),input.poll()})),on(te,\"paste\",(function(e){signalDOMEvent(cm,e)||handlePaste(e,cm)||(cm.state.pasteIncoming=+new Date,input.fastPoll())})),on(te,\"cut\",prepareCopyCut),on(te,\"copy\",prepareCopyCut),on(display.scroller,\"paste\",(function(e){if(!eventInWidget(display,e)&&!signalDOMEvent(cm,e)){if(!te.dispatchEvent)return cm.state.pasteIncoming=+new Date,void input.focus();var event=new Event(\"paste\");event.clipboardData=e.clipboardData,te.dispatchEvent(event)}})),on(display.lineSpace,\"selectstart\",(function(e){eventInWidget(display,e)||e_preventDefault(e)})),on(te,\"compositionstart\",(function(){var start=cm.getCursor(\"from\");input.composing&&input.composing.range.clear(),input.composing={start:start,range:cm.markText(start,cm.getCursor(\"to\"),{className:\"CodeMirror-composing\"})}})),on(te,\"compositionend\",(function(){input.composing&&(input.poll(),input.composing.range.clear(),input.composing=null)}))},TextareaInput.prototype.createField=function(_display){this.wrapper=hiddenTextarea(),this.textarea=this.wrapper.firstChild},TextareaInput.prototype.prepareSelection=function(){var cm=this.cm,display=cm.display,doc=cm.doc,result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,\"div\"),wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top)),result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result},TextareaInput.prototype.showSelection=function(drawn){var display=this.cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors),removeChildrenAndAdd(display.selectionDiv,drawn.selection),null!=drawn.teTop&&(this.wrapper.style.top=drawn.teTop+\"px\",this.wrapper.style.left=drawn.teLeft+\"px\")},TextareaInput.prototype.reset=function(typing){if(!this.contextMenuPending&&!this.composing){var cm=this.cm;if(cm.somethingSelected()){this.prevInput=\"\";var content=cm.getSelection();this.textarea.value=content,cm.state.focused&&selectInput(this.textarea),ie&&ie_version>=9&&(this.hasSelection=content)}else typing||(this.prevInput=this.textarea.value=\"\",ie&&ie_version>=9&&(this.hasSelection=null))}},TextareaInput.prototype.getField=function(){return this.textarea},TextareaInput.prototype.supportsTouch=function(){return!1},TextareaInput.prototype.focus=function(){if(\"nocursor\"!=this.cm.options.readOnly&&(!mobile||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}},TextareaInput.prototype.blur=function(){this.textarea.blur()},TextareaInput.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},TextareaInput.prototype.receivedFocus=function(){this.slowPoll()},TextareaInput.prototype.slowPoll=function(){var this$1=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){this$1.poll(),this$1.cm.state.focused&&this$1.slowPoll()}))},TextareaInput.prototype.fastPoll=function(){var missed=!1,input=this;input.pollingFast=!0,input.polling.set(20,(function p(){input.poll()||missed?(input.pollingFast=!1,input.slowPoll()):(missed=!0,input.polling.set(60,p))}))},TextareaInput.prototype.poll=function(){var this$1=this,cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq)return!1;var text=input.value;if(text==prevInput&&!cm.somethingSelected())return!1;if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\\uf700-\\uf7ff]/.test(text))return cm.display.input.reset(),!1;if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(8203!=first||prevInput||(prevInput=\"​\"),8666==first)return this.reset(),this.cm.execCommand(\"undo\")}for(var same=0,l=Math.min(prevInput.length,text.length);same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same);)++same;return runInOp(cm,(function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?\"*compose\":null),text.length>1e3||text.indexOf(\"\\n\")>-1?input.value=this$1.prevInput=\"\":this$1.prevInput=text,this$1.composing&&(this$1.composing.range.clear(),this$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor(\"to\"),{className:\"CodeMirror-composing\"}))})),!0},TextareaInput.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},TextareaInput.prototype.onKeyPress=function(){ie&&ie_version>=9&&(this.hasSelection=null),this.fastPoll()},TextareaInput.prototype.onContextMenu=function(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;input.contextMenuPending&&input.contextMenuPending();var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(pos&&!presto){cm.options.resetSelectionOnContextMenu&&-1==cm.doc.sel.contains(pos)&&operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldScrollY,oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText,wrapperBox=input.wrapper.offsetParent.getBoundingClientRect();if(input.wrapper.style.cssText=\"position: static\",te.style.cssText=\"position: absolute; width: 30px; height: 30px;\\n      top: \"+(e.clientY-wrapperBox.top-5)+\"px; left: \"+(e.clientX-wrapperBox.left-5)+\"px;\\n      z-index: 1000; background: \"+(ie?\"rgba(255, 255, 255, .05)\":\"transparent\")+\";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\",webkit&&(oldScrollY=window.scrollY),display.input.focus(),webkit&&window.scrollTo(null,oldScrollY),display.input.reset(),cm.somethingSelected()||(te.value=input.prevInput=\" \"),input.contextMenuPending=rehide,display.selForContextMenu=cm.doc.sel,clearTimeout(display.detectingSelectAll),ie&&ie_version>=9&&prepareSelectAllHack(),captureRightClick){e_stop(e);var mouseup=function(){off(window,\"mouseup\",mouseup),setTimeout(rehide,20)};on(window,\"mouseup\",mouseup)}else setTimeout(rehide,50)}function prepareSelectAllHack(){if(null!=te.selectionStart){var selected=cm.somethingSelected(),extval=\"​\"+(selected?te.value:\"\");te.value=\"⇚\",te.value=extval,input.prevInput=selected?\"\":\"​\",te.selectionStart=1,te.selectionEnd=extval.length,display.selForContextMenu=cm.doc.sel}}function rehide(){if(input.contextMenuPending==rehide&&(input.contextMenuPending=!1,input.wrapper.style.cssText=oldWrapperCSS,te.style.cssText=oldCSS,ie&&ie_version<9&&display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos),null!=te.selectionStart)){(!ie||ie&&ie_version<9)&&prepareSelectAllHack();var i=0,poll=function(){display.selForContextMenu==cm.doc.sel&&0==te.selectionStart&&te.selectionEnd>0&&\"​\"==input.prevInput?operation(cm,selectAll)(cm):i++<10?display.detectingSelectAll=setTimeout(poll,500):(display.selForContextMenu=null,display.input.reset())};display.detectingSelectAll=setTimeout(poll,200)}}},TextareaInput.prototype.readOnlyChanged=function(val){val||this.reset(),this.textarea.disabled=\"nocursor\"==val},TextareaInput.prototype.setUneditable=function(){},TextareaInput.prototype.needsContentAttribute=!1,function(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt,handle&&(optionHandlers[name]=notOnInit?function(cm,val,old){old!=Init&&handle(cm,val,old)}:handle)}CodeMirror.defineOption=option,CodeMirror.Init=Init,option(\"value\",\"\",(function(cm,val){return cm.setValue(val)}),!0),option(\"mode\",null,(function(cm,val){cm.doc.modeOption=val,loadMode(cm)}),!0),option(\"indentUnit\",2,loadMode,!0),option(\"indentWithTabs\",!1),option(\"smartIndent\",!0),option(\"tabSize\",4,(function(cm){resetModeState(cm),clearCaches(cm),regChange(cm)}),!0),option(\"lineSeparator\",null,(function(cm,val){if(cm.doc.lineSep=val,val){var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter((function(line){for(var pos=0;;){var found=line.text.indexOf(val,pos);if(-1==found)break;pos=found+val.length,newBreaks.push(Pos(lineNo,found))}lineNo++}));for(var i=newBreaks.length-1;i>=0;i--)replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))}})),option(\"specialChars\",/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g,(function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test(\"\\t\")?\"\":\"|\\t\"),\"g\"),old!=Init&&cm.refresh()})),option(\"specialCharPlaceholder\",defaultSpecialCharPlaceholder,(function(cm){return cm.refresh()}),!0),option(\"electricChars\",!0),option(\"inputStyle\",mobile?\"contenteditable\":\"textarea\",(function(){throw new Error(\"inputStyle can not (yet) be changed in a running editor\")}),!0),option(\"spellcheck\",!1,(function(cm,val){return cm.getInputField().spellcheck=val}),!0),option(\"autocorrect\",!1,(function(cm,val){return cm.getInputField().autocorrect=val}),!0),option(\"autocapitalize\",!1,(function(cm,val){return cm.getInputField().autocapitalize=val}),!0),option(\"rtlMoveVisually\",!windows),option(\"wholeLineUpdateBefore\",!0),option(\"theme\",\"default\",(function(cm){themeChanged(cm),updateGutters(cm)}),!0),option(\"keyMap\",\"default\",(function(cm,val,old){var next=getKeyMap(val),prev=old!=Init&&getKeyMap(old);prev&&prev.detach&&prev.detach(cm,next),next.attach&&next.attach(cm,prev||null)})),option(\"extraKeys\",null),option(\"configureMouse\",null),option(\"lineWrapping\",!1,wrappingChanged,!0),option(\"gutters\",[],(function(cm,val){cm.display.gutterSpecs=getGutters(val,cm.options.lineNumbers),updateGutters(cm)}),!0),option(\"fixedGutter\",!0,(function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+\"px\":\"0\",cm.refresh()}),!0),option(\"coverGutterNextToScrollbar\",!1,(function(cm){return updateScrollbars(cm)}),!0),option(\"scrollbarStyle\",\"native\",(function(cm){initScrollbars(cm),updateScrollbars(cm),cm.display.scrollbars.setScrollTop(cm.doc.scrollTop),cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)}),!0),option(\"lineNumbers\",!1,(function(cm,val){cm.display.gutterSpecs=getGutters(cm.options.gutters,val),updateGutters(cm)}),!0),option(\"firstLineNumber\",1,updateGutters,!0),option(\"lineNumberFormatter\",(function(integer){return integer}),updateGutters,!0),option(\"showCursorWhenSelecting\",!1,updateSelection,!0),option(\"resetSelectionOnContextMenu\",!0),option(\"lineWiseCopyCut\",!0),option(\"pasteLinesPerSelection\",!0),option(\"selectionsMayTouch\",!1),option(\"readOnly\",!1,(function(cm,val){\"nocursor\"==val&&(onBlur(cm),cm.display.input.blur()),cm.display.input.readOnlyChanged(val)})),option(\"disableInput\",!1,(function(cm,val){val||cm.display.input.reset()}),!0),option(\"dragDrop\",!0,dragDropChanged),option(\"allowDropFileTypes\",null),option(\"cursorBlinkRate\",530),option(\"cursorScrollMargin\",0),option(\"cursorHeight\",1,updateSelection,!0),option(\"singleCursorHeightPerLine\",!0,updateSelection,!0),option(\"workTime\",100),option(\"workDelay\",100),option(\"flattenSpans\",!0,resetModeState,!0),option(\"addModeClass\",!1,resetModeState,!0),option(\"pollInterval\",100),option(\"undoDepth\",200,(function(cm,val){return cm.doc.history.undoDepth=val})),option(\"historyEventDelay\",1250),option(\"viewportMargin\",10,(function(cm){return cm.refresh()}),!0),option(\"maxHighlightLength\",1e4,resetModeState,!0),option(\"moveInputWithCursor\",!0,(function(cm,val){val||cm.display.input.resetPosition()})),option(\"tabindex\",null,(function(cm,val){return cm.display.input.getField().tabIndex=val||\"\"})),option(\"autofocus\",null),option(\"direction\",\"ltr\",(function(cm,val){return cm.doc.setDirection(val)}),!0),option(\"phrases\",null)}(CodeMirror),function(CodeMirror){var optionHandlers=CodeMirror.optionHandlers,helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus(),this.display.input.focus()},setOption:function(option,value){var options=this.options,old=options[option];options[option]==value&&\"mode\"!=option||(options[option]=value,optionHandlers.hasOwnProperty(option)&&operation(this,optionHandlers[option])(this,value,old),signal(this,\"optionChange\",this,option))},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map$$1,bottom){this.state.keyMaps[bottom?\"push\":\"unshift\"](getKeyMap(map$$1))},removeKeyMap:function(map$$1){for(var maps=this.state.keyMaps,i=0;i<maps.length;++i)if(maps[i]==map$$1||maps[i].name==map$$1)return maps.splice(i,1),!0},addOverlay:methodOp((function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState)throw new Error(\"Overlays may not be stateful.\");!function(array,value,score){for(var pos=0,priority=score(value);pos<array.length&&score(array[pos])<=priority;)pos++;array.splice(pos,0,value)}(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:options&&options.priority||0},(function(overlay){return overlay.priority})),this.state.modeGen++,regChange(this)})),removeOverlay:methodOp((function(spec){for(var overlays=this.state.overlays,i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||\"string\"==typeof spec&&cur.name==spec)return overlays.splice(i,1),this.state.modeGen++,void regChange(this)}})),indentLine:methodOp((function(n,dir,aggressive){\"string\"!=typeof dir&&\"number\"!=typeof dir&&(dir=null==dir?this.options.smartIndent?\"smart\":\"prev\":dir?\"add\":\"subtract\"),isLine(this.doc,n)&&indentLine(this,n,dir,aggressive)})),indentSelection:methodOp((function(how){for(var ranges=this.doc.sel.ranges,end=-1,i=0;i<ranges.length;i++){var range$$1=ranges[i];if(range$$1.empty())range$$1.head.line>end&&(indentLine(this,range$$1.head.line,how,!0),end=range$$1.head.line,i==this.doc.sel.primIndex&&ensureCursorVisible(this));else{var from=range$$1.from(),to=range$$1.to(),start=Math.max(end,from.line);end=Math.min(this.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j)indentLine(this,j,how);var newRanges=this.doc.sel.ranges;0==from.ch&&ranges.length==newRanges.length&&newRanges[i].from().ch>0&&replaceOneSelection(this.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}}})),getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,!0)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var type,styles=getLineStyles(this,getLine(this.doc,pos.line)),before=0,after=(styles.length-1)/2,ch=pos.ch;if(0==ch)type=styles[2];else for(;;){var mid=before+after>>1;if((mid?styles[2*mid-1]:0)>=ch)after=mid;else{if(!(styles[2*mid+1]<ch)){type=styles[2*mid+2];break}before=mid+1}}var cut=type?type.indexOf(\"overlay \"):-1;return cut<0?type:0==cut?null:type.slice(0,cut-1)},getModeAt:function(pos){var mode=this.doc.mode;return mode.innerMode?CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode:mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var found=[];if(!helpers.hasOwnProperty(type))return found;var help=helpers[type],mode=this.getModeAt(pos);if(\"string\"==typeof mode[type])help[mode[type]]&&found.push(help[mode[type]]);else if(mode[type])for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];val&&found.push(val)}else mode.helperType&&help[mode.helperType]?found.push(help[mode.helperType]):help[mode.name]&&found.push(help[mode.name]);for(var i$1=0;i$1<help._global.length;i$1++){var cur=help._global[i$1];cur.pred(mode,this)&&-1==indexOf(found,cur.val)&&found.push(cur.val)}return found},getStateAfter:function(line,precise){var doc=this.doc;return getContextBefore(this,(line=clipLine(doc,null==line?doc.first+doc.size-1:line))+1,precise).state},cursorCoords:function(start,mode){var range$$1=this.doc.sel.primary();return cursorCoords(this,null==start?range$$1.head:\"object\"==typeof start?clipPos(this.doc,start):start?range$$1.from():range$$1.to(),mode||\"page\")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||\"page\")},coordsChar:function(coords,mode){return coordsChar(this,(coords=fromCoordSystem(this,coords,mode||\"page\")).left,coords.top)},lineAtHeight:function(height,mode){return height=fromCoordSystem(this,{top:height,left:0},mode||\"page\").top,lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode,includeWidgets){var lineObj,end=!1;if(\"number\"==typeof line){var last=this.doc.first+this.doc.size-1;line<this.doc.first?line=this.doc.first:line>last&&(line=last,end=!0),lineObj=getLine(this.doc,line)}else lineObj=line;return intoCoordSystem(this,lineObj,{top:0,left:0},mode||\"page\",includeWidgets||end).top+(end?this.doc.height-heightAtLine(lineObj):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var scrollPos,display=this.display,top=(pos=cursorCoords(this,clipPos(this.doc,pos))).bottom,left=pos.left;if(node.style.position=\"absolute\",node.setAttribute(\"cm-ignore-events\",\"true\"),this.display.input.setUneditable(node),display.sizer.appendChild(node),\"over\"==vert)top=pos.top;else if(\"above\"==vert||\"near\"==vert){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);(\"above\"==vert||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight?top=pos.top-node.offsetHeight:pos.bottom+node.offsetHeight<=vspace&&(top=pos.bottom),left+node.offsetWidth>hspace&&(left=hspace-node.offsetWidth)}node.style.top=top+\"px\",node.style.left=node.style.right=\"\",\"right\"==horiz?(left=display.sizer.clientWidth-node.offsetWidth,node.style.right=\"0px\"):(\"left\"==horiz?left=0:\"middle\"==horiz&&(left=(display.sizer.clientWidth-node.offsetWidth)/2),node.style.left=left+\"px\"),scroll&&(null!=(scrollPos=calculateScrollPos(this,{left:left,top:top,right:left+node.offsetWidth,bottom:top+node.offsetHeight})).scrollTop&&updateScrollTop(this,scrollPos.scrollTop),null!=scrollPos.scrollLeft&&setScrollLeft(this,scrollPos.scrollLeft))},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function(cmd){if(commands.hasOwnProperty(cmd))return commands[cmd].call(null,this)},triggerElectric:methodOp((function(text){triggerElectric(this,text)})),findPosH:function(from,amount,unit,visually){var dir=1;amount<0&&(dir=-1,amount=-amount);for(var cur=clipPos(this.doc,from),i=0;i<amount&&!(cur=findPosH(this.doc,cur,dir,unit,visually)).hitSide;++i);return cur},moveH:methodOp((function(dir,unit){var this$1=this;this.extendSelectionsBy((function(range$$1){return this$1.display.shift||this$1.doc.extend||range$$1.empty()?findPosH(this$1.doc,range$$1.head,dir,unit,this$1.options.rtlMoveVisually):dir<0?range$$1.from():range$$1.to()}),sel_move)})),deleteH:methodOp((function(dir,unit){var doc=this.doc;this.doc.sel.somethingSelected()?doc.replaceSelection(\"\",null,\"+delete\"):deleteNearSelection(this,(function(range$$1){var other=findPosH(doc,range$$1.head,dir,unit,!1);return dir<0?{from:other,to:range$$1.head}:{from:range$$1.head,to:other}}))})),findPosV:function(from,amount,unit,goalColumn){var dir=1,x=goalColumn;amount<0&&(dir=-1,amount=-amount);for(var cur=clipPos(this.doc,from),i=0;i<amount;++i){var coords=cursorCoords(this,cur,\"div\");if(null==x?x=coords.left:coords.left=x,(cur=findPosV(this,coords,dir,unit)).hitSide)break}return cur},moveV:methodOp((function(dir,unit){var this$1=this,doc=this.doc,goals=[],collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();if(doc.extendSelectionsBy((function(range$$1){if(collapse)return dir<0?range$$1.from():range$$1.to();var headPos=cursorCoords(this$1,range$$1.head,\"div\");null!=range$$1.goalColumn&&(headPos.left=range$$1.goalColumn),goals.push(headPos.left);var pos=findPosV(this$1,headPos,dir,unit);return\"page\"==unit&&range$$1==doc.sel.primary()&&addToScrollTop(this$1,charCoords(this$1,pos,\"div\").top-headPos.top),pos}),sel_move),goals.length)for(var i=0;i<doc.sel.ranges.length;i++)doc.sel.ranges[i].goalColumn=goals[i]})),findWordAt:function(pos){var line=getLine(this.doc,pos.line).text,start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,\"wordChars\");\"before\"!=pos.sticky&&end!=line.length||!start?++end:--start;for(var startChar=line.charAt(start),check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\\s/.test(startChar)?function(ch){return/\\s/.test(ch)}:function(ch){return!/\\s/.test(ch)&&!isWordChar(ch)};start>0&&check(line.charAt(start-1));)--start;for(;end<line.length&&check(line.charAt(end));)++end}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){null!=value&&value==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?addClass(this.display.cursorDiv,\"CodeMirror-overwrite\"):rmClass(this.display.cursorDiv,\"CodeMirror-overwrite\"),signal(this,\"overwriteToggle\",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:methodOp((function(x,y){scrollToCoords(this,x,y)})),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp((function(range$$1,margin){null==range$$1?(range$$1={from:this.doc.sel.primary().head,to:null},null==margin&&(margin=this.options.cursorScrollMargin)):\"number\"==typeof range$$1?range$$1={from:Pos(range$$1,0),to:null}:null==range$$1.from&&(range$$1={from:range$$1,to:null}),range$$1.to||(range$$1.to=range$$1.from),range$$1.margin=margin||0,null!=range$$1.from.line?function(cm,range$$1){resolveScrollToPos(cm),cm.curOp.scrollToPos=range$$1}(this,range$$1):scrollToCoordsRange(this,range$$1.from,range$$1.to,range$$1.margin)})),setSize:methodOp((function(width,height){var this$1=this,interpret=function(val){return\"number\"==typeof val||/^\\d+$/.test(String(val))?val+\"px\":val};null!=width&&(this.display.wrapper.style.width=interpret(width)),null!=height&&(this.display.wrapper.style.height=interpret(height)),this.options.lineWrapping&&clearLineMeasurementCache(this);var lineNo$$1=this.display.viewFrom;this.doc.iter(lineNo$$1,this.display.viewTo,(function(line){if(line.widgets)for(var i=0;i<line.widgets.length;i++)if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo$$1,\"widget\");break}++lineNo$$1})),this.curOp.forceUpdate=!0,signal(this,\"refresh\",this)})),operation:function(f){return runInOp(this,f)},startOperation:function(){return startOperation(this)},endOperation:function(){return endOperation(this)},refresh:methodOp((function(){var oldHeight=this.display.cachedTextHeight;regChange(this),this.curOp.forceUpdate=!0,clearCaches(this),scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop),updateGutterSpace(this.display),(null==oldHeight||Math.abs(oldHeight-textHeight(this.display))>.5)&&estimateLineHeights(this),signal(this,\"refresh\",this)})),swapDoc:methodOp((function(doc){var old=this.doc;return old.cm=null,this.state.selectingText&&this.state.selectingText(),attachDoc(this,doc),clearCaches(this),this.display.input.reset(),scrollToCoords(this,doc.scrollLeft,doc.scrollTop),this.curOp.forceScroll=!0,signalLater(this,\"swapDoc\",this,old),old})),phrase:function(phraseText){var phrases=this.options.phrases;return phrases&&Object.prototype.hasOwnProperty.call(phrases,phraseText)?phrases[phraseText]:phraseText},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},eventMixin(CodeMirror),CodeMirror.registerHelper=function(type,name,value){helpers.hasOwnProperty(type)||(helpers[type]=CodeMirror[type]={_global:[]}),helpers[type][name]=value},CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value),helpers[type]._global.push({pred:predicate,val:value})}}(CodeMirror);var dontDelegate=\"iter insert remove copy getEditor constructor\".split(\" \");for(var prop in Doc.prototype)Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0&&(CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop]));return eventMixin(Doc),CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput},CodeMirror.defineMode=function(name){CodeMirror.defaults.mode||\"null\"==name||(CodeMirror.defaults.mode=name),defineMode.apply(this,arguments)},CodeMirror.defineMIME=function(mime,spec){mimeModes[mime]=spec},CodeMirror.defineMode(\"null\",(function(){return{token:function(stream){return stream.skipToEnd()}}})),CodeMirror.defineMIME(\"text/plain\",\"null\"),CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func},CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func},CodeMirror.fromTextArea=function(textarea,options){if((options=options?copyObj(options):{}).value=textarea.value,!options.tabindex&&textarea.tabIndex&&(options.tabindex=textarea.tabIndex),!options.placeholder&&textarea.placeholder&&(options.placeholder=textarea.placeholder),null==options.autofocus){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||null!=textarea.getAttribute(\"autofocus\")&&hasFocus==document.body}function save(){textarea.value=cm.getValue()}var realSubmit;if(textarea.form&&(on(textarea.form,\"submit\",save),!options.leaveSubmitMethodAlone)){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save(),form.submit=realSubmit,form.submit(),form.submit=wrappedSubmit}}catch(e){}}options.finishInit=function(cm){cm.save=save,cm.getTextArea=function(){return textarea},cm.toTextArea=function(){cm.toTextArea=isNaN,save(),textarea.parentNode.removeChild(cm.getWrapperElement()),textarea.style.display=\"\",textarea.form&&(off(textarea.form,\"submit\",save),options.leaveSubmitMethodAlone||\"function\"!=typeof textarea.form.submit||(textarea.form.submit=realSubmit))}},textarea.style.display=\"none\";var cm=CodeMirror((function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)}),options);return cm},function(CodeMirror){CodeMirror.off=off,CodeMirror.on=on,CodeMirror.wheelEventPixels=wheelEventPixels,CodeMirror.Doc=Doc,CodeMirror.splitLines=splitLinesAuto,CodeMirror.countColumn=countColumn,CodeMirror.findColumn=findColumn,CodeMirror.isWordChar=isWordCharBasic,CodeMirror.Pass=Pass,CodeMirror.signal=signal,CodeMirror.Line=Line,CodeMirror.changeEnd=changeEnd,CodeMirror.scrollbarModel=scrollbarModel,CodeMirror.Pos=Pos,CodeMirror.cmpPos=cmp,CodeMirror.modes=modes,CodeMirror.mimeModes=mimeModes,CodeMirror.resolveMode=resolveMode,CodeMirror.getMode=getMode,CodeMirror.modeExtensions=modeExtensions,CodeMirror.extendMode=extendMode,CodeMirror.copyState=copyState,CodeMirror.startState=startState,CodeMirror.innerMode=innerMode,CodeMirror.commands=commands,CodeMirror.keyMap=keyMap,CodeMirror.keyName=keyName,CodeMirror.isModifierKey=isModifierKey,CodeMirror.lookupKey=lookupKey,CodeMirror.normalizeKeyMap=normalizeKeyMap,CodeMirror.StringStream=StringStream,CodeMirror.SharedTextMarker=SharedTextMarker,CodeMirror.TextMarker=TextMarker,CodeMirror.LineWidget=LineWidget,CodeMirror.e_preventDefault=e_preventDefault,CodeMirror.e_stopPropagation=e_stopPropagation,CodeMirror.e_stop=e_stop,CodeMirror.addClass=addClass,CodeMirror.contains=contains,CodeMirror.rmClass=rmClass,CodeMirror.keyNames=keyNames}(CodeMirror),CodeMirror.version=\"5.49.0\",CodeMirror}()},d6pH:function(module,__webpack_exports__,__webpack_require__){\"use strict\";function isEmpty(arr){return arr&&0===arr.length}function keys(obj){return null==obj?[]:Object.keys(obj)}function values(obj){for(var vals=[],keys=Object.keys(obj),i=0;i<keys.length;i++)vals.push(obj[keys[i]]);return vals}function mapValues(obj,callback){for(var result=[],objKeys=keys(obj),idx=0;idx<objKeys.length;idx++){var currKey=objKeys[idx];result.push(callback.call(null,obj[currKey],currKey))}return result}function map(arr,callback){for(var result=[],idx=0;idx<arr.length;idx++)result.push(callback.call(null,arr[idx],idx));return result}function flatten(arr){for(var result=[],idx=0;idx<arr.length;idx++){var currItem=arr[idx];Array.isArray(currItem)?result=result.concat(flatten(currItem)):result.push(currItem)}return result}function first(arr){return isEmpty(arr)?void 0:arr[0]}function last(arr){var len=arr&&arr.length;return len?arr[len-1]:void 0}function forEach(collection,iteratorCallback){if(Array.isArray(collection))for(var i=0;i<collection.length;i++)iteratorCallback.call(null,collection[i],i);else{if(!isObject(collection))throw Error(\"non exhaustive match\");var colKeys=keys(collection);for(i=0;i<colKeys.length;i++){var key=colKeys[i];iteratorCallback.call(null,collection[key],key)}}}function isString(item){return\"string\"==typeof item}function isUndefined(item){return void 0===item}function isFunction(item){return item instanceof Function}function drop(arr,howMuch){return void 0===howMuch&&(howMuch=1),arr.slice(howMuch,arr.length)}function dropRight(arr,howMuch){return void 0===howMuch&&(howMuch=1),arr.slice(0,arr.length-howMuch)}function filter(arr,predicate){var result=[];if(Array.isArray(arr))for(var i=0;i<arr.length;i++){var item=arr[i];predicate.call(null,item)&&result.push(item)}return result}function reject(arr,predicate){return filter(arr,(function(item){return!predicate(item)}))}function pick(obj,predicate){for(var keys=Object.keys(obj),result={},i=0;i<keys.length;i++){var currKey=keys[i],currItem=obj[currKey];predicate(currItem)&&(result[currKey]=currItem)}return result}function has(obj,prop){return!!isObject(obj)&&obj.hasOwnProperty(prop)}function contains(arr,item){return void 0!==find(arr,(function(currItem){return currItem===item}))}function cloneArr(arr){for(var newArr=[],i=0;i<arr.length;i++)newArr.push(arr[i]);return newArr}function cloneObj(obj){var clonedObj={};for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(clonedObj[key]=obj[key]);return clonedObj}function find(arr,predicate){for(var i=0;i<arr.length;i++){var item=arr[i];if(predicate.call(null,item))return item}}function findAll(arr,predicate){for(var found=[],i=0;i<arr.length;i++){var item=arr[i];predicate.call(null,item)&&found.push(item)}return found}function reduce(arrOrObj,iterator,initial){for(var isArr=Array.isArray(arrOrObj),vals=isArr?arrOrObj:values(arrOrObj),objKeys=isArr?[]:keys(arrOrObj),accumulator=initial,i=0;i<vals.length;i++)accumulator=iterator.call(null,accumulator,vals[i],isArr?i:objKeys[i]);return accumulator}function compact(arr){return reject(arr,(function(item){return null==item}))}function uniq(arr,identity){void 0===identity&&(identity=function(item){return item});var identities=[];return reduce(arr,(function(result,currItem){var currIdentity=identity(currItem);return contains(identities,currIdentity)?result:(identities.push(currIdentity),result.concat(currItem))}),[])}function isArray(obj){return Array.isArray(obj)}function isRegExp(obj){return obj instanceof RegExp}function isObject(obj){return obj instanceof Object}function every(arr,predicate){for(var i=0;i<arr.length;i++)if(!predicate(arr[i],i))return!1;return!0}function difference(arr,values){return reject(arr,(function(item){return contains(values,item)}))}function some(arr,predicate){for(var i=0;i<arr.length;i++)if(predicate(arr[i]))return!0;return!1}function indexOf(arr,value){for(var i=0;i<arr.length;i++)if(arr[i]===value)return i;return-1}function assign(target){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];for(var i=0;i<sources.length;i++)for(var curSource=sources[i],currSourceKeys=keys(curSource),j=0;j<currSourceKeys.length;j++){var currKey=currSourceKeys[j];target[currKey]=curSource[currKey]}return target}function assignNoOverwrite(target){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];for(var i=0;i<sources.length;i++){var curSource=sources[i];if(!isUndefined(curSource))for(var currSourceKeys=keys(curSource),j=0;j<currSourceKeys.length;j++){var currKey=currSourceKeys[j];has(target,currKey)||(target[currKey]=curSource[currKey])}}return target}function defaults(){for(var sources=[],_i=0;_i<arguments.length;_i++)sources[_i]=arguments[_i];return assignNoOverwrite.apply(null,[{}].concat(sources))}function groupBy(arr,groupKeyFunc){var result={};return forEach(arr,(function(item){var currGroupKey=groupKeyFunc(item),currGroupArr=result[currGroupKey];currGroupArr?currGroupArr.push(item):result[currGroupKey]=[item]})),result}function merge(obj1,obj2){for(var result=cloneObj(obj1),keys2=keys(obj2),i=0;i<keys2.length;i++){var key=keys2[i];result[key]=obj2[key]}return result}function NOOP(){}function IDENTITY(item){return item}function packArray(holeyArr){for(var result=[],i=0;i<holeyArr.length;i++){var orgValue=holeyArr[i];result.push(void 0!==orgValue?orgValue:void 0)}return result}function PRINT_ERROR(msg){console&&console.error&&console.error(\"Error: \"+msg)}function PRINT_WARNING(msg){console&&console.warn&&console.warn(\"Warning: \"+msg)}function isES2015MapSupported(){return\"function\"==typeof Map}function applyMixins(derivedCtor,baseCtors){baseCtors.forEach((function(baseCtor){var baseProto=baseCtor.prototype;Object.getOwnPropertyNames(baseProto).forEach((function(propName){if(\"constructor\"!==propName){var basePropDescriptor=Object.getOwnPropertyDescriptor(baseProto,propName);basePropDescriptor&&(basePropDescriptor.get||basePropDescriptor.set)?Object.defineProperty(derivedCtor.prototype,propName,basePropDescriptor):derivedCtor.prototype[propName]=baseCtor.prototype[propName]}}))}))}function toFastProperties(toBecomeFast){function FakeConstructor(){}FakeConstructor.prototype=toBecomeFast;var fakeInstance=new FakeConstructor;function fakeAccess(){return typeof fakeInstance.bar}return fakeAccess(),fakeAccess(),toBecomeFast}function peek(arr){return arr[arr.length-1]}function timer(func){var start=(new Date).getTime(),val=func();return{time:(new Date).getTime()-start,value:val}}__webpack_require__.d(__webpack_exports__,\"A\",(function(){return isEmpty})),__webpack_require__.d(__webpack_exports__,\"G\",(function(){return keys})),__webpack_require__.d(__webpack_exports__,\"U\",(function(){return values})),__webpack_require__.d(__webpack_exports__,\"J\",(function(){return mapValues})),__webpack_require__.d(__webpack_exports__,\"I\",(function(){return map})),__webpack_require__.d(__webpack_exports__,\"t\",(function(){return flatten})),__webpack_require__.d(__webpack_exports__,\"s\",(function(){return first})),__webpack_require__.d(__webpack_exports__,\"H\",(function(){return last})),__webpack_require__.d(__webpack_exports__,\"u\",(function(){return forEach})),__webpack_require__.d(__webpack_exports__,\"E\",(function(){return isString})),__webpack_require__.d(__webpack_exports__,\"F\",(function(){return isUndefined})),__webpack_require__.d(__webpack_exports__,\"B\",(function(){return isFunction})),__webpack_require__.d(__webpack_exports__,\"m\",(function(){return drop})),__webpack_require__.d(__webpack_exports__,\"n\",(function(){return dropRight})),__webpack_require__.d(__webpack_exports__,\"p\",(function(){return filter})),__webpack_require__.d(__webpack_exports__,\"P\",(function(){return reject})),__webpack_require__.d(__webpack_exports__,\"N\",(function(){return pick})),__webpack_require__.d(__webpack_exports__,\"w\",(function(){return has})),__webpack_require__.d(__webpack_exports__,\"j\",(function(){return contains})),__webpack_require__.d(__webpack_exports__,\"g\",(function(){return cloneArr})),__webpack_require__.d(__webpack_exports__,\"h\",(function(){return cloneObj})),__webpack_require__.d(__webpack_exports__,\"q\",(function(){return find})),__webpack_require__.d(__webpack_exports__,\"r\",(function(){return findAll})),__webpack_require__.d(__webpack_exports__,\"O\",(function(){return reduce})),__webpack_require__.d(__webpack_exports__,\"i\",(function(){return compact})),__webpack_require__.d(__webpack_exports__,\"T\",(function(){return uniq})),__webpack_require__.d(__webpack_exports__,\"y\",(function(){return isArray})),__webpack_require__.d(__webpack_exports__,\"D\",(function(){return isRegExp})),__webpack_require__.d(__webpack_exports__,\"C\",(function(){return isObject})),__webpack_require__.d(__webpack_exports__,\"o\",(function(){return every})),__webpack_require__.d(__webpack_exports__,\"l\",(function(){return difference})),__webpack_require__.d(__webpack_exports__,\"Q\",(function(){return some})),__webpack_require__.d(__webpack_exports__,\"x\",(function(){return indexOf})),__webpack_require__.d(__webpack_exports__,\"f\",(function(){return assign})),__webpack_require__.d(__webpack_exports__,\"k\",(function(){return defaults})),__webpack_require__.d(__webpack_exports__,\"v\",(function(){return groupBy})),__webpack_require__.d(__webpack_exports__,\"K\",(function(){return merge})),__webpack_require__.d(__webpack_exports__,\"b\",(function(){return NOOP})),__webpack_require__.d(__webpack_exports__,\"a\",(function(){return IDENTITY})),__webpack_require__.d(__webpack_exports__,\"L\",(function(){return packArray})),__webpack_require__.d(__webpack_exports__,\"c\",(function(){return PRINT_ERROR})),__webpack_require__.d(__webpack_exports__,\"d\",(function(){return PRINT_WARNING})),__webpack_require__.d(__webpack_exports__,\"z\",(function(){return isES2015MapSupported})),__webpack_require__.d(__webpack_exports__,\"e\",(function(){return applyMixins})),__webpack_require__.d(__webpack_exports__,\"S\",(function(){return toFastProperties})),__webpack_require__.d(__webpack_exports__,\"M\",(function(){return peek})),__webpack_require__.d(__webpack_exports__,\"R\",(function(){return timer}))},ewDg:function(module,exports,__webpack_require__){!function(CodeMirror){\"use strict\";function keySet(array){for(var keys={},i=0;i<array.length;++i)keys[array[i].toLowerCase()]=!0;return keys}CodeMirror.defineMode(\"css\",(function(config,parserConfig){var inline=parserConfig.inline;parserConfig.propertyKeywords||(parserConfig=CodeMirror.resolveMode(\"text/css\"));var type,override,indentUnit=config.indentUnit,tokenHooks=parserConfig.tokenHooks,documentTypes=parserConfig.documentTypes||{},mediaTypes=parserConfig.mediaTypes||{},mediaFeatures=parserConfig.mediaFeatures||{},mediaValueKeywords=parserConfig.mediaValueKeywords||{},propertyKeywords=parserConfig.propertyKeywords||{},nonStandardPropertyKeywords=parserConfig.nonStandardPropertyKeywords||{},fontProperties=parserConfig.fontProperties||{},counterDescriptors=parserConfig.counterDescriptors||{},colorKeywords=parserConfig.colorKeywords||{},valueKeywords=parserConfig.valueKeywords||{},allowNested=parserConfig.allowNested,supportsAtComponent=!0===parserConfig.supportsAtComponent;function ret(style,tp){return type=tp,style}function tokenBase(stream,state){var ch=stream.next();if(tokenHooks[ch]){var result=tokenHooks[ch](stream,state);if(!1!==result)return result}return\"@\"==ch?(stream.eatWhile(/[\\w\\\\\\-]/),ret(\"def\",stream.current())):\"=\"==ch||(\"~\"==ch||\"|\"==ch)&&stream.eat(\"=\")?ret(null,\"compare\"):'\"'==ch||\"'\"==ch?(state.tokenize=tokenString(ch),state.tokenize(stream,state)):\"#\"==ch?(stream.eatWhile(/[\\w\\\\\\-]/),ret(\"atom\",\"hash\")):\"!\"==ch?(stream.match(/^\\s*\\w*/),ret(\"keyword\",\"important\")):/\\d/.test(ch)||\".\"==ch&&stream.eat(/\\d/)?(stream.eatWhile(/[\\w.%]/),ret(\"number\",\"unit\")):\"-\"!==ch?/[,+>*\\/]/.test(ch)?ret(null,\"select-op\"):\".\"==ch&&stream.match(/^-?[_a-z][_a-z0-9-]*/i)?ret(\"qualifier\",\"qualifier\"):/[:;{}\\[\\]\\(\\)]/.test(ch)?ret(null,ch):stream.match(/[\\w-.]+(?=\\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(stream.current().toLowerCase())&&(state.tokenize=tokenParenthesized),ret(\"variable callee\",\"variable\")):/[\\w\\\\\\-]/.test(ch)?(stream.eatWhile(/[\\w\\\\\\-]/),ret(\"property\",\"word\")):ret(null,null):/[\\d.]/.test(stream.peek())?(stream.eatWhile(/[\\w.%]/),ret(\"number\",\"unit\")):stream.match(/^-[\\w\\\\\\-]*/)?(stream.eatWhile(/[\\w\\\\\\-]/),stream.match(/^\\s*:/,!1)?ret(\"variable-2\",\"variable-definition\"):ret(\"variable-2\",\"variable\")):stream.match(/^\\w+-/)?ret(\"meta\",\"meta\"):void 0}function tokenString(quote){return function(stream,state){for(var ch,escaped=!1;null!=(ch=stream.next());){if(ch==quote&&!escaped){\")\"==quote&&stream.backUp(1);break}escaped=!escaped&&\"\\\\\"==ch}return(ch==quote||!escaped&&\")\"!=quote)&&(state.tokenize=null),ret(\"string\",\"string\")}}function tokenParenthesized(stream,state){return stream.next(),state.tokenize=stream.match(/\\s*[\\\"\\')]/,!1)?null:tokenString(\")\"),ret(null,\"(\")}function Context(type,indent,prev){this.type=type,this.indent=indent,this.prev=prev}function pushContext(state,stream,type,indent){return state.context=new Context(type,stream.indentation()+(!1===indent?0:indentUnit),state.context),type}function popContext(state){return state.context.prev&&(state.context=state.context.prev),state.context.type}function pass(type,stream,state){return states[state.context.type](type,stream,state)}function popAndPass(type,stream,state,n){for(var i=n||1;i>0;i--)state.context=state.context.prev;return pass(type,stream,state)}function wordAsValue(stream){var word=stream.current().toLowerCase();override=valueKeywords.hasOwnProperty(word)?\"atom\":colorKeywords.hasOwnProperty(word)?\"keyword\":\"variable\"}var states={top:function(type,stream,state){if(\"{\"==type)return pushContext(state,stream,\"block\");if(\"}\"==type&&state.context.prev)return popContext(state);if(supportsAtComponent&&/@component/i.test(type))return pushContext(state,stream,\"atComponentBlock\");if(/^@(-moz-)?document$/i.test(type))return pushContext(state,stream,\"documentTypes\");if(/^@(media|supports|(-moz-)?document|import)$/i.test(type))return pushContext(state,stream,\"atBlock\");if(/^@(font-face|counter-style)/i.test(type))return state.stateArg=type,\"restricted_atBlock_before\";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type))return\"keyframes\";if(type&&\"@\"==type.charAt(0))return pushContext(state,stream,\"at\");if(\"hash\"==type)override=\"builtin\";else if(\"word\"==type)override=\"tag\";else{if(\"variable-definition\"==type)return\"maybeprop\";if(\"interpolation\"==type)return pushContext(state,stream,\"interpolation\");if(\":\"==type)return\"pseudo\";if(allowNested&&\"(\"==type)return pushContext(state,stream,\"parens\")}return state.context.type},block:function(type,stream,state){if(\"word\"==type){var word=stream.current().toLowerCase();return propertyKeywords.hasOwnProperty(word)?(override=\"property\",\"maybeprop\"):nonStandardPropertyKeywords.hasOwnProperty(word)?(override=\"string-2\",\"maybeprop\"):allowNested?(override=stream.match(/^\\s*:(?:\\s|$)/,!1)?\"property\":\"tag\",\"block\"):(override+=\" error\",\"maybeprop\")}return\"meta\"==type?\"block\":allowNested||\"hash\"!=type&&\"qualifier\"!=type?states.top(type,stream,state):(override=\"error\",\"block\")},maybeprop:function(type,stream,state){return\":\"==type?pushContext(state,stream,\"prop\"):pass(type,stream,state)},prop:function(type,stream,state){if(\";\"==type)return popContext(state);if(\"{\"==type&&allowNested)return pushContext(state,stream,\"propBlock\");if(\"}\"==type||\"{\"==type)return popAndPass(type,stream,state);if(\"(\"==type)return pushContext(state,stream,\"parens\");if(\"hash\"!=type||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())){if(\"word\"==type)wordAsValue(stream);else if(\"interpolation\"==type)return pushContext(state,stream,\"interpolation\")}else override+=\" error\";return\"prop\"},propBlock:function(type,_stream,state){return\"}\"==type?popContext(state):\"word\"==type?(override=\"property\",\"maybeprop\"):state.context.type},parens:function(type,stream,state){return\"{\"==type||\"}\"==type?popAndPass(type,stream,state):\")\"==type?popContext(state):\"(\"==type?pushContext(state,stream,\"parens\"):\"interpolation\"==type?pushContext(state,stream,\"interpolation\"):(\"word\"==type&&wordAsValue(stream),\"parens\")},pseudo:function(type,stream,state){return\"meta\"==type?\"pseudo\":\"word\"==type?(override=\"variable-3\",state.context.type):pass(type,stream,state)},documentTypes:function(type,stream,state){return\"word\"==type&&documentTypes.hasOwnProperty(stream.current())?(override=\"tag\",state.context.type):states.atBlock(type,stream,state)},atBlock:function(type,stream,state){if(\"(\"==type)return pushContext(state,stream,\"atBlock_parens\");if(\"}\"==type||\";\"==type)return popAndPass(type,stream,state);if(\"{\"==type)return popContext(state)&&pushContext(state,stream,allowNested?\"block\":\"top\");if(\"interpolation\"==type)return pushContext(state,stream,\"interpolation\");if(\"word\"==type){var word=stream.current().toLowerCase();override=\"only\"==word||\"not\"==word||\"and\"==word||\"or\"==word?\"keyword\":mediaTypes.hasOwnProperty(word)?\"attribute\":mediaFeatures.hasOwnProperty(word)?\"property\":mediaValueKeywords.hasOwnProperty(word)?\"keyword\":propertyKeywords.hasOwnProperty(word)?\"property\":nonStandardPropertyKeywords.hasOwnProperty(word)?\"string-2\":valueKeywords.hasOwnProperty(word)?\"atom\":colorKeywords.hasOwnProperty(word)?\"keyword\":\"error\"}return state.context.type},atComponentBlock:function(type,stream,state){return\"}\"==type?popAndPass(type,stream,state):\"{\"==type?popContext(state)&&pushContext(state,stream,allowNested?\"block\":\"top\",!1):(\"word\"==type&&(override=\"error\"),state.context.type)},atBlock_parens:function(type,stream,state){return\")\"==type?popContext(state):\"{\"==type||\"}\"==type?popAndPass(type,stream,state,2):states.atBlock(type,stream,state)},restricted_atBlock_before:function(type,stream,state){return\"{\"==type?pushContext(state,stream,\"restricted_atBlock\"):\"word\"==type&&\"@counter-style\"==state.stateArg?(override=\"variable\",\"restricted_atBlock_before\"):pass(type,stream,state)},restricted_atBlock:function(type,stream,state){return\"}\"==type?(state.stateArg=null,popContext(state)):\"word\"==type?(override=\"@font-face\"==state.stateArg&&!fontProperties.hasOwnProperty(stream.current().toLowerCase())||\"@counter-style\"==state.stateArg&&!counterDescriptors.hasOwnProperty(stream.current().toLowerCase())?\"error\":\"property\",\"maybeprop\"):\"restricted_atBlock\"},keyframes:function(type,stream,state){return\"word\"==type?(override=\"variable\",\"keyframes\"):\"{\"==type?pushContext(state,stream,\"top\"):pass(type,stream,state)},at:function(type,stream,state){return\";\"==type?popContext(state):\"{\"==type||\"}\"==type?popAndPass(type,stream,state):(\"word\"==type?override=\"tag\":\"hash\"==type&&(override=\"builtin\"),\"at\")},interpolation:function(type,stream,state){return\"}\"==type?popContext(state):\"{\"==type||\";\"==type?popAndPass(type,stream,state):(\"word\"==type?override=\"variable\":\"variable\"!=type&&\"(\"!=type&&\")\"!=type&&(override=\"error\"),\"interpolation\")}};return{startState:function(base){return{tokenize:null,state:inline?\"block\":\"top\",stateArg:null,context:new Context(inline?\"block\":\"top\",base||0,null)}},token:function(stream,state){if(!state.tokenize&&stream.eatSpace())return null;var style=(state.tokenize||tokenBase)(stream,state);return style&&\"object\"==typeof style&&(type=style[1],style=style[0]),override=style,\"comment\"!=type&&(state.state=states[state.state](type,stream,state)),override},indent:function(state,textAfter){var cx=state.context,ch=textAfter&&textAfter.charAt(0),indent=cx.indent;return\"prop\"!=cx.type||\"}\"!=ch&&\")\"!=ch||(cx=cx.prev),cx.prev&&(\"}\"!=ch||\"block\"!=cx.type&&\"top\"!=cx.type&&\"interpolation\"!=cx.type&&\"restricted_atBlock\"!=cx.type?(\")\"!=ch||\"parens\"!=cx.type&&\"atBlock_parens\"!=cx.type)&&(\"{\"!=ch||\"at\"!=cx.type&&\"atBlock\"!=cx.type)||(indent=Math.max(0,cx.indent-indentUnit)):indent=(cx=cx.prev).indent),indent},electricChars:\"}\",blockCommentStart:\"/*\",blockCommentEnd:\"*/\",blockCommentContinue:\" * \",lineComment:parserConfig.lineComment,fold:\"brace\"}}));var documentTypes_=[\"domain\",\"regexp\",\"url\",\"url-prefix\"],documentTypes=keySet(documentTypes_),mediaTypes_=[\"all\",\"aural\",\"braille\",\"handheld\",\"print\",\"projection\",\"screen\",\"tty\",\"tv\",\"embossed\"],mediaTypes=keySet(mediaTypes_),mediaFeatures_=[\"width\",\"min-width\",\"max-width\",\"height\",\"min-height\",\"max-height\",\"device-width\",\"min-device-width\",\"max-device-width\",\"device-height\",\"min-device-height\",\"max-device-height\",\"aspect-ratio\",\"min-aspect-ratio\",\"max-aspect-ratio\",\"device-aspect-ratio\",\"min-device-aspect-ratio\",\"max-device-aspect-ratio\",\"color\",\"min-color\",\"max-color\",\"color-index\",\"min-color-index\",\"max-color-index\",\"monochrome\",\"min-monochrome\",\"max-monochrome\",\"resolution\",\"min-resolution\",\"max-resolution\",\"scan\",\"grid\",\"orientation\",\"device-pixel-ratio\",\"min-device-pixel-ratio\",\"max-device-pixel-ratio\",\"pointer\",\"any-pointer\",\"hover\",\"any-hover\"],mediaFeatures=keySet(mediaFeatures_),mediaValueKeywords_=[\"landscape\",\"portrait\",\"none\",\"coarse\",\"fine\",\"on-demand\",\"hover\",\"interlace\",\"progressive\"],mediaValueKeywords=keySet(mediaValueKeywords_),propertyKeywords_=[\"align-content\",\"align-items\",\"align-self\",\"alignment-adjust\",\"alignment-baseline\",\"anchor-point\",\"animation\",\"animation-delay\",\"animation-direction\",\"animation-duration\",\"animation-fill-mode\",\"animation-iteration-count\",\"animation-name\",\"animation-play-state\",\"animation-timing-function\",\"appearance\",\"azimuth\",\"backface-visibility\",\"background\",\"background-attachment\",\"background-blend-mode\",\"background-clip\",\"background-color\",\"background-image\",\"background-origin\",\"background-position\",\"background-repeat\",\"background-size\",\"baseline-shift\",\"binding\",\"bleed\",\"bookmark-label\",\"bookmark-level\",\"bookmark-state\",\"bookmark-target\",\"border\",\"border-bottom\",\"border-bottom-color\",\"border-bottom-left-radius\",\"border-bottom-right-radius\",\"border-bottom-style\",\"border-bottom-width\",\"border-collapse\",\"border-color\",\"border-image\",\"border-image-outset\",\"border-image-repeat\",\"border-image-slice\",\"border-image-source\",\"border-image-width\",\"border-left\",\"border-left-color\",\"border-left-style\",\"border-left-width\",\"border-radius\",\"border-right\",\"border-right-color\",\"border-right-style\",\"border-right-width\",\"border-spacing\",\"border-style\",\"border-top\",\"border-top-color\",\"border-top-left-radius\",\"border-top-right-radius\",\"border-top-style\",\"border-top-width\",\"border-width\",\"bottom\",\"box-decoration-break\",\"box-shadow\",\"box-sizing\",\"break-after\",\"break-before\",\"break-inside\",\"caption-side\",\"caret-color\",\"clear\",\"clip\",\"color\",\"color-profile\",\"column-count\",\"column-fill\",\"column-gap\",\"column-rule\",\"column-rule-color\",\"column-rule-style\",\"column-rule-width\",\"column-span\",\"column-width\",\"columns\",\"content\",\"counter-increment\",\"counter-reset\",\"crop\",\"cue\",\"cue-after\",\"cue-before\",\"cursor\",\"direction\",\"display\",\"dominant-baseline\",\"drop-initial-after-adjust\",\"drop-initial-after-align\",\"drop-initial-before-adjust\",\"drop-initial-before-align\",\"drop-initial-size\",\"drop-initial-value\",\"elevation\",\"empty-cells\",\"fit\",\"fit-position\",\"flex\",\"flex-basis\",\"flex-direction\",\"flex-flow\",\"flex-grow\",\"flex-shrink\",\"flex-wrap\",\"float\",\"float-offset\",\"flow-from\",\"flow-into\",\"font\",\"font-feature-settings\",\"font-family\",\"font-kerning\",\"font-language-override\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-synthesis\",\"font-variant\",\"font-variant-alternates\",\"font-variant-caps\",\"font-variant-east-asian\",\"font-variant-ligatures\",\"font-variant-numeric\",\"font-variant-position\",\"font-weight\",\"grid\",\"grid-area\",\"grid-auto-columns\",\"grid-auto-flow\",\"grid-auto-rows\",\"grid-column\",\"grid-column-end\",\"grid-column-gap\",\"grid-column-start\",\"grid-gap\",\"grid-row\",\"grid-row-end\",\"grid-row-gap\",\"grid-row-start\",\"grid-template\",\"grid-template-areas\",\"grid-template-columns\",\"grid-template-rows\",\"hanging-punctuation\",\"height\",\"hyphens\",\"icon\",\"image-orientation\",\"image-rendering\",\"image-resolution\",\"inline-box-align\",\"justify-content\",\"justify-items\",\"justify-self\",\"left\",\"letter-spacing\",\"line-break\",\"line-height\",\"line-stacking\",\"line-stacking-ruby\",\"line-stacking-shift\",\"line-stacking-strategy\",\"list-style\",\"list-style-image\",\"list-style-position\",\"list-style-type\",\"margin\",\"margin-bottom\",\"margin-left\",\"margin-right\",\"margin-top\",\"marks\",\"marquee-direction\",\"marquee-loop\",\"marquee-play-count\",\"marquee-speed\",\"marquee-style\",\"max-height\",\"max-width\",\"min-height\",\"min-width\",\"mix-blend-mode\",\"move-to\",\"nav-down\",\"nav-index\",\"nav-left\",\"nav-right\",\"nav-up\",\"object-fit\",\"object-position\",\"opacity\",\"order\",\"orphans\",\"outline\",\"outline-color\",\"outline-offset\",\"outline-style\",\"outline-width\",\"overflow\",\"overflow-style\",\"overflow-wrap\",\"overflow-x\",\"overflow-y\",\"padding\",\"padding-bottom\",\"padding-left\",\"padding-right\",\"padding-top\",\"page\",\"page-break-after\",\"page-break-before\",\"page-break-inside\",\"page-policy\",\"pause\",\"pause-after\",\"pause-before\",\"perspective\",\"perspective-origin\",\"pitch\",\"pitch-range\",\"place-content\",\"place-items\",\"place-self\",\"play-during\",\"position\",\"presentation-level\",\"punctuation-trim\",\"quotes\",\"region-break-after\",\"region-break-before\",\"region-break-inside\",\"region-fragment\",\"rendering-intent\",\"resize\",\"rest\",\"rest-after\",\"rest-before\",\"richness\",\"right\",\"rotation\",\"rotation-point\",\"ruby-align\",\"ruby-overhang\",\"ruby-position\",\"ruby-span\",\"shape-image-threshold\",\"shape-inside\",\"shape-margin\",\"shape-outside\",\"size\",\"speak\",\"speak-as\",\"speak-header\",\"speak-numeral\",\"speak-punctuation\",\"speech-rate\",\"stress\",\"string-set\",\"tab-size\",\"table-layout\",\"target\",\"target-name\",\"target-new\",\"target-position\",\"text-align\",\"text-align-last\",\"text-decoration\",\"text-decoration-color\",\"text-decoration-line\",\"text-decoration-skip\",\"text-decoration-style\",\"text-emphasis\",\"text-emphasis-color\",\"text-emphasis-position\",\"text-emphasis-style\",\"text-height\",\"text-indent\",\"text-justify\",\"text-outline\",\"text-overflow\",\"text-shadow\",\"text-size-adjust\",\"text-space-collapse\",\"text-transform\",\"text-underline-position\",\"text-wrap\",\"top\",\"transform\",\"transform-origin\",\"transform-style\",\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\",\"unicode-bidi\",\"user-select\",\"vertical-align\",\"visibility\",\"voice-balance\",\"voice-duration\",\"voice-family\",\"voice-pitch\",\"voice-range\",\"voice-rate\",\"voice-stress\",\"voice-volume\",\"volume\",\"white-space\",\"widows\",\"width\",\"will-change\",\"word-break\",\"word-spacing\",\"word-wrap\",\"z-index\",\"clip-path\",\"clip-rule\",\"mask\",\"enable-background\",\"filter\",\"flood-color\",\"flood-opacity\",\"lighting-color\",\"stop-color\",\"stop-opacity\",\"pointer-events\",\"color-interpolation\",\"color-interpolation-filters\",\"color-rendering\",\"fill\",\"fill-opacity\",\"fill-rule\",\"image-rendering\",\"marker\",\"marker-end\",\"marker-mid\",\"marker-start\",\"shape-rendering\",\"stroke\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke-width\",\"text-rendering\",\"baseline-shift\",\"dominant-baseline\",\"glyph-orientation-horizontal\",\"glyph-orientation-vertical\",\"text-anchor\",\"writing-mode\"],propertyKeywords=keySet(propertyKeywords_),nonStandardPropertyKeywords_=[\"scrollbar-arrow-color\",\"scrollbar-base-color\",\"scrollbar-dark-shadow-color\",\"scrollbar-face-color\",\"scrollbar-highlight-color\",\"scrollbar-shadow-color\",\"scrollbar-3d-light-color\",\"scrollbar-track-color\",\"shape-inside\",\"searchfield-cancel-button\",\"searchfield-decoration\",\"searchfield-results-button\",\"searchfield-results-decoration\",\"zoom\"],nonStandardPropertyKeywords=keySet(nonStandardPropertyKeywords_),fontProperties=keySet([\"font-family\",\"src\",\"unicode-range\",\"font-variant\",\"font-feature-settings\",\"font-stretch\",\"font-weight\",\"font-style\"]),counterDescriptors=keySet([\"additive-symbols\",\"fallback\",\"negative\",\"pad\",\"prefix\",\"range\",\"speak-as\",\"suffix\",\"symbols\",\"system\"]),colorKeywords_=[\"aliceblue\",\"antiquewhite\",\"aqua\",\"aquamarine\",\"azure\",\"beige\",\"bisque\",\"black\",\"blanchedalmond\",\"blue\",\"blueviolet\",\"brown\",\"burlywood\",\"cadetblue\",\"chartreuse\",\"chocolate\",\"coral\",\"cornflowerblue\",\"cornsilk\",\"crimson\",\"cyan\",\"darkblue\",\"darkcyan\",\"darkgoldenrod\",\"darkgray\",\"darkgreen\",\"darkkhaki\",\"darkmagenta\",\"darkolivegreen\",\"darkorange\",\"darkorchid\",\"darkred\",\"darksalmon\",\"darkseagreen\",\"darkslateblue\",\"darkslategray\",\"darkturquoise\",\"darkviolet\",\"deeppink\",\"deepskyblue\",\"dimgray\",\"dodgerblue\",\"firebrick\",\"floralwhite\",\"forestgreen\",\"fuchsia\",\"gainsboro\",\"ghostwhite\",\"gold\",\"goldenrod\",\"gray\",\"grey\",\"green\",\"greenyellow\",\"honeydew\",\"hotpink\",\"indianred\",\"indigo\",\"ivory\",\"khaki\",\"lavender\",\"lavenderblush\",\"lawngreen\",\"lemonchiffon\",\"lightblue\",\"lightcoral\",\"lightcyan\",\"lightgoldenrodyellow\",\"lightgray\",\"lightgreen\",\"lightpink\",\"lightsalmon\",\"lightseagreen\",\"lightskyblue\",\"lightslategray\",\"lightsteelblue\",\"lightyellow\",\"lime\",\"limegreen\",\"linen\",\"magenta\",\"maroon\",\"mediumaquamarine\",\"mediumblue\",\"mediumorchid\",\"mediumpurple\",\"mediumseagreen\",\"mediumslateblue\",\"mediumspringgreen\",\"mediumturquoise\",\"mediumvioletred\",\"midnightblue\",\"mintcream\",\"mistyrose\",\"moccasin\",\"navajowhite\",\"navy\",\"oldlace\",\"olive\",\"olivedrab\",\"orange\",\"orangered\",\"orchid\",\"palegoldenrod\",\"palegreen\",\"paleturquoise\",\"palevioletred\",\"papayawhip\",\"peachpuff\",\"peru\",\"pink\",\"plum\",\"powderblue\",\"purple\",\"rebeccapurple\",\"red\",\"rosybrown\",\"royalblue\",\"saddlebrown\",\"salmon\",\"sandybrown\",\"seagreen\",\"seashell\",\"sienna\",\"silver\",\"skyblue\",\"slateblue\",\"slategray\",\"snow\",\"springgreen\",\"steelblue\",\"tan\",\"teal\",\"thistle\",\"tomato\",\"turquoise\",\"violet\",\"wheat\",\"white\",\"whitesmoke\",\"yellow\",\"yellowgreen\"],colorKeywords=keySet(colorKeywords_),valueKeywords_=[\"above\",\"absolute\",\"activeborder\",\"additive\",\"activecaption\",\"afar\",\"after-white-space\",\"ahead\",\"alias\",\"all\",\"all-scroll\",\"alphabetic\",\"alternate\",\"always\",\"amharic\",\"amharic-abegede\",\"antialiased\",\"appworkspace\",\"arabic-indic\",\"armenian\",\"asterisks\",\"attr\",\"auto\",\"auto-flow\",\"avoid\",\"avoid-column\",\"avoid-page\",\"avoid-region\",\"background\",\"backwards\",\"baseline\",\"below\",\"bidi-override\",\"binary\",\"bengali\",\"blink\",\"block\",\"block-axis\",\"bold\",\"bolder\",\"border\",\"border-box\",\"both\",\"bottom\",\"break\",\"break-all\",\"break-word\",\"bullets\",\"button\",\"button-bevel\",\"buttonface\",\"buttonhighlight\",\"buttonshadow\",\"buttontext\",\"calc\",\"cambodian\",\"capitalize\",\"caps-lock-indicator\",\"caption\",\"captiontext\",\"caret\",\"cell\",\"center\",\"checkbox\",\"circle\",\"cjk-decimal\",\"cjk-earthly-branch\",\"cjk-heavenly-stem\",\"cjk-ideographic\",\"clear\",\"clip\",\"close-quote\",\"col-resize\",\"collapse\",\"color\",\"color-burn\",\"color-dodge\",\"column\",\"column-reverse\",\"compact\",\"condensed\",\"contain\",\"content\",\"contents\",\"content-box\",\"context-menu\",\"continuous\",\"copy\",\"counter\",\"counters\",\"cover\",\"crop\",\"cross\",\"crosshair\",\"currentcolor\",\"cursive\",\"cyclic\",\"darken\",\"dashed\",\"decimal\",\"decimal-leading-zero\",\"default\",\"default-button\",\"dense\",\"destination-atop\",\"destination-in\",\"destination-out\",\"destination-over\",\"devanagari\",\"difference\",\"disc\",\"discard\",\"disclosure-closed\",\"disclosure-open\",\"document\",\"dot-dash\",\"dot-dot-dash\",\"dotted\",\"double\",\"down\",\"e-resize\",\"ease\",\"ease-in\",\"ease-in-out\",\"ease-out\",\"element\",\"ellipse\",\"ellipsis\",\"embed\",\"end\",\"ethiopic\",\"ethiopic-abegede\",\"ethiopic-abegede-am-et\",\"ethiopic-abegede-gez\",\"ethiopic-abegede-ti-er\",\"ethiopic-abegede-ti-et\",\"ethiopic-halehame-aa-er\",\"ethiopic-halehame-aa-et\",\"ethiopic-halehame-am-et\",\"ethiopic-halehame-gez\",\"ethiopic-halehame-om-et\",\"ethiopic-halehame-sid-et\",\"ethiopic-halehame-so-et\",\"ethiopic-halehame-ti-er\",\"ethiopic-halehame-ti-et\",\"ethiopic-halehame-tig\",\"ethiopic-numeric\",\"ew-resize\",\"exclusion\",\"expanded\",\"extends\",\"extra-condensed\",\"extra-expanded\",\"fantasy\",\"fast\",\"fill\",\"fixed\",\"flat\",\"flex\",\"flex-end\",\"flex-start\",\"footnotes\",\"forwards\",\"from\",\"geometricPrecision\",\"georgian\",\"graytext\",\"grid\",\"groove\",\"gujarati\",\"gurmukhi\",\"hand\",\"hangul\",\"hangul-consonant\",\"hard-light\",\"hebrew\",\"help\",\"hidden\",\"hide\",\"higher\",\"highlight\",\"highlighttext\",\"hiragana\",\"hiragana-iroha\",\"horizontal\",\"hsl\",\"hsla\",\"hue\",\"icon\",\"ignore\",\"inactiveborder\",\"inactivecaption\",\"inactivecaptiontext\",\"infinite\",\"infobackground\",\"infotext\",\"inherit\",\"initial\",\"inline\",\"inline-axis\",\"inline-block\",\"inline-flex\",\"inline-grid\",\"inline-table\",\"inset\",\"inside\",\"intrinsic\",\"invert\",\"italic\",\"japanese-formal\",\"japanese-informal\",\"justify\",\"kannada\",\"katakana\",\"katakana-iroha\",\"keep-all\",\"khmer\",\"korean-hangul-formal\",\"korean-hanja-formal\",\"korean-hanja-informal\",\"landscape\",\"lao\",\"large\",\"larger\",\"left\",\"level\",\"lighter\",\"lighten\",\"line-through\",\"linear\",\"linear-gradient\",\"lines\",\"list-item\",\"listbox\",\"listitem\",\"local\",\"logical\",\"loud\",\"lower\",\"lower-alpha\",\"lower-armenian\",\"lower-greek\",\"lower-hexadecimal\",\"lower-latin\",\"lower-norwegian\",\"lower-roman\",\"lowercase\",\"ltr\",\"luminosity\",\"malayalam\",\"match\",\"matrix\",\"matrix3d\",\"media-controls-background\",\"media-current-time-display\",\"media-fullscreen-button\",\"media-mute-button\",\"media-play-button\",\"media-return-to-realtime-button\",\"media-rewind-button\",\"media-seek-back-button\",\"media-seek-forward-button\",\"media-slider\",\"media-sliderthumb\",\"media-time-remaining-display\",\"media-volume-slider\",\"media-volume-slider-container\",\"media-volume-sliderthumb\",\"medium\",\"menu\",\"menulist\",\"menulist-button\",\"menulist-text\",\"menulist-textfield\",\"menutext\",\"message-box\",\"middle\",\"min-intrinsic\",\"mix\",\"mongolian\",\"monospace\",\"move\",\"multiple\",\"multiply\",\"myanmar\",\"n-resize\",\"narrower\",\"ne-resize\",\"nesw-resize\",\"no-close-quote\",\"no-drop\",\"no-open-quote\",\"no-repeat\",\"none\",\"normal\",\"not-allowed\",\"nowrap\",\"ns-resize\",\"numbers\",\"numeric\",\"nw-resize\",\"nwse-resize\",\"oblique\",\"octal\",\"opacity\",\"open-quote\",\"optimizeLegibility\",\"optimizeSpeed\",\"oriya\",\"oromo\",\"outset\",\"outside\",\"outside-shape\",\"overlay\",\"overline\",\"padding\",\"padding-box\",\"painted\",\"page\",\"paused\",\"persian\",\"perspective\",\"plus-darker\",\"plus-lighter\",\"pointer\",\"polygon\",\"portrait\",\"pre\",\"pre-line\",\"pre-wrap\",\"preserve-3d\",\"progress\",\"push-button\",\"radial-gradient\",\"radio\",\"read-only\",\"read-write\",\"read-write-plaintext-only\",\"rectangle\",\"region\",\"relative\",\"repeat\",\"repeating-linear-gradient\",\"repeating-radial-gradient\",\"repeat-x\",\"repeat-y\",\"reset\",\"reverse\",\"rgb\",\"rgba\",\"ridge\",\"right\",\"rotate\",\"rotate3d\",\"rotateX\",\"rotateY\",\"rotateZ\",\"round\",\"row\",\"row-resize\",\"row-reverse\",\"rtl\",\"run-in\",\"running\",\"s-resize\",\"sans-serif\",\"saturation\",\"scale\",\"scale3d\",\"scaleX\",\"scaleY\",\"scaleZ\",\"screen\",\"scroll\",\"scrollbar\",\"scroll-position\",\"se-resize\",\"searchfield\",\"searchfield-cancel-button\",\"searchfield-decoration\",\"searchfield-results-button\",\"searchfield-results-decoration\",\"self-start\",\"self-end\",\"semi-condensed\",\"semi-expanded\",\"separate\",\"serif\",\"show\",\"sidama\",\"simp-chinese-formal\",\"simp-chinese-informal\",\"single\",\"skew\",\"skewX\",\"skewY\",\"skip-white-space\",\"slide\",\"slider-horizontal\",\"slider-vertical\",\"sliderthumb-horizontal\",\"sliderthumb-vertical\",\"slow\",\"small\",\"small-caps\",\"small-caption\",\"smaller\",\"soft-light\",\"solid\",\"somali\",\"source-atop\",\"source-in\",\"source-out\",\"source-over\",\"space\",\"space-around\",\"space-between\",\"space-evenly\",\"spell-out\",\"square\",\"square-button\",\"start\",\"static\",\"status-bar\",\"stretch\",\"stroke\",\"sub\",\"subpixel-antialiased\",\"super\",\"sw-resize\",\"symbolic\",\"symbols\",\"system-ui\",\"table\",\"table-caption\",\"table-cell\",\"table-column\",\"table-column-group\",\"table-footer-group\",\"table-header-group\",\"table-row\",\"table-row-group\",\"tamil\",\"telugu\",\"text\",\"text-bottom\",\"text-top\",\"textarea\",\"textfield\",\"thai\",\"thick\",\"thin\",\"threeddarkshadow\",\"threedface\",\"threedhighlight\",\"threedlightshadow\",\"threedshadow\",\"tibetan\",\"tigre\",\"tigrinya-er\",\"tigrinya-er-abegede\",\"tigrinya-et\",\"tigrinya-et-abegede\",\"to\",\"top\",\"trad-chinese-formal\",\"trad-chinese-informal\",\"transform\",\"translate\",\"translate3d\",\"translateX\",\"translateY\",\"translateZ\",\"transparent\",\"ultra-condensed\",\"ultra-expanded\",\"underline\",\"unset\",\"up\",\"upper-alpha\",\"upper-armenian\",\"upper-greek\",\"upper-hexadecimal\",\"upper-latin\",\"upper-norwegian\",\"upper-roman\",\"uppercase\",\"urdu\",\"url\",\"var\",\"vertical\",\"vertical-text\",\"visible\",\"visibleFill\",\"visiblePainted\",\"visibleStroke\",\"visual\",\"w-resize\",\"wait\",\"wave\",\"wider\",\"window\",\"windowframe\",\"windowtext\",\"words\",\"wrap\",\"wrap-reverse\",\"x-large\",\"x-small\",\"xor\",\"xx-large\",\"xx-small\"],valueKeywords=keySet(valueKeywords_),allWords=documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_).concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_).concat(valueKeywords_);function tokenCComment(stream,state){for(var ch,maybeEnd=!1;null!=(ch=stream.next());){if(maybeEnd&&\"/\"==ch){state.tokenize=null;break}maybeEnd=\"*\"==ch}return[\"comment\",\"comment\"]}CodeMirror.registerHelper(\"hintWords\",\"css\",allWords),CodeMirror.defineMIME(\"text/css\",{documentTypes:documentTypes,mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,tokenHooks:{\"/\":function(stream,state){return!!stream.eat(\"*\")&&(state.tokenize=tokenCComment,tokenCComment(stream,state))}},name:\"css\"}),CodeMirror.defineMIME(\"text/x-scss\",{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,fontProperties:fontProperties,allowNested:!0,lineComment:\"//\",tokenHooks:{\"/\":function(stream,state){return stream.eat(\"/\")?(stream.skipToEnd(),[\"comment\",\"comment\"]):stream.eat(\"*\")?(state.tokenize=tokenCComment,tokenCComment(stream,state)):[\"operator\",\"operator\"]},\":\":function(stream){return!!stream.match(/\\s*\\{/,!1)&&[null,null]},$:function(stream){return stream.match(/^[\\w-]+/),stream.match(/^\\s*:/,!1)?[\"variable-2\",\"variable-definition\"]:[\"variable-2\",\"variable\"]},\"#\":function(stream){return!!stream.eat(\"{\")&&[null,\"interpolation\"]}},name:\"css\",helperType:\"scss\"}),CodeMirror.defineMIME(\"text/x-less\",{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,fontProperties:fontProperties,allowNested:!0,lineComment:\"//\",tokenHooks:{\"/\":function(stream,state){return stream.eat(\"/\")?(stream.skipToEnd(),[\"comment\",\"comment\"]):stream.eat(\"*\")?(state.tokenize=tokenCComment,tokenCComment(stream,state)):[\"operator\",\"operator\"]},\"@\":function(stream){return stream.eat(\"{\")?[null,\"interpolation\"]:!stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i,!1)&&(stream.eatWhile(/[\\w\\\\\\-]/),stream.match(/^\\s*:/,!1)?[\"variable-2\",\"variable-definition\"]:[\"variable-2\",\"variable\"])},\"&\":function(){return[\"atom\",\"atom\"]}},name:\"css\",helperType:\"less\"}),CodeMirror.defineMIME(\"text/x-gss\",{documentTypes:documentTypes,mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,supportsAtComponent:!0,tokenHooks:{\"/\":function(stream,state){return!!stream.eat(\"*\")&&(state.tokenize=tokenCComment,tokenCComment(stream,state))}},name:\"css\",helperType:\"gss\"})}(__webpack_require__(\"VrN/\"))},\"iQ+w\":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;\"undefined\"!=typeof self&&self,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=\"function\"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){function RegExpParser(){}RegExpParser.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},RegExpParser.prototype.restoreState=function(newState){this.idx=newState.idx,this.input=newState.input,this.groupIdx=newState.groupIdx},RegExpParser.prototype.pattern=function(input){this.idx=0,this.input=input,this.groupIdx=0,this.consumeChar(\"/\");var value=this.disjunction();this.consumeChar(\"/\");for(var flags={type:\"Flags\",global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case\"g\":addFlag(flags,\"global\");break;case\"i\":addFlag(flags,\"ignoreCase\");break;case\"m\":addFlag(flags,\"multiLine\");break;case\"u\":addFlag(flags,\"unicode\");break;case\"y\":addFlag(flags,\"sticky\")}if(this.idx!==this.input.length)throw Error(\"Redundant input: \"+this.input.substring(this.idx));return{type:\"Pattern\",flags:flags,value:value}},RegExpParser.prototype.disjunction=function(){var alts=[];for(alts.push(this.alternative());\"|\"===this.peekChar();)this.consumeChar(\"|\"),alts.push(this.alternative());return{type:\"Disjunction\",value:alts}},RegExpParser.prototype.alternative=function(){for(var terms=[];this.isTerm();)terms.push(this.term());return{type:\"Alternative\",value:terms}},RegExpParser.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},RegExpParser.prototype.assertion=function(){switch(this.popChar()){case\"^\":return{type:\"StartAnchor\"};case\"$\":return{type:\"EndAnchor\"};case\"\\\\\":switch(this.popChar()){case\"b\":return{type:\"WordBoundary\"};case\"B\":return{type:\"NonWordBoundary\"}}throw Error(\"Invalid Assertion Escape\");case\"(\":var type;switch(this.consumeChar(\"?\"),this.popChar()){case\"=\":type=\"Lookahead\";break;case\"!\":type=\"NegativeLookahead\"}ASSERT_EXISTS(type);var disjunction=this.disjunction();return this.consumeChar(\")\"),{type:type,value:disjunction}}!function(){throw Error(\"Internal Error - Should never get here!\")}()},RegExpParser.prototype.quantifier=function(isBacktracking){var range;switch(this.popChar()){case\"*\":range={atLeast:0,atMost:1/0};break;case\"+\":range={atLeast:1,atMost:1/0};break;case\"?\":range={atLeast:0,atMost:1};break;case\"{\":var atLeast=this.integerIncludingZero();switch(this.popChar()){case\"}\":range={atLeast:atLeast,atMost:atLeast};break;case\",\":range=this.isDigit()?{atLeast:atLeast,atMost:this.integerIncludingZero()}:{atLeast:atLeast,atMost:1/0},this.consumeChar(\"}\")}if(!0===isBacktracking&&void 0===range)return;ASSERT_EXISTS(range)}if(!0!==isBacktracking||void 0!==range)return ASSERT_EXISTS(range),\"?\"===this.peekChar(0)?(this.consumeChar(\"?\"),range.greedy=!1):range.greedy=!0,range.type=\"Quantifier\",range},RegExpParser.prototype.atom=function(){var atom;switch(this.peekChar()){case\".\":atom=this.dotAll();break;case\"\\\\\":atom=this.atomEscape();break;case\"[\":atom=this.characterClass();break;case\"(\":atom=this.group()}return void 0===atom&&this.isPatternCharacter()&&(atom=this.patternCharacter()),ASSERT_EXISTS(atom),this.isQuantifier()&&(atom.quantifier=this.quantifier()),atom},RegExpParser.prototype.dotAll=function(){return this.consumeChar(\".\"),{type:\"Set\",complement:!0,value:[cc(\"\\n\"),cc(\"\\r\"),cc(\"\\u2028\"),cc(\"\\u2029\")]}},RegExpParser.prototype.atomEscape=function(){switch(this.consumeChar(\"\\\\\"),this.peekChar()){case\"1\":case\"2\":case\"3\":case\"4\":case\"5\":case\"6\":case\"7\":case\"8\":case\"9\":return this.decimalEscapeAtom();case\"d\":case\"D\":case\"s\":case\"S\":case\"w\":case\"W\":return this.characterClassEscape();case\"f\":case\"n\":case\"r\":case\"t\":case\"v\":return this.controlEscapeAtom();case\"c\":return this.controlLetterEscapeAtom();case\"0\":return this.nulCharacterAtom();case\"x\":return this.hexEscapeSequenceAtom();case\"u\":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},RegExpParser.prototype.decimalEscapeAtom=function(){return{type:\"GroupBackReference\",value:this.positiveInteger()}},RegExpParser.prototype.characterClassEscape=function(){var set,complement=!1;switch(this.popChar()){case\"d\":set=digitsCharCodes;break;case\"D\":set=digitsCharCodes,complement=!0;break;case\"s\":set=whitespaceCodes;break;case\"S\":set=whitespaceCodes,complement=!0;break;case\"w\":set=wordCharCodes;break;case\"W\":set=wordCharCodes,complement=!0}return ASSERT_EXISTS(set),{type:\"Set\",value:set,complement:complement}},RegExpParser.prototype.controlEscapeAtom=function(){var escapeCode;switch(this.popChar()){case\"f\":escapeCode=cc(\"\\f\");break;case\"n\":escapeCode=cc(\"\\n\");break;case\"r\":escapeCode=cc(\"\\r\");break;case\"t\":escapeCode=cc(\"\\t\");break;case\"v\":escapeCode=cc(\"\\v\")}return ASSERT_EXISTS(escapeCode),{type:\"Character\",value:escapeCode}},RegExpParser.prototype.controlLetterEscapeAtom=function(){this.consumeChar(\"c\");var letter=this.popChar();if(!1===/[a-zA-Z]/.test(letter))throw Error(\"Invalid \");return{type:\"Character\",value:letter.toUpperCase().charCodeAt(0)-64}},RegExpParser.prototype.nulCharacterAtom=function(){return this.consumeChar(\"0\"),{type:\"Character\",value:cc(\"\\0\")}},RegExpParser.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar(\"x\"),this.parseHexDigits(2)},RegExpParser.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar(\"u\"),this.parseHexDigits(4)},RegExpParser.prototype.identityEscapeAtom=function(){return{type:\"Character\",value:cc(this.popChar())}},RegExpParser.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case\"\\n\":case\"\\r\":case\"\\u2028\":case\"\\u2029\":case\"\\\\\":case\"]\":throw Error(\"TBD\");default:return{type:\"Character\",value:cc(this.popChar())}}},RegExpParser.prototype.characterClass=function(){var set=[],complement=!1;for(this.consumeChar(\"[\"),\"^\"===this.peekChar(0)&&(this.consumeChar(\"^\"),complement=!0);this.isClassAtom();){var from=this.classAtom();if(\"Character\"===from.type&&this.isRangeDash()){this.consumeChar(\"-\");var to=this.classAtom();if(\"Character\"===to.type){if(to.value<from.value)throw Error(\"Range out of order in character class\");set.push({from:from.value,to:to.value})}else insertToSet(from.value,set),set.push(cc(\"-\")),insertToSet(to.value,set)}else insertToSet(from.value,set)}return this.consumeChar(\"]\"),{type:\"Set\",complement:complement,value:set}},RegExpParser.prototype.classAtom=function(){switch(this.peekChar()){case\"]\":case\"\\n\":case\"\\r\":case\"\\u2028\":case\"\\u2029\":throw Error(\"TBD\");case\"\\\\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},RegExpParser.prototype.classEscape=function(){switch(this.consumeChar(\"\\\\\"),this.peekChar()){case\"b\":return this.consumeChar(\"b\"),{type:\"Character\",value:cc(\"\\b\")};case\"d\":case\"D\":case\"s\":case\"S\":case\"w\":case\"W\":return this.characterClassEscape();case\"f\":case\"n\":case\"r\":case\"t\":case\"v\":return this.controlEscapeAtom();case\"c\":return this.controlLetterEscapeAtom();case\"0\":return this.nulCharacterAtom();case\"x\":return this.hexEscapeSequenceAtom();case\"u\":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},RegExpParser.prototype.group=function(){var capturing=!0;switch(this.consumeChar(\"(\"),this.peekChar(0)){case\"?\":this.consumeChar(\"?\"),this.consumeChar(\":\"),capturing=!1;break;default:this.groupIdx++}var value=this.disjunction();this.consumeChar(\")\");var groupAst={type:\"Group\",capturing:capturing,value:value};return capturing&&(groupAst.idx=this.groupIdx),groupAst},RegExpParser.prototype.positiveInteger=function(){var number=this.popChar();if(!1===decimalPatternNoZero.test(number))throw Error(\"Expecting a positive integer\");for(;decimalPattern.test(this.peekChar(0));)number+=this.popChar();return parseInt(number,10)},RegExpParser.prototype.integerIncludingZero=function(){var number=this.popChar();if(!1===decimalPattern.test(number))throw Error(\"Expecting an integer\");for(;decimalPattern.test(this.peekChar(0));)number+=this.popChar();return parseInt(number,10)},RegExpParser.prototype.patternCharacter=function(){var nextChar=this.popChar();switch(nextChar){case\"\\n\":case\"\\r\":case\"\\u2028\":case\"\\u2029\":case\"^\":case\"$\":case\"\\\\\":case\".\":case\"*\":case\"+\":case\"?\":case\"(\":case\")\":case\"[\":case\"|\":throw Error(\"TBD\");default:return{type:\"Character\",value:cc(nextChar)}}},RegExpParser.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case\"g\":case\"i\":case\"m\":case\"u\":case\"y\":return!0;default:return!1}},RegExpParser.prototype.isRangeDash=function(){return\"-\"===this.peekChar()&&this.isClassAtom(1)},RegExpParser.prototype.isDigit=function(){return decimalPattern.test(this.peekChar(0))},RegExpParser.prototype.isClassAtom=function(howMuch){switch(void 0===howMuch&&(howMuch=0),this.peekChar(howMuch)){case\"]\":case\"\\n\":case\"\\r\":case\"\\u2028\":case\"\\u2029\":return!1;default:return!0}},RegExpParser.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},RegExpParser.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case\".\":case\"\\\\\":case\"[\":case\"(\":return!0;default:return!1}},RegExpParser.prototype.isAssertion=function(){switch(this.peekChar(0)){case\"^\":case\"$\":return!0;case\"\\\\\":switch(this.peekChar(1)){case\"b\":case\"B\":return!0;default:return!1}case\"(\":return\"?\"===this.peekChar(1)&&(\"=\"===this.peekChar(2)||\"!\"===this.peekChar(2));default:return!1}},RegExpParser.prototype.isQuantifier=function(){var prevState=this.saveState();try{return void 0!==this.quantifier(!0)}catch(e){return!1}finally{this.restoreState(prevState)}},RegExpParser.prototype.isPatternCharacter=function(){switch(this.peekChar()){case\"^\":case\"$\":case\"\\\\\":case\".\":case\"*\":case\"+\":case\"?\":case\"(\":case\")\":case\"[\":case\"|\":case\"/\":case\"\\n\":case\"\\r\":case\"\\u2028\":case\"\\u2029\":return!1;default:return!0}},RegExpParser.prototype.parseHexDigits=function(howMany){for(var hexString=\"\",i=0;i<howMany;i++){var hexChar=this.popChar();if(!1===hexDigitPattern.test(hexChar))throw Error(\"Expecting a HexDecimal digits\");hexString+=hexChar}return{type:\"Character\",value:parseInt(hexString,16)}},RegExpParser.prototype.peekChar=function(howMuch){return void 0===howMuch&&(howMuch=0),this.input[this.idx+howMuch]},RegExpParser.prototype.popChar=function(){var nextChar=this.peekChar(0);return this.consumeChar(),nextChar},RegExpParser.prototype.consumeChar=function(char){if(void 0!==char&&this.input[this.idx]!==char)throw Error(\"Expected: '\"+char+\"' but found: '\"+this.input[this.idx]+\"' at offset: \"+this.idx);if(this.idx>=this.input.length)throw Error(\"Unexpected end of input\");this.idx++};var i,hexDigitPattern=/[0-9a-fA-F]/,decimalPattern=/[0-9]/,decimalPatternNoZero=/[1-9]/;function cc(char){return char.charCodeAt(0)}function insertToSet(item,set){void 0!==item.length?item.forEach((function(subItem){set.push(subItem)})):set.push(item)}function addFlag(flagObj,flagKey){if(!0===flagObj[flagKey])throw\"duplicate flag \"+flagKey;flagObj[flagKey]=!0}function ASSERT_EXISTS(obj){if(void 0===obj)throw Error(\"Internal Error - Should never get here!\")}var digitsCharCodes=[];for(i=cc(\"0\");i<=cc(\"9\");i++)digitsCharCodes.push(i);var wordCharCodes=[cc(\"_\")].concat(digitsCharCodes);for(i=cc(\"a\");i<=cc(\"z\");i++)wordCharCodes.push(i);for(i=cc(\"A\");i<=cc(\"Z\");i++)wordCharCodes.push(i);var whitespaceCodes=[cc(\" \"),cc(\"\\f\"),cc(\"\\n\"),cc(\"\\r\"),cc(\"\\t\"),cc(\"\\v\"),cc(\"\\t\"),cc(\" \"),cc(\" \"),cc(\" \"),cc(\" \"),cc(\" \"),cc(\" \"),cc(\" \"),cc(\" \"),cc(\" \"),cc(\" \"),cc(\" \"),cc(\" \"),cc(\" \"),cc(\"\\u2028\"),cc(\"\\u2029\"),cc(\" \"),cc(\" \"),cc(\"　\"),cc(\"\\ufeff\")];function BaseRegExpVisitor(){}return BaseRegExpVisitor.prototype.visitChildren=function(node){for(var key in node){var child=node[key];node.hasOwnProperty(key)&&(void 0!==child.type?this.visit(child):Array.isArray(child)&&child.forEach((function(subChild){this.visit(subChild)}),this))}},BaseRegExpVisitor.prototype.visit=function(node){switch(node.type){case\"Pattern\":this.visitPattern(node);break;case\"Flags\":this.visitFlags(node);break;case\"Disjunction\":this.visitDisjunction(node);break;case\"Alternative\":this.visitAlternative(node);break;case\"StartAnchor\":this.visitStartAnchor(node);break;case\"EndAnchor\":this.visitEndAnchor(node);break;case\"WordBoundary\":this.visitWordBoundary(node);break;case\"NonWordBoundary\":this.visitNonWordBoundary(node);break;case\"Lookahead\":this.visitLookahead(node);break;case\"NegativeLookahead\":this.visitNegativeLookahead(node);break;case\"Character\":this.visitCharacter(node);break;case\"Set\":this.visitSet(node);break;case\"Group\":this.visitGroup(node);break;case\"GroupBackReference\":this.visitGroupBackReference(node);break;case\"Quantifier\":this.visitQuantifier(node)}this.visitChildren(node)},BaseRegExpVisitor.prototype.visitPattern=function(node){},BaseRegExpVisitor.prototype.visitFlags=function(node){},BaseRegExpVisitor.prototype.visitDisjunction=function(node){},BaseRegExpVisitor.prototype.visitAlternative=function(node){},BaseRegExpVisitor.prototype.visitStartAnchor=function(node){},BaseRegExpVisitor.prototype.visitEndAnchor=function(node){},BaseRegExpVisitor.prototype.visitWordBoundary=function(node){},BaseRegExpVisitor.prototype.visitNonWordBoundary=function(node){},BaseRegExpVisitor.prototype.visitLookahead=function(node){},BaseRegExpVisitor.prototype.visitNegativeLookahead=function(node){},BaseRegExpVisitor.prototype.visitCharacter=function(node){},BaseRegExpVisitor.prototype.visitSet=function(node){},BaseRegExpVisitor.prototype.visitGroup=function(node){},BaseRegExpVisitor.prototype.visitGroupBackReference=function(node){},BaseRegExpVisitor.prototype.visitQuantifier=function(node){},{RegExpParser:RegExpParser,BaseRegExpVisitor:BaseRegExpVisitor,VERSION:\"0.4.0\"}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,[]):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},mrSG:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return __extends}));var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}},zUnb:function(module,__webpack_exports__,__webpack_require__){\"use strict\";function isFunction(x){return\"function\"==typeof x}__webpack_require__.r(__webpack_exports__);let _enable_super_gross_mode_that_will_cause_bad_things=!1;const config_config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(value){if(value){const error=new Error;console.warn(\"DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n\"+error.stack)}else _enable_super_gross_mode_that_will_cause_bad_things&&console.log(\"RxJS: Back to a better error behavior. Thank you. <3\");_enable_super_gross_mode_that_will_cause_bad_things=value},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(err){setTimeout(()=>{throw err})}const empty={closed:!0,next(value){},error(err){if(config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)},complete(){}},isArray=Array.isArray||(x=>x&&\"number\"==typeof x.length);function isObject(x){return null!==x&&\"object\"==typeof x}function UnsubscriptionErrorImpl(errors){return Error.call(this),this.message=errors?`${errors.length} errors occurred during unsubscription:\\n${errors.map((err,i)=>`${i+1}) ${err.toString()}`).join(\"\\n  \")}`:\"\",this.name=\"UnsubscriptionError\",this.errors=errors,this}UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype);const UnsubscriptionError=UnsubscriptionErrorImpl;let Subscription_Subscription=(()=>{class Subscription{constructor(unsubscribe){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,unsubscribe&&(this._unsubscribe=unsubscribe)}unsubscribe(){let errors,hasErrors=!1;if(this.closed)return;let{_parent:_parent,_parents:_parents,_unsubscribe:_unsubscribe,_subscriptions:_subscriptions}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let index=-1,len=_parents?_parents.length:0;for(;_parent;)_parent.remove(this),_parent=++index<len&&_parents[index]||null;if(isFunction(_unsubscribe))try{_unsubscribe.call(this)}catch(e){hasErrors=!0,errors=e instanceof UnsubscriptionError?flattenUnsubscriptionErrors(e.errors):[e]}if(isArray(_subscriptions))for(index=-1,len=_subscriptions.length;++index<len;){const sub=_subscriptions[index];if(isObject(sub))try{sub.unsubscribe()}catch(e){hasErrors=!0,errors=errors||[],e instanceof UnsubscriptionError?errors=errors.concat(flattenUnsubscriptionErrors(e.errors)):errors.push(e)}}if(hasErrors)throw new UnsubscriptionError(errors)}add(teardown){let subscription=teardown;switch(typeof teardown){case\"function\":subscription=new Subscription(teardown);case\"object\":if(subscription===this||subscription.closed||\"function\"!=typeof subscription.unsubscribe)return subscription;if(this.closed)return subscription.unsubscribe(),subscription;if(!(subscription instanceof Subscription)){const tmp=subscription;(subscription=new Subscription)._subscriptions=[tmp]}break;default:if(!teardown)return Subscription.EMPTY;throw new Error(\"unrecognized teardown \"+teardown+\" added to Subscription.\")}if(subscription._addParent(this)){const subscriptions=this._subscriptions;subscriptions?subscriptions.push(subscription):this._subscriptions=[subscription]}return subscription}remove(subscription){const subscriptions=this._subscriptions;if(subscriptions){const subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}}_addParent(parent){let{_parent:_parent,_parents:_parents}=this;return _parent!==parent&&(_parent?_parents?-1===_parents.indexOf(parent)&&(_parents.push(parent),!0):(this._parents=[parent],!0):(this._parent=parent,!0))}}return Subscription.EMPTY=function(empty){return empty.closed=!0,empty}(new Subscription),Subscription})();function flattenUnsubscriptionErrors(errors){return errors.reduce((errs,err)=>errs.concat(err instanceof UnsubscriptionError?err.errors:err),[])}const rxSubscriber=\"function\"==typeof Symbol?Symbol(\"rxSubscriber\"):\"@@rxSubscriber_\"+Math.random();class Subscriber_Subscriber extends Subscription_Subscription{constructor(destinationOrNext,error,complete){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=empty;break;case 1:if(!destinationOrNext){this.destination=empty;break}if(\"object\"==typeof destinationOrNext){destinationOrNext instanceof Subscriber_Subscriber?(this.syncErrorThrowable=destinationOrNext.syncErrorThrowable,this.destination=destinationOrNext,destinationOrNext.add(this)):(this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext,error,complete)}}[rxSubscriber](){return this}static create(next,error,complete){const subscriber=new Subscriber_Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber}next(value){this.isStopped||this._next(value)}error(err){this.isStopped||(this.isStopped=!0,this._error(err))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(value){this.destination.next(value)}_error(err){this.destination.error(err),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:_parent,_parents:_parents}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=_parent,this._parents=_parents,this}}class Subscriber_SafeSubscriber extends Subscriber_Subscriber{constructor(_parentSubscriber,observerOrNext,error,complete){let next;super(),this._parentSubscriber=_parentSubscriber;let context=this;isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,observerOrNext!==empty&&(isFunction((context=Object.create(observerOrNext)).unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this))),this._context=context,this._next=next,this._error=error,this._complete=complete}next(value){if(!this.isStopped&&this._next){const{_parentSubscriber:_parentSubscriber}=this;config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?this.__tryOrSetError(_parentSubscriber,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}}error(err){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this,{useDeprecatedSynchronousErrorHandling:useDeprecatedSynchronousErrorHandling}=config_config;if(this._error)useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else if(_parentSubscriber.syncErrorThrowable)useDeprecatedSynchronousErrorHandling?(_parentSubscriber.syncErrorValue=err,_parentSubscriber.syncErrorThrown=!0):hostReportError(err),this.unsubscribe();else{if(this.unsubscribe(),useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}}complete(){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this;if(this._complete){const wrappedComplete=()=>this._complete.call(this._context);config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,wrappedComplete),this.unsubscribe()):(this.__tryOrUnsub(wrappedComplete),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(fn,value){try{fn.call(this._context,value)}catch(err){if(this.unsubscribe(),config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}__tryOrSetError(parent,fn,value){if(!config_config.useDeprecatedSynchronousErrorHandling)throw new Error(\"bad call\");try{fn.call(this._context,value)}catch(err){return config_config.useDeprecatedSynchronousErrorHandling?(parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0):(hostReportError(err),!0)}return!1}_unsubscribe(){const{_parentSubscriber:_parentSubscriber}=this;this._context=null,this._parentSubscriber=null,_parentSubscriber.unsubscribe()}}const observable_observable=\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\";function noop(){}function pipe(...fns){return pipeFromArray(fns)}function pipeFromArray(fns){return fns?1===fns.length?fns[0]:function(input){return fns.reduce((prev,fn)=>fn(prev),input)}:noop}let Observable_Observable=(()=>{class Observable{constructor(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}lift(operator){const observable=new Observable;return observable.source=this,observable.operator=operator,observable}subscribe(observerOrNext,error,complete){const{operator:operator}=this,sink=function(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof Subscriber_Subscriber)return nextOrObserver;if(nextOrObserver[rxSubscriber])return nextOrObserver[rxSubscriber]()}return nextOrObserver||error||complete?new Subscriber_Subscriber(nextOrObserver,error,complete):new Subscriber_Subscriber(empty)}(observerOrNext,error,complete);if(sink.add(operator?operator.call(sink,this.source):this.source||config_config.useDeprecatedSynchronousErrorHandling&&!sink.syncErrorThrowable?this._subscribe(sink):this._trySubscribe(sink)),config_config.useDeprecatedSynchronousErrorHandling&&sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink}_trySubscribe(sink){try{return this._subscribe(sink)}catch(err){config_config.useDeprecatedSynchronousErrorHandling&&(sink.syncErrorThrown=!0,sink.syncErrorValue=err),function(observer){for(;observer;){const{closed:closed,destination:destination,isStopped:isStopped}=observer;if(closed||isStopped)return!1;observer=destination&&destination instanceof Subscriber_Subscriber?destination:null}return!0}(sink)?sink.error(err):console.warn(err)}}forEach(next,promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let subscription;subscription=this.subscribe(value=>{try{next(value)}catch(err){reject(err),subscription&&subscription.unsubscribe()}},reject,resolve)})}_subscribe(subscriber){const{source:source}=this;return source&&source.subscribe(subscriber)}[observable_observable](){return this}pipe(...operations){return 0===operations.length?this:pipeFromArray(operations)(this)}toPromise(promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let value;this.subscribe(x=>value=x,err=>reject(err),()=>resolve(value))})}}return Observable.create=subscribe=>new Observable(subscribe),Observable})();function getPromiseCtor(promiseCtor){if(promiseCtor||(promiseCtor=config_config.Promise||Promise),!promiseCtor)throw new Error(\"no Promise impl found\");return promiseCtor}function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message=\"object unsubscribed\",this.name=\"ObjectUnsubscribedError\",this}ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype);const ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl;class SubjectSubscription_SubjectSubscription extends Subscription_Subscription{constructor(subject,subscriber){super(),this.subject=subject,this.subscriber=subscriber,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const subject=this.subject,observers=subject.observers;if(this.subject=null,!observers||0===observers.length||subject.isStopped||subject.closed)return;const subscriberIndex=observers.indexOf(this.subscriber);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}class Subject_SubjectSubscriber extends Subscriber_Subscriber{constructor(destination){super(destination),this.destination=destination}}let Subject_Subject=(()=>{class Subject extends Observable_Observable{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[rxSubscriber](){return new Subject_SubjectSubscriber(this)}lift(operator){const subject=new Subject_AnonymousSubject(this,this);return subject.operator=operator,subject}next(value){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped){const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].next(value)}}error(err){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=err,this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].error(err);this.observers.length=0}complete(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return super._trySubscribe(subscriber)}_subscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(subscriber.error(this.thrownError),Subscription_Subscription.EMPTY):this.isStopped?(subscriber.complete(),Subscription_Subscription.EMPTY):(this.observers.push(subscriber),new SubjectSubscription_SubjectSubscription(this,subscriber))}asObservable(){const observable=new Observable_Observable;return observable.source=this,observable}}return Subject.create=(destination,source)=>new Subject_AnonymousSubject(destination,source),Subject})();class Subject_AnonymousSubject extends Subject_Subject{constructor(destination,source){super(),this.destination=destination,this.source=source}next(value){const{destination:destination}=this;destination&&destination.next&&destination.next(value)}error(err){const{destination:destination}=this;destination&&destination.error&&this.destination.error(err)}complete(){const{destination:destination}=this;destination&&destination.complete&&this.destination.complete()}_subscribe(subscriber){const{source:source}=this;return source?this.source.subscribe(subscriber):Subscription_Subscription.EMPTY}}function isScheduler(value){return value&&\"function\"==typeof value.schedule}class InnerSubscriber_InnerSubscriber extends Subscriber_Subscriber{constructor(parent,outerValue,outerIndex){super(),this.parent=parent,this.outerValue=outerValue,this.outerIndex=outerIndex,this.index=0}_next(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this)}_error(error){this.parent.notifyError(error,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const subscribeToArray=array=>subscriber=>{for(let i=0,len=array.length;i<len&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.closed||subscriber.complete()},subscribeToPromise=promise=>subscriber=>(promise.then(value=>{subscriber.closed||(subscriber.next(value),subscriber.complete())},err=>subscriber.error(err)).then(null,hostReportError),subscriber);function getSymbolIterator(){return\"function\"==typeof Symbol&&Symbol.iterator?Symbol.iterator:\"@@iterator\"}const iterator_iterator=getSymbolIterator(),subscribeToIterable=iterable=>subscriber=>{const iterator=iterable[iterator_iterator]();for(;;){const item=iterator.next();if(item.done){subscriber.complete();break}if(subscriber.next(item.value),subscriber.closed)break}return\"function\"==typeof iterator.return&&subscriber.add(()=>{iterator.return&&iterator.return()}),subscriber},subscribeToObservable=obj=>subscriber=>{const obs=obj[observable_observable]();if(\"function\"!=typeof obs.subscribe)throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");return obs.subscribe(subscriber)},isArrayLike=x=>x&&\"number\"==typeof x.length&&\"function\"!=typeof x;function isPromise(value){return!!value&&\"function\"!=typeof value.subscribe&&\"function\"==typeof value.then}const subscribeTo=result=>{if(result instanceof Observable_Observable)return subscriber=>result._isScalar?(subscriber.next(result.value),void subscriber.complete()):result.subscribe(subscriber);if(result&&\"function\"==typeof result[observable_observable])return subscribeToObservable(result);if(isArrayLike(result))return subscribeToArray(result);if(isPromise(result))return subscribeToPromise(result);if(result&&\"function\"==typeof result[iterator_iterator])return subscribeToIterable(result);{const value=isObject(result)?\"an invalid object\":`'${result}'`;throw new TypeError(`You provided ${value} where a stream was expected.`+\" You can provide an Observable, Promise, Array, or Iterable.\")}};function subscribeToResult(outerSubscriber,result,outerValue,outerIndex,destination=new InnerSubscriber_InnerSubscriber(outerSubscriber,outerValue,outerIndex)){if(!destination.closed)return subscribeTo(result)(destination)}class OuterSubscriber_OuterSubscriber extends Subscriber_Subscriber{notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyError(error,innerSub){this.destination.error(error)}notifyComplete(innerSub){this.destination.complete()}}function map(project,thisArg){return function(source){if(\"function\"!=typeof project)throw new TypeError(\"argument is not a function. Are you looking for `mapTo()`?\");return source.lift(new MapOperator(project,thisArg))}}class MapOperator{constructor(project,thisArg){this.project=project,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new map_MapSubscriber(subscriber,this.project,this.thisArg))}}class map_MapSubscriber extends Subscriber_Subscriber{constructor(destination,project,thisArg){super(destination),this.project=project,this.count=0,this.thisArg=thisArg||this}_next(value){let result;try{result=this.project.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}function fromArray(input,scheduler){return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;let i=0;return sub.add(scheduler.schedule((function(){i!==input.length?(subscriber.next(input[i++]),subscriber.closed||sub.add(this.schedule())):subscriber.complete()}))),sub}:subscribeToArray(input))}function from(input,scheduler){if(!scheduler)return input instanceof Observable_Observable?input:new Observable_Observable(subscribeTo(input));if(null!=input){if(function(input){return input&&\"function\"==typeof input[observable_observable]}(input))return function(input,scheduler){return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>{const observable=input[observable_observable]();sub.add(observable.subscribe({next(value){sub.add(scheduler.schedule(()=>subscriber.next(value)))},error(err){sub.add(scheduler.schedule(()=>subscriber.error(err)))},complete(){sub.add(scheduler.schedule(()=>subscriber.complete()))}}))})),sub}:subscribeToObservable(input))}(input,scheduler);if(isPromise(input))return function(input,scheduler){return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>input.then(value=>{sub.add(scheduler.schedule(()=>{subscriber.next(value),sub.add(scheduler.schedule(()=>subscriber.complete()))}))},err=>{sub.add(scheduler.schedule(()=>subscriber.error(err)))}))),sub}:subscribeToPromise(input))}(input,scheduler);if(isArrayLike(input))return fromArray(input,scheduler);if(function(input){return input&&\"function\"==typeof input[iterator_iterator]}(input)||\"string\"==typeof input)return function(input,scheduler){if(!input)throw new Error(\"Iterable cannot be null\");return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;let iterator;return sub.add(()=>{iterator&&\"function\"==typeof iterator.return&&iterator.return()}),sub.add(scheduler.schedule(()=>{iterator=input[iterator_iterator](),sub.add(scheduler.schedule((function(){if(subscriber.closed)return;let value,done;try{const result=iterator.next();value=result.value,done=result.done}catch(err){return void subscriber.error(err)}done?subscriber.complete():(subscriber.next(value),this.schedule())})))})),sub}:subscribeToIterable(input))}(input,scheduler)}throw new TypeError((null!==input&&typeof input||input)+\" is not observable\")}function mergeMap(project,resultSelector,concurrent=Number.POSITIVE_INFINITY){return\"function\"==typeof resultSelector?source=>source.pipe(mergeMap((a,i)=>from(project(a,i)).pipe(map((b,ii)=>resultSelector(a,b,i,ii))),concurrent)):(\"number\"==typeof resultSelector&&(concurrent=resultSelector),source=>source.lift(new MergeMapOperator(project,concurrent)))}class MergeMapOperator{constructor(project,concurrent=Number.POSITIVE_INFINITY){this.project=project,this.concurrent=concurrent}call(observer,source){return source.subscribe(new mergeMap_MergeMapSubscriber(observer,this.project,this.concurrent))}}class mergeMap_MergeMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project,concurrent=Number.POSITIVE_INFINITY){super(destination),this.project=project,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(value){this.active<this.concurrent?this._tryNext(value):this.buffer.push(value)}_tryNext(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.active++,this._innerSub(result,value,index)}_innerSub(ish,value,index){const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.destination.add(innerSubscriber),subscribeToResult(this,ish,value,index,innerSubscriber)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyComplete(innerSub){const buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function identity(x){return x}function mergeAll(concurrent=Number.POSITIVE_INFINITY){return mergeMap(identity,concurrent)}function refCount(){return function(source){return source.lift(new RefCountOperator(source))}}class RefCountOperator{constructor(connectable){this.connectable=connectable}call(subscriber,source){const{connectable:connectable}=this;connectable._refCount++;const refCounter=new refCount_RefCountSubscriber(subscriber,connectable),subscription=source.subscribe(refCounter);return refCounter.closed||(refCounter.connection=connectable.connect()),subscription}}class refCount_RefCountSubscriber extends Subscriber_Subscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_unsubscribe(){const{connectable:connectable}=this;if(!connectable)return void(this.connection=null);this.connectable=null;const refCount=connectable._refCount;if(refCount<=0)return void(this.connection=null);if(connectable._refCount=refCount-1,refCount>1)return void(this.connection=null);const{connection:connection}=this,sharedConnection=connectable._connection;this.connection=null,!sharedConnection||connection&&sharedConnection!==connection||sharedConnection.unsubscribe()}}const connectableProto=class extends Observable_Observable{constructor(source,subjectFactory){super(),this.source=source,this.subjectFactory=subjectFactory,this._refCount=0,this._isComplete=!1}_subscribe(subscriber){return this.getSubject().subscribe(subscriber)}getSubject(){const subject=this._subject;return subject&&!subject.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let connection=this._connection;return connection||(this._isComplete=!1,(connection=this._connection=new Subscription_Subscription).add(this.source.subscribe(new ConnectableObservable_ConnectableSubscriber(this.getSubject(),this))),connection.closed?(this._connection=null,connection=Subscription_Subscription.EMPTY):this._connection=connection),connection}refCount(){return refCount()(this)}}.prototype,connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:connectableProto._subscribe},_isComplete:{value:connectableProto._isComplete,writable:!0},getSubject:{value:connectableProto.getSubject},connect:{value:connectableProto.connect},refCount:{value:connectableProto.refCount}};class ConnectableObservable_ConnectableSubscriber extends Subject_SubjectSubscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_error(err){this._unsubscribe(),super._error(err)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const connectable=this.connectable;if(connectable){this.connectable=null;const connection=connectable._connection;connectable._refCount=0,connectable._subject=null,connectable._connection=null,connection&&connection.unsubscribe()}}}function shareSubjectFactory(){return new Subject_Subject}const PARAMETERS=\"__parameters__\";function makeParamDecorator(name,props,parentClass){const metaCtor=function(props){return function(...args){if(props){const values=props(...args);for(const propName in values)this[propName]=values[propName]}}}(props);function ParamDecoratorFactory(...args){if(this instanceof ParamDecoratorFactory)return metaCtor.apply(this,args),this;const annotationInstance=new ParamDecoratorFactory(...args);return ParamDecorator.annotation=annotationInstance,ParamDecorator;function ParamDecorator(cls,unusedKey,index){const parameters=cls.hasOwnProperty(PARAMETERS)?cls[PARAMETERS]:Object.defineProperty(cls,PARAMETERS,{value:[]})[PARAMETERS];for(;parameters.length<=index;)parameters.push(null);return(parameters[index]=parameters[index]||[]).push(annotationInstance),cls}}return parentClass&&(ParamDecoratorFactory.prototype=Object.create(parentClass.prototype)),ParamDecoratorFactory.prototype.ngMetadataName=name,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory}const Inject=makeParamDecorator(\"Inject\",token=>({token:token})),Optional=makeParamDecorator(\"Optional\"),Self=makeParamDecorator(\"Self\"),SkipSelf=makeParamDecorator(\"SkipSelf\");var InjectFlags=function(InjectFlags){return InjectFlags[InjectFlags.Default=0]=\"Default\",InjectFlags[InjectFlags.Host=1]=\"Host\",InjectFlags[InjectFlags.Self=2]=\"Self\",InjectFlags[InjectFlags.SkipSelf=4]=\"SkipSelf\",InjectFlags[InjectFlags.Optional=8]=\"Optional\",InjectFlags}({});function getClosureSafeProperty(objWithPropertyToExtract){for(let key in objWithPropertyToExtract)if(objWithPropertyToExtract[key]===getClosureSafeProperty)return key;throw Error(\"Could not find renamed property on target object.\")}function ɵɵdefineInjectable(opts){return{token:opts.token,providedIn:opts.providedIn||null,factory:opts.factory,value:void 0}}function getInjectableDef(type){const def=type[NG_INJECTABLE_DEF];return def&&def.token===type?def:null}const NG_INJECTABLE_DEF=getClosureSafeProperty({ngInjectableDef:getClosureSafeProperty});function stringify(token){if(\"string\"==typeof token)return token;if(token instanceof Array)return\"[\"+token.map(stringify).join(\", \")+\"]\";if(null==token)return\"\"+token;if(token.overriddenName)return`${token.overriddenName}`;if(token.name)return`${token.name}`;const res=token.toString();if(null==res)return\"\"+res;const newLineIndex=res.indexOf(\"\\n\");return-1===newLineIndex?res:res.substring(0,newLineIndex)}const __forward_ref__=getClosureSafeProperty({__forward_ref__:getClosureSafeProperty});function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return stringify(this())},forwardRefFn}function resolveForwardRef(type){const fn=type;return\"function\"==typeof fn&&fn.hasOwnProperty(__forward_ref__)&&fn.__forward_ref__===forwardRef?fn():type}const __globalThis=\"undefined\"!=typeof globalThis&&globalThis,__window=\"undefined\"!=typeof window&&window,__self=\"undefined\"!=typeof self&&\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,__global=\"undefined\"!=typeof global&&global,_global=__globalThis||__global||__window||__self;class InjectionToken{constructor(_desc,options){this._desc=_desc,this.ngMetadataName=\"InjectionToken\",this.ngInjectableDef=void 0,\"number\"==typeof options?this.__NG_ELEMENT_ID__=options:void 0!==options&&(this.ngInjectableDef=ɵɵdefineInjectable({token:this,providedIn:options.providedIn||\"root\",factory:options.factory}))}toString(){return`InjectionToken ${this._desc}`}}const INJECTOR=new InjectionToken(\"INJECTOR\",-1),THROW_IF_NOT_FOUND=new Object,NG_TEMP_TOKEN_PATH=\"ngTempTokenPath\",NG_TOKEN_PATH=\"ngTokenPath\",NEW_LINE=/\\n/gm,NO_NEW_LINE=\"ɵ\",SOURCE=\"__source\",USE_VALUE=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});let _injectImplementation,_currentInjector=void 0;function setCurrentInjector(injector){const former=_currentInjector;return _currentInjector=injector,former}function injectInjectorOnly(token,flags=InjectFlags.Default){if(void 0===_currentInjector)throw new Error(\"inject() must be called from an injection context\");return null===_currentInjector?function(token,notFoundValue,flags){const injectableDef=getInjectableDef(token);if(injectableDef&&\"root\"==injectableDef.providedIn)return void 0===injectableDef.value?injectableDef.value=injectableDef.factory():injectableDef.value;if(flags&InjectFlags.Optional)return null;throw new Error(`Injector: NOT_FOUND [${stringify(token)}]`)}(token,0,flags):_currentInjector.get(token,flags&InjectFlags.Optional?null:void 0,flags)}function ɵɵinject(token,flags=InjectFlags.Default){return(_injectImplementation||injectInjectorOnly)(token,flags)}class NullInjector{get(token,notFoundValue=THROW_IF_NOT_FOUND){if(notFoundValue===THROW_IF_NOT_FOUND){const error=new Error(`NullInjectorError: No provider for ${stringify(token)}!`);throw error.name=\"NullInjectorError\",error}return notFoundValue}}function formatError(text,obj,injectorErrorName,source=null){text=text&&\"\\n\"===text.charAt(0)&&text.charAt(1)==NO_NEW_LINE?text.substr(2):text;let context=stringify(obj);if(obj instanceof Array)context=obj.map(stringify).join(\" -> \");else if(\"object\"==typeof obj){let parts=[];for(let key in obj)if(obj.hasOwnProperty(key)){let value=obj[key];parts.push(key+\":\"+(\"string\"==typeof value?JSON.stringify(value):stringify(value)))}context=`{${parts.join(\", \")}}`}return`${injectorErrorName}${source?\"(\"+source+\")\":\"\"}[${context}]: ${text.replace(NEW_LINE,\"\\n  \")}`}class NgModuleRef{}class NgModuleFactory{}function addToArray(arr,index,value){index>=arr.length?arr.push(value):arr.splice(index,0,value)}function removeFromArray(arr,index){return index>=arr.length-1?arr.pop():arr.splice(index,1)[0]}const ViewEncapsulation=function(){var ViewEncapsulation={Emulated:0,Native:1,None:2,ShadowDom:3};return ViewEncapsulation[ViewEncapsulation.Emulated]=\"Emulated\",ViewEncapsulation[ViewEncapsulation.Native]=\"Native\",ViewEncapsulation[ViewEncapsulation.None]=\"None\",ViewEncapsulation[ViewEncapsulation.ShadowDom]=\"ShadowDom\",ViewEncapsulation}(),defaultScheduler=(()=>(\"undefined\"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_global))(),ERROR_DEBUG_CONTEXT=\"ngDebugContext\",ERROR_ORIGINAL_ERROR=\"ngOriginalError\",ERROR_LOGGER=\"ngErrorLogger\";function getDebugContext(error){return error[ERROR_DEBUG_CONTEXT]}function getOriginalError(error){return error[ERROR_ORIGINAL_ERROR]}function defaultErrorLogger(console,...values){console.error(...values)}class ErrorHandler{constructor(){this._console=console}handleError(error){const originalError=this._findOriginalError(error),context=this._findContext(error),errorLogger=function(error){return error[ERROR_LOGGER]||defaultErrorLogger}(error);errorLogger(this._console,\"ERROR\",error),originalError&&errorLogger(this._console,\"ORIGINAL ERROR\",originalError),context&&errorLogger(this._console,\"ERROR CONTEXT\",context)}_findContext(error){return error?getDebugContext(error)?getDebugContext(error):this._findContext(getOriginalError(error)):null}_findOriginalError(error){let e=getOriginalError(error);for(;e&&getOriginalError(e);)e=getOriginalError(e);return e}}let _devMode=!0,_runModeLocked=!1;function isDevMode(){return _runModeLocked=!0,_devMode}class InertBodyHelper{constructor(defaultDoc){if(this.defaultDoc=defaultDoc,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument(\"sanitization-inert\"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const inertHtml=this.inertDocument.createElement(\"html\");this.inertDocument.appendChild(inertHtml),this.inertBodyElement=this.inertDocument.createElement(\"body\"),inertHtml.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload=\"this.parentNode.remove()\"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector(\"svg\")?(this.inertBodyElement.innerHTML='<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector(\"svg img\")&&function(){try{return!!window.DOMParser}catch(_a){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(html){html=\"<body><remove></remove>\"+html+\"</body>\";try{html=encodeURI(html)}catch(_a){return null}const xhr=new XMLHttpRequest;xhr.responseType=\"document\",xhr.open(\"GET\",\"data:text/html;charset=utf-8,\"+html,!1),xhr.send(void 0);const body=xhr.response.body;return body.removeChild(body.firstChild),body}getInertBodyElement_DOMParser(html){html=\"<body><remove></remove>\"+html+\"</body>\";try{const body=(new window.DOMParser).parseFromString(html,\"text/html\").body;return body.removeChild(body.firstChild),body}catch(_a){return null}}getInertBodyElement_InertDocument(html){const templateEl=this.inertDocument.createElement(\"template\");return\"content\"in templateEl?(templateEl.innerHTML=html,templateEl):(this.inertBodyElement.innerHTML=html,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(el){const elAttrs=el.attributes;for(let i=elAttrs.length-1;0<i;i--){const attrName=elAttrs.item(i).name;\"xmlns:ns1\"!==attrName&&0!==attrName.indexOf(\"ns1:\")||el.removeAttribute(attrName)}let childNode=el.firstChild;for(;childNode;)childNode.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(childNode),childNode=childNode.nextSibling}}const SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,DATA_URL_PATTERN=/^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\\/]+=*$/i;function _sanitizeUrl(url){return(url=String(url)).match(SAFE_URL_PATTERN)||url.match(DATA_URL_PATTERN)?url:(isDevMode()&&console.warn(`WARNING: sanitizing unsafe URL value ${url} (see http://g.co/ng/security#xss)`),\"unsafe:\"+url)}function tagSet(tags){const res={};for(const t of tags.split(\",\"))res[t]=!0;return res}function core_merge(...sets){const res={};for(const s of sets)for(const v in s)s.hasOwnProperty(v)&&(res[v]=!0);return res}const VOID_ELEMENTS=tagSet(\"area,br,col,hr,img,wbr\"),OPTIONAL_END_TAG_BLOCK_ELEMENTS=tagSet(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\"),OPTIONAL_END_TAG_INLINE_ELEMENTS=tagSet(\"rp,rt\"),OPTIONAL_END_TAG_ELEMENTS=core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,OPTIONAL_END_TAG_BLOCK_ELEMENTS),VALID_ELEMENTS=core_merge(VOID_ELEMENTS,core_merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS,tagSet(\"address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul\")),core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,tagSet(\"a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video\")),OPTIONAL_END_TAG_ELEMENTS),URI_ATTRS=tagSet(\"background,cite,href,itemtype,longdesc,poster,src,xlink:href\"),SRCSET_ATTRS=tagSet(\"srcset\"),VALID_ATTRS=core_merge(URI_ATTRS,SRCSET_ATTRS,tagSet(\"abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width\"),tagSet(\"aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext\")),SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS=tagSet(\"script,style,template\");class SanitizingHtmlSerializer{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(el){let current=el.firstChild,traverseContent=!0;for(;current;)if(current.nodeType===Node.ELEMENT_NODE?traverseContent=this.startElement(current):current.nodeType===Node.TEXT_NODE?this.chars(current.nodeValue):this.sanitizedSomething=!0,traverseContent&&current.firstChild)current=current.firstChild;else for(;current;){current.nodeType===Node.ELEMENT_NODE&&this.endElement(current);let next=this.checkClobberedElement(current,current.nextSibling);if(next){current=next;break}current=this.checkClobberedElement(current,current.parentNode)}return this.buf.join(\"\")}startElement(element){const tagName=element.nodeName.toLowerCase();if(!VALID_ELEMENTS.hasOwnProperty(tagName))return this.sanitizedSomething=!0,!SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS.hasOwnProperty(tagName);this.buf.push(\"<\"),this.buf.push(tagName);const elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const elAttr=elAttrs.item(i),attrName=elAttr.name,lower=attrName.toLowerCase();if(!VALID_ATTRS.hasOwnProperty(lower)){this.sanitizedSomething=!0;continue}let value=elAttr.value;URI_ATTRS[lower]&&(value=_sanitizeUrl(value)),SRCSET_ATTRS[lower]&&(srcset=value,value=(srcset=String(srcset)).split(\",\").map(srcset=>_sanitizeUrl(srcset.trim())).join(\", \")),this.buf.push(\" \",attrName,'=\"',encodeEntities(value),'\"')}var srcset;return this.buf.push(\">\"),!0}endElement(current){const tagName=current.nodeName.toLowerCase();VALID_ELEMENTS.hasOwnProperty(tagName)&&!VOID_ELEMENTS.hasOwnProperty(tagName)&&(this.buf.push(\"</\"),this.buf.push(tagName),this.buf.push(\">\"))}chars(chars){this.buf.push(encodeEntities(chars))}checkClobberedElement(node,nextNode){if(nextNode&&(node.compareDocumentPosition(nextNode)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${node.outerHTML}`);return nextNode}}const SURROGATE_PAIR_REGEXP=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\\#-~ |!])/g;function encodeEntities(value){return value.replace(/&/g,\"&amp;\").replace(SURROGATE_PAIR_REGEXP,(function(match){return\"&#\"+(1024*(match.charCodeAt(0)-55296)+(match.charCodeAt(1)-56320)+65536)+\";\"})).replace(NON_ALPHANUMERIC_REGEXP,(function(match){return\"&#\"+match.charCodeAt(0)+\";\"})).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}let inertBodyHelper;function getTemplateContent(el){return\"content\"in el&&function(el){return el.nodeType===Node.ELEMENT_NODE&&\"TEMPLATE\"===el.nodeName}(el)?el.content:null}const SecurityContext=function(){var SecurityContext={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return SecurityContext[SecurityContext.NONE]=\"NONE\",SecurityContext[SecurityContext.HTML]=\"HTML\",SecurityContext[SecurityContext.STYLE]=\"STYLE\",SecurityContext[SecurityContext.SCRIPT]=\"SCRIPT\",SecurityContext[SecurityContext.URL]=\"URL\",SecurityContext[SecurityContext.RESOURCE_URL]=\"RESOURCE_URL\",SecurityContext}();class Sanitizer{}const SAFE_STYLE_VALUE=new RegExp(\"^([-,.\\\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\\\([-0-9.%, #a-zA-Z]+\\\\))$\",\"g\"),URL_RE=/^url\\(([^)]+)\\)$/,CAMEL_CASE_REGEXP=/([A-Z])/g;function normalizeDebugBindingValue(value){try{return null!=value?value.toString().slice(0,30):value}catch(e){return\"[ERROR] Exception while trying to serialize the value\"}}let ChangeDetectorRef=(()=>{class ChangeDetectorRef{}return ChangeDetectorRef.__NG_ELEMENT_ID__=()=>SWITCH_CHANGE_DETECTOR_REF_FACTORY(),ChangeDetectorRef})();const SWITCH_CHANGE_DETECTOR_REF_FACTORY=(...args)=>{},APP_ROOT=new InjectionToken(\"The presence of this token marks an injector as being the root injector.\"),INJECTOR_IMPL=function(providers,parent,name){return new StaticInjector(providers,parent,name)};let Injector=(()=>{class Injector{static create(options,parent){return Array.isArray(options)?INJECTOR_IMPL(options,parent,\"\"):INJECTOR_IMPL(options.providers,options.parent,options.name||\"\")}}return Injector.THROW_IF_NOT_FOUND=THROW_IF_NOT_FOUND,Injector.NULL=new NullInjector,Injector.ngInjectableDef=ɵɵdefineInjectable({token:Injector,providedIn:\"any\",factory:()=>ɵɵinject(INJECTOR)}),Injector.__NG_ELEMENT_ID__=-1,Injector})();const IDENT=function(value){return value},EMPTY=[],CIRCULAR$1=IDENT,MULTI_PROVIDER_FN=function(){return Array.prototype.slice.call(arguments)},NO_NEW_LINE$1=\"ɵ\";class StaticInjector{constructor(providers,parent=Injector.NULL,source=null){this.parent=parent,this.source=source;const records=this._records=new Map;records.set(Injector,{token:Injector,fn:IDENT,deps:EMPTY,value:this,useNew:!1}),records.set(INJECTOR,{token:INJECTOR,fn:IDENT,deps:EMPTY,value:this,useNew:!1}),function recursivelyProcessProviders(records,provider){if(provider)if((provider=resolveForwardRef(provider))instanceof Array)for(let i=0;i<provider.length;i++)recursivelyProcessProviders(records,provider[i]);else{if(\"function\"==typeof provider)throw staticError(\"Function/Class not supported\",provider);if(!provider||\"object\"!=typeof provider||!provider.provide)throw staticError(\"Unexpected provider\",provider);{let token=resolveForwardRef(provider.provide);const resolvedProvider=function(provider){const deps=function(provider){let deps=EMPTY;const providerDeps=provider.deps;if(providerDeps&&providerDeps.length){deps=[];for(let i=0;i<providerDeps.length;i++){let options=6,token=resolveForwardRef(providerDeps[i]);if(token instanceof Array)for(let j=0,annotations=token;j<annotations.length;j++){const annotation=annotations[j];annotation instanceof Optional||annotation==Optional?options|=1:annotation instanceof SkipSelf||annotation==SkipSelf?options&=-3:annotation instanceof Self||annotation==Self?options&=-5:token=annotation instanceof Inject?annotation.token:resolveForwardRef(annotation)}deps.push({token:token,options:options})}}else if(provider.useExisting)deps=[{token:resolveForwardRef(provider.useExisting),options:6}];else if(!(providerDeps||USE_VALUE in provider))throw staticError(\"'deps' required\",provider);return deps}(provider);let fn=IDENT,value=EMPTY,useNew=!1,provide=resolveForwardRef(provider.provide);if(USE_VALUE in provider)value=provider.useValue;else if(provider.useFactory)fn=provider.useFactory;else if(provider.useExisting);else if(provider.useClass)useNew=!0,fn=resolveForwardRef(provider.useClass);else{if(\"function\"!=typeof provide)throw staticError(\"StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable\",provider);useNew=!0,fn=provide}return{deps:deps,fn:fn,useNew:useNew,value:value}}(provider);if(!0===provider.multi){let multiProvider=records.get(token);if(multiProvider){if(multiProvider.fn!==MULTI_PROVIDER_FN)throw multiProviderMixError(token)}else records.set(token,multiProvider={token:provider.provide,deps:[],useNew:!1,fn:MULTI_PROVIDER_FN,value:EMPTY});multiProvider.deps.push({token:token=provider,options:6})}const record=records.get(token);if(record&&record.fn==MULTI_PROVIDER_FN)throw multiProviderMixError(token);records.set(token,resolvedProvider)}}}(records,providers)}get(token,notFoundValue,flags=InjectFlags.Default){const record=this._records.get(token);try{return function tryResolveToken(token,record,records,parent,notFoundValue,flags){try{return function(token,record,records,parent,notFoundValue,flags){let value;if(!record||flags&InjectFlags.SkipSelf)flags&InjectFlags.Self||(value=parent.get(token,notFoundValue,InjectFlags.Default));else{if((value=record.value)==CIRCULAR$1)throw Error(NO_NEW_LINE$1+\"Circular dependency\");if(value===EMPTY){record.value=CIRCULAR$1;let obj=void 0,useNew=record.useNew,fn=record.fn,depRecords=record.deps,deps=EMPTY;if(depRecords.length){deps=[];for(let i=0;i<depRecords.length;i++){const depRecord=depRecords[i],options=depRecord.options,childRecord=2&options?records.get(depRecord.token):void 0;deps.push(tryResolveToken(depRecord.token,childRecord,records,childRecord||4&options?parent:Injector.NULL,1&options?null:Injector.THROW_IF_NOT_FOUND,InjectFlags.Default))}}record.value=value=useNew?new fn(...deps):fn.apply(obj,deps)}}return value}(token,record,records,parent,notFoundValue,flags)}catch(e){throw e instanceof Error||(e=new Error(e)),(e[NG_TEMP_TOKEN_PATH]=e[NG_TEMP_TOKEN_PATH]||[]).unshift(token),record&&record.value==CIRCULAR$1&&(record.value=EMPTY),e}}(token,record,this._records,this.parent,notFoundValue,flags)}catch(e){return function(e,token,injectorErrorName,source){const tokenPath=e[NG_TEMP_TOKEN_PATH];throw token[SOURCE]&&tokenPath.unshift(token[SOURCE]),e.message=formatError(\"\\n\"+e.message,tokenPath,\"StaticInjectorError\",source),e[NG_TOKEN_PATH]=tokenPath,e[NG_TEMP_TOKEN_PATH]=null,e}(e,token,0,this.source)}}toString(){const tokens=[];return this._records.forEach((v,token)=>tokens.push(stringify(token))),`StaticInjector[${tokens.join(\", \")}]`}}function multiProviderMixError(token){return staticError(\"Cannot mix multi providers and regular providers\",token)}function staticError(text,obj){return new Error(formatError(text,obj,\"StaticInjectorError\"))}const ANALYZE_FOR_ENTRY_COMPONENTS=new InjectionToken(\"AnalyzeForEntryComponents\");let _symbolIterator=null;function core_getSymbolIterator(){if(!_symbolIterator){const Symbol=_global.Symbol;if(Symbol&&Symbol.iterator)_symbolIterator=Symbol.iterator;else{const keys=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<keys.length;++i){const key=keys[i];\"entries\"!==key&&\"size\"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}}}return _symbolIterator}function looseIdentical(a,b){return a===b||\"number\"==typeof a&&\"number\"==typeof b&&isNaN(a)&&isNaN(b)}function devModeEqual$1(a,b){const isListLikeIterableA=isListLikeIterable$1(a),isListLikeIterableB=isListLikeIterable$1(b);if(isListLikeIterableA&&isListLikeIterableB)return function(a,b,comparator){const iterator1=a[core_getSymbolIterator()](),iterator2=b[core_getSymbolIterator()]();for(;;){const item1=iterator1.next(),item2=iterator2.next();if(item1.done&&item2.done)return!0;if(item1.done||item2.done)return!1;if(!comparator(item1.value,item2.value))return!1}}(a,b,devModeEqual$1);{const isAObject=a&&(\"object\"==typeof a||\"function\"==typeof a),isBObject=b&&(\"object\"==typeof b||\"function\"==typeof b);return!(isListLikeIterableA||!isAObject||isListLikeIterableB||!isBObject)||looseIdentical(a,b)}}class WrappedValue{constructor(value){this.wrapped=value}static wrap(value){return new WrappedValue(value)}static unwrap(value){return WrappedValue.isWrapped(value)?value.wrapped:value}static isWrapped(value){return value instanceof WrappedValue}}function isListLikeIterable$1(obj){return!!isJsObject$1(obj)&&(Array.isArray(obj)||!(obj instanceof Map)&&core_getSymbolIterator()in obj)}function isJsObject$1(o){return null!==o&&(\"function\"==typeof o||\"object\"==typeof o)}function core_isPromise(obj){return!!obj&&\"function\"==typeof obj.then}function isObservable(obj){return!!obj&&\"function\"==typeof obj.subscribe}class SimpleChange{constructor(previousValue,currentValue,firstChange){this.previousValue=previousValue,this.currentValue=currentValue,this.firstChange=firstChange}isFirstChange(){return this.firstChange}}class ComponentRef{}class ComponentFactory{}function noComponentFactoryError(component){const error=Error(`No component factory found for ${stringify(component)}. Did you add it to @NgModule.entryComponents?`);return error[ERROR_COMPONENT]=component,error}const ERROR_COMPONENT=\"ngComponent\";class _NullComponentFactoryResolver{resolveComponentFactory(component){throw noComponentFactoryError(component)}}let ComponentFactoryResolver=(()=>{class ComponentFactoryResolver{}return ComponentFactoryResolver.NULL=new _NullComponentFactoryResolver,ComponentFactoryResolver})();class CodegenComponentFactoryResolver{constructor(factories,_parent,_ngModule){this._parent=_parent,this._ngModule=_ngModule,this._factories=new Map;for(let i=0;i<factories.length;i++){const factory=factories[i];this._factories.set(factory.componentType,factory)}}resolveComponentFactory(component){let factory=this._factories.get(component);if(!factory&&this._parent&&(factory=this._parent.resolveComponentFactory(component)),!factory)throw noComponentFactoryError(component);return new ComponentFactoryBoundToModule(factory,this._ngModule)}}class ComponentFactoryBoundToModule extends ComponentFactory{constructor(factory,ngModule){super(),this.factory=factory,this.ngModule=ngModule,this.selector=factory.selector,this.componentType=factory.componentType,this.ngContentSelectors=factory.ngContentSelectors,this.inputs=factory.inputs,this.outputs=factory.outputs}create(injector,projectableNodes,rootSelectorOrNode,ngModule){return this.factory.create(injector,projectableNodes,rootSelectorOrNode,ngModule||this.ngModule)}}function core_noop(...args){}let ElementRef=(()=>{class ElementRef{constructor(nativeElement){this.nativeElement=nativeElement}}return ElementRef.__NG_ELEMENT_ID__=()=>SWITCH_ELEMENT_REF_FACTORY(ElementRef),ElementRef})();const SWITCH_ELEMENT_REF_FACTORY=core_noop;class Renderer{}class RendererFactory2{}const RendererStyleFlags2=function(){var RendererStyleFlags2={Important:1,DashCase:2};return RendererStyleFlags2[RendererStyleFlags2.Important]=\"Important\",RendererStyleFlags2[RendererStyleFlags2.DashCase]=\"DashCase\",RendererStyleFlags2}();let Renderer2=(()=>{class Renderer2{}return Renderer2.__NG_ELEMENT_ID__=()=>SWITCH_RENDERER2_FACTORY(),Renderer2})();const SWITCH_RENDERER2_FACTORY=core_noop;class Version{constructor(full){this.full=full,this.major=full.split(\".\")[0],this.minor=full.split(\".\")[1],this.patch=full.split(\".\").slice(2).join(\".\")}}const VERSION=new Version(\"8.2.10\");class DefaultIterableDifferFactory{constructor(){}supports(obj){return isListLikeIterable$1(obj)}create(trackByFn){return new DefaultIterableDiffer(trackByFn)}}const trackByIdentity=(index,item)=>item;class DefaultIterableDiffer{constructor(trackByFn){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=trackByFn||trackByIdentity}forEachItem(fn){let record;for(record=this._itHead;null!==record;record=record._next)fn(record)}forEachOperation(fn){let nextIt=this._itHead,nextRemove=this._removalsHead,addRemoveOffset=0,moveOffsets=null;for(;nextIt||nextRemove;){const record=!nextRemove||nextIt&&nextIt.currentIndex<getPreviousIndex(nextRemove,addRemoveOffset,moveOffsets)?nextIt:nextRemove,adjPreviousIndex=getPreviousIndex(record,addRemoveOffset,moveOffsets),currentIndex=record.currentIndex;if(record===nextRemove)addRemoveOffset--,nextRemove=nextRemove._nextRemoved;else if(nextIt=nextIt._next,null==record.previousIndex)addRemoveOffset++;else{moveOffsets||(moveOffsets=[]);const localMovePreviousIndex=adjPreviousIndex-addRemoveOffset,localCurrentIndex=currentIndex-addRemoveOffset;if(localMovePreviousIndex!=localCurrentIndex){for(let i=0;i<localMovePreviousIndex;i++){const offset=i<moveOffsets.length?moveOffsets[i]:moveOffsets[i]=0,index=offset+i;localCurrentIndex<=index&&index<localMovePreviousIndex&&(moveOffsets[i]=offset+1)}moveOffsets[record.previousIndex]=localCurrentIndex-localMovePreviousIndex}}adjPreviousIndex!==currentIndex&&fn(record,adjPreviousIndex,currentIndex)}}forEachPreviousItem(fn){let record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachMovedItem(fn){let record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}forEachIdentityChange(fn){let record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)}diff(collection){if(null==collection&&(collection=[]),!isListLikeIterable$1(collection))throw new Error(`Error trying to diff '${stringify(collection)}'. Only arrays and iterables are allowed`);return this.check(collection)?this:null}onDestroy(){}check(collection){this._reset();let index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(Array.isArray(collection)){this.length=collection.length;for(let index=0;index<this.length;index++)itemTrackBy=this._trackByFn(index,item=collection[index]),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next}else index=0,function(obj,fn){if(Array.isArray(obj))for(let i=0;i<obj.length;i++)fn(obj[i]);else{const iterator=obj[core_getSymbolIterator()]();let item;for(;!(item=iterator.next()).done;)fn(item.value)}}(collection,item=>{itemTrackBy=this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this.length=index;return this._truncate(record),this.collection=collection,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let record,nextRecord;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=nextRecord)record.previousIndex=record.currentIndex,nextRecord=record._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(record,item,itemTrackBy,index){let previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),null!==(record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):null!==(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):record=this._addAfter(new IterableChangeRecord_(item,itemTrackBy),previousRecord,index),record}_verifyReinsertion(record,item,itemTrackBy,index){let reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record}_truncate(record){for(;null!==record;){const nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);const prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_moveAfter(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_addAfter(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),this._additionsTail=null===this._additionsTail?this._additionsHead=record:this._additionsTail._nextAdded=record,record}_insertAfter(record,prevRecord,index){const next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record}_remove(record){return this._addToRemovals(this._unlink(record))}_unlink(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);const prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record}_addToMoves(record,toIndex){return record.previousIndex===toIndex?record:(this._movesTail=null===this._movesTail?this._movesHead=record:this._movesTail._nextMoved=record,record)}_addToRemovals(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record}_addIdentityChange(record,item){return record.item=item,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=record:this._identityChangesTail._nextIdentityChange=record,record}}class IterableChangeRecord_{constructor(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _DuplicateItemRecordList{constructor(){this._head=null,this._tail=null}add(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)}get(trackById,atOrAfterIndex){let record;for(record=this._head;null!==record;record=record._nextDup)if((null===atOrAfterIndex||atOrAfterIndex<=record.currentIndex)&&looseIdentical(record.trackById,trackById))return record;return null}remove(record){const prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head}}class _DuplicateMap{constructor(){this.map=new Map}put(record){const key=record.trackById;let duplicates=this.map.get(key);duplicates||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)}get(trackById,atOrAfterIndex){const recordList=this.map.get(trackById);return recordList?recordList.get(trackById,atOrAfterIndex):null}remove(record){const key=record.trackById;return this.map.get(key).remove(record)&&this.map.delete(key),record}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function getPreviousIndex(item,addRemoveOffset,moveOffsets){const previousIndex=item.previousIndex;if(null===previousIndex)return previousIndex;let moveOffset=0;return moveOffsets&&previousIndex<moveOffsets.length&&(moveOffset=moveOffsets[previousIndex]),previousIndex+addRemoveOffset+moveOffset}class DefaultKeyValueDifferFactory{constructor(){}supports(obj){return obj instanceof Map||isJsObject$1(obj)}create(){return new DefaultKeyValueDiffer}}class DefaultKeyValueDiffer{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(fn){let record;for(record=this._mapHead;null!==record;record=record._next)fn(record)}forEachPreviousItem(fn){let record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)}forEachChangedItem(fn){let record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}diff(map){if(map){if(!(map instanceof Map||isJsObject$1(map)))throw new Error(`Error trying to diff '${stringify(map)}'. Only maps and objects are allowed`)}else map=new Map;return this.check(map)?this:null}onDestroy(){}check(map){this._reset();let insertBefore=this._mapHead;if(this._appendAfter=null,this._forEach(map,(value,key)=>{if(insertBefore&&insertBefore.key===key)this._maybeAddToChanges(insertBefore,value),this._appendAfter=insertBefore,insertBefore=insertBefore._next;else{const record=this._getOrCreateRecordForKey(key,value);insertBefore=this._insertBeforeOrAppend(insertBefore,record)}}),insertBefore){insertBefore._prev&&(insertBefore._prev._next=null),this._removalsHead=insertBefore;for(let record=insertBefore;null!==record;record=record._nextRemoved)record===this._mapHead&&(this._mapHead=null),this._records.delete(record.key),record._nextRemoved=record._next,record.previousValue=record.currentValue,record.currentValue=null,record._prev=null,record._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(before,record){if(before){const prev=before._prev;return record._next=before,record._prev=prev,before._prev=record,prev&&(prev._next=record),before===this._mapHead&&(this._mapHead=record),this._appendAfter=before,before}return this._appendAfter?(this._appendAfter._next=record,record._prev=this._appendAfter):this._mapHead=record,this._appendAfter=record,null}_getOrCreateRecordForKey(key,value){if(this._records.has(key)){const record=this._records.get(key);this._maybeAddToChanges(record,value);const prev=record._prev,next=record._next;return prev&&(prev._next=next),next&&(next._prev=prev),record._next=null,record._prev=null,record}const record=new KeyValueChangeRecord_(key);return this._records.set(key,record),record.currentValue=value,this._addToAdditions(record),record}_reset(){if(this.isDirty){let record;for(this._previousMapHead=this._mapHead,record=this._previousMapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(record,newValue){looseIdentical(newValue,record.currentValue)||(record.previousValue=record.currentValue,record.currentValue=newValue,this._addToChanges(record))}_addToAdditions(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)}_addToChanges(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)}_forEach(obj,fn){obj instanceof Map?obj.forEach(fn):Object.keys(obj).forEach(k=>fn(obj[k],k))}}class KeyValueChangeRecord_{constructor(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let IterableDiffers=(()=>{class IterableDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(null!=parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new IterableDiffers(factories)}static extend(factories){return{provide:IterableDiffers,useFactory:parent=>{if(!parent)throw new Error(\"Cannot extend IterableDiffers without a parent injector\");return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new SkipSelf,new Optional]]}}find(iterable){const factory=this.factories.find(f=>f.supports(iterable));if(null!=factory)return factory;throw new Error(`Cannot find a differ supporting object '${iterable}' of type '${type=iterable,type.name||typeof type}'`);var type}}return IterableDiffers.ngInjectableDef=ɵɵdefineInjectable({token:IterableDiffers,providedIn:\"root\",factory:()=>new IterableDiffers([new DefaultIterableDifferFactory])}),IterableDiffers})(),KeyValueDiffers=(()=>{class KeyValueDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new KeyValueDiffers(factories)}static extend(factories){return{provide:KeyValueDiffers,useFactory:parent=>{if(!parent)throw new Error(\"Cannot extend KeyValueDiffers without a parent injector\");return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new SkipSelf,new Optional]]}}find(kv){const factory=this.factories.find(f=>f.supports(kv));if(factory)return factory;throw new Error(`Cannot find a differ supporting object '${kv}'`)}}return KeyValueDiffers.ngInjectableDef=ɵɵdefineInjectable({token:KeyValueDiffers,providedIn:\"root\",factory:()=>new KeyValueDiffers([new DefaultKeyValueDifferFactory])}),KeyValueDiffers})();const keyValDiff=[new DefaultKeyValueDifferFactory],defaultIterableDiffers=new IterableDiffers([new DefaultIterableDifferFactory]),defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff);let TemplateRef=(()=>{class TemplateRef{}return TemplateRef.__NG_ELEMENT_ID__=()=>SWITCH_TEMPLATE_REF_FACTORY(TemplateRef,ElementRef),TemplateRef})();const SWITCH_TEMPLATE_REF_FACTORY=core_noop;let ViewContainerRef=(()=>{class ViewContainerRef{}return ViewContainerRef.__NG_ELEMENT_ID__=()=>SWITCH_VIEW_CONTAINER_REF_FACTORY(ViewContainerRef,ElementRef),ViewContainerRef})();const SWITCH_VIEW_CONTAINER_REF_FACTORY=core_noop;function expressionChangedAfterItHasBeenCheckedError(context,oldValue,currValue,isFirstCheck){let msg=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${oldValue}'. Current value: '${currValue}'.`;return isFirstCheck&&(msg+=\" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?\"),function(msg,context){const err=new Error(msg);return _addDebugContext(err,context),err}(msg,context)}function _addDebugContext(err,context){err[ERROR_DEBUG_CONTEXT]=context,err[ERROR_LOGGER]=context.logError.bind(context)}function viewDestroyedError(action){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${action}`)}function shiftInitState(view,priorInitState,newInitState){const state=view.state,initState=1792&state;return initState===priorInitState?(view.state=-1793&state|newInitState,view.initIndex=-1,!0):initState===newInitState}function shouldCallLifecycleInitHook(view,initState,index){return(1792&view.state)===initState&&view.initIndex<=index&&(view.initIndex=index+1,!0)}function asTextData(view,index){return view.nodes[index]}function asElementData(view,index){return view.nodes[index]}function asProviderData(view,index){return view.nodes[index]}function asPureExpressionData(view,index){return view.nodes[index]}function asQueryList(view,index){return view.nodes[index]}const Services={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},NOOP=()=>{},_tokenKeyCache=new Map;function tokenKey(token){let key=_tokenKeyCache.get(token);return key||(key=stringify(token)+\"_\"+_tokenKeyCache.size,_tokenKeyCache.set(token,key)),key}const UNDEFINED_RENDERER_TYPE_ID=\"$$undefined\",EMPTY_RENDERER_TYPE_ID=\"$$empty\";function createRendererType2(values){return{id:UNDEFINED_RENDERER_TYPE_ID,styles:values.styles,encapsulation:values.encapsulation,data:values.data}}let _renderCompCount$1=0;function checkBinding(view,def,bindingIdx,value){return!(!(2&view.state)&&looseIdentical(view.oldValues[def.bindingIndex+bindingIdx],value))}function checkAndUpdateBinding(view,def,bindingIdx,value){return!!checkBinding(view,def,bindingIdx,value)&&(view.oldValues[def.bindingIndex+bindingIdx]=value,!0)}function checkBindingNoChanges(view,def,bindingIdx,value){const oldValue=view.oldValues[def.bindingIndex+bindingIdx];if(1&view.state||!devModeEqual$1(oldValue,value)){const bindingName=def.bindings[bindingIdx].name;throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,def.nodeIndex),`${bindingName}: ${oldValue}`,`${bindingName}: ${value}`,0!=(1&view.state))}}function markParentViewsForCheck(view){let currView=view;for(;currView;)2&currView.def.flags&&(currView.state|=8),currView=currView.viewContainerParent||currView.parent}function markParentViewsForCheckProjectedViews(view,endView){let currView=view;for(;currView&&currView!==endView;)currView.state|=64,currView=currView.viewContainerParent||currView.parent}function core_dispatchEvent(view,nodeIndex,eventName,event){try{return markParentViewsForCheck(33554432&view.def.nodes[nodeIndex].flags?asElementData(view,nodeIndex).componentView:view),Services.handleEvent(view,nodeIndex,eventName,event)}catch(e){view.root.errorHandler.handleError(e)}}function declaredViewContainer(view){return view.parent?asElementData(view.parent,view.parentNodeDef.nodeIndex):null}function viewParentEl(view){return view.parent?view.parentNodeDef.parent:null}function renderNode(view,def){switch(201347067&def.flags){case 1:return asElementData(view,def.nodeIndex).renderElement;case 2:return asTextData(view,def.nodeIndex).renderText}}function isComponentView(view){return!!view.parent&&!!(32768&view.parentNodeDef.flags)}function isEmbeddedView(view){return!(!view.parent||32768&view.parentNodeDef.flags)}function filterQueryId(queryId){return 1<<queryId%32}function splitMatchedQueriesDsl(matchedQueriesDsl){const matchedQueries={};let matchedQueryIds=0;const references={};return matchedQueriesDsl&&matchedQueriesDsl.forEach(([queryId,valueType])=>{\"number\"==typeof queryId?(matchedQueries[queryId]=valueType,matchedQueryIds|=filterQueryId(queryId)):references[queryId]=valueType}),{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}}function splitDepsDsl(deps,sourceName){return deps.map(value=>{let token,flags;return Array.isArray(value)?[flags,token]=value:(flags=0,token=value),token&&(\"function\"==typeof token||\"object\"==typeof token)&&sourceName&&Object.defineProperty(token,SOURCE,{value:sourceName,configurable:!0}),{flags:flags,token:token,tokenKey:tokenKey(token)}})}function getParentRenderElement(view,renderHost,def){let renderParent=def.renderParent;return renderParent?0==(1&renderParent.flags)||0==(33554432&renderParent.flags)||renderParent.element.componentRendererType&&renderParent.element.componentRendererType.encapsulation===ViewEncapsulation.Native?asElementData(view,def.renderParent.nodeIndex).renderElement:void 0:renderHost}const DEFINITION_CACHE=new WeakMap;function resolveDefinition(factory){let value=DEFINITION_CACHE.get(factory);return value||((value=factory(()=>NOOP)).factory=factory,DEFINITION_CACHE.set(factory,value)),value}function visitRootRenderNodes(view,action,parentNode,nextSibling,target){3===action&&(parentNode=view.renderer.parentNode(renderNode(view,view.def.lastRenderRootNode))),visitSiblingRenderNodes(view,action,0,view.def.nodes.length-1,parentNode,nextSibling,target)}function visitSiblingRenderNodes(view,action,startIndex,endIndex,parentNode,nextSibling,target){for(let i=startIndex;i<=endIndex;i++){const nodeDef=view.def.nodes[i];11&nodeDef.flags&&visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}}function visitProjectedRenderNodes(view,ngContentIndex,action,parentNode,nextSibling,target){let compView=view;for(;compView&&!isComponentView(compView);)compView=compView.parent;const hostView=compView.parent,hostElDef=viewParentEl(compView),endIndex=hostElDef.nodeIndex+hostElDef.childCount;for(let i=hostElDef.nodeIndex+1;i<=endIndex;i++){const nodeDef=hostView.def.nodes[i];nodeDef.ngContentIndex===ngContentIndex&&visitRenderNode(hostView,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}if(!hostView.parent){const projectedNodes=view.root.projectableNodes[ngContentIndex];if(projectedNodes)for(let i=0;i<projectedNodes.length;i++)execRenderNodeAction(view,projectedNodes[i],action,parentNode,nextSibling,target)}}function visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target){if(8&nodeDef.flags)visitProjectedRenderNodes(view,nodeDef.ngContent.index,action,parentNode,nextSibling,target);else{const rn=renderNode(view,nodeDef);if(3===action&&33554432&nodeDef.flags&&48&nodeDef.bindingFlags?(16&nodeDef.bindingFlags&&execRenderNodeAction(view,rn,action,parentNode,nextSibling,target),32&nodeDef.bindingFlags&&execRenderNodeAction(asElementData(view,nodeDef.nodeIndex).componentView,rn,action,parentNode,nextSibling,target)):execRenderNodeAction(view,rn,action,parentNode,nextSibling,target),16777216&nodeDef.flags){const embeddedViews=asElementData(view,nodeDef.nodeIndex).viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++)visitRootRenderNodes(embeddedViews[k],action,parentNode,nextSibling,target)}1&nodeDef.flags&&!nodeDef.element.name&&visitSiblingRenderNodes(view,action,nodeDef.nodeIndex+1,nodeDef.nodeIndex+nodeDef.childCount,parentNode,nextSibling,target)}}function execRenderNodeAction(view,renderNode,action,parentNode,nextSibling,target){const renderer=view.renderer;switch(action){case 1:renderer.appendChild(parentNode,renderNode);break;case 2:renderer.insertBefore(parentNode,renderNode,nextSibling);break;case 3:renderer.removeChild(parentNode,renderNode);break;case 0:target.push(renderNode)}}const NS_PREFIX_RE=/^:([^:]+):(.+)$/;function splitNamespace(name){if(\":\"===name[0]){const match=name.match(NS_PREFIX_RE);return[match[1],match[2]]}return[\"\",name]}function calcBindingFlags(bindings){let flags=0;for(let i=0;i<bindings.length;i++)flags|=bindings[i].flags;return flags}function inlineInterpolate(valueCount,c0,a1,c1,a2,c2,a3,c3,a4,c4,a5,c5,a6,c6,a7,c7,a8,c8,a9,c9){switch(valueCount){case 1:return c0+_toStringWithNull(a1)+c1;case 2:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2;case 3:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3;case 4:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4;case 5:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5;case 6:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6;case 7:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7;case 8:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8;case 9:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8+_toStringWithNull(a9)+c9;default:throw new Error(\"Does not support more than 9 expressions\")}}function _toStringWithNull(v){return null!=v?v.toString():\"\"}const UNDEFINED_VALUE=new Object,InjectorRefTokenKey=tokenKey(Injector),INJECTORRefTokenKey=tokenKey(INJECTOR),NgModuleRefTokenKey=tokenKey(NgModuleRef);function moduleProvideDef(flags,token,value,deps){return value=resolveForwardRef(value),{index:-1,deps:splitDepsDsl(deps,stringify(token)),flags:flags,token:token,value:value}}function resolveNgModuleDep(data,depDef,notFoundValue=Injector.THROW_IF_NOT_FOUND){const former=setCurrentInjector(data);try{if(8&depDef.flags)return depDef.token;if(2&depDef.flags&&(notFoundValue=null),1&depDef.flags)return data._parent.get(depDef.token,notFoundValue);const tokenKey=depDef.tokenKey;switch(tokenKey){case InjectorRefTokenKey:case INJECTORRefTokenKey:case NgModuleRefTokenKey:return data}const providerDef=data._def.providersByKey[tokenKey];let injectableDef;if(providerDef){let providerInstance=data._providers[providerDef.index];return void 0===providerInstance&&(providerInstance=data._providers[providerDef.index]=_createProviderInstance(data,providerDef)),providerInstance===UNDEFINED_VALUE?void 0:providerInstance}if((injectableDef=getInjectableDef(depDef.token))&&(ngModule=data,null!=(def=injectableDef).providedIn&&(function(ngModule,scope){return ngModule._def.modules.indexOf(scope)>-1}(ngModule,def.providedIn)||\"root\"===def.providedIn&&ngModule._def.isRoot))){const index=data._providers.length;return data._def.providers[index]=data._def.providersByKey[depDef.tokenKey]={flags:5120,value:injectableDef.factory,deps:[],index:index,token:depDef.token},data._providers[index]=UNDEFINED_VALUE,data._providers[index]=_createProviderInstance(data,data._def.providersByKey[depDef.tokenKey])}return 4&depDef.flags?notFoundValue:data._parent.get(depDef.token,notFoundValue)}finally{setCurrentInjector(former)}var ngModule,def}function _createProviderInstance(ngModule,providerDef){let injectable;switch(201347067&providerDef.flags){case 512:injectable=function(ngModule,ctor,deps){const len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveNgModuleDep(ngModule,deps[0]));case 2:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:const depValues=new Array(len);for(let i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return new ctor(...depValues)}}(ngModule,providerDef.value,providerDef.deps);break;case 1024:injectable=function(ngModule,factory,deps){const len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveNgModuleDep(ngModule,deps[0]));case 2:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:const depValues=Array(len);for(let i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return factory(...depValues)}}(ngModule,providerDef.value,providerDef.deps);break;case 2048:injectable=resolveNgModuleDep(ngModule,providerDef.deps[0]);break;case 256:injectable=providerDef.value}return injectable===UNDEFINED_VALUE||null===injectable||\"object\"!=typeof injectable||131072&providerDef.flags||\"function\"!=typeof injectable.ngOnDestroy||(providerDef.flags|=131072),void 0===injectable?UNDEFINED_VALUE:injectable}function detachEmbeddedView(elementData,viewIndex){const embeddedViews=elementData.viewContainer._embeddedViews;if((null==viewIndex||viewIndex>=embeddedViews.length)&&(viewIndex=embeddedViews.length-1),viewIndex<0)return null;const view=embeddedViews[viewIndex];return view.viewContainerParent=null,removeFromArray(embeddedViews,viewIndex),Services.dirtyParentQueries(view),renderDetachView$1(view),view}function renderAttachEmbeddedView(elementData,prevView,view){const prevRenderNode=prevView?renderNode(prevView,prevView.def.lastRenderRootNode):elementData.renderElement,parentNode=view.renderer.parentNode(prevRenderNode),nextSibling=view.renderer.nextSibling(prevRenderNode);visitRootRenderNodes(view,2,parentNode,nextSibling,void 0)}function renderDetachView$1(view){visitRootRenderNodes(view,3,null,null,void 0)}const EMPTY_CONTEXT=new Object;function createComponentFactory(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors){return new ComponentFactory_(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors)}class ComponentFactory_ extends ComponentFactory{constructor(selector,componentType,viewDefFactory,_inputs,_outputs,ngContentSelectors){super(),this.selector=selector,this.componentType=componentType,this._inputs=_inputs,this._outputs=_outputs,this.ngContentSelectors=ngContentSelectors,this.viewDefFactory=viewDefFactory}get inputs(){const inputsArr=[],inputs=this._inputs;for(let propName in inputs)inputsArr.push({propName:propName,templateName:inputs[propName]});return inputsArr}get outputs(){const outputsArr=[];for(let propName in this._outputs)outputsArr.push({propName:propName,templateName:this._outputs[propName]});return outputsArr}create(injector,projectableNodes,rootSelectorOrNode,ngModule){if(!ngModule)throw new Error(\"ngModule should be provided\");const viewDef=resolveDefinition(this.viewDefFactory),componentNodeIndex=viewDef.nodes[0].element.componentProvider.nodeIndex,view=Services.createRootView(injector,projectableNodes||[],rootSelectorOrNode,viewDef,ngModule,EMPTY_CONTEXT),component=asProviderData(view,componentNodeIndex).instance;return rootSelectorOrNode&&view.renderer.setAttribute(asElementData(view,0).renderElement,\"ng-version\",VERSION.full),new ComponentRef_(view,new ViewRef_(view),component)}}class ComponentRef_ extends ComponentRef{constructor(_view,_viewRef,_component){super(),this._view=_view,this._viewRef=_viewRef,this._component=_component,this._elDef=this._view.def.nodes[0],this.hostView=_viewRef,this.changeDetectorRef=_viewRef,this.instance=_component}get location(){return new ElementRef(asElementData(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Injector_(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(callback){this._viewRef.onDestroy(callback)}}function createViewContainerData(view,elDef,elData){return new ViewContainerRef_(view,elDef,elData)}class ViewContainerRef_{constructor(_view,_elDef,_data){this._view=_view,this._elDef=_elDef,this._data=_data,this._embeddedViews=[]}get element(){return new ElementRef(this._data.renderElement)}get injector(){return new Injector_(this._view,this._elDef)}get parentInjector(){let view=this._view,elDef=this._elDef.parent;for(;!elDef&&view;)elDef=viewParentEl(view),view=view.parent;return view?new Injector_(view,elDef):new Injector_(this._view,null)}clear(){for(let i=this._embeddedViews.length-1;i>=0;i--){const view=detachEmbeddedView(this._data,i);Services.destroyView(view)}}get(index){const view=this._embeddedViews[index];if(view){const ref=new ViewRef_(view);return ref.attachToViewContainerRef(this),ref}return null}get length(){return this._embeddedViews.length}createEmbeddedView(templateRef,context,index){const viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef}createComponent(componentFactory,index,injector,projectableNodes,ngModuleRef){const contextInjector=injector||this.parentInjector;ngModuleRef||componentFactory instanceof ComponentFactoryBoundToModule||(ngModuleRef=contextInjector.get(NgModuleRef));const componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef}insert(viewRef,index){if(viewRef.destroyed)throw new Error(\"Cannot insert a destroyed View in a ViewContainer!\");const viewRef_=viewRef;return function(parentView,elementData,viewIndex,view){let embeddedViews=elementData.viewContainer._embeddedViews;null==viewIndex&&(viewIndex=embeddedViews.length),view.viewContainerParent=parentView,addToArray(embeddedViews,viewIndex,view),function(vcElementData,view){const dvcElementData=declaredViewContainer(view);if(!dvcElementData||dvcElementData===vcElementData||16&view.state)return;view.state|=16;let projectedViews=dvcElementData.template._projectedViews;projectedViews||(projectedViews=dvcElementData.template._projectedViews=[]),projectedViews.push(view),function(viewDef,nodeDef){if(4&nodeDef.flags)return;viewDef.nodeFlags|=4,nodeDef.flags|=4;let parentNodeDef=nodeDef.parent;for(;parentNodeDef;)parentNodeDef.childFlags|=4,parentNodeDef=parentNodeDef.parent}(view.parent.def,view.parentNodeDef)}(elementData,view),Services.dirtyParentQueries(view),renderAttachEmbeddedView(elementData,viewIndex>0?embeddedViews[viewIndex-1]:null,view)}(this._view,this._data,index,viewRef_._view),viewRef_.attachToViewContainerRef(this),viewRef}move(viewRef,currentIndex){if(viewRef.destroyed)throw new Error(\"Cannot move a destroyed View in a ViewContainer!\");const previousIndex=this._embeddedViews.indexOf(viewRef._view);return function(elementData,oldViewIndex,newViewIndex){const embeddedViews=elementData.viewContainer._embeddedViews,view=embeddedViews[oldViewIndex];removeFromArray(embeddedViews,oldViewIndex),null==newViewIndex&&(newViewIndex=embeddedViews.length),addToArray(embeddedViews,newViewIndex,view),Services.dirtyParentQueries(view),renderDetachView$1(view),renderAttachEmbeddedView(elementData,newViewIndex>0?embeddedViews[newViewIndex-1]:null,view)}(this._data,previousIndex,currentIndex),viewRef}indexOf(viewRef){return this._embeddedViews.indexOf(viewRef._view)}remove(index){const viewData=detachEmbeddedView(this._data,index);viewData&&Services.destroyView(viewData)}detach(index){const view=detachEmbeddedView(this._data,index);return view?new ViewRef_(view):null}}function createChangeDetectorRef(view){return new ViewRef_(view)}class ViewRef_{constructor(_view){this._view=_view,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(view){const renderNodes=[];return visitRootRenderNodes(view,0,void 0,void 0,renderNodes),renderNodes}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){markParentViewsForCheck(this._view)}detach(){this._view.state&=-5}detectChanges(){const fs=this._view.root.rendererFactory;fs.begin&&fs.begin();try{Services.checkAndUpdateView(this._view)}finally{fs.end&&fs.end()}}checkNoChanges(){Services.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(callback){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(callback)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Services.destroyView(this._view)}detachFromAppRef(){this._appRef=null,renderDetachView$1(this._view),Services.dirtyParentQueries(this._view)}attachToAppRef(appRef){if(this._viewContainerRef)throw new Error(\"This view is already attached to a ViewContainer!\");this._appRef=appRef}attachToViewContainerRef(vcRef){if(this._appRef)throw new Error(\"This view is already attached directly to the ApplicationRef!\");this._viewContainerRef=vcRef}}function createTemplateData(view,def){return new TemplateRef_(view,def)}class TemplateRef_ extends TemplateRef{constructor(_parentView,_def){super(),this._parentView=_parentView,this._def=_def}createEmbeddedView(context){return new ViewRef_(Services.createEmbeddedView(this._parentView,this._def,this._def.element.template,context))}get elementRef(){return new ElementRef(asElementData(this._parentView,this._def.nodeIndex).renderElement)}}function createInjector$1(view,elDef){return new Injector_(view,elDef)}class Injector_{constructor(view,elDef){this.view=view,this.elDef=elDef}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND){return Services.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:token,tokenKey:tokenKey(token)},notFoundValue)}}function nodeValue(view,index){const def=view.def.nodes[index];if(1&def.flags){const elData=asElementData(view,def.nodeIndex);return def.element.template?elData.template:elData.renderElement}if(2&def.flags)return asTextData(view,def.nodeIndex).renderText;if(20240&def.flags)return asProviderData(view,def.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${index}`)}function createRendererV1(view){return new RendererAdapter(view.renderer)}class RendererAdapter{constructor(delegate){this.delegate=delegate}selectRootElement(selectorOrNode){return this.delegate.selectRootElement(selectorOrNode)}createElement(parent,namespaceAndName){const[ns,name]=splitNamespace(namespaceAndName),el=this.delegate.createElement(name,ns);return parent&&this.delegate.appendChild(parent,el),el}createViewRoot(hostElement){return hostElement}createTemplateAnchor(parentElement){const comment=this.delegate.createComment(\"\");return parentElement&&this.delegate.appendChild(parentElement,comment),comment}createText(parentElement,value){const node=this.delegate.createText(value);return parentElement&&this.delegate.appendChild(parentElement,node),node}projectNodes(parentElement,nodes){for(let i=0;i<nodes.length;i++)this.delegate.appendChild(parentElement,nodes[i])}attachViewAfter(node,viewRootNodes){const parentElement=this.delegate.parentNode(node),nextSibling=this.delegate.nextSibling(node);for(let i=0;i<viewRootNodes.length;i++)this.delegate.insertBefore(parentElement,viewRootNodes[i],nextSibling)}detachView(viewRootNodes){for(let i=0;i<viewRootNodes.length;i++){const node=viewRootNodes[i],parentElement=this.delegate.parentNode(node);this.delegate.removeChild(parentElement,node)}}destroyView(hostElement,viewAllNodes){for(let i=0;i<viewAllNodes.length;i++)this.delegate.destroyNode(viewAllNodes[i])}listen(renderElement,name,callback){return this.delegate.listen(renderElement,name,callback)}listenGlobal(target,name,callback){return this.delegate.listen(target,name,callback)}setElementProperty(renderElement,propertyName,propertyValue){this.delegate.setProperty(renderElement,propertyName,propertyValue)}setElementAttribute(renderElement,namespaceAndName,attributeValue){const[ns,name]=splitNamespace(namespaceAndName);null!=attributeValue?this.delegate.setAttribute(renderElement,name,attributeValue,ns):this.delegate.removeAttribute(renderElement,name,ns)}setBindingDebugInfo(renderElement,propertyName,propertyValue){}setElementClass(renderElement,className,isAdd){isAdd?this.delegate.addClass(renderElement,className):this.delegate.removeClass(renderElement,className)}setElementStyle(renderElement,styleName,styleValue){null!=styleValue?this.delegate.setStyle(renderElement,styleName,styleValue):this.delegate.removeStyle(renderElement,styleName)}invokeElementMethod(renderElement,methodName,args){renderElement[methodName].apply(renderElement,args)}setText(renderNode,text){this.delegate.setValue(renderNode,text)}animate(){throw new Error(\"Renderer.animate is no longer supported!\")}}function createNgModuleRef(moduleType,parent,bootstrapComponents,def){return new NgModuleRef_(moduleType,parent,bootstrapComponents,def)}class NgModuleRef_{constructor(_moduleType,_parent,_bootstrapComponents,_def){this._moduleType=_moduleType,this._parent=_parent,this._bootstrapComponents=_bootstrapComponents,this._def=_def,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(data){const def=data._def,providers=data._providers=new Array(def.providers.length);for(let i=0;i<def.providers.length;i++){const provDef=def.providers[i];4096&provDef.flags||void 0===providers[i]&&(providers[i]=_createProviderInstance(data,provDef))}}(this)}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND,injectFlags=InjectFlags.Default){let flags=0;return injectFlags&InjectFlags.SkipSelf?flags|=1:injectFlags&InjectFlags.Self&&(flags|=4),resolveNgModuleDep(this,{token:token,tokenKey:tokenKey(token),flags:flags},notFoundValue)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ComponentFactoryResolver)}destroy(){if(this._destroyed)throw new Error(`The ng module ${stringify(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(ngModule,lifecycles){const def=ngModule._def,destroyed=new Set;for(let i=0;i<def.providers.length;i++)if(131072&def.providers[i].flags){const instance=ngModule._providers[i];if(instance&&instance!==UNDEFINED_VALUE){const onDestroy=instance.ngOnDestroy;\"function\"!=typeof onDestroy||destroyed.has(instance)||(onDestroy.apply(instance),destroyed.add(instance))}}}(this),this._destroyListeners.forEach(listener=>listener())}onDestroy(callback){this._destroyListeners.push(callback)}}const RendererV1TokenKey=tokenKey(Renderer),Renderer2TokenKey=tokenKey(Renderer2),ElementRefTokenKey=tokenKey(ElementRef),ViewContainerRefTokenKey=tokenKey(ViewContainerRef),TemplateRefTokenKey=tokenKey(TemplateRef),ChangeDetectorRefTokenKey=tokenKey(ChangeDetectorRef),InjectorRefTokenKey$1=tokenKey(Injector),INJECTORRefTokenKey$1=tokenKey(INJECTOR);function directiveDef(checkIndex,flags,matchedQueries,childCount,ctor,deps,props,outputs){const bindings=[];if(props)for(let prop in props){const[bindingIndex,nonMinifiedName]=props[prop];bindings[bindingIndex]={flags:8,name:prop,nonMinifiedName:nonMinifiedName,ns:null,securityContext:null,suffix:null}}const outputDefs=[];if(outputs)for(let propName in outputs)outputDefs.push({type:1,propName:propName,target:null,eventName:outputs[propName]});return _def(checkIndex,flags|=16384,matchedQueries,childCount,ctor,ctor,deps,bindings,outputDefs)}function providerDef(flags,matchedQueries,token,value,deps){return _def(-1,flags,matchedQueries,0,token,value,deps)}function _def(checkIndex,flags,matchedQueriesDsl,childCount,token,value,deps,bindings,outputs){const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);outputs||(outputs=[]),bindings||(bindings=[]),value=resolveForwardRef(value);const depDefs=splitDepsDsl(deps,stringify(token));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:-1,childCount:childCount,bindings:bindings,bindingFlags:calcBindingFlags(bindings),outputs:outputs,element:null,provider:{token:token,value:value,deps:depDefs},text:null,query:null,ngContent:null}}function createProviderInstance(view,def){return _createProviderInstance$1(view,def)}function createPipeInstance(view,def){let compView=view;for(;compView.parent&&!isComponentView(compView);)compView=compView.parent;return createClass(compView.parent,viewParentEl(compView),!0,def.provider.value,def.provider.deps)}function createDirectiveInstance(view,def){const instance=createClass(view,def.parent,(32768&def.flags)>0,def.provider.value,def.provider.deps);if(def.outputs.length)for(let i=0;i<def.outputs.length;i++){const output=def.outputs[i],outputObservable=instance[output.propName];if(!isObservable(outputObservable))throw new Error(`@Output ${output.propName} not initialized in '${instance.constructor.name}'.`);{const subscription=outputObservable.subscribe(eventHandlerClosure(view,def.parent.nodeIndex,output.eventName));view.disposables[def.outputIndex+i]=subscription.unsubscribe.bind(subscription)}}return instance}function eventHandlerClosure(view,index,eventName){return event=>core_dispatchEvent(view,index,eventName,event)}function _createProviderInstance$1(view,def){const allowPrivateServices=(8192&def.flags)>0,providerDef=def.provider;switch(201347067&def.flags){case 512:return createClass(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 1024:return function(view,elDef,allowPrivateServices,factory,deps){const len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:const depValues=Array(len);for(let i=0;i<len;i++)depValues[i]=resolveDep(view,elDef,allowPrivateServices,deps[i]);return factory(...depValues)}}(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 2048:return resolveDep(view,def.parent,allowPrivateServices,providerDef.deps[0]);case 256:return providerDef.value}}function createClass(view,elDef,allowPrivateServices,ctor,deps){const len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:const depValues=new Array(len);for(let i=0;i<len;i++)depValues[i]=resolveDep(view,elDef,allowPrivateServices,deps[i]);return new ctor(...depValues)}}const NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR={};function resolveDep(view,elDef,allowPrivateServices,depDef,notFoundValue=Injector.THROW_IF_NOT_FOUND){if(8&depDef.flags)return depDef.token;const startView=view;2&depDef.flags&&(notFoundValue=null);const tokenKey=depDef.tokenKey;tokenKey===ChangeDetectorRefTokenKey&&(allowPrivateServices=!(!elDef||!elDef.element.componentView)),elDef&&1&depDef.flags&&(allowPrivateServices=!1,elDef=elDef.parent);let searchView=view;for(;searchView;){if(elDef)switch(tokenKey){case RendererV1TokenKey:return createRendererV1(findCompView(searchView,elDef,allowPrivateServices));case Renderer2TokenKey:return findCompView(searchView,elDef,allowPrivateServices).renderer;case ElementRefTokenKey:return new ElementRef(asElementData(searchView,elDef.nodeIndex).renderElement);case ViewContainerRefTokenKey:return asElementData(searchView,elDef.nodeIndex).viewContainer;case TemplateRefTokenKey:if(elDef.element.template)return asElementData(searchView,elDef.nodeIndex).template;break;case ChangeDetectorRefTokenKey:return createChangeDetectorRef(findCompView(searchView,elDef,allowPrivateServices));case InjectorRefTokenKey$1:case INJECTORRefTokenKey$1:return createInjector$1(searchView,elDef);default:const providerDef=(allowPrivateServices?elDef.element.allProviders:elDef.element.publicProviders)[tokenKey];if(providerDef){let providerData=asProviderData(searchView,providerDef.nodeIndex);return providerData||(providerData={instance:_createProviderInstance$1(searchView,providerDef)},searchView.nodes[providerDef.nodeIndex]=providerData),providerData.instance}}allowPrivateServices=isComponentView(searchView),elDef=viewParentEl(searchView),searchView=searchView.parent,4&depDef.flags&&(searchView=null)}const value=startView.root.injector.get(depDef.token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:startView.root.ngModule.injector.get(depDef.token,notFoundValue)}function findCompView(view,elDef,allowPrivateServices){let compView;if(allowPrivateServices)compView=asElementData(view,elDef.nodeIndex).componentView;else for(compView=view;compView.parent&&!isComponentView(compView);)compView=compView.parent;return compView}function updateProp(view,providerData,def,bindingIdx,value,changes){if(32768&def.flags){const compView=asElementData(view,def.parent.nodeIndex).componentView;2&compView.def.flags&&(compView.state|=8)}if(providerData.instance[def.bindings[bindingIdx].name]=value,524288&def.flags){changes=changes||{};const oldValue=WrappedValue.unwrap(view.oldValues[def.bindingIndex+bindingIdx]);changes[def.bindings[bindingIdx].nonMinifiedName]=new SimpleChange(oldValue,value,0!=(2&view.state))}return view.oldValues[def.bindingIndex+bindingIdx]=value,changes}function callLifecycleHooksChildrenFirst(view,lifecycles){if(!(view.def.nodeFlags&lifecycles))return;const nodes=view.def.nodes;let initIndex=0;for(let i=0;i<nodes.length;i++){const nodeDef=nodes[i];let parent=nodeDef.parent;for(!parent&&nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),0==(nodeDef.childFlags&lifecycles)&&(i+=nodeDef.childCount);parent&&1&parent.flags&&i===parent.nodeIndex+parent.childCount;)parent.directChildFlags&lifecycles&&(initIndex=callElementProvidersLifecycles(view,parent,lifecycles,initIndex)),parent=parent.parent}}function callElementProvidersLifecycles(view,elDef,lifecycles,initIndex){for(let i=elDef.nodeIndex+1;i<=elDef.nodeIndex+elDef.childCount;i++){const nodeDef=view.def.nodes[i];nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),i+=nodeDef.childCount}return initIndex}function callProviderLifecycles(view,index,lifecycles,initIndex){const providerData=asProviderData(view,index);if(!providerData)return;const provider=providerData.instance;provider&&(Services.setCurrentNode(view,index),1048576&lifecycles&&shouldCallLifecycleInitHook(view,512,initIndex)&&provider.ngAfterContentInit(),2097152&lifecycles&&provider.ngAfterContentChecked(),4194304&lifecycles&&shouldCallLifecycleInitHook(view,768,initIndex)&&provider.ngAfterViewInit(),8388608&lifecycles&&provider.ngAfterViewChecked(),131072&lifecycles&&provider.ngOnDestroy())}const SCHEDULER=new InjectionToken(\"SCHEDULER_TOKEN\",{providedIn:\"root\",factory:()=>defaultScheduler}),LOCALE_DATA={},LocaleDataIndex=function(){var LocaleDataIndex={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return LocaleDataIndex[LocaleDataIndex.LocaleId]=\"LocaleId\",LocaleDataIndex[LocaleDataIndex.DayPeriodsFormat]=\"DayPeriodsFormat\",LocaleDataIndex[LocaleDataIndex.DayPeriodsStandalone]=\"DayPeriodsStandalone\",LocaleDataIndex[LocaleDataIndex.DaysFormat]=\"DaysFormat\",LocaleDataIndex[LocaleDataIndex.DaysStandalone]=\"DaysStandalone\",LocaleDataIndex[LocaleDataIndex.MonthsFormat]=\"MonthsFormat\",LocaleDataIndex[LocaleDataIndex.MonthsStandalone]=\"MonthsStandalone\",LocaleDataIndex[LocaleDataIndex.Eras]=\"Eras\",LocaleDataIndex[LocaleDataIndex.FirstDayOfWeek]=\"FirstDayOfWeek\",LocaleDataIndex[LocaleDataIndex.WeekendRange]=\"WeekendRange\",LocaleDataIndex[LocaleDataIndex.DateFormat]=\"DateFormat\",LocaleDataIndex[LocaleDataIndex.TimeFormat]=\"TimeFormat\",LocaleDataIndex[LocaleDataIndex.DateTimeFormat]=\"DateTimeFormat\",LocaleDataIndex[LocaleDataIndex.NumberSymbols]=\"NumberSymbols\",LocaleDataIndex[LocaleDataIndex.NumberFormats]=\"NumberFormats\",LocaleDataIndex[LocaleDataIndex.CurrencySymbol]=\"CurrencySymbol\",LocaleDataIndex[LocaleDataIndex.CurrencyName]=\"CurrencyName\",LocaleDataIndex[LocaleDataIndex.Currencies]=\"Currencies\",LocaleDataIndex[LocaleDataIndex.PluralCase]=\"PluralCase\",LocaleDataIndex[LocaleDataIndex.ExtraData]=\"ExtraData\",LocaleDataIndex}(),u=void 0;var localeEn=[\"en\",[[\"a\",\"p\"],[\"AM\",\"PM\"],u],[[\"AM\",\"PM\"],u,u],[[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"]],u,[[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]],u,[[\"B\",\"A\"],[\"BC\",\"AD\"],[\"Before Christ\",\"Anno Domini\"]],0,[6,0],[\"M/d/yy\",\"MMM d, y\",\"MMMM d, y\",\"EEEE, MMMM d, y\"],[\"h:mm a\",\"h:mm:ss a\",\"h:mm:ss a z\",\"h:mm:ss a zzzz\"],[\"{1}, {0}\",u,\"{1} 'at' {0}\",u],[\".\",\",\",\";\",\"%\",\"+\",\"-\",\"E\",\"×\",\"‰\",\"∞\",\"NaN\",\":\"],[\"#,##0.###\",\"#,##0%\",\"¤#,##0.00\",\"#E0\"],\"$\",\"US Dollar\",{},function(n){let i=Math.floor(Math.abs(n)),v=n.toString().replace(/^[^.]*\\.?/,\"\").length;return 1===i&&0===v?1:5}];const DEFAULT_LOCALE_ID=\"en-US\";let LOCALE_ID=DEFAULT_LOCALE_ID;function setLocaleId(localeId){var msg;msg=\"Expected localeId to be defined\",null==localeId&&function(msg){throw new Error(`ASSERTION ERROR: ${msg}`)}(msg),\"string\"==typeof localeId&&(LOCALE_ID=localeId.toLowerCase().replace(/_/g,\"-\"))}class core_EventEmitter extends Subject_Subject{constructor(isAsync=!1){super(),this.__isAsync=isAsync}emit(value){super.next(value)}subscribe(generatorOrNext,error,complete){let schedulerFn,errorFn=err=>null,completeFn=()=>null;generatorOrNext&&\"object\"==typeof generatorOrNext?(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext.next(value))}:value=>{generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>generatorOrNext.error(err))}:err=>{generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>generatorOrNext.complete())}:()=>{generatorOrNext.complete()})):(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext(value))}:value=>{generatorOrNext(value)},error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>error(err))}:err=>{error(err)}),complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>complete())}:()=>{complete()}));const sink=super.subscribe(schedulerFn,errorFn,completeFn);return generatorOrNext instanceof Subscription_Subscription&&generatorOrNext.add(sink),sink}}function symbolIterator(){return this._results[core_getSymbolIterator()]()}class QueryList{constructor(){this.dirty=!0,this._results=[],this.changes=new core_EventEmitter,this.length=0;const symbol=core_getSymbolIterator(),proto=QueryList.prototype;proto[symbol]||(proto[symbol]=symbolIterator)}map(fn){return this._results.map(fn)}filter(fn){return this._results.filter(fn)}find(fn){return this._results.find(fn)}reduce(fn,init){return this._results.reduce(fn,init)}forEach(fn){this._results.forEach(fn)}some(fn){return this._results.some(fn)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(resultsTree){this._results=function flatten(list,dst){void 0===dst&&(dst=list);for(let i=0;i<list.length;i++){let item=list[i];Array.isArray(item)?(dst===list&&(dst=list.slice(0,i)),flatten(item,dst)):dst!==list&&dst.push(item)}return dst}(resultsTree),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const APP_INITIALIZER=new InjectionToken(\"Application Initializer\");class ApplicationInitStatus{constructor(appInits){this.appInits=appInits,this.initialized=!1,this.done=!1,this.donePromise=new Promise((res,rej)=>{this.resolve=res,this.reject=rej})}runInitializers(){if(this.initialized)return;const asyncInitPromises=[],complete=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const initResult=this.appInits[i]();core_isPromise(initResult)&&asyncInitPromises.push(initResult)}Promise.all(asyncInitPromises).then(()=>{complete()}).catch(e=>{this.reject(e)}),0===asyncInitPromises.length&&complete(),this.initialized=!0}}const APP_ID=new InjectionToken(\"AppId\");function _appIdRandomProviderFactory(){return`${_randomChar()}${_randomChar()}${_randomChar()}`}function _randomChar(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PLATFORM_INITIALIZER=new InjectionToken(\"Platform Initializer\"),PLATFORM_ID=new InjectionToken(\"Platform ID\"),APP_BOOTSTRAP_LISTENER=new InjectionToken(\"appBootstrapListener\");class Console{log(message){console.log(message)}warn(message){console.warn(message)}}const LOCALE_ID$1=new InjectionToken(\"LocaleId\"),ivyEnabled=!1;function _throwError(){throw new Error(\"Runtime compiler is not loaded\")}const Compiler_compileModuleSync=_throwError,Compiler_compileModuleAsync=_throwError,Compiler_compileModuleAndAllComponentsSync=_throwError,Compiler_compileModuleAndAllComponentsAsync=_throwError;class Compiler{constructor(){this.compileModuleSync=Compiler_compileModuleSync,this.compileModuleAsync=Compiler_compileModuleAsync,this.compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync,this.compileModuleAndAllComponentsAsync=Compiler_compileModuleAndAllComponentsAsync}clearCache(){}clearCacheFor(type){}getModuleId(moduleType){}}class CompilerFactory{}let trace,events;function detectWTF(){const wtf=_global.wtf;return!(!wtf||!(trace=wtf.trace)||(events=trace.events,0))}const wtfEnabled=detectWTF();function noopScope(arg0,arg1){return null}const wtfCreateScope=wtfEnabled?function(signature,flags=null){return events.createScope(signature,flags)}:(signature,flags)=>noopScope,wtfLeave=wtfEnabled?function(scope,returnValue){return trace.leaveScope(scope,returnValue),returnValue}:(s,r)=>r,core_promise=(()=>Promise.resolve(0))();function scheduleMicroTask(fn){\"undefined\"==typeof Zone?core_promise.then(()=>{fn&&fn.apply(null,null)}):Zone.current.scheduleMicroTask(\"scheduleMicrotask\",fn)}class NgZone{constructor({enableLongStackTrace:enableLongStackTrace=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter(!1),this.onMicrotaskEmpty=new core_EventEmitter(!1),this.onStable=new core_EventEmitter(!1),this.onError=new core_EventEmitter(!1),\"undefined\"==typeof Zone)throw new Error(\"In this configuration Angular requires Zone.js\");var zone;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),enableLongStackTrace&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(zone=this)._inner=zone._inner.fork({name:\"angular\",properties:{isAngularZone:!0},onInvokeTask:(delegate,current,target,task,applyThis,applyArgs)=>{try{return onEnter(zone),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{onLeave(zone)}},onInvoke:(delegate,current,target,callback,applyThis,applyArgs,source)=>{try{return onEnter(zone),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{onLeave(zone)}},onHasTask:(delegate,current,target,hasTaskState)=>{delegate.hasTask(target,hasTaskState),current===target&&(\"microTask\"==hasTaskState.change?(zone.hasPendingMicrotasks=hasTaskState.microTask,checkStable(zone)):\"macroTask\"==hasTaskState.change&&(zone.hasPendingMacrotasks=hasTaskState.macroTask))},onHandleError:(delegate,current,target,error)=>(delegate.handleError(target,error),zone.runOutsideAngular(()=>zone.onError.emit(error)),!1)})}static isInAngularZone(){return!0===Zone.current.get(\"isAngularZone\")}static assertInAngularZone(){if(!NgZone.isInAngularZone())throw new Error(\"Expected to be in Angular Zone, but it is not!\")}static assertNotInAngularZone(){if(NgZone.isInAngularZone())throw new Error(\"Expected to not be in Angular Zone, but it is!\")}run(fn,applyThis,applyArgs){return this._inner.run(fn,applyThis,applyArgs)}runTask(fn,applyThis,applyArgs,name){const zone=this._inner,task=zone.scheduleEventTask(\"NgZoneEvent: \"+name,fn,EMPTY_PAYLOAD,noop$1,noop$1);try{return zone.runTask(task,applyThis,applyArgs)}finally{zone.cancelTask(task)}}runGuarded(fn,applyThis,applyArgs){return this._inner.runGuarded(fn,applyThis,applyArgs)}runOutsideAngular(fn){return this._outer.run(fn)}}function noop$1(){}const EMPTY_PAYLOAD={};function checkStable(zone){if(0==zone._nesting&&!zone.hasPendingMicrotasks&&!zone.isStable)try{zone._nesting++,zone.onMicrotaskEmpty.emit(null)}finally{if(zone._nesting--,!zone.hasPendingMicrotasks)try{zone.runOutsideAngular(()=>zone.onStable.emit(null))}finally{zone.isStable=!0}}}function onEnter(zone){zone._nesting++,zone.isStable&&(zone.isStable=!1,zone.onUnstable.emit(null))}function onLeave(zone){zone._nesting--,checkStable(zone)}class NoopNgZone{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter,this.onMicrotaskEmpty=new core_EventEmitter,this.onStable=new core_EventEmitter,this.onError=new core_EventEmitter}run(fn){return fn()}runGuarded(fn){return fn()}runOutsideAngular(fn){return fn()}runTask(fn){return fn()}}class Testability{constructor(_ngZone){this._ngZone=_ngZone,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),_ngZone.run(()=>{this.taskTrackingZone=\"undefined\"==typeof Zone?null:Zone.current.get(\"TaskTrackingZone\")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error(\"pending async requests below zero\");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())scheduleMicroTask(()=>{for(;0!==this._callbacks.length;){let cb=this._callbacks.pop();clearTimeout(cb.timeoutId),cb.doneCb(this._didWork)}this._didWork=!1});else{let pending=this.getPendingTasks();this._callbacks=this._callbacks.filter(cb=>!cb.updateCb||!cb.updateCb(pending)||(clearTimeout(cb.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(cb,timeout,updateCb){let timeoutId=-1;timeout&&timeout>0&&(timeoutId=setTimeout(()=>{this._callbacks=this._callbacks.filter(cb=>cb.timeoutId!==timeoutId),cb(this._didWork,this.getPendingTasks())},timeout)),this._callbacks.push({doneCb:cb,timeoutId:timeoutId,updateCb:updateCb})}whenStable(doneCb,timeout,updateCb){if(updateCb&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is \"zone.js/dist/task-tracking.js\" loaded?');this.addCallback(doneCb,timeout,updateCb),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(using,provider,exactMatch){return[]}}class TestabilityRegistry{constructor(){this._applications=new Map,_testabilityGetter.addToWindow(this)}registerApplication(token,testability){this._applications.set(token,testability)}unregisterApplication(token){this._applications.delete(token)}unregisterAllApplications(){this._applications.clear()}getTestability(elem){return this._applications.get(elem)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(elem,findInAncestors=!0){return _testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)}}class _NoopGetTestability{addToWindow(registry){}findTestabilityInTree(registry,elem,findInAncestors){return null}}let _platform,_testabilityGetter=new _NoopGetTestability,compileNgModuleFactory=function(injector,options,moduleType){return injector.get(CompilerFactory).createCompiler([options]).compileModuleAsync(moduleType)},isBoundToModule=function(cf){return cf instanceof ComponentFactoryBoundToModule};const ALLOW_MULTIPLE_PLATFORMS=new InjectionToken(\"AllowMultipleToken\");class NgProbeToken{constructor(name,token){this.name=name,this.token=token}}function createPlatformFactory(parentPlatformFactory,name,providers=[]){const desc=`Platform: ${name}`,marker=new InjectionToken(desc);return(extraProviders=[])=>{let platform=getPlatform();if(!platform||platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))if(parentPlatformFactory)parentPlatformFactory(providers.concat(extraProviders).concat({provide:marker,useValue:!0}));else{const injectedProviders=providers.concat(extraProviders).concat({provide:marker,useValue:!0});!function(injector){if(_platform&&!_platform.destroyed&&!_platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))throw new Error(\"There can be only one platform. Destroy the previous one to create a new one.\");_platform=injector.get(PlatformRef);const inits=injector.get(PLATFORM_INITIALIZER,null);inits&&inits.forEach(init=>init())}(Injector.create({providers:injectedProviders,name:desc}))}return function(requiredToken){const platform=getPlatform();if(!platform)throw new Error(\"No platform exists!\");if(!platform.injector.get(requiredToken,null))throw new Error(\"A platform with a different configuration has been created. Please destroy it first.\");return platform}(marker)}}function getPlatform(){return _platform&&!_platform.destroyed?_platform:null}class PlatformRef{constructor(_injector){this._injector=_injector,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(moduleFactory,options){const ngZone=\"noop\"===(ngZoneOption=options?options.ngZone:void 0)?new NoopNgZone:(\"zone.js\"===ngZoneOption?void 0:ngZoneOption)||new NgZone({enableLongStackTrace:isDevMode()}),providers=[{provide:NgZone,useValue:ngZone}];var ngZoneOption;return ngZone.run(()=>{const ngZoneInjector=Injector.create({providers:providers,parent:this.injector,name:moduleFactory.moduleType.name}),moduleRef=moduleFactory.create(ngZoneInjector),exceptionHandler=moduleRef.injector.get(ErrorHandler,null);if(!exceptionHandler)throw new Error(\"No ErrorHandler. Is platform module (BrowserModule) included?\");return ivyEnabled&&setLocaleId(moduleRef.injector.get(LOCALE_ID$1,DEFAULT_LOCALE_ID)||DEFAULT_LOCALE_ID),moduleRef.onDestroy(()=>remove(this._modules,moduleRef)),ngZone.runOutsideAngular(()=>ngZone.onError.subscribe({next:error=>{exceptionHandler.handleError(error)}})),function(errorHandler,ngZone,callback){try{const result=callback();return core_isPromise(result)?result.catch(e=>{throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}):result}catch(e){throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}}(exceptionHandler,ngZone,()=>{const initStatus=moduleRef.injector.get(ApplicationInitStatus);return initStatus.runInitializers(),initStatus.donePromise.then(()=>(this._moduleDoBootstrap(moduleRef),moduleRef))})})}bootstrapModule(moduleType,compilerOptions=[]){const options=optionsReducer({},compilerOptions);return compileNgModuleFactory(this.injector,options,moduleType).then(moduleFactory=>this.bootstrapModuleFactory(moduleFactory,options))}_moduleDoBootstrap(moduleRef){const appRef=moduleRef.injector.get(core_ApplicationRef);if(moduleRef._bootstrapComponents.length>0)moduleRef._bootstrapComponents.forEach(f=>appRef.bootstrap(f));else{if(!moduleRef.instance.ngDoBootstrap)throw new Error(`The module ${stringify(moduleRef.instance.constructor)} was bootstrapped, but it does not declare \"@NgModule.bootstrap\" components nor a \"ngDoBootstrap\" method. `+\"Please define one of these.\");moduleRef.instance.ngDoBootstrap(appRef)}this._modules.push(moduleRef)}onDestroy(callback){this._destroyListeners.push(callback)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error(\"The platform has already been destroyed!\");this._modules.slice().forEach(module=>module.destroy()),this._destroyListeners.forEach(listener=>listener()),this._destroyed=!0}get destroyed(){return this._destroyed}}function optionsReducer(dst,objs){return Array.isArray(objs)?objs.reduce(optionsReducer,dst):Object.assign({},dst,objs)}let core_ApplicationRef=(()=>{class ApplicationRef{constructor(_zone,_console,_injector,_exceptionHandler,_componentFactoryResolver,_initStatus){this._zone=_zone,this._console=_console,this._injector=_injector,this._exceptionHandler=_exceptionHandler,this._componentFactoryResolver=_componentFactoryResolver,this._initStatus=_initStatus,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=isDevMode(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const isCurrentlyStable=new Observable_Observable(observer=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{observer.next(this._stable),observer.complete()})}),isStable=new Observable_Observable(observer=>{let stableSub;this._zone.runOutsideAngular(()=>{stableSub=this._zone.onStable.subscribe(()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,observer.next(!0))})})});const unstableSub=this._zone.onUnstable.subscribe(()=>{NgZone.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{observer.next(!1)}))});return()=>{stableSub.unsubscribe(),unstableSub.unsubscribe()}});this.isStable=function(...observables){let concurrent=Number.POSITIVE_INFINITY,scheduler=null,last=observables[observables.length-1];return isScheduler(last)?(scheduler=observables.pop(),observables.length>1&&\"number\"==typeof observables[observables.length-1]&&(concurrent=observables.pop())):\"number\"==typeof last&&(concurrent=observables.pop()),null===scheduler&&1===observables.length&&observables[0]instanceof Observable_Observable?observables[0]:mergeAll(concurrent)(fromArray(observables,scheduler))}(isCurrentlyStable,isStable.pipe(source=>refCount()(function(subjectOrSubjectFactory,selector){return function(source){let subjectFactory;subjectFactory=\"function\"==typeof subjectOrSubjectFactory?subjectOrSubjectFactory:function(){return subjectOrSubjectFactory};const connectable=Object.create(source,connectableObservableDescriptor);return connectable.source=source,connectable.subjectFactory=subjectFactory,connectable}}(shareSubjectFactory)(source))))}bootstrap(componentOrFactory,rootSelectorOrNode){if(!this._initStatus.done)throw new Error(\"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.\");let componentFactory;componentFactory=componentOrFactory instanceof ComponentFactory?componentOrFactory:this._componentFactoryResolver.resolveComponentFactory(componentOrFactory),this.componentTypes.push(componentFactory.componentType);const ngModule=isBoundToModule(componentFactory)?null:this._injector.get(NgModuleRef),compRef=componentFactory.create(Injector.NULL,[],rootSelectorOrNode||componentFactory.selector,ngModule);compRef.onDestroy(()=>{this._unloadComponent(compRef)});const testability=compRef.injector.get(Testability,null);return testability&&compRef.injector.get(TestabilityRegistry).registerApplication(compRef.location.nativeElement,testability),this._loadComponent(compRef),isDevMode()&&this._console.log(\"Angular is running in the development mode. Call enableProdMode() to enable the production mode.\"),compRef}tick(){if(this._runningTick)throw new Error(\"ApplicationRef.tick is called recursively\");const scope=ApplicationRef._tickScope();try{this._runningTick=!0;for(let view of this._views)view.detectChanges();if(this._enforceNoNewChanges)for(let view of this._views)view.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1,wtfLeave(scope)}}attachView(viewRef){const view=viewRef;this._views.push(view),view.attachToAppRef(this)}detachView(viewRef){const view=viewRef;remove(this._views,view),view.detachFromAppRef()}_loadComponent(componentRef){this.attachView(componentRef.hostView),this.tick(),this.components.push(componentRef),this._injector.get(APP_BOOTSTRAP_LISTENER,[]).concat(this._bootstrapListeners).forEach(listener=>listener(componentRef))}_unloadComponent(componentRef){this.detachView(componentRef.hostView),remove(this.components,componentRef)}ngOnDestroy(){this._views.slice().forEach(view=>view.destroy())}get viewCount(){return this._views.length}}return ApplicationRef._tickScope=wtfCreateScope(\"ApplicationRef#tick()\"),ApplicationRef})();function remove(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}class NgModuleFactoryLoader{}const _SEPARATOR=\"#\",FACTORY_CLASS_SUFFIX=\"NgFactory\";class SystemJsNgModuleLoaderConfig{}const DEFAULT_CONFIG={factoryPathPrefix:\"\",factoryPathSuffix:\".ngfactory\"};class SystemJsNgModuleLoader{constructor(_compiler,config){this._compiler=_compiler,this._config=config||DEFAULT_CONFIG}load(path){return!ivyEnabled&&this._compiler instanceof Compiler?this.loadFactory(path):this.loadAndCompile(path)}loadAndCompile(path){let[module,exportName]=path.split(_SEPARATOR);return void 0===exportName&&(exportName=\"default\"),__webpack_require__(\"zn8P\")(module).then(module=>module[exportName]).then(type=>checkNotEmpty(type,module,exportName)).then(type=>this._compiler.compileModuleAsync(type))}loadFactory(path){let[module,exportName]=path.split(_SEPARATOR),factoryClassSuffix=FACTORY_CLASS_SUFFIX;return void 0===exportName&&(exportName=\"default\",factoryClassSuffix=\"\"),__webpack_require__(\"zn8P\")(this._config.factoryPathPrefix+module+this._config.factoryPathSuffix).then(module=>module[exportName+factoryClassSuffix]).then(factory=>checkNotEmpty(factory,module,exportName))}}function checkNotEmpty(value,modulePath,exportName){if(!value)throw new Error(`Cannot find '${exportName}' in '${modulePath}'`);return value}class DebugEventListener{constructor(name,callback){this.name=name,this.callback=callback}}class DebugNode__PRE_R3__{constructor(nativeNode,parent,_debugContext){this.listeners=[],this.parent=null,this._debugContext=_debugContext,this.nativeNode=nativeNode,parent&&parent instanceof DebugElement__PRE_R3__&&parent.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class DebugElement__PRE_R3__ extends DebugNode__PRE_R3__{constructor(nativeNode,parent,_debugContext){super(nativeNode,parent,_debugContext),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=nativeNode}addChild(child){child&&(this.childNodes.push(child),child.parent=this)}removeChild(child){const childIndex=this.childNodes.indexOf(child);-1!==childIndex&&(child.parent=null,this.childNodes.splice(childIndex,1))}insertChildrenAfter(child,newChildren){const siblingIndex=this.childNodes.indexOf(child);-1!==siblingIndex&&(this.childNodes.splice(siblingIndex+1,0,...newChildren),newChildren.forEach(c=>{c.parent&&c.parent.removeChild(c),child.parent=this}))}insertBefore(refChild,newChild){const refIndex=this.childNodes.indexOf(refChild);-1===refIndex?this.addChild(newChild):(newChild.parent&&newChild.parent.removeChild(newChild),newChild.parent=this,this.childNodes.splice(refIndex,0,newChild))}query(predicate){return this.queryAll(predicate)[0]||null}queryAll(predicate){const matches=[];return function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(node=>{node instanceof DebugElement__PRE_R3__&&(predicate(node)&&matches.push(node),_queryElementChildren(node,predicate,matches))})}(this,predicate,matches),matches}queryAllNodes(predicate){const matches=[];return function _queryNodeChildren(parentNode,predicate,matches){parentNode instanceof DebugElement__PRE_R3__&&parentNode.childNodes.forEach(node=>{predicate(node)&&matches.push(node),node instanceof DebugElement__PRE_R3__&&_queryNodeChildren(node,predicate,matches)})}(this,predicate,matches),matches}get children(){return this.childNodes.filter(node=>node instanceof DebugElement__PRE_R3__)}triggerEventHandler(eventName,eventObj){this.listeners.forEach(listener=>{listener.name==eventName&&listener.callback(eventObj)})}}const _nativeNodeToDebugNode=new Map,getDebugNode=function(nativeNode){return _nativeNodeToDebugNode.get(nativeNode)||null};function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node)}const platformCore=createPlatformFactory(null,\"core\",[{provide:PLATFORM_ID,useValue:\"unknown\"},{provide:PlatformRef,deps:[Injector]},{provide:TestabilityRegistry,deps:[]},{provide:Console,deps:[]}]);function _iterableDiffersFactory(){return defaultIterableDiffers}function _keyValueDiffersFactory(){return defaultKeyValueDiffers}function _localeFactory(locale){return locale?(ivyEnabled&&setLocaleId(locale),locale):DEFAULT_LOCALE_ID}function zoneSchedulerFactory(ngZone){let queue=[];return ngZone.onStable.subscribe(()=>{for(;queue.length;)queue.pop()()}),function(fn){queue.push(fn)}}class ApplicationModule{constructor(appRef){}}function anchorDef(flags,matchedQueriesDsl,ngContentIndex,childCount,handleEvent,templateFactory){flags|=1;const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:flags,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:ngContentIndex,childCount:childCount,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:templateFactory?resolveDefinition(templateFactory):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:handleEvent||NOOP},provider:null,text:null,query:null,ngContent:null}}function elementDef(checkIndex,flags,matchedQueriesDsl,ngContentIndex,childCount,namespaceAndName,fixedAttrs=[],bindings,outputs,handleEvent,componentView,componentRendererType){handleEvent||(handleEvent=NOOP);const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);let ns=null,name=null;namespaceAndName&&([ns,name]=splitNamespace(namespaceAndName)),bindings=bindings||[];const bindingDefs=new Array(bindings.length);for(let i=0;i<bindings.length;i++){const[bindingFlags,namespaceAndName,suffixOrSecurityContext]=bindings[i],[ns,name]=splitNamespace(namespaceAndName);let securityContext=void 0,suffix=void 0;switch(15&bindingFlags){case 4:suffix=suffixOrSecurityContext;break;case 1:case 8:securityContext=suffixOrSecurityContext}bindingDefs[i]={flags:bindingFlags,ns:ns,name:name,nonMinifiedName:name,securityContext:securityContext,suffix:suffix}}outputs=outputs||[];const outputDefs=new Array(outputs.length);for(let i=0;i<outputs.length;i++){const[target,eventName]=outputs[i];outputDefs[i]={type:0,target:target,eventName:eventName,propName:null}}const attrs=(fixedAttrs=fixedAttrs||[]).map(([namespaceAndName,value])=>{const[ns,name]=splitNamespace(namespaceAndName);return[ns,name,value]});return componentRendererType=function(type){if(type&&type.id===UNDEFINED_RENDERER_TYPE_ID){const isFilled=null!=type.encapsulation&&type.encapsulation!==ViewEncapsulation.None||type.styles.length||Object.keys(type.data).length;type.id=isFilled?`c${_renderCompCount$1++}`:EMPTY_RENDERER_TYPE_ID}return type&&type.id===EMPTY_RENDERER_TYPE_ID&&(type=null),type||null}(componentRendererType),componentView&&(flags|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:ngContentIndex,childCount:childCount,bindings:bindingDefs,bindingFlags:calcBindingFlags(bindingDefs),outputs:outputDefs,element:{ns:ns,name:name,attrs:attrs,template:null,componentProvider:null,componentView:componentView||null,componentRendererType:componentRendererType,publicProviders:null,allProviders:null,handleEvent:handleEvent||NOOP},provider:null,text:null,query:null,ngContent:null}}function createElement(view,renderHost,def){const elDef=def.element,rootSelectorOrNode=view.root.selectorOrNode,renderer=view.renderer;let el;if(view.parent||!rootSelectorOrNode){el=elDef.name?renderer.createElement(elDef.name,elDef.ns):renderer.createComment(\"\");const parentEl=getParentRenderElement(view,renderHost,def);parentEl&&renderer.appendChild(parentEl,el)}else el=renderer.selectRootElement(rootSelectorOrNode,!!elDef.componentRendererType&&elDef.componentRendererType.encapsulation===ViewEncapsulation.ShadowDom);if(elDef.attrs)for(let i=0;i<elDef.attrs.length;i++){const[ns,name,value]=elDef.attrs[i];renderer.setAttribute(el,name,value,ns)}return el}function listenToElementOutputs(view,compView,def,el){for(let i=0;i<def.outputs.length;i++){const output=def.outputs[i],handleEventClosure=renderEventHandlerClosure(view,def.nodeIndex,(name=output.eventName,(target=output.target)?`${target}:${name}`:name));let listenTarget=output.target,listenerView=view;\"component\"===output.target&&(listenTarget=null,listenerView=compView);const disposable=listenerView.renderer.listen(listenTarget||el,output.eventName,handleEventClosure);view.disposables[def.outputIndex+i]=disposable}var target,name}function renderEventHandlerClosure(view,index,eventName){return event=>core_dispatchEvent(view,index,eventName,event)}function checkAndUpdateElementValue(view,def,bindingIdx,value){if(!checkAndUpdateBinding(view,def,bindingIdx,value))return!1;const binding=def.bindings[bindingIdx],elData=asElementData(view,def.nodeIndex),renderNode=elData.renderElement,name=binding.name;switch(15&binding.flags){case 1:!function(view,binding,renderNode,ns,name,value){const securityContext=binding.securityContext;let renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;renderValue=null!=renderValue?renderValue.toString():null;const renderer=view.renderer;null!=value?renderer.setAttribute(renderNode,name,renderValue,ns):renderer.removeAttribute(renderNode,name,ns)}(view,binding,renderNode,binding.ns,name,value);break;case 2:!function(view,renderNode,name,value){const renderer=view.renderer;value?renderer.addClass(renderNode,name):renderer.removeClass(renderNode,name)}(view,renderNode,name,value);break;case 4:!function(view,binding,renderNode,name,value){let renderValue=view.root.sanitizer.sanitize(SecurityContext.STYLE,value);if(null!=renderValue){renderValue=renderValue.toString();const unit=binding.suffix;null!=unit&&(renderValue+=unit)}else renderValue=null;const renderer=view.renderer;null!=renderValue?renderer.setStyle(renderNode,name,renderValue):renderer.removeStyle(renderNode,name)}(view,binding,renderNode,name,value);break;case 8:!function(view,binding,renderNode,name,value){const securityContext=binding.securityContext;let renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;view.renderer.setProperty(renderNode,name,renderValue)}(33554432&def.flags&&32&binding.flags?elData.componentView:view,binding,renderNode,name,value)}return!0}function queryDef(flags,id,bindings){let bindingDefs=[];for(let propName in bindings)bindingDefs.push({propName:propName,bindingType:bindings[propName]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:id,filterId:filterQueryId(id),bindings:bindingDefs},ngContent:null}}function dirtyParentQueries(view){const queryIds=view.def.nodeMatchedQueries;for(;view.parent&&isEmbeddedView(view);){let tplDef=view.parentNodeDef;view=view.parent;const end=tplDef.nodeIndex+tplDef.childCount;for(let i=0;i<=end;i++){const nodeDef=view.def.nodes[i];67108864&nodeDef.flags&&536870912&nodeDef.flags&&(nodeDef.query.filterId&queryIds)===nodeDef.query.filterId&&asQueryList(view,i).setDirty(),!(1&nodeDef.flags&&i+nodeDef.childCount<tplDef.nodeIndex)&&67108864&nodeDef.childFlags&&536870912&nodeDef.childFlags||(i+=nodeDef.childCount)}}if(134217728&view.def.nodeFlags)for(let i=0;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];134217728&nodeDef.flags&&536870912&nodeDef.flags&&asQueryList(view,i).setDirty(),i+=nodeDef.childCount}}function checkAndUpdateQuery(view,nodeDef){const queryList=asQueryList(view,nodeDef.nodeIndex);if(!queryList.dirty)return;let directiveInstance,newValues=void 0;if(67108864&nodeDef.flags){const elementDef=nodeDef.parent.parent;newValues=calcQueryValues(view,elementDef.nodeIndex,elementDef.nodeIndex+elementDef.childCount,nodeDef.query,[]),directiveInstance=asProviderData(view,nodeDef.parent.nodeIndex).instance}else 134217728&nodeDef.flags&&(newValues=calcQueryValues(view,0,view.def.nodes.length-1,nodeDef.query,[]),directiveInstance=view.component);queryList.reset(newValues);const bindings=nodeDef.query.bindings;let notify=!1;for(let i=0;i<bindings.length;i++){const binding=bindings[i];let boundValue;switch(binding.bindingType){case 0:boundValue=queryList.first;break;case 1:boundValue=queryList,notify=!0}directiveInstance[binding.propName]=boundValue}notify&&queryList.notifyOnChanges()}function calcQueryValues(view,startIndex,endIndex,queryDef,values){for(let i=startIndex;i<=endIndex;i++){const nodeDef=view.def.nodes[i],valueType=nodeDef.matchedQueries[queryDef.id];if(null!=valueType&&values.push(getQueryValue(view,nodeDef,valueType)),1&nodeDef.flags&&nodeDef.element.template&&(nodeDef.element.template.nodeMatchedQueries&queryDef.filterId)===queryDef.filterId){const elementData=asElementData(view,i);if((nodeDef.childMatchedQueries&queryDef.filterId)===queryDef.filterId&&(calcQueryValues(view,i+1,i+nodeDef.childCount,queryDef,values),i+=nodeDef.childCount),16777216&nodeDef.flags){const embeddedViews=elementData.viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++){const embeddedView=embeddedViews[k],dvc=declaredViewContainer(embeddedView);dvc&&dvc===elementData&&calcQueryValues(embeddedView,0,embeddedView.def.nodes.length-1,queryDef,values)}}const projectedViews=elementData.template._projectedViews;if(projectedViews)for(let k=0;k<projectedViews.length;k++){const projectedView=projectedViews[k];calcQueryValues(projectedView,0,projectedView.def.nodes.length-1,queryDef,values)}}(nodeDef.childMatchedQueries&queryDef.filterId)!==queryDef.filterId&&(i+=nodeDef.childCount)}return values}function getQueryValue(view,nodeDef,queryValueType){if(null!=queryValueType)switch(queryValueType){case 1:return asElementData(view,nodeDef.nodeIndex).renderElement;case 0:return new ElementRef(asElementData(view,nodeDef.nodeIndex).renderElement);case 2:return asElementData(view,nodeDef.nodeIndex).template;case 3:return asElementData(view,nodeDef.nodeIndex).viewContainer;case 4:return asProviderData(view,nodeDef.nodeIndex).instance}}function ngContentDef(ngContentIndex,index){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:ngContentIndex,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:index}}}function appendNgContent(view,renderHost,def){const parentEl=getParentRenderElement(view,renderHost,def);parentEl&&visitProjectedRenderNodes(view,def.ngContent.index,1,parentEl,null,void 0)}function pureArrayDef(checkIndex,argCount){return _pureExpressionDef(32,checkIndex,new Array(argCount))}function pureObjectDef(checkIndex,propToIndex){const keys=Object.keys(propToIndex),nbKeys=keys.length,propertyNames=new Array(nbKeys);for(let i=0;i<nbKeys;i++){const key=keys[i];propertyNames[propToIndex[key]]=key}return _pureExpressionDef(64,checkIndex,propertyNames)}function _pureExpressionDef(flags,checkIndex,propertyNames){const bindings=new Array(propertyNames.length);for(let i=0;i<propertyNames.length;i++){const prop=propertyNames[i];bindings[i]={flags:8,name:prop,ns:null,nonMinifiedName:prop,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:bindings,bindingFlags:calcBindingFlags(bindings),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function textDef(checkIndex,ngContentIndex,staticText){const bindings=new Array(staticText.length-1);for(let i=1;i<staticText.length;i++)bindings[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:staticText[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:ngContentIndex,childCount:0,bindings:bindings,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:staticText[0]},query:null,ngContent:null}}function createText(view,renderHost,def){let renderNode;const renderer=view.renderer;renderNode=renderer.createText(def.text.prefix);const parentEl=getParentRenderElement(view,renderHost,def);return parentEl&&renderer.appendChild(parentEl,renderNode),{renderText:renderNode}}function _addInterpolationPart(value,binding){return(null!=value?value.toString():\"\")+binding.suffix}function viewDef(flags,nodes,updateDirectives,updateRenderer){let viewBindingCount=0,viewDisposableCount=0,viewNodeFlags=0,viewRootNodeFlags=0,viewMatchedQueries=0,currentParent=null,currentRenderParent=null,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,lastRenderRootNode=null;for(let i=0;i<nodes.length;i++){const node=nodes[i];if(node.nodeIndex=i,node.parent=currentParent,node.bindingIndex=viewBindingCount,node.outputIndex=viewDisposableCount,node.renderParent=currentRenderParent,viewNodeFlags|=node.flags,viewMatchedQueries|=node.matchedQueryIds,node.element){const elDef=node.element;elDef.publicProviders=currentParent?currentParent.element.publicProviders:Object.create(null),elDef.allProviders=elDef.publicProviders,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,node.element.template&&(viewMatchedQueries|=node.element.template.nodeMatchedQueries)}if(validateNode(currentParent,node,nodes.length),viewBindingCount+=node.bindings.length,viewDisposableCount+=node.outputs.length,!currentRenderParent&&3&node.flags&&(lastRenderRootNode=node),20224&node.flags){currentElementHasPublicProviders||(currentElementHasPublicProviders=!0,currentParent.element.publicProviders=Object.create(currentParent.element.publicProviders),currentParent.element.allProviders=currentParent.element.publicProviders);const isComponent=0!=(32768&node.flags);0==(8192&node.flags)||isComponent?currentParent.element.publicProviders[tokenKey(node.provider.token)]=node:(currentElementHasPrivateProviders||(currentElementHasPrivateProviders=!0,currentParent.element.allProviders=Object.create(currentParent.element.publicProviders)),currentParent.element.allProviders[tokenKey(node.provider.token)]=node),isComponent&&(currentParent.element.componentProvider=node)}if(currentParent?(currentParent.childFlags|=node.flags,currentParent.directChildFlags|=node.flags,currentParent.childMatchedQueries|=node.matchedQueryIds,node.element&&node.element.template&&(currentParent.childMatchedQueries|=node.element.template.nodeMatchedQueries)):viewRootNodeFlags|=node.flags,node.childCount>0)currentParent=node,isNgContainer(node)||(currentRenderParent=node);else for(;currentParent&&i===currentParent.nodeIndex+currentParent.childCount;){const newParent=currentParent.parent;newParent&&(newParent.childFlags|=currentParent.childFlags,newParent.childMatchedQueries|=currentParent.childMatchedQueries),currentRenderParent=(currentParent=newParent)&&isNgContainer(currentParent)?currentParent.renderParent:currentParent}}return{factory:null,nodeFlags:viewNodeFlags,rootNodeFlags:viewRootNodeFlags,nodeMatchedQueries:viewMatchedQueries,flags:flags,nodes:nodes,updateDirectives:updateDirectives||NOOP,updateRenderer:updateRenderer||NOOP,handleEvent:(view,nodeIndex,eventName,event)=>nodes[nodeIndex].element.handleEvent(view,eventName,event),bindingCount:viewBindingCount,outputCount:viewDisposableCount,lastRenderRootNode:lastRenderRootNode}}function isNgContainer(node){return 0!=(1&node.flags)&&null===node.element.name}function validateNode(parent,node,nodeCount){const template=node.element&&node.element.template;if(template){if(!template.lastRenderRootNode)throw new Error(\"Illegal State: Embedded templates without nodes are not allowed!\");if(template.lastRenderRootNode&&16777216&template.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${node.nodeIndex}!`)}if(20224&node.flags&&0==(1&(parent?parent.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${node.nodeIndex}!`);if(node.query){if(67108864&node.flags&&(!parent||0==(16384&parent.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${node.nodeIndex}!`);if(134217728&node.flags&&parent)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${node.nodeIndex}!`)}if(node.childCount){const parentEnd=parent?parent.nodeIndex+parent.childCount:nodeCount-1;if(node.nodeIndex<=parentEnd&&node.nodeIndex+node.childCount>parentEnd)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${node.nodeIndex}!`)}}function createEmbeddedView(parent,anchorDef,viewDef,context){const view=createView(parent.root,parent.renderer,parent,anchorDef,viewDef);return initView(view,parent.component,context),createViewNodes(view),view}function createRootView(root,def,context){const view=createView(root,root.renderer,null,null,def);return initView(view,context,context),createViewNodes(view),view}function createComponentView(parentView,nodeDef,viewDef,hostElement){const rendererType=nodeDef.element.componentRendererType;let compRenderer;return compRenderer=rendererType?parentView.root.rendererFactory.createRenderer(hostElement,rendererType):parentView.root.renderer,createView(parentView.root,compRenderer,parentView,nodeDef.element.componentProvider,viewDef)}function createView(root,renderer,parent,parentNodeDef,def){const nodes=new Array(def.nodes.length),disposables=def.outputCount?new Array(def.outputCount):null;return{def:def,parent:parent,viewContainerParent:null,parentNodeDef:parentNodeDef,context:null,component:null,nodes:nodes,state:13,root:root,renderer:renderer,oldValues:new Array(def.bindingCount),disposables:disposables,initIndex:-1}}function initView(view,component,context){view.component=component,view.context=context}function createViewNodes(view){let renderHost;isComponentView(view)&&(renderHost=asElementData(view.parent,view.parentNodeDef.parent.nodeIndex).renderElement);const def=view.def,nodes=view.nodes;for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];let nodeData;switch(Services.setCurrentNode(view,i),201347067&nodeDef.flags){case 1:const el=createElement(view,renderHost,nodeDef);let componentView=void 0;if(33554432&nodeDef.flags){const compViewDef=resolveDefinition(nodeDef.element.componentView);componentView=Services.createComponentView(view,nodeDef,compViewDef,el)}listenToElementOutputs(view,componentView,nodeDef,el),nodeData={renderElement:el,componentView:componentView,viewContainer:null,template:nodeDef.element.template?createTemplateData(view,nodeDef):void 0},16777216&nodeDef.flags&&(nodeData.viewContainer=createViewContainerData(view,nodeDef,nodeData));break;case 2:nodeData=createText(view,renderHost,nodeDef);break;case 512:case 1024:case 2048:case 256:(nodeData=nodes[i])||4096&nodeDef.flags||(nodeData={instance:createProviderInstance(view,nodeDef)});break;case 16:nodeData={instance:createPipeInstance(view,nodeDef)};break;case 16384:(nodeData=nodes[i])||(nodeData={instance:createDirectiveInstance(view,nodeDef)}),32768&nodeDef.flags&&initView(asElementData(view,nodeDef.parent.nodeIndex).componentView,nodeData.instance,nodeData.instance);break;case 32:case 64:case 128:nodeData={value:void 0};break;case 67108864:case 134217728:nodeData=new QueryList;break;case 8:appendNgContent(view,renderHost,nodeDef),nodeData=void 0}nodes[i]=nodeData}execComponentViewsAction(view,ViewAction.CreateViewNodes),execQueriesAction(view,201326592,268435456,0)}function checkNoChangesView(view){markProjectedViewsForCheck(view),Services.updateDirectives(view,1),execEmbeddedViewsAction(view,ViewAction.CheckNoChanges),Services.updateRenderer(view,1),execComponentViewsAction(view,ViewAction.CheckNoChanges),view.state&=-97}function checkAndUpdateView(view){1&view.state?(view.state&=-2,view.state|=2):view.state&=-3,shiftInitState(view,0,256),markProjectedViewsForCheck(view),Services.updateDirectives(view,0),execEmbeddedViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,67108864,536870912,0);let callInit=shiftInitState(view,256,512);callLifecycleHooksChildrenFirst(view,2097152|(callInit?1048576:0)),Services.updateRenderer(view,0),execComponentViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,134217728,536870912,0),callLifecycleHooksChildrenFirst(view,8388608|((callInit=shiftInitState(view,512,768))?4194304:0)),2&view.def.flags&&(view.state&=-9),view.state&=-97,shiftInitState(view,768,1024)}function checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){switch(201347067&nodeDef.flags){case 1:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindLen=def.bindings.length;let changed=!1;return bindLen>0&&checkAndUpdateElementValue(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateElementValue(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateElementValue(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateElementValue(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateElementValue(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateElementValue(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateElementValue(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateElementValue(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateElementValue(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateElementValue(view,def,9,v9)&&(changed=!0),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 2:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){let changed=!1;const bindings=def.bindings,bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){let value=def.text.prefix;bindLen>0&&(value+=_addInterpolationPart(v0,bindings[0])),bindLen>1&&(value+=_addInterpolationPart(v1,bindings[1])),bindLen>2&&(value+=_addInterpolationPart(v2,bindings[2])),bindLen>3&&(value+=_addInterpolationPart(v3,bindings[3])),bindLen>4&&(value+=_addInterpolationPart(v4,bindings[4])),bindLen>5&&(value+=_addInterpolationPart(v5,bindings[5])),bindLen>6&&(value+=_addInterpolationPart(v6,bindings[6])),bindLen>7&&(value+=_addInterpolationPart(v7,bindings[7])),bindLen>8&&(value+=_addInterpolationPart(v8,bindings[8])),bindLen>9&&(value+=_addInterpolationPart(v9,bindings[9]));const renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 16384:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance;let changed=!1,changes=void 0;const bindLen=def.bindings.length;return bindLen>0&&checkBinding(view,def,0,v0)&&(changed=!0,changes=updateProp(view,providerData,def,0,v0,changes)),bindLen>1&&checkBinding(view,def,1,v1)&&(changed=!0,changes=updateProp(view,providerData,def,1,v1,changes)),bindLen>2&&checkBinding(view,def,2,v2)&&(changed=!0,changes=updateProp(view,providerData,def,2,v2,changes)),bindLen>3&&checkBinding(view,def,3,v3)&&(changed=!0,changes=updateProp(view,providerData,def,3,v3,changes)),bindLen>4&&checkBinding(view,def,4,v4)&&(changed=!0,changes=updateProp(view,providerData,def,4,v4,changes)),bindLen>5&&checkBinding(view,def,5,v5)&&(changed=!0,changes=updateProp(view,providerData,def,5,v5,changes)),bindLen>6&&checkBinding(view,def,6,v6)&&(changed=!0,changes=updateProp(view,providerData,def,6,v6,changes)),bindLen>7&&checkBinding(view,def,7,v7)&&(changed=!0,changes=updateProp(view,providerData,def,7,v7,changes)),bindLen>8&&checkBinding(view,def,8,v8)&&(changed=!0,changes=updateProp(view,providerData,def,8,v8,changes)),bindLen>9&&checkBinding(view,def,9,v9)&&(changed=!0,changes=updateProp(view,providerData,def,9,v9,changes)),changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 32:case 64:case 128:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindings=def.bindings;let changed=!1;const bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){const data=asPureExpressionData(view,def.nodeIndex);let value;switch(201347067&def.flags){case 32:value=new Array(bindings.length),bindLen>0&&(value[0]=v0),bindLen>1&&(value[1]=v1),bindLen>2&&(value[2]=v2),bindLen>3&&(value[3]=v3),bindLen>4&&(value[4]=v4),bindLen>5&&(value[5]=v5),bindLen>6&&(value[6]=v6),bindLen>7&&(value[7]=v7),bindLen>8&&(value[8]=v8),bindLen>9&&(value[9]=v9);break;case 64:value={},bindLen>0&&(value[bindings[0].name]=v0),bindLen>1&&(value[bindings[1].name]=v1),bindLen>2&&(value[bindings[2].name]=v2),bindLen>3&&(value[bindings[3].name]=v3),bindLen>4&&(value[bindings[4].name]=v4),bindLen>5&&(value[bindings[5].name]=v5),bindLen>6&&(value[bindings[6].name]=v6),bindLen>7&&(value[bindings[7].name]=v7),bindLen>8&&(value[bindings[8].name]=v8),bindLen>9&&(value[bindings[9].name]=v9);break;case 128:const pipe=v0;switch(bindLen){case 1:value=pipe.transform(v0);break;case 2:value=pipe.transform(v1);break;case 3:value=pipe.transform(v1,v2);break;case 4:value=pipe.transform(v1,v2,v3);break;case 5:value=pipe.transform(v1,v2,v3,v4);break;case 6:value=pipe.transform(v1,v2,v3,v4,v5);break;case 7:value=pipe.transform(v1,v2,v3,v4,v5,v6);break;case 8:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7);break;case 9:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8);break;case 10:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8,v9)}}data.value=value}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);default:throw\"unreachable\"}}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function(view,nodeDef,values){switch(201347067&nodeDef.flags){case 1:return function(view,def,values){let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateElementValue(view,def,i,values[i])&&(changed=!0);return changed}(view,nodeDef,values);case 2:return function(view,def,values){const bindings=def.bindings;let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){let value=\"\";for(let i=0;i<values.length;i++)value+=_addInterpolationPart(values[i],bindings[i]);value=def.text.prefix+value;const renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,values);case 16384:return function(view,def,values){const providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance;let changed=!1,changes=void 0;for(let i=0;i<values.length;i++)checkBinding(view,def,i,values[i])&&(changed=!0,changes=updateProp(view,providerData,def,i,values[i],changes));return changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,values);case 32:case 64:case 128:return function(view,def,values){const bindings=def.bindings;let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){const data=asPureExpressionData(view,def.nodeIndex);let value;switch(201347067&def.flags){case 32:value=values;break;case 64:value={};for(let i=0;i<values.length;i++)value[bindings[i].name]=values[i];break;case 128:const pipe=values[0],params=values.slice(1);value=pipe.transform(...params)}data.value=value}return changed}(view,nodeDef,values);default:throw\"unreachable\"}}(view,nodeDef,v0)}function markProjectedViewsForCheck(view){const def=view.def;if(4&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];if(4&nodeDef.flags){const projectedViews=asElementData(view,i).template._projectedViews;if(projectedViews)for(let i=0;i<projectedViews.length;i++){const projectedView=projectedViews[i];projectedView.state|=32,markParentViewsForCheckProjectedViews(projectedView,view)}}else 0==(4&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindLen=nodeDef.bindings.length;bindLen>0&&checkBindingNoChanges(view,nodeDef,0,v0),bindLen>1&&checkBindingNoChanges(view,nodeDef,1,v1),bindLen>2&&checkBindingNoChanges(view,nodeDef,2,v2),bindLen>3&&checkBindingNoChanges(view,nodeDef,3,v3),bindLen>4&&checkBindingNoChanges(view,nodeDef,4,v4),bindLen>5&&checkBindingNoChanges(view,nodeDef,5,v5),bindLen>6&&checkBindingNoChanges(view,nodeDef,6,v6),bindLen>7&&checkBindingNoChanges(view,nodeDef,7,v7),bindLen>8&&checkBindingNoChanges(view,nodeDef,8,v8),bindLen>9&&checkBindingNoChanges(view,nodeDef,9,v9)}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function(view,nodeDef,values){for(let i=0;i<values.length;i++)checkBindingNoChanges(view,nodeDef,i,values[i])}(view,nodeDef,v0),!1}function checkNoChangesQuery(view,nodeDef){if(asQueryList(view,nodeDef.nodeIndex).dirty)throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,nodeDef.nodeIndex),`Query ${nodeDef.query.id} not dirty`,`Query ${nodeDef.query.id} dirty`,0!=(1&view.state))}function destroyView(view){if(!(128&view.state)){if(execEmbeddedViewsAction(view,ViewAction.Destroy),execComponentViewsAction(view,ViewAction.Destroy),callLifecycleHooksChildrenFirst(view,131072),view.disposables)for(let i=0;i<view.disposables.length;i++)view.disposables[i]();!function(view){if(!(16&view.state))return;const dvcElementData=declaredViewContainer(view);if(dvcElementData){const projectedViews=dvcElementData.template._projectedViews;projectedViews&&(removeFromArray(projectedViews,projectedViews.indexOf(view)),Services.dirtyParentQueries(view))}}(view),view.renderer.destroyNode&&function(view){const len=view.def.nodes.length;for(let i=0;i<len;i++){const def=view.def.nodes[i];1&def.flags?view.renderer.destroyNode(asElementData(view,i).renderElement):2&def.flags?view.renderer.destroyNode(asTextData(view,i).renderText):(67108864&def.flags||134217728&def.flags)&&asQueryList(view,i).destroy()}}(view),isComponentView(view)&&view.renderer.destroy(),view.state|=128}}const ViewAction=function(){var ViewAction={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return ViewAction[ViewAction.CreateViewNodes]=\"CreateViewNodes\",ViewAction[ViewAction.CheckNoChanges]=\"CheckNoChanges\",ViewAction[ViewAction.CheckNoChangesProjectedViews]=\"CheckNoChangesProjectedViews\",ViewAction[ViewAction.CheckAndUpdate]=\"CheckAndUpdate\",ViewAction[ViewAction.CheckAndUpdateProjectedViews]=\"CheckAndUpdateProjectedViews\",ViewAction[ViewAction.Destroy]=\"Destroy\",ViewAction}();function execComponentViewsAction(view,action){const def=view.def;if(33554432&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];33554432&nodeDef.flags?callViewAction(asElementData(view,i).componentView,action):0==(33554432&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function execEmbeddedViewsAction(view,action){const def=view.def;if(16777216&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];if(16777216&nodeDef.flags){const embeddedViews=asElementData(view,i).viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++)callViewAction(embeddedViews[k],action)}else 0==(16777216&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function callViewAction(view,action){const viewState=view.state;switch(action){case ViewAction.CheckNoChanges:0==(128&viewState)&&(12==(12&viewState)?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckNoChangesProjectedViews));break;case ViewAction.CheckNoChangesProjectedViews:0==(128&viewState)&&(32&viewState?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.CheckAndUpdate:0==(128&viewState)&&(12==(12&viewState)?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckAndUpdateProjectedViews));break;case ViewAction.CheckAndUpdateProjectedViews:0==(128&viewState)&&(32&viewState?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.Destroy:destroyView(view);break;case ViewAction.CreateViewNodes:createViewNodes(view)}}function execProjectedViewsAction(view,action){execEmbeddedViewsAction(view,action),execComponentViewsAction(view,action)}function execQueriesAction(view,queryFlags,staticDynamicQueryFlag,checkType){if(!(view.def.nodeFlags&queryFlags&&view.def.nodeFlags&staticDynamicQueryFlag))return;const nodeCount=view.def.nodes.length;for(let i=0;i<nodeCount;i++){const nodeDef=view.def.nodes[i];if(nodeDef.flags&queryFlags&&nodeDef.flags&staticDynamicQueryFlag)switch(Services.setCurrentNode(view,nodeDef.nodeIndex),checkType){case 0:checkAndUpdateQuery(view,nodeDef);break;case 1:checkNoChangesQuery(view,nodeDef)}nodeDef.childFlags&queryFlags&&nodeDef.childFlags&staticDynamicQueryFlag||(i+=nodeDef.childCount)}}let initialized=!1;function createProdRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){const rendererFactory=ngModule.injector.get(RendererFactory2);return createRootView(createRootData(elInjector,ngModule,rendererFactory,projectableNodes,rootSelectorOrNode),def,context)}function debugCreateRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){const rendererFactory=ngModule.injector.get(RendererFactory2),root=createRootData(elInjector,ngModule,new DebugRendererFactory2(rendererFactory),projectableNodes,rootSelectorOrNode),defWithOverride=applyProviderOverridesToView(def);return callWithDebugContext(DebugAction.create,createRootView,null,[root,defWithOverride,context])}function createRootData(elInjector,ngModule,rendererFactory,projectableNodes,rootSelectorOrNode){const sanitizer=ngModule.injector.get(Sanitizer),errorHandler=ngModule.injector.get(ErrorHandler),renderer=rendererFactory.createRenderer(null,null);return{ngModule:ngModule,injector:elInjector,projectableNodes:projectableNodes,selectorOrNode:rootSelectorOrNode,sanitizer:sanitizer,rendererFactory:rendererFactory,renderer:renderer,errorHandler:errorHandler}}function debugCreateEmbeddedView(parentView,anchorDef,viewDef,context){const defWithOverride=applyProviderOverridesToView(viewDef);return callWithDebugContext(DebugAction.create,createEmbeddedView,null,[parentView,anchorDef,defWithOverride,context])}function debugCreateComponentView(parentView,nodeDef,viewDef,hostElement){return viewDef=viewDefOverrides.get(nodeDef.element.componentProvider.provider.token)||applyProviderOverridesToView(viewDef),callWithDebugContext(DebugAction.create,createComponentView,null,[parentView,nodeDef,viewDef,hostElement])}function debugCreateNgModuleRef(moduleType,parentInjector,bootstrapComponents,def){return createNgModuleRef(moduleType,parentInjector,bootstrapComponents,function(def){const{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides}=function(def){let hasOverrides=!1,hasDeprecatedOverrides=!1;return 0===providerOverrides.size?{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides}:(def.providers.forEach(node=>{const override=providerOverrides.get(node.token);3840&node.flags&&override&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)}),def.modules.forEach(module=>{providerOverridesWithScope.forEach((override,token)=>{getInjectableDef(token).providedIn===module&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)})}),{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides})}(def);return hasOverrides?(function(def){for(let i=0;i<def.providers.length;i++){const provider=def.providers[i];hasDeprecatedOverrides&&(provider.flags|=4096);const override=providerOverrides.get(provider.token);override&&(provider.flags=-3841&provider.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}if(providerOverridesWithScope.size>0){let moduleSet=new Set(def.modules);providerOverridesWithScope.forEach((override,token)=>{if(moduleSet.has(getInjectableDef(token).providedIn)){let provider={token:token,flags:override.flags|(hasDeprecatedOverrides?4096:0),deps:splitDepsDsl(override.deps),value:override.value,index:def.providers.length};def.providers.push(provider),def.providersByKey[tokenKey(token)]=provider}})}}(def=def.factory(()=>NOOP)),def):def}(def))}const providerOverrides=new Map,providerOverridesWithScope=new Map,viewDefOverrides=new Map;function debugOverrideProvider(override){let injectableDef;providerOverrides.set(override.token,override),\"function\"==typeof override.token&&(injectableDef=getInjectableDef(override.token))&&\"function\"==typeof injectableDef.providedIn&&providerOverridesWithScope.set(override.token,override)}function debugOverrideComponentView(comp,compFactory){const hostViewDef=resolveDefinition(compFactory.viewDefFactory),compViewDef=resolveDefinition(hostViewDef.nodes[0].element.componentView);viewDefOverrides.set(comp,compViewDef)}function debugClearOverrides(){providerOverrides.clear(),providerOverridesWithScope.clear(),viewDefOverrides.clear()}function applyProviderOverridesToView(def){if(0===providerOverrides.size)return def;const elementIndicesWithOverwrittenProviders=function(def){const elIndicesWithOverwrittenProviders=[];let lastElementDef=null;for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];1&nodeDef.flags&&(lastElementDef=nodeDef),lastElementDef&&3840&nodeDef.flags&&providerOverrides.has(nodeDef.provider.token)&&(elIndicesWithOverwrittenProviders.push(lastElementDef.nodeIndex),lastElementDef=null)}return elIndicesWithOverwrittenProviders}(def);if(0===elementIndicesWithOverwrittenProviders.length)return def;def=def.factory(()=>NOOP);for(let i=0;i<elementIndicesWithOverwrittenProviders.length;i++)applyProviderOverridesToElement(def,elementIndicesWithOverwrittenProviders[i]);return def;function applyProviderOverridesToElement(viewDef,elIndex){for(let i=elIndex+1;i<viewDef.nodes.length;i++){const nodeDef=viewDef.nodes[i];if(1&nodeDef.flags)return;if(3840&nodeDef.flags){const provider=nodeDef.provider,override=providerOverrides.get(provider.token);override&&(nodeDef.flags=-3841&nodeDef.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}}}}function prodCheckAndUpdateNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const nodeDef=view.def.nodes[checkIndex];return checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function prodCheckNoChangesNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const nodeDef=view.def.nodes[checkIndex];return checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function debugCheckAndUpdateView(view){return callWithDebugContext(DebugAction.detectChanges,checkAndUpdateView,null,[view])}function debugCheckNoChangesView(view){return callWithDebugContext(DebugAction.checkNoChanges,checkNoChangesView,null,[view])}function debugDestroyView(view){return callWithDebugContext(DebugAction.destroy,destroyView,null,[view])}const DebugAction=function(){var DebugAction={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return DebugAction[DebugAction.create]=\"create\",DebugAction[DebugAction.detectChanges]=\"detectChanges\",DebugAction[DebugAction.checkNoChanges]=\"checkNoChanges\",DebugAction[DebugAction.destroy]=\"destroy\",DebugAction[DebugAction.handleEvent]=\"handleEvent\",DebugAction}();let _currentAction,_currentView,_currentNodeIndex;function debugSetCurrentNode(view,nodeIndex){_currentView=view,_currentNodeIndex=nodeIndex}function debugHandleEvent(view,nodeIndex,eventName,event){return debugSetCurrentNode(view,nodeIndex),callWithDebugContext(DebugAction.handleEvent,view.def.handleEvent,null,[view,nodeIndex,eventName,event])}function debugUpdateDirectives(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextDirectiveWithBinding(view,0)),view.def.updateDirectives((function(view,nodeIndex,argStyle,...values){const nodeDef=view.def.nodes[nodeIndex];return 0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values),16384&nodeDef.flags&&debugSetCurrentNode(view,nextDirectiveWithBinding(view,nodeIndex)),224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0}),view)}function debugUpdateRenderer(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextRenderNodeWithBinding(view,0)),view.def.updateRenderer((function(view,nodeIndex,argStyle,...values){const nodeDef=view.def.nodes[nodeIndex];return 0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values),3&nodeDef.flags&&debugSetCurrentNode(view,nextRenderNodeWithBinding(view,nodeIndex)),224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0}),view)}function debugCheckAndUpdateNode(view,nodeDef,argStyle,givenValues){if(checkAndUpdateNode(view,nodeDef,argStyle,...givenValues)){const values=1===argStyle?givenValues[0]:givenValues;if(16384&nodeDef.flags){const bindingValues={};for(let i=0;i<nodeDef.bindings.length;i++){const binding=nodeDef.bindings[i],value=values[i];8&binding.flags&&(bindingValues[(name=binding.nonMinifiedName,input=void 0,input=name.replace(/[$@]/g,\"_\"),`ng-reflect-${name=input.replace(CAMEL_CASE_REGEXP,(...m)=>\"-\"+m[1].toLowerCase())}`)]=normalizeDebugBindingValue(value))}const elDef=nodeDef.parent,el=asElementData(view,elDef.nodeIndex).renderElement;if(elDef.element.name)for(let attr in bindingValues){const value=bindingValues[attr];null!=value?view.renderer.setAttribute(el,attr,value):view.renderer.removeAttribute(el,attr)}else view.renderer.setValue(el,`bindings=${JSON.stringify(bindingValues,null,2)}`)}}var name,input}function debugCheckNoChangesNode(view,nodeDef,argStyle,values){checkNoChangesNode(view,nodeDef,argStyle,...values)}function nextDirectiveWithBinding(view,nodeIndex){for(let i=nodeIndex;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];if(16384&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}function nextRenderNodeWithBinding(view,nodeIndex){for(let i=nodeIndex;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];if(3&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}class DebugContext_{constructor(view,nodeIndex){this.view=view,this.nodeIndex=nodeIndex,null==nodeIndex&&(this.nodeIndex=nodeIndex=0),this.nodeDef=view.def.nodes[nodeIndex];let elDef=this.nodeDef,elView=view;for(;elDef&&0==(1&elDef.flags);)elDef=elDef.parent;if(!elDef)for(;!elDef&&elView;)elDef=viewParentEl(elView),elView=elView.parent;this.elDef=elDef,this.elView=elView}get elOrCompView(){return asElementData(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return createInjector$1(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const tokens=[];if(this.elDef)for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const childDef=this.elView.def.nodes[i];20224&childDef.flags&&tokens.push(childDef.provider.token),i+=childDef.childCount}return tokens}get references(){const references={};if(this.elDef){collectReferences(this.elView,this.elDef,references);for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const childDef=this.elView.def.nodes[i];20224&childDef.flags&&collectReferences(this.elView,childDef,references),i+=childDef.childCount}}return references}get componentRenderElement(){const elData=function(view){for(;view&&!isComponentView(view);)view=view.parent;return view.parent?asElementData(view.parent,viewParentEl(view).nodeIndex):null}(this.elOrCompView);return elData?elData.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?renderNode(this.view,this.nodeDef):renderNode(this.elView,this.elDef)}logError(console,...values){let logViewDef,logNodeIndex;2&this.nodeDef.flags?(logViewDef=this.view.def,logNodeIndex=this.nodeDef.nodeIndex):(logViewDef=this.elView.def,logNodeIndex=this.elDef.nodeIndex);const renderNodeIndex=function(viewDef,nodeIndex){let renderNodeIndex=-1;for(let i=0;i<=nodeIndex;i++)3&viewDef.nodes[i].flags&&renderNodeIndex++;return renderNodeIndex}(logViewDef,logNodeIndex);let currRenderNodeIndex=-1;logViewDef.factory(()=>++currRenderNodeIndex===renderNodeIndex?console.error.bind(console,...values):NOOP),currRenderNodeIndex<renderNodeIndex&&(console.error(\"Illegal state: the ViewDefinitionFactory did not call the logger!\"),console.error(...values))}}function collectReferences(view,nodeDef,references){for(let refName in nodeDef.references)references[refName]=getQueryValue(view,nodeDef,nodeDef.references[refName])}function callWithDebugContext(action,fn,self,args){const oldAction=_currentAction,oldView=_currentView,oldNodeIndex=_currentNodeIndex;try{_currentAction=action;const result=fn.apply(self,args);return _currentView=oldView,_currentNodeIndex=oldNodeIndex,_currentAction=oldAction,result}catch(e){if(getDebugContext(e)||!_currentView)throw e;throw err=e,context=getCurrentDebugContext(),err instanceof Error||(err=new Error(err.toString())),_addDebugContext(err,context),err}var err,context}function getCurrentDebugContext(){return _currentView?new DebugContext_(_currentView,_currentNodeIndex):null}class DebugRendererFactory2{constructor(delegate){this.delegate=delegate}createRenderer(element,renderData){return new DebugRenderer2(this.delegate.createRenderer(element,renderData))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class DebugRenderer2{constructor(delegate){this.delegate=delegate,this.debugContextFactory=getCurrentDebugContext,this.data=this.delegate.data}createDebugContext(nativeElement){return this.debugContextFactory(nativeElement)}destroyNode(node){const debugNode=getDebugNode(node);!function(node){_nativeNodeToDebugNode.delete(node.nativeNode)}(debugNode),debugNode instanceof DebugNode__PRE_R3__&&(debugNode.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(node)}destroy(){this.delegate.destroy()}createElement(name,namespace){const el=this.delegate.createElement(name,namespace),debugCtx=this.createDebugContext(el);if(debugCtx){const debugEl=new DebugElement__PRE_R3__(el,null,debugCtx);debugEl.name=name,indexDebugNode(debugEl)}return el}createComment(value){const comment=this.delegate.createComment(value),debugCtx=this.createDebugContext(comment);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(comment,null,debugCtx)),comment}createText(value){const text=this.delegate.createText(value),debugCtx=this.createDebugContext(text);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(text,null,debugCtx)),text}appendChild(parent,newChild){const debugEl=getDebugNode(parent),debugChildEl=getDebugNode(newChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.addChild(debugChildEl),this.delegate.appendChild(parent,newChild)}insertBefore(parent,newChild,refChild){const debugEl=getDebugNode(parent),debugChildEl=getDebugNode(newChild),debugRefEl=getDebugNode(refChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.insertBefore(debugRefEl,debugChildEl),this.delegate.insertBefore(parent,newChild,refChild)}removeChild(parent,oldChild){const debugEl=getDebugNode(parent),debugChildEl=getDebugNode(oldChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.removeChild(debugChildEl),this.delegate.removeChild(parent,oldChild)}selectRootElement(selectorOrNode,preserveContent){const el=this.delegate.selectRootElement(selectorOrNode,preserveContent),debugCtx=getCurrentDebugContext();return debugCtx&&indexDebugNode(new DebugElement__PRE_R3__(el,null,debugCtx)),el}setAttribute(el,name,value,namespace){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.attributes[namespace?namespace+\":\"+name:name]=value),this.delegate.setAttribute(el,name,value,namespace)}removeAttribute(el,name,namespace){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.attributes[namespace?namespace+\":\"+name:name]=null),this.delegate.removeAttribute(el,name,namespace)}addClass(el,name){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!0),this.delegate.addClass(el,name)}removeClass(el,name){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!1),this.delegate.removeClass(el,name)}setStyle(el,style,value,flags){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=value),this.delegate.setStyle(el,style,value,flags)}removeStyle(el,style,flags){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=null),this.delegate.removeStyle(el,style,flags)}setProperty(el,name,value){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.properties[name]=value),this.delegate.setProperty(el,name,value)}listen(target,eventName,callback){if(\"string\"!=typeof target){const debugEl=getDebugNode(target);debugEl&&debugEl.listeners.push(new DebugEventListener(eventName,callback))}return this.delegate.listen(target,eventName,callback)}parentNode(node){return this.delegate.parentNode(node)}nextSibling(node){return this.delegate.nextSibling(node)}setValue(node,value){return this.delegate.setValue(node,value)}}function createNgModuleFactory(ngModuleType,bootstrapComponents,defFactory){return new NgModuleFactory_(ngModuleType,bootstrapComponents,defFactory)}class NgModuleFactory_ extends NgModuleFactory{constructor(moduleType,_bootstrapComponents,_ngModuleDefFactory){super(),this.moduleType=moduleType,this._bootstrapComponents=_bootstrapComponents,this._ngModuleDefFactory=_ngModuleDefFactory}create(parentInjector){!function(){if(initialized)return;initialized=!0;const services=isDevMode()?{setCurrentNode:debugSetCurrentNode,createRootView:debugCreateRootView,createEmbeddedView:debugCreateEmbeddedView,createComponentView:debugCreateComponentView,createNgModuleRef:debugCreateNgModuleRef,overrideProvider:debugOverrideProvider,overrideComponentView:debugOverrideComponentView,clearOverrides:debugClearOverrides,checkAndUpdateView:debugCheckAndUpdateView,checkNoChangesView:debugCheckNoChangesView,destroyView:debugDestroyView,createDebugContext:(view,nodeIndex)=>new DebugContext_(view,nodeIndex),handleEvent:debugHandleEvent,updateDirectives:debugUpdateDirectives,updateRenderer:debugUpdateRenderer}:{setCurrentNode:()=>{},createRootView:createProdRootView,createEmbeddedView:createEmbeddedView,createComponentView:createComponentView,createNgModuleRef:createNgModuleRef,overrideProvider:NOOP,overrideComponentView:NOOP,clearOverrides:NOOP,checkAndUpdateView:checkAndUpdateView,checkNoChangesView:checkNoChangesView,destroyView:destroyView,createDebugContext:(view,nodeIndex)=>new DebugContext_(view,nodeIndex),handleEvent:(view,nodeIndex,eventName,event)=>view.def.handleEvent(view,nodeIndex,eventName,event),updateDirectives:(view,checkType)=>view.def.updateDirectives(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view),updateRenderer:(view,checkType)=>view.def.updateRenderer(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view)};Services.setCurrentNode=services.setCurrentNode,Services.createRootView=services.createRootView,Services.createEmbeddedView=services.createEmbeddedView,Services.createComponentView=services.createComponentView,Services.createNgModuleRef=services.createNgModuleRef,Services.overrideProvider=services.overrideProvider,Services.overrideComponentView=services.overrideComponentView,Services.clearOverrides=services.clearOverrides,Services.checkAndUpdateView=services.checkAndUpdateView,Services.checkNoChangesView=services.checkNoChangesView,Services.destroyView=services.destroyView,Services.resolveDep=resolveDep,Services.createDebugContext=services.createDebugContext,Services.handleEvent=services.handleEvent,Services.updateDirectives=services.updateDirectives,Services.updateRenderer=services.updateRenderer,Services.dirtyParentQueries=dirtyParentQueries}();const def=function(def){const providers=Array.from(def.providers),modules=Array.from(def.modules),providersByKey={};for(const key in def.providersByKey)providersByKey[key]=def.providersByKey[key];return{factory:def.factory,isRoot:def.isRoot,providers:providers,modules:modules,providersByKey:providersByKey}}(resolveDefinition(this._ngModuleDefFactory));return Services.createNgModuleRef(this.moduleType,parentInjector||Injector.NULL,this._bootstrapComponents,def)}}class AppModule{}class AppComponent{constructor(authenticationService,titleService){this.authenticationService=authenticationService,this.titleService=titleService,this.authenticationService.currentUser.subscribe(u=>this.currentUser=u)}setTitle(newTitle){this.titleService.setTitle(newTitle)}logout(){this.authenticationService.logout()}}class PlatformLocation{}const LOCATION_INITIALIZED=new InjectionToken(\"Location Initialized\");class LocationStrategy{}const APP_BASE_HREF=new InjectionToken(\"appBaseHref\");class common_Location{constructor(platformStrategy,platformLocation){this._subject=new core_EventEmitter,this._urlChangeListeners=[],this._platformStrategy=platformStrategy;const browserBaseHref=this._platformStrategy.getBaseHref();this._platformLocation=platformLocation,this._baseHref=common_Location.stripTrailingSlash(_stripIndexHtml(browserBaseHref)),this._platformStrategy.onPopState(ev=>{this._subject.emit({url:this.path(!0),pop:!0,state:ev.state,type:ev.type})})}path(includeHash=!1){return this.normalize(this._platformStrategy.path(includeHash))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(path,query=\"\"){return this.path()==this.normalize(path+common_Location.normalizeQueryParams(query))}normalize(url){return common_Location.stripTrailingSlash(function(baseHref,url){return baseHref&&url.startsWith(baseHref)?url.substring(baseHref.length):url}(this._baseHref,_stripIndexHtml(url)))}prepareExternalUrl(url){return url&&\"/\"!==url[0]&&(url=\"/\"+url),this._platformStrategy.prepareExternalUrl(url)}go(path,query=\"\",state=null){this._platformStrategy.pushState(state,\"\",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+common_Location.normalizeQueryParams(query)),state)}replaceState(path,query=\"\",state=null){this._platformStrategy.replaceState(state,\"\",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+common_Location.normalizeQueryParams(query)),state)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(fn){this._urlChangeListeners.push(fn),this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)})}_notifyUrlChangeListeners(url=\"\",state){this._urlChangeListeners.forEach(fn=>fn(url,state))}subscribe(onNext,onThrow,onReturn){return this._subject.subscribe({next:onNext,error:onThrow,complete:onReturn})}static normalizeQueryParams(params){return params&&\"?\"!==params[0]?\"?\"+params:params}static joinWithSlash(start,end){if(0==start.length)return end;if(0==end.length)return start;let slashes=0;return start.endsWith(\"/\")&&slashes++,end.startsWith(\"/\")&&slashes++,2==slashes?start+end.substring(1):1==slashes?start+end:start+\"/\"+end}static stripTrailingSlash(url){const match=url.match(/#|\\?|$/),pathEndIdx=match&&match.index||url.length;return url.slice(0,pathEndIdx-(\"/\"===url[pathEndIdx-1]?1:0))+url.slice(pathEndIdx)}}function _stripIndexHtml(url){return url.replace(/\\/index.html$/,\"\")}class HashLocationStrategy extends LocationStrategy{constructor(_platformLocation,_baseHref){super(),this._platformLocation=_platformLocation,this._baseHref=\"\",null!=_baseHref&&(this._baseHref=_baseHref)}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}path(includeHash=!1){let path=this._platformLocation.hash;return null==path&&(path=\"#\"),path.length>0?path.substring(1):path}prepareExternalUrl(internal){const url=common_Location.joinWithSlash(this._baseHref,internal);return url.length>0?\"#\"+url:url}pushState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+common_Location.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.pushState(state,title,url)}replaceState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+common_Location.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.replaceState(state,title,url)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class PathLocationStrategy extends LocationStrategy{constructor(_platformLocation,href){if(super(),this._platformLocation=_platformLocation,null==href&&(href=this._platformLocation.getBaseHrefFromDOM()),null==href)throw new Error(\"No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.\");this._baseHref=href}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}prepareExternalUrl(internal){return common_Location.joinWithSlash(this._baseHref,internal)}path(includeHash=!1){const pathname=this._platformLocation.pathname+common_Location.normalizeQueryParams(this._platformLocation.search),hash=this._platformLocation.hash;return hash&&includeHash?`${pathname}${hash}`:pathname}pushState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+common_Location.normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)}replaceState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+common_Location.normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const Plural=function(){var Plural={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return Plural[Plural.Zero]=\"Zero\",Plural[Plural.One]=\"One\",Plural[Plural.Two]=\"Two\",Plural[Plural.Few]=\"Few\",Plural[Plural.Many]=\"Many\",Plural[Plural.Other]=\"Other\",Plural}(),common_getLocalePluralCase=function(locale){return function(locale){const normalizedLocale=locale.toLowerCase().replace(/_/g,\"-\");let match=LOCALE_DATA[normalizedLocale];if(match)return match;const parentLocale=normalizedLocale.split(\"-\")[0];if(match=LOCALE_DATA[parentLocale])return match;if(\"en\"===parentLocale)return localeEn;throw new Error(`Missing locale data for the locale \"${locale}\".`)}(locale)[LocaleDataIndex.PluralCase]},DEPRECATED_PLURAL_FN=new InjectionToken(\"UseV4Plurals\");class NgLocalization{}class NgLocaleLocalization extends NgLocalization{constructor(locale,deprecatedPluralFn){super(),this.locale=locale,this.deprecatedPluralFn=deprecatedPluralFn}getPluralCategory(value,locale){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(locale||this.locale,value):common_getLocalePluralCase(locale||this.locale)(value)){case Plural.Zero:return\"zero\";case Plural.One:return\"one\";case Plural.Two:return\"two\";case Plural.Few:return\"few\";case Plural.Many:return\"many\";default:return\"other\"}}}function parseCookieValue(cookieStr,name){name=encodeURIComponent(name);for(const cookie of cookieStr.split(\";\")){const eqIndex=cookie.indexOf(\"=\"),[cookieName,cookieValue]=-1==eqIndex?[cookie,\"\"]:[cookie.slice(0,eqIndex),cookie.slice(eqIndex+1)];if(cookieName.trim()===name)return decodeURIComponent(cookieValue)}return null}class NgClassImpl{}class common_NgClassR2Impl{constructor(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers,this._keyValueDiffers=_keyValueDiffers,this._ngEl=_ngEl,this._renderer=_renderer,this._initialClasses=[]}getValue(){return null}setClass(value){this._removeClasses(this._initialClasses),this._initialClasses=\"string\"==typeof value?value.split(/\\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(value){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass=\"string\"==typeof value?value.split(/\\s+/):value,this._rawClass&&(isListLikeIterable$1(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const iterableChanges=this._iterableDiffer.diff(this._rawClass);iterableChanges&&this._applyIterableChanges(iterableChanges)}else if(this._keyValueDiffer){const keyValueChanges=this._keyValueDiffer.diff(this._rawClass);keyValueChanges&&this._applyKeyValueChanges(keyValueChanges)}}_applyKeyValueChanges(changes){changes.forEachAddedItem(record=>this._toggleClass(record.key,record.currentValue)),changes.forEachChangedItem(record=>this._toggleClass(record.key,record.currentValue)),changes.forEachRemovedItem(record=>{record.previousValue&&this._toggleClass(record.key,!1)})}_applyIterableChanges(changes){changes.forEachAddedItem(record=>{if(\"string\"!=typeof record.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${stringify(record.item)}`);this._toggleClass(record.item,!0)}),changes.forEachRemovedItem(record=>this._toggleClass(record.item,!1))}_applyClasses(rawClassVal){rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(klass=>this._toggleClass(klass,!0)):Object.keys(rawClassVal).forEach(klass=>this._toggleClass(klass,!!rawClassVal[klass])))}_removeClasses(rawClassVal){rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(klass=>this._toggleClass(klass,!1)):Object.keys(rawClassVal).forEach(klass=>this._toggleClass(klass,!1)))}_toggleClass(klass,enabled){(klass=klass.trim())&&klass.split(/\\s+/g).forEach(klass=>{enabled?this._renderer.addClass(this._ngEl.nativeElement,klass):this._renderer.removeClass(this._ngEl.nativeElement,klass)})}}let NgClassBase=(()=>{class NgClassBase{constructor(_delegate){this._delegate=_delegate}getValue(){return this._delegate.getValue()}}return NgClassBase.ngDirectiveDef=void 0,NgClassBase})();class NgClass extends NgClassBase{constructor(delegate){super(delegate)}set klass(value){this._delegate.setClass(value)}set ngClass(value){this._delegate.setNgClass(value)}ngDoCheck(){this._delegate.applyChanges()}}class NgForOfContext{constructor($implicit,ngForOf,index,count){this.$implicit=$implicit,this.ngForOf=ngForOf,this.index=index,this.count=count}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class common_NgForOf{constructor(_viewContainer,_template,_differs){this._viewContainer=_viewContainer,this._template=_template,this._differs=_differs,this._ngForOfDirty=!0,this._differ=null}set ngForOf(ngForOf){this._ngForOf=ngForOf,this._ngForOfDirty=!0}set ngForTrackBy(fn){isDevMode()&&null!=fn&&\"function\"!=typeof fn&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(fn)}. `+\"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.\"),this._trackByFn=fn}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(value){value&&(this._template=value)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const value=this._ngForOf;if(!this._differ&&value)try{this._differ=this._differs.find(value).create(this.ngForTrackBy)}catch(_a){throw new Error(`Cannot find a differ supporting object '${value}' of type '${type=value,type.name||typeof type}'. NgFor only supports binding to Iterables such as Arrays.`)}}var type;if(this._differ){const changes=this._differ.diff(this._ngForOf);changes&&this._applyChanges(changes)}}_applyChanges(changes){const insertTuples=[];changes.forEachOperation((item,adjustedPreviousIndex,currentIndex)=>{if(null==item.previousIndex){const view=this._viewContainer.createEmbeddedView(this._template,new NgForOfContext(null,this._ngForOf,-1,-1),null===currentIndex?void 0:currentIndex),tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}else if(null==currentIndex)this._viewContainer.remove(null===adjustedPreviousIndex?void 0:adjustedPreviousIndex);else if(null!==adjustedPreviousIndex){const view=this._viewContainer.get(adjustedPreviousIndex);this._viewContainer.move(view,currentIndex);const tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}});for(let i=0;i<insertTuples.length;i++)this._perViewChange(insertTuples[i].view,insertTuples[i].record);for(let i=0,ilen=this._viewContainer.length;i<ilen;i++){const viewRef=this._viewContainer.get(i);viewRef.context.index=i,viewRef.context.count=ilen,viewRef.context.ngForOf=this._ngForOf}changes.forEachIdentityChange(record=>{this._viewContainer.get(record.currentIndex).context.$implicit=record.item})}_perViewChange(view,record){view.context.$implicit=record.item}static ngTemplateContextGuard(dir,ctx){return!0}}class RecordViewTuple{constructor(record,view){this.record=record,this.view=view}}class NgIf{constructor(_viewContainer,templateRef){this._viewContainer=_viewContainer,this._context=new NgIfContext,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=templateRef}set ngIf(condition){this._context.$implicit=this._context.ngIf=condition,this._updateView()}set ngIfThen(templateRef){assertTemplate(\"ngIfThen\",templateRef),this._thenTemplateRef=templateRef,this._thenViewRef=null,this._updateView()}set ngIfElse(templateRef){assertTemplate(\"ngIfElse\",templateRef),this._elseTemplateRef=templateRef,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class NgIfContext{constructor(){this.$implicit=null,this.ngIf=null}}function assertTemplate(property,templateRef){if(templateRef&&!templateRef.createEmbeddedView)throw new Error(`${property} must be a TemplateRef, but received '${stringify(templateRef)}'.`)}class SwitchView{constructor(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef,this._templateRef=_templateRef,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(created){created&&!this._created?this.create():!created&&this._created&&this.destroy()}}class NgSwitch{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(newValue){this._ngSwitch=newValue,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(view){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(view)}_matchCase(value){const matched=value==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||matched,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),matched}_updateDefaultCases(useDefault){if(this._defaultViews&&useDefault!==this._defaultUsed){this._defaultUsed=useDefault;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(useDefault)}}}class NgSwitchCase{constructor(viewContainer,templateRef,ngSwitch){this.ngSwitch=ngSwitch,ngSwitch._addCase(),this._view=new SwitchView(viewContainer,templateRef)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class CommonModule{}const DOCUMENT=new InjectionToken(\"DocumentToken\"),PLATFORM_SERVER_ID=\"server\";let common_ViewportScroller=(()=>{class ViewportScroller{}return ViewportScroller.ngInjectableDef=ɵɵdefineInjectable({token:ViewportScroller,providedIn:\"root\",factory:()=>new BrowserViewportScroller(ɵɵinject(DOCUMENT),window,ɵɵinject(ErrorHandler))}),ViewportScroller})();class BrowserViewportScroller{constructor(document,window,errorHandler){this.document=document,this.window=window,this.errorHandler=errorHandler,this.offset=()=>[0,0]}setOffset(offset){this.offset=Array.isArray(offset)?()=>offset:offset}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(position){this.supportScrollRestoration()&&this.window.scrollTo(position[0],position[1])}scrollToAnchor(anchor){if(this.supportScrollRestoration()){anchor=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(anchor):anchor.replace(/(\\\"|\\'\\ |:|\\.|\\[|\\]|,|=)/g,\"\\\\$1\");try{const elSelectedById=this.document.querySelector(`#${anchor}`);if(elSelectedById)return void this.scrollToElement(elSelectedById);const elSelectedByName=this.document.querySelector(`[name='${anchor}']`);if(elSelectedByName)return void this.scrollToElement(elSelectedByName)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(scrollRestoration){if(this.supportScrollRestoration()){const history=this.window.history;history&&history.scrollRestoration&&(history.scrollRestoration=scrollRestoration)}}scrollToElement(el){const rect=el.getBoundingClientRect(),left=rect.left+this.window.pageXOffset,top=rect.top+this.window.pageYOffset,offset=this.offset();this.window.scrollTo(left-offset[0],top-offset[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(_a){return!1}}}const empty_EMPTY=new Observable_Observable(subscriber=>subscriber.complete());function empty_empty(scheduler){return scheduler?function(scheduler){return new Observable_Observable(subscriber=>scheduler.schedule(()=>subscriber.complete()))}(scheduler):empty_EMPTY}function scalar(value){const result=new Observable_Observable(subscriber=>{subscriber.next(value),subscriber.complete()});return result._isScalar=!0,result.value=value,result}function of(...args){let scheduler=args[args.length-1];switch(isScheduler(scheduler)?args.pop():scheduler=void 0,args.length){case 0:return empty_empty(scheduler);case 1:return scheduler?fromArray(args,scheduler):scalar(args[0]);default:return fromArray(args,scheduler)}}class BehaviorSubject_BehaviorSubject extends Subject_Subject{constructor(_value){super(),this._value=_value}get value(){return this.getValue()}_subscribe(subscriber){const subscription=super._subscribe(subscriber);return subscription&&!subscription.closed&&subscriber.next(this._value),subscription}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value}next(value){super.next(this._value=value)}}function EmptyErrorImpl(){return Error.call(this),this.message=\"no elements in sequence\",this.name=\"EmptyError\",this}EmptyErrorImpl.prototype=Object.create(Error.prototype);const EmptyError=EmptyErrorImpl,NONE={};class CombineLatestOperator{constructor(resultSelector){this.resultSelector=resultSelector}call(subscriber,source){return source.subscribe(new combineLatest_CombineLatestSubscriber(subscriber,this.resultSelector))}}class combineLatest_CombineLatestSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,resultSelector){super(destination),this.resultSelector=resultSelector,this.active=0,this.values=[],this.observables=[]}_next(observable){this.values.push(NONE),this.observables.push(observable)}_complete(){const observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{this.active=len,this.toRespond=len;for(let i=0;i<len;i++){const observable=observables[i];this.add(subscribeToResult(this,observable,observable,i))}}}notifyComplete(unused){0==(this.active-=1)&&this.destination.complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){const values=this.values,toRespond=this.toRespond?values[outerIndex]===NONE?--this.toRespond:this.toRespond:0;values[outerIndex]=innerValue,0===toRespond&&(this.resultSelector?this._tryResultSelector(values):this.destination.next(values.slice()))}_tryResultSelector(values){let result;try{result=this.resultSelector.apply(this,values)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}function defer(observableFactory){return new Observable_Observable(subscriber=>{let input;try{input=observableFactory()}catch(err){return void subscriber.error(err)}return(input?from(input):empty_empty()).subscribe(subscriber)})}function concatAll(){return mergeAll(1)}function filter(predicate,thisArg){return function(source){return source.lift(new FilterOperator(predicate,thisArg))}}class FilterOperator{constructor(predicate,thisArg){this.predicate=predicate,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new filter_FilterSubscriber(subscriber,this.predicate,this.thisArg))}}class filter_FilterSubscriber extends Subscriber_Subscriber{constructor(destination,predicate,thisArg){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.count=0}_next(value){let result;try{result=this.predicate.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}result&&this.destination.next(value)}}function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message=\"argument out of range\",this.name=\"ArgumentOutOfRangeError\",this}ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype);const ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl;function takeLast(count){return function(source){return 0===count?empty_empty():source.lift(new takeLast_TakeLastOperator(count))}}class takeLast_TakeLastOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new takeLast_TakeLastSubscriber(subscriber,this.total))}}class takeLast_TakeLastSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.ring=new Array,this.count=0}_next(value){const ring=this.ring,total=this.total,count=this.count++;ring.length<total?ring.push(value):ring[count%total]=value}_complete(){const destination=this.destination;let count=this.count;if(count>0){const total=this.count>=this.total?this.total:this.count,ring=this.ring;for(let i=0;i<total;i++){const idx=count++%total;destination.next(ring[idx])}}destination.complete()}}function tap(nextOrObserver,error,complete){return function(source){return source.lift(new DoOperator(nextOrObserver,error,complete))}}class DoOperator{constructor(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver,this.error=error,this.complete=complete}call(subscriber,source){return source.subscribe(new tap_TapSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))}}class tap_TapSubscriber extends Subscriber_Subscriber{constructor(destination,observerOrNext,error,complete){super(destination),this._tapNext=noop,this._tapError=noop,this._tapComplete=noop,this._tapError=error||noop,this._tapComplete=complete||noop,isFunction(observerOrNext)?(this._context=this,this._tapNext=observerOrNext):observerOrNext&&(this._context=observerOrNext,this._tapNext=observerOrNext.next||noop,this._tapError=observerOrNext.error||noop,this._tapComplete=observerOrNext.complete||noop)}_next(value){try{this._tapNext.call(this._context,value)}catch(err){return void this.destination.error(err)}this.destination.next(value)}_error(err){try{this._tapError.call(this._context,err)}catch(err){return void this.destination.error(err)}this.destination.error(err)}_complete(){try{this._tapComplete.call(this._context)}catch(err){return void this.destination.error(err)}return this.destination.complete()}}const throwIfEmpty=(errorFactory=defaultErrorFactory)=>tap({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw errorFactory()}});function defaultErrorFactory(){return new EmptyError}function defaultIfEmpty(defaultValue=null){return source=>source.lift(new DefaultIfEmptyOperator(defaultValue))}class DefaultIfEmptyOperator{constructor(defaultValue){this.defaultValue=defaultValue}call(subscriber,source){return source.subscribe(new defaultIfEmpty_DefaultIfEmptySubscriber(subscriber,this.defaultValue))}}class defaultIfEmpty_DefaultIfEmptySubscriber extends Subscriber_Subscriber{constructor(destination,defaultValue){super(destination),this.defaultValue=defaultValue,this.isEmpty=!0}_next(value){this.isEmpty=!1,this.destination.next(value)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function last_last(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter((v,i)=>predicate(v,i,source)):identity,takeLast(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}function catchError(selector){return function(source){const operator=new CatchOperator(selector),caught=source.lift(operator);return operator.caught=caught}}class CatchOperator{constructor(selector){this.selector=selector}call(subscriber,source){return source.subscribe(new catchError_CatchSubscriber(subscriber,this.selector,this.caught))}}class catchError_CatchSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,selector,caught){super(destination),this.selector=selector,this.caught=caught}error(err){if(!this.isStopped){let result;try{result=this.selector(err,this.caught)}catch(err2){return void super.error(err2)}this._unsubscribeAndRecycle();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.add(innerSubscriber),subscribeToResult(this,result,void 0,void 0,innerSubscriber)}}}function take(count){return source=>0===count?empty_empty():source.lift(new take_TakeOperator(count))}class take_TakeOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new take_TakeSubscriber(subscriber,this.total))}}class take_TakeSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.count=0}_next(value){const total=this.total,count=++this.count;count<=total&&(this.destination.next(value),count===total&&(this.destination.complete(),this.unsubscribe()))}}function first_first(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter((v,i)=>predicate(v,i,source)):identity,take(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}class EveryOperator{constructor(predicate,thisArg,source){this.predicate=predicate,this.thisArg=thisArg,this.source=source}call(observer,source){return source.subscribe(new every_EverySubscriber(observer,this.predicate,this.thisArg,this.source))}}class every_EverySubscriber extends Subscriber_Subscriber{constructor(destination,predicate,thisArg,source){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.source=source,this.index=0,this.thisArg=thisArg||this}notifyComplete(everyValueMatch){this.destination.next(everyValueMatch),this.destination.complete()}_next(value){let result=!1;try{result=this.predicate.call(this.thisArg,value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function switchMap(project,resultSelector){return\"function\"==typeof resultSelector?source=>source.pipe(switchMap((a,i)=>from(project(a,i)).pipe(map((b,ii)=>resultSelector(a,b,i,ii))))):source=>source.lift(new SwitchMapOperator(project))}class SwitchMapOperator{constructor(project){this.project=project}call(subscriber,source){return source.subscribe(new switchMap_SwitchMapSubscriber(subscriber,this.project))}}class switchMap_SwitchMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project){super(destination),this.project=project,this.index=0}_next(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(error){return void this.destination.error(error)}this._innerSub(result,value,index)}_innerSub(result,value,index){const innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.destination.add(innerSubscriber),this.innerSubscription=subscribeToResult(this,result,value,index,innerSubscriber)}_complete(){const{innerSubscription:innerSubscription}=this;innerSubscription&&!innerSubscription.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(innerSub){this.destination.remove(innerSub),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}}function scan(accumulator,seed){let hasSeed=!1;return arguments.length>=2&&(hasSeed=!0),function(source){return source.lift(new ScanOperator(accumulator,seed,hasSeed))}}class ScanOperator{constructor(accumulator,seed,hasSeed=!1){this.accumulator=accumulator,this.seed=seed,this.hasSeed=hasSeed}call(subscriber,source){return source.subscribe(new scan_ScanSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))}}class scan_ScanSubscriber extends Subscriber_Subscriber{constructor(destination,accumulator,_seed,hasSeed){super(destination),this.accumulator=accumulator,this._seed=_seed,this.hasSeed=hasSeed,this.index=0}get seed(){return this._seed}set seed(value){this.hasSeed=!0,this._seed=value}_next(value){if(this.hasSeed)return this._tryNext(value);this.seed=value,this.destination.next(value)}_tryNext(value){const index=this.index++;let result;try{result=this.accumulator(this.seed,value,index)}catch(err){this.destination.error(err)}this.seed=result,this.destination.next(result)}}function concatMap(project,resultSelector){return mergeMap(project,resultSelector,1)}class FinallyOperator{constructor(callback){this.callback=callback}call(subscriber,source){return source.subscribe(new finalize_FinallySubscriber(subscriber,this.callback))}}class finalize_FinallySubscriber extends Subscriber_Subscriber{constructor(destination,callback){super(destination),this.add(new Subscription_Subscription(callback))}}let _DOM=null;function getDOM(){return _DOM}class DomAdapter{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(value){this._attrToPropMap=value}}class GenericBrowserDomAdapter extends DomAdapter{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const element=this.createElement(\"div\",document);if(null!=this.getStyle(element,\"animationName\"))this._animationPrefix=\"\";else{const domPrefixes=[\"Webkit\",\"Moz\",\"O\",\"ms\"];for(let i=0;i<domPrefixes.length;i++)if(null!=this.getStyle(element,domPrefixes[i]+\"AnimationName\")){this._animationPrefix=\"-\"+domPrefixes[i].toLowerCase()+\"-\";break}}const transEndEventNames={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};Object.keys(transEndEventNames).forEach(key=>{null!=this.getStyle(element,key)&&(this._transitionEnd=transEndEventNames[key])})}catch(_a){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(el){return el.getDistributedNodes()}resolveAndSetHref(el,baseUrl,href){el.href=null==href?baseUrl:baseUrl+\"/../\"+href}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return\"function\"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:\"\"}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:\"\"}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const _attrToPropMap={class:\"className\",innerHtml:\"innerHTML\",readonly:\"readOnly\",tabindex:\"tabIndex\"},DOM_KEY_LOCATION_NUMPAD=3,_keyMap={\"\\b\":\"Backspace\",\"\\t\":\"Tab\",\"\":\"Delete\",\"\u001b\":\"Escape\",Del:\"Delete\",Esc:\"Escape\",Left:\"ArrowLeft\",Right:\"ArrowRight\",Up:\"ArrowUp\",Down:\"ArrowDown\",Menu:\"ContextMenu\",Scroll:\"ScrollLock\",Win:\"OS\"},_chromeNumKeyPadMap={A:\"1\",B:\"2\",C:\"3\",D:\"4\",E:\"5\",F:\"6\",G:\"7\",H:\"8\",I:\"9\",J:\"*\",K:\"+\",M:\"-\",N:\".\",O:\"/\",\"`\":\"0\",\"\":\"NumLock\"},nodeContains=(()=>{if(_global.Node)return _global.Node.prototype.contains||function(node){return!!(16&this.compareDocumentPosition(node))}})();class platform_browser_BrowserDomAdapter extends GenericBrowserDomAdapter{parse(templateHtml){throw new Error(\"parse not implemented\")}static makeCurrent(){var adapter;adapter=new platform_browser_BrowserDomAdapter,_DOM||(_DOM=adapter)}hasProperty(element,name){return name in element}setProperty(el,name,value){el[name]=value}getProperty(el,name){return el[name]}invoke(el,methodName,args){el[methodName](...args)}logError(error){window.console&&(console.error?console.error(error):console.log(error))}log(error){window.console&&window.console.log&&window.console.log(error)}logGroup(error){window.console&&window.console.group&&window.console.group(error)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return _attrToPropMap}contains(nodeA,nodeB){return nodeContains.call(nodeA,nodeB)}querySelector(el,selector){return el.querySelector(selector)}querySelectorAll(el,selector){return el.querySelectorAll(selector)}on(el,evt,listener){el.addEventListener(evt,listener,!1)}onAndCancel(el,evt,listener){return el.addEventListener(evt,listener,!1),()=>{el.removeEventListener(evt,listener,!1)}}dispatchEvent(el,evt){el.dispatchEvent(evt)}createMouseEvent(eventType){const evt=this.getDefaultDocument().createEvent(\"MouseEvent\");return evt.initEvent(eventType,!0,!0),evt}createEvent(eventType){const evt=this.getDefaultDocument().createEvent(\"Event\");return evt.initEvent(eventType,!0,!0),evt}preventDefault(evt){evt.preventDefault(),evt.returnValue=!1}isPrevented(evt){return evt.defaultPrevented||null!=evt.returnValue&&!evt.returnValue}getInnerHTML(el){return el.innerHTML}getTemplateContent(el){return\"content\"in el&&this.isTemplateElement(el)?el.content:null}getOuterHTML(el){return el.outerHTML}nodeName(node){return node.nodeName}nodeValue(node){return node.nodeValue}type(node){return node.type}content(node){return this.hasProperty(node,\"content\")?node.content:node}firstChild(el){return el.firstChild}nextSibling(el){return el.nextSibling}parentElement(el){return el.parentNode}childNodes(el){return el.childNodes}childNodesAsList(el){const childNodes=el.childNodes,res=new Array(childNodes.length);for(let i=0;i<childNodes.length;i++)res[i]=childNodes[i];return res}clearNodes(el){for(;el.firstChild;)el.removeChild(el.firstChild)}appendChild(el,node){el.appendChild(node)}removeChild(el,node){el.removeChild(node)}replaceChild(el,newChild,oldChild){el.replaceChild(newChild,oldChild)}remove(node){return node.parentNode&&node.parentNode.removeChild(node),node}insertBefore(parent,ref,node){parent.insertBefore(node,ref)}insertAllBefore(parent,ref,nodes){nodes.forEach(n=>parent.insertBefore(n,ref))}insertAfter(parent,ref,node){parent.insertBefore(node,ref.nextSibling)}setInnerHTML(el,value){el.innerHTML=value}getText(el){return el.textContent}setText(el,value){el.textContent=value}getValue(el){return el.value}setValue(el,value){el.value=value}getChecked(el){return el.checked}setChecked(el,value){el.checked=value}createComment(text){return this.getDefaultDocument().createComment(text)}createTemplate(html){const t=this.getDefaultDocument().createElement(\"template\");return t.innerHTML=html,t}createElement(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)}createElementNS(ns,tagName,doc){return(doc=doc||this.getDefaultDocument()).createElementNS(ns,tagName)}createTextNode(text,doc){return(doc=doc||this.getDefaultDocument()).createTextNode(text)}createScriptTag(attrName,attrValue,doc){const el=(doc=doc||this.getDefaultDocument()).createElement(\"SCRIPT\");return el.setAttribute(attrName,attrValue),el}createStyleElement(css,doc){const style=(doc=doc||this.getDefaultDocument()).createElement(\"style\");return this.appendChild(style,this.createTextNode(css,doc)),style}createShadowRoot(el){return el.createShadowRoot()}getShadowRoot(el){return el.shadowRoot}getHost(el){return el.host}clone(node){return node.cloneNode(!0)}getElementsByClassName(element,name){return element.getElementsByClassName(name)}getElementsByTagName(element,name){return element.getElementsByTagName(name)}classList(element){return Array.prototype.slice.call(element.classList,0)}addClass(element,className){element.classList.add(className)}removeClass(element,className){element.classList.remove(className)}hasClass(element,className){return element.classList.contains(className)}setStyle(element,styleName,styleValue){element.style[styleName]=styleValue}removeStyle(element,stylename){element.style[stylename]=\"\"}getStyle(element,stylename){return element.style[stylename]}hasStyle(element,styleName,styleValue){const value=this.getStyle(element,styleName)||\"\";return styleValue?value==styleValue:value.length>0}tagName(element){return element.tagName}attributeMap(element){const res=new Map,elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const attrib=elAttrs.item(i);res.set(attrib.name,attrib.value)}return res}hasAttribute(element,attribute){return element.hasAttribute(attribute)}hasAttributeNS(element,ns,attribute){return element.hasAttributeNS(ns,attribute)}getAttribute(element,attribute){return element.getAttribute(attribute)}getAttributeNS(element,ns,name){return element.getAttributeNS(ns,name)}setAttribute(element,name,value){element.setAttribute(name,value)}setAttributeNS(element,ns,name,value){element.setAttributeNS(ns,name,value)}removeAttribute(element,attribute){element.removeAttribute(attribute)}removeAttributeNS(element,ns,name){element.removeAttributeNS(ns,name)}templateAwareRoot(el){return this.isTemplateElement(el)?this.content(el):el}createHtmlDocument(){return document.implementation.createHTMLDocument(\"fakeTitle\")}getDefaultDocument(){return document}getBoundingClientRect(el){try{return el.getBoundingClientRect()}catch(_a){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(doc){return doc.title}setTitle(doc,newTitle){doc.title=newTitle||\"\"}elementMatches(n,selector){return!!this.isElementNode(n)&&(n.matches&&n.matches(selector)||n.msMatchesSelector&&n.msMatchesSelector(selector)||n.webkitMatchesSelector&&n.webkitMatchesSelector(selector))}isTemplateElement(el){return this.isElementNode(el)&&\"TEMPLATE\"===el.nodeName}isTextNode(node){return node.nodeType===Node.TEXT_NODE}isCommentNode(node){return node.nodeType===Node.COMMENT_NODE}isElementNode(node){return node.nodeType===Node.ELEMENT_NODE}hasShadowRoot(node){return null!=node.shadowRoot&&node instanceof HTMLElement}isShadowRoot(node){return node instanceof DocumentFragment}importIntoDoc(node){return document.importNode(this.templateAwareRoot(node),!0)}adoptNode(node){return document.adoptNode(node)}getHref(el){return el.getAttribute(\"href\")}getEventKey(event){let key=event.key;if(null==key){if(null==(key=event.keyIdentifier))return\"Unidentified\";key.startsWith(\"U+\")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),event.location===DOM_KEY_LOCATION_NUMPAD&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap[key]||key}getGlobalEventTarget(doc,target){return\"window\"===target?window:\"document\"===target?doc:\"body\"===target?doc.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(doc){const href=baseElement||(baseElement=document.querySelector(\"base\"))?baseElement.getAttribute(\"href\"):null;return null==href?null:(url=href,urlParsingNode||(urlParsingNode=document.createElement(\"a\")),urlParsingNode.setAttribute(\"href\",url),\"/\"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:\"/\"+urlParsingNode.pathname);var url}resetBaseElement(){baseElement=null}getUserAgent(){return window.navigator.userAgent}setData(element,name,value){this.setAttribute(element,\"data-\"+name,value)}getData(element,name){return this.getAttribute(element,\"data-\"+name)}getComputedStyle(element){return getComputedStyle(element)}supportsWebAnimation(){return\"function\"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(name){return parseCookieValue(document.cookie,name)}setCookie(name,value){document.cookie=encodeURIComponent(name)+\"=\"+encodeURIComponent(value)}}let urlParsingNode,baseElement=null;function supportsState(){return!!window.history.pushState}const TRANSITION_ID=new InjectionToken(\"TRANSITION_ID\"),SERVER_TRANSITION_PROVIDERS=[{provide:APP_INITIALIZER,useFactory:function(transitionId,document,injector){return()=>{injector.get(ApplicationInitStatus).donePromise.then(()=>{const dom=getDOM();Array.prototype.slice.apply(dom.querySelectorAll(document,\"style[ng-transition]\")).filter(el=>dom.getAttribute(el,\"ng-transition\")===transitionId).forEach(el=>dom.remove(el))})}},deps:[TRANSITION_ID,DOCUMENT,Injector],multi:!0}];class platform_browser_BrowserGetTestability{static init(){var getter;getter=new platform_browser_BrowserGetTestability,_testabilityGetter=getter}addToWindow(registry){_global.getAngularTestability=(elem,findInAncestors=!0)=>{const testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error(\"Could not find testability for element.\");return testability},_global.getAllAngularTestabilities=()=>registry.getAllTestabilities(),_global.getAllAngularRootElements=()=>registry.getAllRootElements(),_global.frameworkStabilizers||(_global.frameworkStabilizers=[]),_global.frameworkStabilizers.push(callback=>{const testabilities=_global.getAllAngularTestabilities();let count=testabilities.length,didWork=!1;const decrement=function(didWork_){didWork=didWork||didWork_,0==--count&&callback(didWork)};testabilities.forEach((function(testability){testability.whenStable(decrement)}))})}findTestabilityInTree(registry,elem,findInAncestors){if(null==elem)return null;const t=registry.getTestability(elem);return null!=t?t:findInAncestors?getDOM().isShadowRoot(elem)?this.findTestabilityInTree(registry,getDOM().getHost(elem),!0):this.findTestabilityInTree(registry,getDOM().parentElement(elem),!0):null}}function exportNgVar(name,value){\"undefined\"!=typeof COMPILED&&COMPILED||((_global.ng=_global.ng||{})[name]=value)}const CORE_TOKENS=(()=>({ApplicationRef:core_ApplicationRef,NgZone:NgZone}))();function inspectNativeElement(element){return getDebugNode(element)}const EVENT_MANAGER_PLUGINS=new InjectionToken(\"EventManagerPlugins\");class EventManager{constructor(plugins,_zone){this._zone=_zone,this._eventNameToPlugin=new Map,plugins.forEach(p=>p.manager=this),this._plugins=plugins.slice().reverse()}addEventListener(element,eventName,handler){return this._findPluginFor(eventName).addEventListener(element,eventName,handler)}addGlobalEventListener(target,eventName,handler){return this._findPluginFor(eventName).addGlobalEventListener(target,eventName,handler)}getZone(){return this._zone}_findPluginFor(eventName){const plugin=this._eventNameToPlugin.get(eventName);if(plugin)return plugin;const plugins=this._plugins;for(let i=0;i<plugins.length;i++){const plugin=plugins[i];if(plugin.supports(eventName))return this._eventNameToPlugin.set(eventName,plugin),plugin}throw new Error(`No event manager plugin found for event ${eventName}`)}}class EventManagerPlugin{constructor(_doc){this._doc=_doc}addGlobalEventListener(element,eventName,handler){const target=getDOM().getGlobalEventTarget(this._doc,element);if(!target)throw new Error(`Unsupported event target ${target} for event ${eventName}`);return this.addEventListener(target,eventName,handler)}}class SharedStylesHost{constructor(){this._stylesSet=new Set}addStyles(styles){const additions=new Set;styles.forEach(style=>{this._stylesSet.has(style)||(this._stylesSet.add(style),additions.add(style))}),this.onStylesAdded(additions)}onStylesAdded(additions){}getAllStyles(){return Array.from(this._stylesSet)}}class DomSharedStylesHost extends SharedStylesHost{constructor(_doc){super(),this._doc=_doc,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(_doc.head)}_addStylesToHost(styles,host){styles.forEach(style=>{const styleEl=this._doc.createElement(\"style\");styleEl.textContent=style,this._styleNodes.add(host.appendChild(styleEl))})}addHost(hostNode){this._addStylesToHost(this._stylesSet,hostNode),this._hostNodes.add(hostNode)}removeHost(hostNode){this._hostNodes.delete(hostNode)}onStylesAdded(additions){this._hostNodes.forEach(hostNode=>this._addStylesToHost(additions,hostNode))}ngOnDestroy(){this._styleNodes.forEach(styleNode=>getDOM().remove(styleNode))}}const NAMESPACE_URIS={svg:\"http://www.w3.org/2000/svg\",xhtml:\"http://www.w3.org/1999/xhtml\",xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},COMPONENT_REGEX=/%COMP%/g,HOST_ATTR=\"_nghost-%COMP%\",CONTENT_ATTR=\"_ngcontent-%COMP%\";function flattenStyles(compId,styles,target){for(let i=0;i<styles.length;i++){let style=styles[i];Array.isArray(style)?flattenStyles(compId,style,target):(style=style.replace(COMPONENT_REGEX,compId),target.push(style))}return target}function decoratePreventDefault(eventHandler){return event=>{!1===eventHandler(event)&&(event.preventDefault(),event.returnValue=!1)}}class platform_browser_DomRendererFactory2{constructor(eventManager,sharedStylesHost,appId){this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.appId=appId,this.rendererByCompId=new Map,this.defaultRenderer=new platform_browser_DefaultDomRenderer2(eventManager)}createRenderer(element,type){if(!element||!type)return this.defaultRenderer;switch(type.encapsulation){case ViewEncapsulation.Emulated:{let renderer=this.rendererByCompId.get(type.id);return renderer||(renderer=new EmulatedEncapsulationDomRenderer2(this.eventManager,this.sharedStylesHost,type,this.appId),this.rendererByCompId.set(type.id,renderer)),renderer.applyToHost(element),renderer}case ViewEncapsulation.Native:case ViewEncapsulation.ShadowDom:return new platform_browser_ShadowDomRenderer(this.eventManager,this.sharedStylesHost,element,type);default:if(!this.rendererByCompId.has(type.id)){const styles=flattenStyles(type.id,type.styles,[]);this.sharedStylesHost.addStyles(styles),this.rendererByCompId.set(type.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class platform_browser_DefaultDomRenderer2{constructor(eventManager){this.eventManager=eventManager,this.data=Object.create(null)}destroy(){}createElement(name,namespace){return namespace?document.createElementNS(NAMESPACE_URIS[namespace]||namespace,name):document.createElement(name)}createComment(value){return document.createComment(value)}createText(value){return document.createTextNode(value)}appendChild(parent,newChild){parent.appendChild(newChild)}insertBefore(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)}removeChild(parent,oldChild){parent&&parent.removeChild(oldChild)}selectRootElement(selectorOrNode,preserveContent){let el=\"string\"==typeof selectorOrNode?document.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new Error(`The selector \"${selectorOrNode}\" did not match any elements`);return preserveContent||(el.textContent=\"\"),el}parentNode(node){return node.parentNode}nextSibling(node){return node.nextSibling}setAttribute(el,name,value,namespace){if(namespace){name=namespace+\":\"+name;const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)}else el.setAttribute(name,value)}removeAttribute(el,name,namespace){if(namespace){const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(`${namespace}:${name}`)}else el.removeAttribute(name)}addClass(el,name){el.classList.add(name)}removeClass(el,name){el.classList.remove(name)}setStyle(el,style,value,flags){flags&RendererStyleFlags2.DashCase?el.style.setProperty(style,value,flags&RendererStyleFlags2.Important?\"important\":\"\"):el.style[style]=value}removeStyle(el,style,flags){flags&RendererStyleFlags2.DashCase?el.style.removeProperty(style):el.style[style]=\"\"}setProperty(el,name,value){checkNoSyntheticProp(name,\"property\"),el[name]=value}setValue(node,value){node.nodeValue=value}listen(target,event,callback){return checkNoSyntheticProp(event,\"listener\"),\"string\"==typeof target?this.eventManager.addGlobalEventListener(target,event,decoratePreventDefault(callback)):this.eventManager.addEventListener(target,event,decoratePreventDefault(callback))}}const AT_CHARCODE=(()=>\"@\".charCodeAt(0))();function checkNoSyntheticProp(name,nameKind){if(name.charCodeAt(0)===AT_CHARCODE)throw new Error(`Found the synthetic ${nameKind} ${name}. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.`)}class EmulatedEncapsulationDomRenderer2 extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,component,appId){super(eventManager),this.component=component;const styles=flattenStyles(appId+\"-\"+component.id,component.styles,[]);sharedStylesHost.addStyles(styles),this.contentAttr=CONTENT_ATTR.replace(COMPONENT_REGEX,appId+\"-\"+component.id),this.hostAttr=HOST_ATTR.replace(COMPONENT_REGEX,appId+\"-\"+component.id)}applyToHost(element){super.setAttribute(element,this.hostAttr,\"\")}createElement(parent,name){const el=super.createElement(parent,name);return super.setAttribute(el,this.contentAttr,\"\"),el}}class platform_browser_ShadowDomRenderer extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,hostEl,component){super(eventManager),this.sharedStylesHost=sharedStylesHost,this.hostEl=hostEl,this.component=component,this.shadowRoot=component.encapsulation===ViewEncapsulation.ShadowDom?hostEl.attachShadow({mode:\"open\"}):hostEl.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const styles=flattenStyles(component.id,component.styles,[]);for(let i=0;i<styles.length;i++){const styleEl=document.createElement(\"style\");styleEl.textContent=styles[i],this.shadowRoot.appendChild(styleEl)}}nodeOrShadowRoot(node){return node===this.hostEl?this.shadowRoot:node}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(parent,newChild){return super.appendChild(this.nodeOrShadowRoot(parent),newChild)}insertBefore(parent,newChild,refChild){return super.insertBefore(this.nodeOrShadowRoot(parent),newChild,refChild)}removeChild(parent,oldChild){return super.removeChild(this.nodeOrShadowRoot(parent),oldChild)}parentNode(node){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)))}}const __symbol__=(()=>\"undefined\"!=typeof Zone&&Zone.__symbol__||function(v){return\"__zone_symbol__\"+v})(),ADD_EVENT_LISTENER=__symbol__(\"addEventListener\"),REMOVE_EVENT_LISTENER=__symbol__(\"removeEventListener\"),symbolNames={},FALSE=\"FALSE\",ANGULAR=\"ANGULAR\",NATIVE_ADD_LISTENER=\"addEventListener\",NATIVE_REMOVE_LISTENER=\"removeEventListener\",stopSymbol=\"__zone_symbol__propagationStopped\",stopMethodSymbol=\"__zone_symbol__stopImmediatePropagation\",blackListedMap=(()=>{const blackListedEvents=\"undefined\"!=typeof Zone&&Zone[__symbol__(\"BLACK_LISTED_EVENTS\")];if(blackListedEvents){const res={};return blackListedEvents.forEach(eventName=>{res[eventName]=eventName}),res}})(),isBlackListedEvent=function(eventName){return!!blackListedMap&&blackListedMap.hasOwnProperty(eventName)},globalListener=function(event){const symbolName=symbolNames[event.type];if(!symbolName)return;const taskDatas=this[symbolName];if(!taskDatas)return;const args=[event];if(1===taskDatas.length){const taskData=taskDatas[0];return taskData.zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args)}{const copiedTasks=taskDatas.slice();for(let i=0;i<copiedTasks.length&&!0!==event[stopSymbol];i++){const taskData=copiedTasks[i];taskData.zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args)}}};class platform_browser_DomEventsPlugin extends EventManagerPlugin{constructor(doc,ngZone,platformId){super(doc),this.ngZone=ngZone,platformId&&function(platformId){return platformId===PLATFORM_SERVER_ID}(platformId)||this.patchEvent()}patchEvent(){if(\"undefined\"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[stopMethodSymbol])return;const delegate=Event.prototype[stopMethodSymbol]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[stopSymbol]=!0),delegate&&delegate.apply(this,arguments)}}supports(eventName){return!0}addEventListener(element,eventName,handler){let callback=handler;if(!element[ADD_EVENT_LISTENER]||NgZone.isInAngularZone()&&!isBlackListedEvent(eventName))element[NATIVE_ADD_LISTENER](eventName,callback,!1);else{let symbolName=symbolNames[eventName];symbolName||(symbolName=symbolNames[eventName]=__symbol__(ANGULAR+eventName+FALSE));let taskDatas=element[symbolName];const globalListenerRegistered=taskDatas&&taskDatas.length>0;taskDatas||(taskDatas=element[symbolName]=[]);const zone=isBlackListedEvent(eventName)?Zone.root:Zone.current;if(0===taskDatas.length)taskDatas.push({zone:zone,handler:callback});else{let callbackRegistered=!1;for(let i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){callbackRegistered=!0;break}callbackRegistered||taskDatas.push({zone:zone,handler:callback})}globalListenerRegistered||element[ADD_EVENT_LISTENER](eventName,globalListener,!1)}return()=>this.removeEventListener(element,eventName,callback)}removeEventListener(target,eventName,callback){let underlyingRemove=target[REMOVE_EVENT_LISTENER];if(!underlyingRemove)return target[NATIVE_REMOVE_LISTENER].apply(target,[eventName,callback,!1]);let symbolName=symbolNames[eventName],taskDatas=symbolName&&target[symbolName];if(!taskDatas)return target[NATIVE_REMOVE_LISTENER].apply(target,[eventName,callback,!1]);let found=!1;for(let i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){found=!0,taskDatas.splice(i,1);break}found?0===taskDatas.length&&underlyingRemove.apply(target,[eventName,globalListener,!1]):target[NATIVE_REMOVE_LISTENER].apply(target,[eventName,callback,!1])}}const EVENT_NAMES={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HAMMER_GESTURE_CONFIG=new InjectionToken(\"HammerGestureConfig\"),HAMMER_LOADER=new InjectionToken(\"HammerLoader\");class HammerGestureConfig{constructor(){this.events=[],this.overrides={}}buildHammer(element){const mc=new Hammer(element,this.options);mc.get(\"pinch\").set({enable:!0}),mc.get(\"rotate\").set({enable:!0});for(const eventName in this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc}}class HammerGesturesPlugin extends EventManagerPlugin{constructor(doc,_config,console,loader){super(doc),this._config=_config,this.console=console,this.loader=loader}supports(eventName){return!(!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase())&&!this.isCustomEvent(eventName)||!window.Hammer&&!this.loader&&(this.console.warn(`The \"${eventName}\" event cannot be bound because Hammer.JS is not `+\"loaded and no custom loader has been specified.\"),1))}addEventListener(element,eventName,handler){const zone=this.manager.getZone();if(eventName=eventName.toLowerCase(),!window.Hammer&&this.loader){let cancelRegistration=!1,deregister=()=>{cancelRegistration=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn(\"The custom HAMMER_LOADER completed, but Hammer.JS is not present.\"),void(deregister=()=>{});cancelRegistration||(deregister=this.addEventListener(element,eventName,handler))}).catch(()=>{this.console.warn(`The \"${eventName}\" event cannot be bound because the custom `+\"Hammer.JS loader failed.\"),deregister=()=>{}}),()=>{deregister()}}return zone.runOutsideAngular(()=>{const mc=this._config.buildHammer(element),callback=function(eventObj){zone.runGuarded((function(){handler(eventObj)}))};return mc.on(eventName,callback),()=>{mc.off(eventName,callback),\"function\"==typeof mc.destroy&&mc.destroy()}})}isCustomEvent(eventName){return this._config.events.indexOf(eventName)>-1}}const MODIFIER_KEYS=[\"alt\",\"control\",\"meta\",\"shift\"],MODIFIER_KEY_GETTERS={alt:event=>event.altKey,control:event=>event.ctrlKey,meta:event=>event.metaKey,shift:event=>event.shiftKey};class KeyEventsPlugin extends EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return null!=KeyEventsPlugin.parseEventName(eventName)}addEventListener(element,eventName,handler){const parsedEvent=KeyEventsPlugin.parseEventName(eventName),outsideHandler=KeyEventsPlugin.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>getDOM().onAndCancel(element,parsedEvent.domEventName,outsideHandler))}static parseEventName(eventName){const parts=eventName.toLowerCase().split(\".\"),domEventName=parts.shift();if(0===parts.length||\"keydown\"!==domEventName&&\"keyup\"!==domEventName)return null;const key=KeyEventsPlugin._normalizeKey(parts.pop());let fullKey=\"\";if(MODIFIER_KEYS.forEach(modifierName=>{const index=parts.indexOf(modifierName);index>-1&&(parts.splice(index,1),fullKey+=modifierName+\".\")}),fullKey+=key,0!=parts.length||0===key.length)return null;const result={};return result.domEventName=domEventName,result.fullKey=fullKey,result}static getEventFullKey(event){let fullKey=\"\",key=getDOM().getEventKey(event);return\" \"===(key=key.toLowerCase())?key=\"space\":\".\"===key&&(key=\"dot\"),MODIFIER_KEYS.forEach(modifierName=>{modifierName!=key&&(0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(fullKey+=modifierName+\".\")}),fullKey+=key}static eventCallback(fullKey,handler,zone){return event=>{KeyEventsPlugin.getEventFullKey(event)===fullKey&&zone.runGuarded(()=>handler(event))}}static _normalizeKey(keyName){switch(keyName){case\"esc\":return\"escape\";default:return keyName}}}class DomSanitizer{}class platform_browser_DomSanitizerImpl extends DomSanitizer{constructor(_doc){super(),this._doc=_doc}sanitize(ctx,value){if(null==value)return null;switch(ctx){case SecurityContext.NONE:return value;case SecurityContext.HTML:return value instanceof SafeHtmlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,\"HTML\"),function(defaultDoc,unsafeHtmlInput){let inertBodyElement=null;try{inertBodyHelper=inertBodyHelper||new InertBodyHelper(defaultDoc);let unsafeHtml=unsafeHtmlInput?String(unsafeHtmlInput):\"\";inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml);let mXSSAttempts=5,parsedHtml=unsafeHtml;do{if(0===mXSSAttempts)throw new Error(\"Failed to sanitize html because the input is unstable\");mXSSAttempts--,unsafeHtml=parsedHtml,parsedHtml=inertBodyElement.innerHTML,inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml)}while(unsafeHtml!==parsedHtml);const sanitizer=new SanitizingHtmlSerializer,safeHtml=sanitizer.sanitizeChildren(getTemplateContent(inertBodyElement)||inertBodyElement);return isDevMode()&&sanitizer.sanitizedSomething&&console.warn(\"WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss\"),safeHtml}finally{if(inertBodyElement){const parent=getTemplateContent(inertBodyElement)||inertBodyElement;for(;parent.firstChild;)parent.removeChild(parent.firstChild)}}}(this._doc,String(value)));case SecurityContext.STYLE:return value instanceof SafeStyleImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,\"Style\"),function(value){if(!(value=String(value).trim()))return\"\";const urlMatch=value.match(URL_RE);return urlMatch&&_sanitizeUrl(urlMatch[1])===urlMatch[1]||value.match(SAFE_STYLE_VALUE)&&function(value){let outsideSingle=!0,outsideDouble=!0;for(let i=0;i<value.length;i++){const c=value.charAt(i);\"'\"===c&&outsideDouble?outsideSingle=!outsideSingle:'\"'===c&&outsideSingle&&(outsideDouble=!outsideDouble)}return outsideSingle&&outsideDouble}(value)?value:(isDevMode()&&console.warn(`WARNING: sanitizing unsafe style value ${value} (see http://g.co/ng/security#xss).`),\"unsafe\")}(value));case SecurityContext.SCRIPT:if(value instanceof SafeScriptImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,\"Script\"),new Error(\"unsafe value used in a script context\");case SecurityContext.URL:return value instanceof SafeResourceUrlImpl||value instanceof SafeUrlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,\"URL\"),_sanitizeUrl(String(value)));case SecurityContext.RESOURCE_URL:if(value instanceof SafeResourceUrlImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,\"ResourceURL\"),new Error(\"unsafe value used in a resource URL context (see http://g.co/ng/security#xss)\");default:throw new Error(`Unexpected SecurityContext ${ctx} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(value,expectedType){if(value instanceof SafeValueImpl)throw new Error(`Required a safe ${expectedType}, got a ${value.getTypeName()} `+\"(see http://g.co/ng/security#xss)\")}bypassSecurityTrustHtml(value){return new SafeHtmlImpl(value)}bypassSecurityTrustStyle(value){return new SafeStyleImpl(value)}bypassSecurityTrustScript(value){return new SafeScriptImpl(value)}bypassSecurityTrustUrl(value){return new SafeUrlImpl(value)}bypassSecurityTrustResourceUrl(value){return new SafeResourceUrlImpl(value)}}class SafeValueImpl{constructor(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+\" (see http://g.co/ng/security#xss)\"}}class SafeHtmlImpl extends SafeValueImpl{getTypeName(){return\"HTML\"}}class SafeStyleImpl extends SafeValueImpl{getTypeName(){return\"Style\"}}class SafeScriptImpl extends SafeValueImpl{getTypeName(){return\"Script\"}}class SafeUrlImpl extends SafeValueImpl{getTypeName(){return\"URL\"}}class SafeResourceUrlImpl extends SafeValueImpl{getTypeName(){return\"ResourceURL\"}}const platformBrowser=createPlatformFactory(platformCore,\"browser\",[{provide:PLATFORM_ID,useValue:\"browser\"},{provide:PLATFORM_INITIALIZER,useValue:function(){platform_browser_BrowserDomAdapter.makeCurrent(),platform_browser_BrowserGetTestability.init()},multi:!0},{provide:PlatformLocation,useClass:class extends PlatformLocation{constructor(_doc){super(),this._doc=_doc,this._init()}_init(){this.location=getDOM().getLocation(),this._history=getDOM().getHistory()}getBaseHrefFromDOM(){return getDOM().getBaseHref(this._doc)}onPopState(fn){getDOM().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"popstate\",fn,!1)}onHashChange(fn){getDOM().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"hashchange\",fn,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(newPath){this.location.pathname=newPath}pushState(state,title,url){supportsState()?this._history.pushState(state,title,url):this.location.hash=url}replaceState(state,title,url){supportsState()?this._history.replaceState(state,title,url):this.location.hash=url}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[DOCUMENT]},{provide:DOCUMENT,useFactory:function(){return document},deps:[]}]);function errorHandler(){return new ErrorHandler}class platform_browser_BrowserModule{constructor(parentModule){if(parentModule)throw new Error(\"BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.\")}static withServerTransition(params){return{ngModule:platform_browser_BrowserModule,providers:[{provide:APP_ID,useValue:params.appId},{provide:TRANSITION_ID,useExisting:APP_ID},SERVER_TRANSITION_PROVIDERS]}}}function createTitle(){return new platform_browser_Title(ɵɵinject(DOCUMENT))}let platform_browser_Title=(()=>{class Title{constructor(_doc){this._doc=_doc}getTitle(){return getDOM().getTitle(this._doc)}setTitle(newTitle){getDOM().setTitle(this._doc,newTitle)}}return Title.ngInjectableDef=ɵɵdefineInjectable({factory:createTitle,token:Title,providedIn:\"root\"}),Title})();\"undefined\"!=typeof window&&window;class RouterEvent{constructor(id,url){this.id=id,this.url=url}}class NavigationStart extends RouterEvent{constructor(id,url,navigationTrigger=\"imperative\",restoredState=null){super(id,url),this.navigationTrigger=navigationTrigger,this.restoredState=restoredState}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class NavigationEnd extends RouterEvent{constructor(id,url,urlAfterRedirects){super(id,url),this.urlAfterRedirects=urlAfterRedirects}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NavigationCancel extends RouterEvent{constructor(id,url,reason){super(id,url),this.reason=reason}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NavigationError extends RouterEvent{constructor(id,url,error){super(id,url),this.error=error}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RoutesRecognized extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state,shouldActivate){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.shouldActivate=shouldActivate}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ResolveStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ResolveEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RouteConfigLoadStart{constructor(route){this.route=route}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RouteConfigLoadEnd{constructor(route){this.route=route}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ChildActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class ChildActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class ActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class ActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\"}')`}}class Scroll{constructor(routerEvent,position,anchor){this.routerEvent=routerEvent,this.position=position,this.anchor=anchor}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ɵEmptyOutletComponent{}const PRIMARY_OUTLET=\"primary\";class ParamsAsMap{constructor(params){this.params=params||{}}has(name){return this.params.hasOwnProperty(name)}get(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v[0]:v}return null}getAll(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function convertToParamMap(params){return new ParamsAsMap(params)}const NAVIGATION_CANCELING_ERROR=\"ngNavigationCancelingError\";function navigationCancelingError(message){const error=Error(\"NavigationCancelingError: \"+message);return error[NAVIGATION_CANCELING_ERROR]=!0,error}function defaultUrlMatcher(segments,segmentGroup,route){const parts=route.path.split(\"/\");if(parts.length>segments.length)return null;if(\"full\"===route.pathMatch&&(segmentGroup.hasChildren()||parts.length<segments.length))return null;const posParams={};for(let index=0;index<parts.length;index++){const part=parts[index],segment=segments[index];if(part.startsWith(\":\"))posParams[part.substring(1)]=segment;else if(part!==segment.path)return null}return{consumed:segments.slice(0,parts.length),posParams:posParams}}class LoadedRouterConfig{constructor(routes,module){this.routes=routes,this.module=module}}function validateConfig(config,parentPath=\"\"){for(let i=0;i<config.length;i++){const route=config[i];router_validateNode(route,getFullPath(parentPath,route))}}function router_validateNode(route,fullPath){if(!route)throw new Error(`\\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\\n      The reason might be an extra comma.\\n\\n      Example:\\n      const routes: Routes = [\\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\\n        { path: 'detail/:id', component: HeroDetailComponent }\\n      ];\\n    `);if(Array.isArray(route))throw new Error(`Invalid configuration of route '${fullPath}': Array cannot be specified`);if(!route.component&&!route.children&&!route.loadChildren&&route.outlet&&route.outlet!==PRIMARY_OUTLET)throw new Error(`Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);if(route.redirectTo&&route.children)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);if(route.redirectTo&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);if(route.children&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);if(route.redirectTo&&route.component)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and component cannot be used together`);if(route.path&&route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);if(void 0===route.redirectTo&&!route.component&&!route.children&&!route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===route.path&&void 0===route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);if(\"string\"==typeof route.path&&\"/\"===route.path.charAt(0))throw new Error(`Invalid configuration of route '${fullPath}': path cannot start with a slash`);if(\"\"===route.path&&void 0!==route.redirectTo&&void 0===route.pathMatch)throw new Error(`Invalid configuration of route '{path: \"${fullPath}\", redirectTo: \"${route.redirectTo}\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==route.pathMatch&&\"full\"!==route.pathMatch&&\"prefix\"!==route.pathMatch)throw new Error(`Invalid configuration of route '${fullPath}': pathMatch can only be set to 'prefix' or 'full'`);route.children&&validateConfig(route.children,fullPath)}function getFullPath(parentPath,currentRoute){return currentRoute?parentPath||currentRoute.path?parentPath&&!currentRoute.path?`${parentPath}/`:!parentPath&&currentRoute.path?currentRoute.path:`${parentPath}/${currentRoute.path}`:\"\":parentPath}function standardizeConfig(r){const children=r.children&&r.children.map(standardizeConfig),c=children?Object.assign({},r,{children:children}):Object.assign({},r);return!c.component&&(children||c.loadChildren)&&c.outlet&&c.outlet!==PRIMARY_OUTLET&&(c.component=ɵEmptyOutletComponent),c}function shallowEqual(a,b){const k1=Object.keys(a),k2=Object.keys(b);if(!k1||!k2||k1.length!=k2.length)return!1;let key;for(let i=0;i<k1.length;i++)if(a[key=k1[i]]!==b[key])return!1;return!0}function router_flatten(arr){return Array.prototype.concat.apply([],arr)}function router_last(a){return a.length>0?a[a.length-1]:null}function forEach(map,callback){for(const prop in map)map.hasOwnProperty(prop)&&callback(map[prop],prop)}function wrapIntoObservable(value){return isObservable(value)?value:core_isPromise(value)?from(Promise.resolve(value)):of(value)}function containsTree(container,containee,exact){return exact?function(container,containee){return shallowEqual(container,containee)}(container.queryParams,containee.queryParams)&&function equalSegmentGroups(container,containee){if(!equalPath(container.segments,containee.segments))return!1;if(container.numberOfChildren!==containee.numberOfChildren)return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!equalSegmentGroups(container.children[c],containee.children[c]))return!1}return!0}(container.root,containee.root):function(container,containee){return Object.keys(containee).length<=Object.keys(container).length&&Object.keys(containee).every(key=>containee[key]===container[key])}(container.queryParams,containee.queryParams)&&function containsSegmentGroup(container,containee){return function containsSegmentGroupHelper(container,containee,containeePaths){if(container.segments.length>containeePaths.length)return!!equalPath(container.segments.slice(0,containeePaths.length),containeePaths)&&!containee.hasChildren();if(container.segments.length===containeePaths.length){if(!equalPath(container.segments,containeePaths))return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!containsSegmentGroup(container.children[c],containee.children[c]))return!1}return!0}{const current=containeePaths.slice(0,container.segments.length),next=containeePaths.slice(container.segments.length);return!!equalPath(container.segments,current)&&!!container.children[PRIMARY_OUTLET]&&containsSegmentGroupHelper(container.children[PRIMARY_OUTLET],containee,next)}}(container,containee,containee.segments)}(container.root,containee.root)}class UrlTree{constructor(root,queryParams,fragment){this.root=root,this.queryParams=queryParams,this.fragment=fragment}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return DEFAULT_SERIALIZER.serialize(this)}}class UrlSegmentGroup{constructor(segments,children){this.segments=segments,this.children=children,this.parent=null,forEach(children,(v,k)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return serializePaths(this)}}class UrlSegment{constructor(path,parameters){this.path=path,this.parameters=parameters}get parameterMap(){return this._parameterMap||(this._parameterMap=convertToParamMap(this.parameters)),this._parameterMap}toString(){return serializePath(this)}}function equalPath(as,bs){return as.length===bs.length&&as.every((a,i)=>a.path===bs[i].path)}function mapChildrenIntoArray(segment,fn){let res=[];return forEach(segment.children,(child,childOutlet)=>{childOutlet===PRIMARY_OUTLET&&(res=res.concat(fn(child,childOutlet)))}),forEach(segment.children,(child,childOutlet)=>{childOutlet!==PRIMARY_OUTLET&&(res=res.concat(fn(child,childOutlet)))}),res}class UrlSerializer{}class DefaultUrlSerializer{parse(url){const p=new UrlParser(url);return new UrlTree(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(tree){var s;return`${`/${function serializeSegment(segment,root){if(!segment.hasChildren())return serializePaths(segment);if(root){const primary=segment.children[PRIMARY_OUTLET]?serializeSegment(segment.children[PRIMARY_OUTLET],!1):\"\",children=[];return forEach(segment.children,(v,k)=>{k!==PRIMARY_OUTLET&&children.push(`${k}:${serializeSegment(v,!1)}`)}),children.length>0?`${primary}(${children.join(\"//\")})`:primary}{const children=mapChildrenIntoArray(segment,(v,k)=>k===PRIMARY_OUTLET?[serializeSegment(segment.children[PRIMARY_OUTLET],!1)]:[`${k}:${serializeSegment(v,!1)}`]);return`${serializePaths(segment)}/(${children.join(\"//\")})`}}(tree.root,!0)}`}${function(params){const strParams=Object.keys(params).map(name=>{const value=params[name];return Array.isArray(value)?value.map(v=>`${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join(\"&\"):`${encodeUriQuery(name)}=${encodeUriQuery(value)}`});return strParams.length?`?${strParams.join(\"&\")}`:\"\"}(tree.queryParams)}${\"string\"==typeof tree.fragment?`#${s=tree.fragment,encodeURI(s)}`:\"\"}`}}const DEFAULT_SERIALIZER=new DefaultUrlSerializer;function serializePaths(segment){return segment.segments.map(p=>serializePath(p)).join(\"/\")}function encodeUriString(s){return encodeURIComponent(s).replace(/%40/g,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\")}function encodeUriQuery(s){return encodeUriString(s).replace(/%3B/gi,\";\")}function encodeUriSegment(s){return encodeUriString(s).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\").replace(/%26/gi,\"&\")}function decode(s){return decodeURIComponent(s)}function decodeQuery(s){return decode(s.replace(/\\+/g,\"%20\"))}function serializePath(path){return`${encodeUriSegment(path.path)}${params=path.parameters,Object.keys(params).map(key=>`;${encodeUriSegment(key)}=${encodeUriSegment(params[key])}`).join(\"\")}`;var params}const SEGMENT_RE=/^[^\\/()?;=#]+/;function matchSegments(str){const match=str.match(SEGMENT_RE);return match?match[0]:\"\"}const QUERY_PARAM_RE=/^[^=?&#]+/,QUERY_PARAM_VALUE_RE=/^[^?&#]+/;class UrlParser{constructor(url){this.url=url,this.remaining=url}parseRootSegment(){return this.consumeOptional(\"/\"),\"\"===this.remaining||this.peekStartsWith(\"?\")||this.peekStartsWith(\"#\")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())}parseQueryParams(){const params={};if(this.consumeOptional(\"?\"))do{this.parseQueryParam(params)}while(this.consumeOptional(\"&\"));return params}parseFragment(){return this.consumeOptional(\"#\")?decodeURIComponent(this.remaining):null}parseChildren(){if(\"\"===this.remaining)return{};this.consumeOptional(\"/\");const segments=[];for(this.peekStartsWith(\"(\")||segments.push(this.parseSegment());this.peekStartsWith(\"/\")&&!this.peekStartsWith(\"//\")&&!this.peekStartsWith(\"/(\");)this.capture(\"/\"),segments.push(this.parseSegment());let children={};this.peekStartsWith(\"/(\")&&(this.capture(\"/\"),children=this.parseParens(!0));let res={};return this.peekStartsWith(\"(\")&&(res=this.parseParens(!1)),(segments.length>0||Object.keys(children).length>0)&&(res[PRIMARY_OUTLET]=new UrlSegmentGroup(segments,children)),res}parseSegment(){const path=matchSegments(this.remaining);if(\"\"===path&&this.peekStartsWith(\";\"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(path),new UrlSegment(decode(path),this.parseMatrixParams())}parseMatrixParams(){const params={};for(;this.consumeOptional(\";\");)this.parseParam(params);return params}parseParam(params){const key=matchSegments(this.remaining);if(!key)return;this.capture(key);let value=\"\";if(this.consumeOptional(\"=\")){const valueMatch=matchSegments(this.remaining);valueMatch&&this.capture(value=valueMatch)}params[decode(key)]=decode(value)}parseQueryParam(params){const key=function(str){const match=str.match(QUERY_PARAM_RE);return match?match[0]:\"\"}(this.remaining);if(!key)return;this.capture(key);let value=\"\";if(this.consumeOptional(\"=\")){const valueMatch=function(str){const match=str.match(QUERY_PARAM_VALUE_RE);return match?match[0]:\"\"}(this.remaining);valueMatch&&this.capture(value=valueMatch)}const decodedKey=decodeQuery(key),decodedVal=decodeQuery(value);if(params.hasOwnProperty(decodedKey)){let currentVal=params[decodedKey];Array.isArray(currentVal)||(params[decodedKey]=currentVal=[currentVal]),currentVal.push(decodedVal)}else params[decodedKey]=decodedVal}parseParens(allowPrimary){const segments={};for(this.capture(\"(\");!this.consumeOptional(\")\")&&this.remaining.length>0;){const path=matchSegments(this.remaining),next=this.remaining[path.length];if(\"/\"!==next&&\")\"!==next&&\";\"!==next)throw new Error(`Cannot parse url '${this.url}'`);let outletName=void 0;path.indexOf(\":\")>-1?(outletName=path.substr(0,path.indexOf(\":\")),this.capture(outletName),this.capture(\":\")):allowPrimary&&(outletName=PRIMARY_OUTLET);const children=this.parseChildren();segments[outletName]=1===Object.keys(children).length?children[PRIMARY_OUTLET]:new UrlSegmentGroup([],children),this.consumeOptional(\"//\")}return segments}peekStartsWith(str){return this.remaining.startsWith(str)}consumeOptional(str){return!!this.peekStartsWith(str)&&(this.remaining=this.remaining.substring(str.length),!0)}capture(str){if(!this.consumeOptional(str))throw new Error(`Expected \"${str}\".`)}}class Tree{constructor(root){this._root=root}get root(){return this._root.value}parent(t){const p=this.pathFromRoot(t);return p.length>1?p[p.length-2]:null}children(t){const n=findNode(t,this._root);return n?n.children.map(t=>t.value):[]}firstChild(t){const n=findNode(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const p=findPath(t,this._root);return p.length<2?[]:p[p.length-2].children.map(c=>c.value).filter(cc=>cc!==t)}pathFromRoot(t){return findPath(t,this._root).map(s=>s.value)}}function findNode(value,node){if(value===node.value)return node;for(const child of node.children){const node=findNode(value,child);if(node)return node}return null}function findPath(value,node){if(value===node.value)return[node];for(const child of node.children){const path=findPath(value,child);if(path.length)return path.unshift(node),path}return[]}class TreeNode{constructor(value,children){this.value=value,this.children=children}toString(){return`TreeNode(${this.value})`}}function nodeChildrenAsMap(node){const map={};return node&&node.children.forEach(child=>map[child.value.outlet]=child),map}class RouterState extends Tree{constructor(root,snapshot){super(root),this.snapshot=snapshot,setRouterState(this,root)}toString(){return this.snapshot.toString()}}function createEmptyState(urlTree,rootComponent){const snapshot=function(urlTree,rootComponent){const activated=new ActivatedRouteSnapshot([],{},{},\"\",{},PRIMARY_OUTLET,rootComponent,null,urlTree.root,-1,{});return new RouterStateSnapshot(\"\",new TreeNode(activated,[]))}(urlTree,rootComponent),emptyUrl=new BehaviorSubject_BehaviorSubject([new UrlSegment(\"\",{})]),emptyParams=new BehaviorSubject_BehaviorSubject({}),emptyData=new BehaviorSubject_BehaviorSubject({}),emptyQueryParams=new BehaviorSubject_BehaviorSubject({}),fragment=new BehaviorSubject_BehaviorSubject(\"\"),activated=new router_ActivatedRoute(emptyUrl,emptyParams,emptyQueryParams,fragment,emptyData,PRIMARY_OUTLET,rootComponent,snapshot.root);return activated.snapshot=snapshot.root,new RouterState(new TreeNode(activated,[]),snapshot)}class router_ActivatedRoute{constructor(url,params,queryParams,fragment,data,outlet,component,futureSnapshot){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this._futureSnapshot=futureSnapshot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(map(p=>convertToParamMap(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(map(p=>convertToParamMap(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function inheritedParamsDataResolve(route,paramsInheritanceStrategy=\"emptyOnly\"){const pathFromRoot=route.pathFromRoot;let inheritingStartingFrom=0;if(\"always\"!==paramsInheritanceStrategy)for(inheritingStartingFrom=pathFromRoot.length-1;inheritingStartingFrom>=1;){const current=pathFromRoot[inheritingStartingFrom],parent=pathFromRoot[inheritingStartingFrom-1];if(current.routeConfig&&\"\"===current.routeConfig.path)inheritingStartingFrom--;else{if(parent.component)break;inheritingStartingFrom--}}return function(pathFromRoot){return pathFromRoot.reduce((res,curr)=>({params:Object.assign({},res.params,curr.params),data:Object.assign({},res.data,curr.data),resolve:Object.assign({},res.resolve,curr._resolvedData)}),{params:{},data:{},resolve:{}})}(pathFromRoot.slice(inheritingStartingFrom))}class ActivatedRouteSnapshot{constructor(url,params,queryParams,fragment,data,outlet,component,routeConfig,urlSegment,lastPathIndex,resolve){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this.routeConfig=routeConfig,this._urlSegment=urlSegment,this._lastPathIndex=lastPathIndex,this._resolve=resolve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=convertToParamMap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(segment=>segment.toString()).join(\"/\")}', path:'${this.routeConfig?this.routeConfig.path:\"\"}')`}}class RouterStateSnapshot extends Tree{constructor(url,root){super(root),this.url=url,setRouterState(this,root)}toString(){return serializeNode(this._root)}}function setRouterState(state,node){node.value._routerState=state,node.children.forEach(c=>setRouterState(state,c))}function serializeNode(node){const c=node.children.length>0?` { ${node.children.map(serializeNode).join(\", \")} } `:\"\";return`${node.value}${c}`}function advanceActivatedRoute(route){if(route.snapshot){const currentSnapshot=route.snapshot,nextSnapshot=route._futureSnapshot;route.snapshot=nextSnapshot,shallowEqual(currentSnapshot.queryParams,nextSnapshot.queryParams)||route.queryParams.next(nextSnapshot.queryParams),currentSnapshot.fragment!==nextSnapshot.fragment&&route.fragment.next(nextSnapshot.fragment),shallowEqual(currentSnapshot.params,nextSnapshot.params)||route.params.next(nextSnapshot.params),function(a,b){if(a.length!==b.length)return!1;for(let i=0;i<a.length;++i)if(!shallowEqual(a[i],b[i]))return!1;return!0}(currentSnapshot.url,nextSnapshot.url)||route.url.next(nextSnapshot.url),shallowEqual(currentSnapshot.data,nextSnapshot.data)||route.data.next(nextSnapshot.data)}else route.snapshot=route._futureSnapshot,route.data.next(route._futureSnapshot.data)}function equalParamsAndUrlSegments(a,b){var as,bs;return shallowEqual(a.params,b.params)&&equalPath(as=a.url,bs=b.url)&&as.every((a,i)=>shallowEqual(a.parameters,bs[i].parameters))&&!(!a.parent!=!b.parent)&&(!a.parent||equalParamsAndUrlSegments(a.parent,b.parent))}function isMatrixParams(command){return\"object\"==typeof command&&null!=command&&!command.outlets&&!command.segmentPath}function router_tree(oldSegmentGroup,newSegmentGroup,urlTree,queryParams,fragment){let qp={};return queryParams&&forEach(queryParams,(value,name)=>{qp[name]=Array.isArray(value)?value.map(v=>`${v}`):`${value}`}),new UrlTree(urlTree.root===oldSegmentGroup?newSegmentGroup:function replaceSegment(current,oldSegment,newSegment){const children={};return forEach(current.children,(c,outletName)=>{children[outletName]=c===oldSegment?newSegment:replaceSegment(c,oldSegment,newSegment)}),new UrlSegmentGroup(current.segments,children)}(urlTree.root,oldSegmentGroup,newSegmentGroup),qp,fragment)}class Navigation{constructor(isAbsolute,numberOfDoubleDots,commands){if(this.isAbsolute=isAbsolute,this.numberOfDoubleDots=numberOfDoubleDots,this.commands=commands,isAbsolute&&commands.length>0&&isMatrixParams(commands[0]))throw new Error(\"Root segment cannot have matrix parameters\");const cmdWithOutlet=commands.find(c=>\"object\"==typeof c&&null!=c&&c.outlets);if(cmdWithOutlet&&cmdWithOutlet!==router_last(commands))throw new Error(\"{outlets:{}} has to be the last command\")}toRoot(){return this.isAbsolute&&1===this.commands.length&&\"/\"==this.commands[0]}}class Position{constructor(segmentGroup,processChildren,index){this.segmentGroup=segmentGroup,this.processChildren=processChildren,this.index=index}}function getPath(command){return\"object\"==typeof command&&null!=command&&command.outlets?command.outlets[PRIMARY_OUTLET]:`${command}`}function updateSegmentGroup(segmentGroup,startIndex,commands){if(segmentGroup||(segmentGroup=new UrlSegmentGroup([],{})),0===segmentGroup.segments.length&&segmentGroup.hasChildren())return updateSegmentGroupChildren(segmentGroup,startIndex,commands);const m=function(segmentGroup,startIndex,commands){let currentCommandIndex=0,currentPathIndex=startIndex;const noMatch={match:!1,pathIndex:0,commandIndex:0};for(;currentPathIndex<segmentGroup.segments.length;){if(currentCommandIndex>=commands.length)return noMatch;const path=segmentGroup.segments[currentPathIndex],curr=getPath(commands[currentCommandIndex]),next=currentCommandIndex<commands.length-1?commands[currentCommandIndex+1]:null;if(currentPathIndex>0&&void 0===curr)break;if(curr&&next&&\"object\"==typeof next&&void 0===next.outlets){if(!compare(curr,next,path))return noMatch;currentCommandIndex+=2}else{if(!compare(curr,{},path))return noMatch;currentCommandIndex++}currentPathIndex++}return{match:!0,pathIndex:currentPathIndex,commandIndex:currentCommandIndex}}(segmentGroup,startIndex,commands),slicedCommands=commands.slice(m.commandIndex);if(m.match&&m.pathIndex<segmentGroup.segments.length){const g=new UrlSegmentGroup(segmentGroup.segments.slice(0,m.pathIndex),{});return g.children[PRIMARY_OUTLET]=new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex),segmentGroup.children),updateSegmentGroupChildren(g,0,slicedCommands)}return m.match&&0===slicedCommands.length?new UrlSegmentGroup(segmentGroup.segments,{}):m.match&&!segmentGroup.hasChildren()?createNewSegmentGroup(segmentGroup,startIndex,commands):m.match?updateSegmentGroupChildren(segmentGroup,0,slicedCommands):createNewSegmentGroup(segmentGroup,startIndex,commands)}function updateSegmentGroupChildren(segmentGroup,startIndex,commands){if(0===commands.length)return new UrlSegmentGroup(segmentGroup.segments,{});{const outlets=function(commands){return\"object\"!=typeof commands[0]?{[PRIMARY_OUTLET]:commands}:void 0===commands[0].outlets?{[PRIMARY_OUTLET]:commands}:commands[0].outlets}(commands),children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=updateSegmentGroup(segmentGroup.children[outlet],startIndex,commands))}),forEach(segmentGroup.children,(child,childOutlet)=>{void 0===outlets[childOutlet]&&(children[childOutlet]=child)}),new UrlSegmentGroup(segmentGroup.segments,children)}}function createNewSegmentGroup(segmentGroup,startIndex,commands){const paths=segmentGroup.segments.slice(0,startIndex);let i=0;for(;i<commands.length;){if(\"object\"==typeof commands[i]&&void 0!==commands[i].outlets){const children=createNewSegmentChildren(commands[i].outlets);return new UrlSegmentGroup(paths,children)}if(0===i&&isMatrixParams(commands[0])){paths.push(new UrlSegment(segmentGroup.segments[startIndex].path,commands[0])),i++;continue}const curr=getPath(commands[i]),next=i<commands.length-1?commands[i+1]:null;curr&&next&&isMatrixParams(next)?(paths.push(new UrlSegment(curr,router_stringify(next))),i+=2):(paths.push(new UrlSegment(curr,{})),i++)}return new UrlSegmentGroup(paths,{})}function createNewSegmentChildren(outlets){const children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,commands))}),children}function router_stringify(params){const res={};return forEach(params,(v,k)=>res[k]=`${v}`),res}function compare(path,params,segment){return path==segment.path&&shallowEqual(params,segment.parameters)}const activateRoutes=(rootContexts,routeReuseStrategy,forwardEvent)=>map(t=>(new ActivateRoutes(routeReuseStrategy,t.targetRouterState,t.currentRouterState,forwardEvent).activate(rootContexts),t));class ActivateRoutes{constructor(routeReuseStrategy,futureState,currState,forwardEvent){this.routeReuseStrategy=routeReuseStrategy,this.futureState=futureState,this.currState=currState,this.forwardEvent=forwardEvent}activate(parentContexts){const futureRoot=this.futureState._root,currRoot=this.currState?this.currState._root:null;this.deactivateChildRoutes(futureRoot,currRoot,parentContexts),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(futureRoot,currRoot,parentContexts)}deactivateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(futureChild=>{const childOutletName=futureChild.value.outlet;this.deactivateRoutes(futureChild,children[childOutletName],contexts),delete children[childOutletName]}),forEach(children,(v,childName)=>{this.deactivateRouteAndItsChildren(v,contexts)})}deactivateRoutes(futureNode,currNode,parentContext){const future=futureNode.value,curr=currNode?currNode.value:null;if(future===curr)if(future.component){const context=parentContext.getContext(future.outlet);context&&this.deactivateChildRoutes(futureNode,currNode,context.children)}else this.deactivateChildRoutes(futureNode,currNode,parentContext);else curr&&this.deactivateRouteAndItsChildren(currNode,parentContext)}deactivateRouteAndItsChildren(route,parentContexts){this.routeReuseStrategy.shouldDetach(route.value.snapshot)?this.detachAndStoreRouteSubtree(route,parentContexts):this.deactivateRouteAndOutlet(route,parentContexts)}detachAndStoreRouteSubtree(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context&&context.outlet){const componentRef=context.outlet.detach(),contexts=context.children.onOutletDeactivated();this.routeReuseStrategy.store(route.value.snapshot,{componentRef:componentRef,route:route,contexts:contexts})}}deactivateRouteAndOutlet(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context){const children=nodeChildrenAsMap(route),contexts=route.value.component?context.children:parentContexts;forEach(children,(v,k)=>this.deactivateRouteAndItsChildren(v,contexts)),context.outlet&&(context.outlet.deactivate(),context.children.onOutletDeactivated())}}activateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(c=>{this.activateRoutes(c,children[c.value.outlet],contexts),this.forwardEvent(new ActivationEnd(c.value.snapshot))}),futureNode.children.length&&this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot))}activateRoutes(futureNode,currNode,parentContexts){const future=futureNode.value,curr=currNode?currNode.value:null;if(advanceActivatedRoute(future),future===curr)if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);this.activateChildRoutes(futureNode,currNode,context.children)}else this.activateChildRoutes(futureNode,currNode,parentContexts);else if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);if(this.routeReuseStrategy.shouldAttach(future.snapshot)){const stored=this.routeReuseStrategy.retrieve(future.snapshot);this.routeReuseStrategy.store(future.snapshot,null),context.children.onOutletReAttached(stored.contexts),context.attachRef=stored.componentRef,context.route=stored.route.value,context.outlet&&context.outlet.attach(stored.componentRef,stored.route.value),advanceActivatedRouteNodeAndItsChildren(stored.route)}else{const config=function(snapshot){for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig;if(route&&route.component)return null}return null}(future.snapshot),cmpFactoryResolver=config?config.module.componentFactoryResolver:null;context.attachRef=null,context.route=future,context.resolver=cmpFactoryResolver,context.outlet&&context.outlet.activateWith(future,cmpFactoryResolver),this.activateChildRoutes(futureNode,null,context.children)}}else this.activateChildRoutes(futureNode,null,parentContexts)}}function advanceActivatedRouteNodeAndItsChildren(node){advanceActivatedRoute(node.value),node.children.forEach(advanceActivatedRouteNodeAndItsChildren)}function router_isFunction(v){return\"function\"==typeof v}function isUrlTree(v){return v instanceof UrlTree}class NoMatch{constructor(segmentGroup){this.segmentGroup=segmentGroup||null}}class AbsoluteRedirect{constructor(urlTree){this.urlTree=urlTree}}function noMatch(segmentGroup){return new Observable_Observable(obs=>obs.error(new NoMatch(segmentGroup)))}function absoluteRedirect(newTree){return new Observable_Observable(obs=>obs.error(new AbsoluteRedirect(newTree)))}function namedOutletsRedirect(redirectTo){return new Observable_Observable(obs=>obs.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`)))}class router_ApplyRedirects{constructor(moduleInjector,configLoader,urlSerializer,urlTree,config){this.configLoader=configLoader,this.urlSerializer=urlSerializer,this.urlTree=urlTree,this.config=config,this.allowRedirects=!0,this.ngModule=moduleInjector.get(NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,PRIMARY_OUTLET).pipe(map(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,this.urlTree.queryParams,this.urlTree.fragment))).pipe(catchError(e=>{if(e instanceof AbsoluteRedirect)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}match(tree){return this.expandSegmentGroup(this.ngModule,this.config,tree.root,PRIMARY_OUTLET).pipe(map(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,tree.queryParams,tree.fragment))).pipe(catchError(e=>{if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(rootCandidate,queryParams,fragment){const root=rootCandidate.segments.length>0?new UrlSegmentGroup([],{[PRIMARY_OUTLET]:rootCandidate}):rootCandidate;return new UrlTree(root,queryParams,fragment)}expandSegmentGroup(ngModule,routes,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.expandChildren(ngModule,routes,segmentGroup).pipe(map(children=>new UrlSegmentGroup([],children))):this.expandSegment(ngModule,segmentGroup,routes,segmentGroup.segments,outlet,!0)}expandChildren(ngModule,routes,segmentGroup){return function(obj,fn){if(0===Object.keys(obj).length)return of({});const waitHead=[],waitTail=[],res={};return forEach(obj,(a,k)=>{const mapped=fn(k,a).pipe(map(r=>res[k]=r));k===PRIMARY_OUTLET?waitHead.push(mapped):waitTail.push(mapped)}),of.apply(null,waitHead.concat(waitTail)).pipe(concatAll(),last_last(),map(()=>res))}(segmentGroup.children,(childOutlet,child)=>this.expandSegmentGroup(ngModule,routes,child,childOutlet))}expandSegment(ngModule,segmentGroup,routes,segments,outlet,allowRedirects){return of(...routes).pipe(map(r=>this.expandSegmentAgainstRoute(ngModule,segmentGroup,routes,r,segments,outlet,allowRedirects).pipe(catchError(e=>{if(e instanceof NoMatch)return of(null);throw e}))),concatAll(),first_first(s=>!!s),catchError((e,_)=>{if(e instanceof EmptyError||\"EmptyError\"===e.name){if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return of(new UrlSegmentGroup([],{}));throw new NoMatch(segmentGroup)}throw e}))}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}expandSegmentAgainstRoute(ngModule,segmentGroup,routes,route,paths,outlet,allowRedirects){return getOutlet(route)!==outlet?noMatch(segmentGroup):void 0===route.redirectTo?this.matchSegmentAgainstRoute(ngModule,segmentGroup,route,paths):allowRedirects&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,paths,outlet):noMatch(segmentGroup)}expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){return\"**\"===route.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet):this.expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet)}expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet){const newTree=this.applyRedirectCommands([],route.redirectTo,{});return route.redirectTo.startsWith(\"/\")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>{const group=new UrlSegmentGroup(newSegments,{});return this.expandSegment(ngModule,group,routes,newSegments,outlet,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild,positionalParamSegments:positionalParamSegments}=match(segmentGroup,route,segments);if(!matched)return noMatch(segmentGroup);const newTree=this.applyRedirectCommands(consumedSegments,route.redirectTo,positionalParamSegments);return route.redirectTo.startsWith(\"/\")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>this.expandSegment(ngModule,segmentGroup,routes,newSegments.concat(segments.slice(lastChild)),outlet,!1)))}matchSegmentAgainstRoute(ngModule,rawSegmentGroup,route,segments){if(\"**\"===route.path)return route.loadChildren?this.configLoader.load(ngModule.injector,route).pipe(map(cfg=>(route._loadedConfig=cfg,new UrlSegmentGroup(segments,{})))):of(new UrlSegmentGroup(segments,{}));const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild}=match(rawSegmentGroup,route,segments);if(!matched)return noMatch(rawSegmentGroup);const rawSlicedSegments=segments.slice(lastChild);return this.getChildConfig(ngModule,route,segments).pipe(mergeMap(routerConfig=>{const childModule=routerConfig.module,childConfig=routerConfig.routes,{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=function(segmentGroup,consumedSegments,slicedSegments,config){return slicedSegments.length>0&&function(segmentGroup,segments,routes){return routes.some(r=>isEmptyPathRedirect(segmentGroup,segments,r)&&getOutlet(r)!==PRIMARY_OUTLET)}(segmentGroup,slicedSegments,config)?{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(consumedSegments,function(routes,primarySegmentGroup){const res={};res[PRIMARY_OUTLET]=primarySegmentGroup;for(const r of routes)\"\"===r.path&&getOutlet(r)!==PRIMARY_OUTLET&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return res}(config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)))),slicedSegments:[]}:0===slicedSegments.length&&function(segmentGroup,segments,routes){return routes.some(r=>isEmptyPathRedirect(segmentGroup,segments,r))}(segmentGroup,slicedSegments,config)?{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,slicedSegments,routes,children){const res={};for(const r of routes)isEmptyPathRedirect(segmentGroup,slicedSegments,r)&&!children[getOutlet(r)]&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return Object.assign({},children,res)}(segmentGroup,slicedSegments,config,segmentGroup.children))),slicedSegments:slicedSegments}:{segmentGroup:segmentGroup,slicedSegments:slicedSegments}}(rawSegmentGroup,consumedSegments,rawSlicedSegments,childConfig);return 0===slicedSegments.length&&segmentGroup.hasChildren()?this.expandChildren(childModule,childConfig,segmentGroup).pipe(map(children=>new UrlSegmentGroup(consumedSegments,children))):0===childConfig.length&&0===slicedSegments.length?of(new UrlSegmentGroup(consumedSegments,{})):this.expandSegment(childModule,segmentGroup,childConfig,slicedSegments,PRIMARY_OUTLET,!0).pipe(map(cs=>new UrlSegmentGroup(consumedSegments.concat(cs.segments),cs.children)))}))}getChildConfig(ngModule,route,segments){return route.children?of(new LoadedRouterConfig(route.children,ngModule)):route.loadChildren?void 0!==route._loadedConfig?of(route._loadedConfig):function(moduleInjector,route,segments){const canLoad=route.canLoad;return canLoad&&0!==canLoad.length?from(canLoad).pipe(map(injectionToken=>{const guard=moduleInjector.get(injectionToken);let guardVal;if(function(guard){return guard&&router_isFunction(guard.canLoad)}(guard))guardVal=guard.canLoad(route,segments);else{if(!router_isFunction(guard))throw new Error(\"Invalid CanLoad guard\");guardVal=guard(route,segments)}return wrapIntoObservable(guardVal)})).pipe(concatAll(),(predicate=result=>!0===result,source=>source.lift(new EveryOperator(predicate,void 0,source)))):of(!0);var predicate}(ngModule.injector,route,segments).pipe(mergeMap(shouldLoad=>shouldLoad?this.configLoader.load(ngModule.injector,route).pipe(map(cfg=>(route._loadedConfig=cfg,cfg))):function(route){return new Observable_Observable(obs=>obs.error(navigationCancelingError(`Cannot load children because the guard of the route \"path: '${route.path}'\" returned false`)))}(route))):of(new LoadedRouterConfig([],ngModule))}lineralizeSegments(route,urlTree){let res=[],c=urlTree.root;for(;;){if(res=res.concat(c.segments),0===c.numberOfChildren)return of(res);if(c.numberOfChildren>1||!c.children[PRIMARY_OUTLET])return namedOutletsRedirect(route.redirectTo);c=c.children[PRIMARY_OUTLET]}}applyRedirectCommands(segments,redirectTo,posParams){return this.applyRedirectCreatreUrlTree(redirectTo,this.urlSerializer.parse(redirectTo),segments,posParams)}applyRedirectCreatreUrlTree(redirectTo,urlTree,segments,posParams){const newRoot=this.createSegmentGroup(redirectTo,urlTree.root,segments,posParams);return new UrlTree(newRoot,this.createQueryParams(urlTree.queryParams,this.urlTree.queryParams),urlTree.fragment)}createQueryParams(redirectToParams,actualParams){const res={};return forEach(redirectToParams,(v,k)=>{if(\"string\"==typeof v&&v.startsWith(\":\")){const sourceName=v.substring(1);res[k]=actualParams[sourceName]}else res[k]=v}),res}createSegmentGroup(redirectTo,group,segments,posParams){const updatedSegments=this.createSegments(redirectTo,group.segments,segments,posParams);let children={};return forEach(group.children,(child,name)=>{children[name]=this.createSegmentGroup(redirectTo,child,segments,posParams)}),new UrlSegmentGroup(updatedSegments,children)}createSegments(redirectTo,redirectToSegments,actualSegments,posParams){return redirectToSegments.map(s=>s.path.startsWith(\":\")?this.findPosParam(redirectTo,s,posParams):this.findOrReturn(s,actualSegments))}findPosParam(redirectTo,redirectToUrlSegment,posParams){const pos=posParams[redirectToUrlSegment.path.substring(1)];if(!pos)throw new Error(`Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);return pos}findOrReturn(redirectToUrlSegment,actualSegments){let idx=0;for(const s of actualSegments){if(s.path===redirectToUrlSegment.path)return actualSegments.splice(idx),s;idx++}return redirectToUrlSegment}}function match(segmentGroup,route,segments){if(\"\"===route.path)return\"full\"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);return res?{matched:!0,consumedSegments:res.consumed,lastChild:res.consumed.length,positionalParamSegments:res.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mergeTrivialChildren(s){if(1===s.numberOfChildren&&s.children[PRIMARY_OUTLET]){const c=s.children[PRIMARY_OUTLET];return new UrlSegmentGroup(s.segments.concat(c.segments),c.children)}return s}function isEmptyPathRedirect(segmentGroup,segments,r){return(!(segmentGroup.hasChildren()||segments.length>0)||\"full\"!==r.pathMatch)&&\"\"===r.path&&void 0!==r.redirectTo}function getOutlet(route){return route.outlet||PRIMARY_OUTLET}class CanActivate{constructor(path){this.path=path,this.route=this.path[this.path.length-1]}}class CanDeactivate{constructor(component,route){this.component=component,this.route=route}}function getAllRouteGuards(future,curr,parentContexts){const futureRoot=future._root;return function getChildRouteGuards(futureNode,currNode,contexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const prevChildren=nodeChildrenAsMap(currNode);return futureNode.children.forEach(c=>{!function(futureNode,currNode,parentContexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const future=futureNode.value,curr=currNode?currNode.value:null,context=parentContexts?parentContexts.getContext(futureNode.value.outlet):null;if(curr&&future.routeConfig===curr.routeConfig){const shouldRun=function(curr,future,mode){if(\"function\"==typeof mode)return mode(curr,future);switch(mode){case\"pathParamsChange\":return!equalPath(curr.url,future.url);case\"pathParamsOrQueryParamsChange\":return!equalPath(curr.url,future.url)||!shallowEqual(curr.queryParams,future.queryParams);case\"always\":return!0;case\"paramsOrQueryParamsChange\":return!equalParamsAndUrlSegments(curr,future)||!shallowEqual(curr.queryParams,future.queryParams);case\"paramsChange\":default:return!equalParamsAndUrlSegments(curr,future)}}(curr,future,future.routeConfig.runGuardsAndResolvers);shouldRun?checks.canActivateChecks.push(new CanActivate(futurePath)):(future.data=curr.data,future._resolvedData=curr._resolvedData),getChildRouteGuards(futureNode,currNode,future.component?context?context.children:null:parentContexts,futurePath,checks),shouldRun&&checks.canDeactivateChecks.push(new CanDeactivate(context&&context.outlet&&context.outlet.component||null,curr))}else curr&&deactivateRouteAndItsChildren(currNode,context,checks),checks.canActivateChecks.push(new CanActivate(futurePath)),getChildRouteGuards(futureNode,null,future.component?context?context.children:null:parentContexts,futurePath,checks)}(c,prevChildren[c.value.outlet],contexts,futurePath.concat([c.value]),checks),delete prevChildren[c.value.outlet]}),forEach(prevChildren,(v,k)=>deactivateRouteAndItsChildren(v,contexts.getContext(k),checks)),checks}(futureRoot,curr?curr._root:null,parentContexts,[futureRoot.value])}function getToken(token,snapshot,moduleInjector){const config=function(snapshot){if(!snapshot)return null;for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig}return null}(snapshot);return(config?config.module.injector:moduleInjector).get(token)}function deactivateRouteAndItsChildren(route,context,checks){const children=nodeChildrenAsMap(route),r=route.value;forEach(children,(node,childName)=>{deactivateRouteAndItsChildren(node,r.component?context?context.children.getContext(childName):null:context,checks)}),checks.canDeactivateChecks.push(new CanDeactivate(r.component&&context&&context.outlet&&context.outlet.isActivated?context.outlet.component:null,r))}const INITIAL_VALUE=Symbol(\"INITIAL_VALUE\");function prioritizedGuardValue(){return switchMap(obs=>(function(...observables){let resultSelector=null,scheduler=null;return isScheduler(observables[observables.length-1])&&(scheduler=observables.pop()),\"function\"==typeof observables[observables.length-1]&&(resultSelector=observables.pop()),1===observables.length&&isArray(observables[0])&&(observables=observables[0]),fromArray(observables,scheduler).lift(new CombineLatestOperator(resultSelector))})(...obs.map(o=>o.pipe(take(1),function(...array){return source=>{let scheduler=array[array.length-1];isScheduler(scheduler)?array.pop():scheduler=null;const len=array.length;return function(...observables){return concatAll()(of(...observables))}(1!==len||scheduler?len>0?fromArray(array,scheduler):empty_empty(scheduler):scalar(array[0]),source)}}(INITIAL_VALUE)))).pipe(scan((acc,list)=>{let isPending=!1;return list.reduce((innerAcc,val,i)=>{if(innerAcc!==INITIAL_VALUE)return innerAcc;if(val===INITIAL_VALUE&&(isPending=!0),!isPending){if(!1===val)return val;if(i===list.length-1||isUrlTree(val))return val}return innerAcc},acc)},INITIAL_VALUE),filter(item=>item!==INITIAL_VALUE),map(item=>isUrlTree(item)?item:!0===item),take(1)))}function fireActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ActivationStart(snapshot)),of(!0)}function fireChildActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ChildActivationStart(snapshot)),of(!0)}function runCanActivate(futureRSS,futureARS,moduleInjector){const canActivate=futureARS.routeConfig?futureARS.routeConfig.canActivate:null;return canActivate&&0!==canActivate.length?of(canActivate.map(c=>defer(()=>{const guard=getToken(c,futureARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivate)}(guard))observable=wrapIntoObservable(guard.canActivate(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error(\"Invalid CanActivate guard\");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first_first())}))).pipe(prioritizedGuardValue()):of(!0)}function runCanActivateChild(futureRSS,path,moduleInjector){const futureARS=path[path.length-1],canActivateChildGuardsMapped=path.slice(0,path.length-1).reverse().map(p=>(function(p){const canActivateChild=p.routeConfig?p.routeConfig.canActivateChild:null;return canActivateChild&&0!==canActivateChild.length?{node:p,guards:canActivateChild}:null})(p)).filter(_=>null!==_).map(d=>defer(()=>of(d.guards.map(c=>{const guard=getToken(c,d.node,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivateChild)}(guard))observable=wrapIntoObservable(guard.canActivateChild(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error(\"Invalid CanActivateChild guard\");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first_first())})).pipe(prioritizedGuardValue())));return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue())}class NoMatch$1{}class router_Recognizer{constructor(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution){this.rootComponentType=rootComponentType,this.config=config,this.urlTree=urlTree,this.url=url,this.paramsInheritanceStrategy=paramsInheritanceStrategy,this.relativeLinkResolution=relativeLinkResolution}recognize(){try{const rootSegmentGroup=split$1(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,children=this.processSegmentGroup(this.config,rootSegmentGroup,PRIMARY_OUTLET),root=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},PRIMARY_OUTLET,this.rootComponentType,null,this.urlTree.root,-1,{}),rootNode=new TreeNode(root,children),routeState=new RouterStateSnapshot(this.url,rootNode);return this.inheritParamsAndData(routeState._root),of(routeState)}catch(e){return new Observable_Observable(obs=>obs.error(e))}}inheritParamsAndData(routeNode){const route=routeNode.value,i=inheritedParamsDataResolve(route,this.paramsInheritanceStrategy);route.params=Object.freeze(i.params),route.data=Object.freeze(i.data),routeNode.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(config,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.processChildren(config,segmentGroup):this.processSegment(config,segmentGroup,segmentGroup.segments,outlet)}processChildren(config,segmentGroup){const children=mapChildrenIntoArray(segmentGroup,(child,childOutlet)=>this.processSegmentGroup(config,child,childOutlet));return function(nodes){const names={};nodes.forEach(n=>{const routeWithSameOutletName=names[n.value.outlet];if(routeWithSameOutletName){const p=routeWithSameOutletName.url.map(s=>s.toString()).join(\"/\"),c=n.value.url.map(s=>s.toString()).join(\"/\");throw new Error(`Two segments cannot have the same outlet name: '${p}' and '${c}'.`)}names[n.value.outlet]=n.value})}(children),children.sort((a,b)=>a.value.outlet===PRIMARY_OUTLET?-1:b.value.outlet===PRIMARY_OUTLET?1:a.value.outlet.localeCompare(b.value.outlet)),children}processSegment(config,segmentGroup,segments,outlet){for(const r of config)try{return this.processSegmentAgainstRoute(r,segmentGroup,segments,outlet)}catch(e){if(!(e instanceof NoMatch$1))throw e}if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return[];throw new NoMatch$1}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}processSegmentAgainstRoute(route,rawSegment,segments,outlet){if(route.redirectTo)throw new NoMatch$1;if((route.outlet||PRIMARY_OUTLET)!==outlet)throw new NoMatch$1;let snapshot,consumedSegments=[],rawSlicedSegments=[];if(\"**\"===route.path){const params=segments.length>0?router_last(segments).parameters:{};snapshot=new ActivatedRouteSnapshot(segments,params,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+segments.length,getResolve(route))}else{const result=function(segmentGroup,route,segments){if(\"\"===route.path){if(\"full\"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0))throw new NoMatch$1;return{consumedSegments:[],lastChild:0,parameters:{}}}const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);if(!res)throw new NoMatch$1;const posParams={};forEach(res.posParams,(v,k)=>{posParams[k]=v.path});const parameters=res.consumed.length>0?Object.assign({},posParams,res.consumed[res.consumed.length-1].parameters):posParams;return{consumedSegments:res.consumed,lastChild:res.consumed.length,parameters:parameters}}(rawSegment,route,segments);consumedSegments=result.consumedSegments,rawSlicedSegments=segments.slice(result.lastChild),snapshot=new ActivatedRouteSnapshot(consumedSegments,result.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+consumedSegments.length,getResolve(route))}const childConfig=function(route){return route.children?route.children:route.loadChildren?route._loadedConfig.routes:[]}(route),{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=split$1(rawSegment,consumedSegments,rawSlicedSegments,childConfig,this.relativeLinkResolution);if(0===slicedSegments.length&&segmentGroup.hasChildren()){const children=this.processChildren(childConfig,segmentGroup);return[new TreeNode(snapshot,children)]}if(0===childConfig.length&&0===slicedSegments.length)return[new TreeNode(snapshot,[])];const children=this.processSegment(childConfig,segmentGroup,slicedSegments,PRIMARY_OUTLET);return[new TreeNode(snapshot,children)]}}function getSourceSegmentGroup(segmentGroup){let s=segmentGroup;for(;s._sourceSegment;)s=s._sourceSegment;return s}function getPathIndexShift(segmentGroup){let s=segmentGroup,res=s._segmentIndexShift?s._segmentIndexShift:0;for(;s._sourceSegment;)res+=(s=s._sourceSegment)._segmentIndexShift?s._segmentIndexShift:0;return res-1}function split$1(segmentGroup,consumedSegments,slicedSegments,config,relativeLinkResolution){if(slicedSegments.length>0&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r)&&getOutlet$1(r)!==PRIMARY_OUTLET)}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(consumedSegments,function(segmentGroup,consumedSegments,routes,primarySegment){const res={};res[PRIMARY_OUTLET]=primarySegment,primarySegment._sourceSegment=segmentGroup,primarySegment._segmentIndexShift=consumedSegments.length;for(const r of routes)if(\"\"===r.path&&getOutlet$1(r)!==PRIMARY_OUTLET){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,res[getOutlet$1(r)]=s}return res}(segmentGroup,consumedSegments,config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:[]}}if(0===slicedSegments.length&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,consumedSegments,slicedSegments,routes,children,relativeLinkResolution){const res={};for(const r of routes)if(emptyPathMatch(segmentGroup,slicedSegments,r)&&!children[getOutlet$1(r)]){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift=\"legacy\"===relativeLinkResolution?segmentGroup.segments.length:consumedSegments.length,res[getOutlet$1(r)]=s}return Object.assign({},children,res)}(segmentGroup,consumedSegments,slicedSegments,config,segmentGroup.children,relativeLinkResolution));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}const s=new UrlSegmentGroup(segmentGroup.segments,segmentGroup.children);return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}function emptyPathMatch(segmentGroup,slicedSegments,r){return(!(segmentGroup.hasChildren()||slicedSegments.length>0)||\"full\"!==r.pathMatch)&&\"\"===r.path&&void 0===r.redirectTo}function getOutlet$1(route){return route.outlet||PRIMARY_OUTLET}function getData(route){return route.data||{}}function getResolve(route){return route.resolve||{}}function getResolver(injectionToken,futureARS,futureRSS,moduleInjector){const resolver=getToken(injectionToken,futureARS,moduleInjector);return wrapIntoObservable(resolver.resolve?resolver.resolve(futureARS,futureRSS):resolver(futureARS,futureRSS))}function switchTap(next){return function(source){return source.pipe(switchMap(v=>{const nextResult=next(v);return nextResult?from(nextResult).pipe(map(()=>v)):from([v])}))}}class RouteReuseStrategy{}class DefaultRouteReuseStrategy{shouldDetach(route){return!1}store(route,detachedTree){}shouldAttach(route){return!1}retrieve(route){return null}shouldReuseRoute(future,curr){return future.routeConfig===curr.routeConfig}}const ROUTES=new InjectionToken(\"ROUTES\");class router_RouterConfigLoader{constructor(loader,compiler,onLoadStartListener,onLoadEndListener){this.loader=loader,this.compiler=compiler,this.onLoadStartListener=onLoadStartListener,this.onLoadEndListener=onLoadEndListener}load(parentInjector,route){return this.onLoadStartListener&&this.onLoadStartListener(route),this.loadModuleFactory(route.loadChildren).pipe(map(factory=>{this.onLoadEndListener&&this.onLoadEndListener(route);const module=factory.create(parentInjector);return new LoadedRouterConfig(router_flatten(module.injector.get(ROUTES)).map(standardizeConfig),module)}))}loadModuleFactory(loadChildren){return\"string\"==typeof loadChildren?from(this.loader.load(loadChildren)):wrapIntoObservable(loadChildren()).pipe(mergeMap(t=>t instanceof NgModuleFactory?of(t):from(this.compiler.compileModuleAsync(t))))}}class UrlHandlingStrategy{}class DefaultUrlHandlingStrategy{shouldProcessUrl(url){return!0}extract(url){return url}merge(newUrlPart,wholeUrl){return newUrlPart}}function defaultErrorHandler(error){throw error}function defaultMalformedUriErrorHandler(error,urlSerializer,url){return urlSerializer.parse(\"/\")}function defaultRouterHook(snapshot,runExtras){return of(null)}class router_Router{constructor(rootComponentType,urlSerializer,rootContexts,location,injector,loader,compiler,config){this.rootComponentType=rootComponentType,this.urlSerializer=urlSerializer,this.rootContexts=rootContexts,this.location=location,this.config=config,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Subject_Subject,this.errorHandler=defaultErrorHandler,this.malformedUriErrorHandler=defaultMalformedUriErrorHandler,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:defaultRouterHook,afterPreactivation:defaultRouterHook},this.urlHandlingStrategy=new DefaultUrlHandlingStrategy,this.routeReuseStrategy=new DefaultRouteReuseStrategy,this.onSameUrlNavigation=\"ignore\",this.paramsInheritanceStrategy=\"emptyOnly\",this.urlUpdateStrategy=\"deferred\",this.relativeLinkResolution=\"legacy\",this.ngModule=injector.get(NgModuleRef),this.console=injector.get(Console);const ngZone=injector.get(NgZone);this.isNgZoneEnabled=ngZone instanceof NgZone,this.resetConfig(config),this.currentUrlTree=new UrlTree(new UrlSegmentGroup([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new router_RouterConfigLoader(loader,compiler,r=>this.triggerEvent(new RouteConfigLoadStart(r)),r=>this.triggerEvent(new RouteConfigLoadEnd(r))),this.routerState=createEmptyState(this.currentUrlTree,this.rootComponentType),this.transitions=new BehaviorSubject_BehaviorSubject({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:\"imperative\",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(transitions){const eventsSubject=this.events;return transitions.pipe(filter(t=>0!==t.id),map(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),switchMap(t=>{let completed=!1,errored=!1;return of(t).pipe(tap(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),switchMap(t=>{const urlTransition=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if((\"reload\"===this.onSameUrlNavigation||urlTransition)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return of(t).pipe(switchMap(t=>{const transition=this.transitions.getValue();return eventsSubject.next(new NavigationStart(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),transition!==this.transitions.getValue()?empty_EMPTY:[t]}),switchMap(t=>Promise.resolve(t)),function(moduleInjector,configLoader,urlSerializer,config){return function(source){return source.pipe(switchMap(t=>(function(moduleInjector,configLoader,urlSerializer,urlTree,config){return new router_ApplyRedirects(moduleInjector,configLoader,urlSerializer,urlTree,config).apply()})(moduleInjector,configLoader,urlSerializer,t.extractedUrl,config).pipe(map(urlAfterRedirects=>Object.assign({},t,{urlAfterRedirects:urlAfterRedirects})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),tap(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(rootComponentType,config,serializer,paramsInheritanceStrategy,relativeLinkResolution){return function(source){return source.pipe(mergeMap(t=>(function(rootComponentType,config,urlTree,url,paramsInheritanceStrategy=\"emptyOnly\",relativeLinkResolution=\"legacy\"){return new router_Recognizer(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution).recognize()})(rootComponentType,config,t.urlAfterRedirects,serializer(t.urlAfterRedirects),paramsInheritanceStrategy,relativeLinkResolution).pipe(map(targetSnapshot=>Object.assign({},t,{targetSnapshot:targetSnapshot})))))}}(this.rootComponentType,this.config,url=>this.serializeUrl(url),this.paramsInheritanceStrategy,this.relativeLinkResolution),tap(t=>{\"eager\"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),tap(t=>{const routesRecognized=new RoutesRecognized(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);eventsSubject.next(routesRecognized)}));if(urlTransition&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:id,extractedUrl:extractedUrl,source:source,restoredState:restoredState,extras:extras}=t,navStart=new NavigationStart(id,this.serializeUrl(extractedUrl),source,restoredState);eventsSubject.next(navStart);const targetSnapshot=createEmptyState(extractedUrl,this.rootComponentType).snapshot;return of(Object.assign({},t,{targetSnapshot:targetSnapshot,urlAfterRedirects:extractedUrl,extras:Object.assign({},extras,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),empty_EMPTY}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.beforePreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),tap(t=>{const guardsStart=new GuardsCheckStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(guardsStart)}),map(t=>Object.assign({},t,{guards:getAllRouteGuards(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(moduleInjector,forwardEvent){return function(source){return source.pipe(mergeMap(t=>{const{targetSnapshot:targetSnapshot,currentSnapshot:currentSnapshot,guards:{canActivateChecks:canActivateChecks,canDeactivateChecks:canDeactivateChecks}}=t;return 0===canDeactivateChecks.length&&0===canActivateChecks.length?of(Object.assign({},t,{guardsResult:!0})):function(checks,futureRSS,currRSS,moduleInjector){return from(checks).pipe(mergeMap(check=>(function(component,currARS,currRSS,futureRSS,moduleInjector){const canDeactivate=currARS&&currARS.routeConfig?currARS.routeConfig.canDeactivate:null;return canDeactivate&&0!==canDeactivate.length?of(canDeactivate.map(c=>{const guard=getToken(c,currARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canDeactivate)}(guard))observable=wrapIntoObservable(guard.canDeactivate(component,currARS,currRSS,futureRSS));else{if(!router_isFunction(guard))throw new Error(\"Invalid CanDeactivate guard\");observable=wrapIntoObservable(guard(component,currARS,currRSS,futureRSS))}return observable.pipe(first_first())})).pipe(prioritizedGuardValue()):of(!0)})(check.component,check.route,currRSS,futureRSS,moduleInjector)),first_first(result=>!0!==result,!0))}(canDeactivateChecks,targetSnapshot,currentSnapshot,moduleInjector).pipe(mergeMap(canDeactivate=>canDeactivate&&function(v){return\"boolean\"==typeof v}(canDeactivate)?function(futureSnapshot,checks,moduleInjector,forwardEvent){return from(checks).pipe(concatMap(check=>from([fireChildActivationStart(check.route.parent,forwardEvent),fireActivationStart(check.route,forwardEvent),runCanActivateChild(futureSnapshot,check.path,moduleInjector),runCanActivate(futureSnapshot,check.route,moduleInjector)]).pipe(concatAll(),first_first(result=>!0!==result,!0))),first_first(result=>!0!==result,!0))}(targetSnapshot,canActivateChecks,moduleInjector,forwardEvent):of(canDeactivate)),map(guardsResult=>Object.assign({},t,{guardsResult:guardsResult})))}))}}(this.ngModule.injector,evt=>this.triggerEvent(evt)),tap(t=>{if(isUrlTree(t.guardsResult)){const error=navigationCancelingError(`Redirecting to \"${this.serializeUrl(t.guardsResult)}\"`);throw error.url=t.guardsResult,error}}),tap(t=>{const guardsEnd=new GuardsCheckEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(guardsEnd)}),filter(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),\"\");return eventsSubject.next(navCancel),t.resolve(!1),!1}return!0}),switchTap(t=>{if(t.guards.canActivateChecks.length)return of(t).pipe(tap(t=>{const resolveStart=new ResolveStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveStart)}),function(paramsInheritanceStrategy,moduleInjector){return function(source){return source.pipe(mergeMap(t=>{const{targetSnapshot:targetSnapshot,guards:{canActivateChecks:canActivateChecks}}=t;return canActivateChecks.length?from(canActivateChecks).pipe(concatMap(check=>(function(futureARS,futureRSS,paramsInheritanceStrategy,moduleInjector){return function(resolve,futureARS,futureRSS,moduleInjector){const keys=Object.keys(resolve);if(0===keys.length)return of({});if(1===keys.length){const key=keys[0];return getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(map(value=>({[key]:value})))}const data={};return from(keys).pipe(mergeMap(key=>getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(map(value=>(data[key]=value,value))))).pipe(last_last(),map(()=>data))}(futureARS._resolve,futureARS,futureRSS,moduleInjector).pipe(map(resolvedData=>(futureARS._resolvedData=resolvedData,futureARS.data=Object.assign({},futureARS.data,inheritedParamsDataResolve(futureARS,paramsInheritanceStrategy).resolve),null)))})(check.route,targetSnapshot,paramsInheritanceStrategy,moduleInjector)),function(accumulator,seed){return arguments.length>=2?function(source){return pipe(scan(accumulator,seed),takeLast(1),defaultIfEmpty(seed))(source)}:function(source){return pipe(scan((acc,value,index)=>accumulator(acc,value,index+1)),takeLast(1))(source)}}((_,__)=>_),map(_=>t)):of(t)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),tap(t=>{const resolveEnd=new ResolveEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveEnd)}))}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.afterPreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),map(t=>{const targetRouterState=function(routeReuseStrategy,curr,prevState){const root=function createNode(routeReuseStrategy,curr,prevState){if(prevState&&routeReuseStrategy.shouldReuseRoute(curr.value,prevState.value.snapshot)){const value=prevState.value;value._futureSnapshot=curr.value;const children=function(routeReuseStrategy,curr,prevState){return curr.children.map(child=>{for(const p of prevState.children)if(routeReuseStrategy.shouldReuseRoute(p.value.snapshot,child.value))return createNode(routeReuseStrategy,child,p);return createNode(routeReuseStrategy,child)})}(routeReuseStrategy,curr,prevState);return new TreeNode(value,children)}{const detachedRouteHandle=routeReuseStrategy.retrieve(curr.value);if(detachedRouteHandle){const tree=detachedRouteHandle.route;return function setFutureSnapshotsOfActivatedRoutes(curr,result){if(curr.value.routeConfig!==result.value.routeConfig)throw new Error(\"Cannot reattach ActivatedRouteSnapshot created from a different route\");if(curr.children.length!==result.children.length)throw new Error(\"Cannot reattach ActivatedRouteSnapshot with a different number of children\");result.value._futureSnapshot=curr.value;for(let i=0;i<curr.children.length;++i)setFutureSnapshotsOfActivatedRoutes(curr.children[i],result.children[i])}(curr,tree),tree}{const value=new router_ActivatedRoute(new BehaviorSubject_BehaviorSubject((c=curr.value).url),new BehaviorSubject_BehaviorSubject(c.params),new BehaviorSubject_BehaviorSubject(c.queryParams),new BehaviorSubject_BehaviorSubject(c.fragment),new BehaviorSubject_BehaviorSubject(c.data),c.outlet,c.component,c),children=curr.children.map(c=>createNode(routeReuseStrategy,c));return new TreeNode(value,children)}}var c}(routeReuseStrategy,curr._root,prevState?prevState._root:void 0);return new RouterState(root,curr)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:targetRouterState})}),tap(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,\"deferred\"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),activateRoutes(this.rootContexts,this.routeReuseStrategy,evt=>this.triggerEvent(evt)),tap({next(){completed=!0},complete(){completed=!0}}),function(callback){return source=>source.lift(new FinallyOperator(callback))}(()=>{if(!completed&&!errored){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);eventsSubject.next(navCancel),t.resolve(!1)}this.currentNavigation=null}),catchError(e=>{if(errored=!0,function(error){return error&&error[NAVIGATION_CANCELING_ERROR]}(e)){const redirecting=isUrlTree(e.url);redirecting||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),e.message);eventsSubject.next(navCancel),t.resolve(!1),redirecting&&this.navigateByUrl(e.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const navError=new NavigationError(t.id,this.serializeUrl(t.extractedUrl),e);eventsSubject.next(navError);try{t.resolve(this.errorHandler(e))}catch(ee){t.reject(ee)}}return empty_EMPTY}))}))}resetRootComponentType(rootComponentType){this.rootComponentType=rootComponentType,this.routerState.root.component=this.rootComponentType}getTransition(){const transition=this.transitions.value;return transition.urlAfterRedirects=this.browserUrlTree,transition}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(change=>{let rawUrlTree=this.parseUrl(change.url);const source=\"popstate\"===change.type?\"popstate\":\"hashchange\",state=change.state&&change.state.navigationId?change.state:null;setTimeout(()=>{this.scheduleNavigation(rawUrlTree,source,state,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(event){this.events.next(event)}resetConfig(config){validateConfig(config),this.config=config.map(standardizeConfig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(commands,navigationExtras={}){const{relativeTo:relativeTo,queryParams:queryParams,fragment:fragment,preserveQueryParams:preserveQueryParams,queryParamsHandling:queryParamsHandling,preserveFragment:preserveFragment}=navigationExtras;isDevMode()&&preserveQueryParams&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated, use queryParamsHandling instead.\");const a=relativeTo||this.routerState.root,f=preserveFragment?this.currentUrlTree.fragment:fragment;let q=null;if(queryParamsHandling)switch(queryParamsHandling){case\"merge\":q=Object.assign({},this.currentUrlTree.queryParams,queryParams);break;case\"preserve\":q=this.currentUrlTree.queryParams;break;default:q=queryParams||null}else q=preserveQueryParams?this.currentUrlTree.queryParams:queryParams||null;return null!==q&&(q=this.removeEmptyProps(q)),function(route,urlTree,commands,queryParams,fragment){if(0===commands.length)return router_tree(urlTree.root,urlTree.root,urlTree,queryParams,fragment);const nav=function(commands){if(\"string\"==typeof commands[0]&&1===commands.length&&\"/\"===commands[0])return new Navigation(!0,0,commands);let numberOfDoubleDots=0,isAbsolute=!1;const res=commands.reduce((res,cmd,cmdIdx)=>{if(\"object\"==typeof cmd&&null!=cmd){if(cmd.outlets){const outlets={};return forEach(cmd.outlets,(commands,name)=>{outlets[name]=\"string\"==typeof commands?commands.split(\"/\"):commands}),[...res,{outlets:outlets}]}if(cmd.segmentPath)return[...res,cmd.segmentPath]}return\"string\"!=typeof cmd?[...res,cmd]:0===cmdIdx?(cmd.split(\"/\").forEach((urlPart,partIndex)=>{0==partIndex&&\".\"===urlPart||(0==partIndex&&\"\"===urlPart?isAbsolute=!0:\"..\"===urlPart?numberOfDoubleDots++:\"\"!=urlPart&&res.push(urlPart))}),res):[...res,cmd]},[]);return new Navigation(isAbsolute,numberOfDoubleDots,res)}(commands);if(nav.toRoot())return router_tree(urlTree.root,new UrlSegmentGroup([],{}),urlTree,queryParams,fragment);const startingPosition=function(nav,tree,route){if(nav.isAbsolute)return new Position(tree.root,!0,0);if(-1===route.snapshot._lastPathIndex)return new Position(route.snapshot._urlSegment,!0,0);const modifier=isMatrixParams(nav.commands[0])?0:1;return function(group,index,numberOfDoubleDots){let g=group,ci=index,dd=numberOfDoubleDots;for(;dd>ci;){if(dd-=ci,!(g=g.parent))throw new Error(\"Invalid number of '../'\");ci=g.segments.length}return new Position(g,!1,ci-dd)}(route.snapshot._urlSegment,route.snapshot._lastPathIndex+modifier,nav.numberOfDoubleDots)}(nav,urlTree,route),segmentGroup=startingPosition.processChildren?updateSegmentGroupChildren(startingPosition.segmentGroup,startingPosition.index,nav.commands):updateSegmentGroup(startingPosition.segmentGroup,startingPosition.index,nav.commands);return router_tree(startingPosition.segmentGroup,segmentGroup,urlTree,queryParams,fragment)}(a,this.currentUrlTree,commands,q,f)}navigateByUrl(url,extras={skipLocationChange:!1}){isDevMode()&&this.isNgZoneEnabled&&!NgZone.isInAngularZone()&&this.console.warn(\"Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?\");const urlTree=isUrlTree(url)?url:this.parseUrl(url),mergedTree=this.urlHandlingStrategy.merge(urlTree,this.rawUrlTree);return this.scheduleNavigation(mergedTree,\"imperative\",null,extras)}navigate(commands,extras={skipLocationChange:!1}){return function(commands){for(let i=0;i<commands.length;i++){const cmd=commands[i];if(null==cmd)throw new Error(`The requested path contains ${cmd} segment at index ${i}`)}}(commands),this.navigateByUrl(this.createUrlTree(commands,extras),extras)}serializeUrl(url){return this.urlSerializer.serialize(url)}parseUrl(url){let urlTree;try{urlTree=this.urlSerializer.parse(url)}catch(e){urlTree=this.malformedUriErrorHandler(e,this.urlSerializer,url)}return urlTree}isActive(url,exact){if(isUrlTree(url))return containsTree(this.currentUrlTree,url,exact);const urlTree=this.parseUrl(url);return containsTree(this.currentUrlTree,urlTree,exact)}removeEmptyProps(params){return Object.keys(params).reduce((result,key)=>{const value=params[key];return null!=value&&(result[key]=value),result},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new NavigationEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},e=>{this.console.warn(\"Unhandled Navigation Error: \")})}scheduleNavigation(rawUrl,source,restoredState,extras){const lastNavigation=this.getTransition();if(lastNavigation&&\"imperative\"!==source&&\"imperative\"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&\"hashchange\"==source&&\"popstate\"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&\"popstate\"==source&&\"hashchange\"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);let resolve=null,reject=null;const promise=new Promise((res,rej)=>{resolve=res,reject=rej}),id=++this.navigationId;return this.setTransition({id:id,source:source,restoredState:restoredState,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:rawUrl,extras:extras,resolve:resolve,reject:reject,promise:promise,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),promise.catch(e=>Promise.reject(e))}setBrowserUrl(url,replaceUrl,id,state){const path=this.urlSerializer.serialize(url);state=state||{},this.location.isCurrentPathEqualTo(path)||replaceUrl?this.location.replaceState(path,\"\",Object.assign({},state,{navigationId:id})):this.location.go(path,\"\",Object.assign({},state,{navigationId:id}))}resetStateAndUrl(storedState,storedUrl,rawUrl){this.routerState=storedState,this.currentUrlTree=storedUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,rawUrl),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),\"\",{navigationId:this.lastSuccessfulId})}}class router_RouterLink{constructor(router,route,tabIndex,renderer,el){this.router=router,this.route=route,this.commands=[],null==tabIndex&&renderer.setAttribute(el.nativeElement,\"tabindex\",\"0\")}set routerLink(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]}set preserveQueryParams(value){isDevMode()&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated!, use queryParamsHandling instead.\"),this.preserve=value}onClick(){const extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,extras),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})}}class router_RouterLinkWithHref{constructor(router,route,locationStrategy){this.router=router,this.route=route,this.locationStrategy=locationStrategy,this.commands=[],this.subscription=router.events.subscribe(s=>{s instanceof NavigationEnd&&this.updateTargetUrlAndHref()})}set routerLink(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]}set preserveQueryParams(value){isDevMode()&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated, use queryParamsHandling instead.\"),this.preserve=value}ngOnChanges(changes){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(button,ctrlKey,metaKey,shiftKey){if(0!==button||ctrlKey||metaKey||shiftKey)return!0;if(\"string\"==typeof this.target&&\"_self\"!=this.target)return!0;const extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,extras),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})}}function attrBoolValue(s){return\"\"===s||!!s}class OutletContext{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ChildrenOutletContexts,this.attachRef=null}}class ChildrenOutletContexts{constructor(){this.contexts=new Map}onChildOutletCreated(childName,outlet){const context=this.getOrCreateContext(childName);context.outlet=outlet,this.contexts.set(childName,context)}onChildOutletDestroyed(childName){const context=this.getContext(childName);context&&(context.outlet=null)}onOutletDeactivated(){const contexts=this.contexts;return this.contexts=new Map,contexts}onOutletReAttached(contexts){this.contexts=contexts}getOrCreateContext(childName){let context=this.getContext(childName);return context||(context=new OutletContext,this.contexts.set(childName,context)),context}getContext(childName){return this.contexts.get(childName)||null}}class router_RouterOutlet{constructor(parentContexts,location,resolver,name,changeDetector){this.parentContexts=parentContexts,this.location=location,this.resolver=resolver,this.changeDetector=changeDetector,this.activated=null,this._activatedRoute=null,this.activateEvents=new core_EventEmitter,this.deactivateEvents=new core_EventEmitter,this.name=name||PRIMARY_OUTLET,parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const context=this.parentContexts.getContext(this.name);context&&context.route&&(context.attachRef?this.attach(context.attachRef,context.route):this.activateWith(context.route,context.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error(\"Outlet is not activated\");this.location.detach();const cmp=this.activated;return this.activated=null,this._activatedRoute=null,cmp}attach(ref,activatedRoute){this.activated=ref,this._activatedRoute=activatedRoute,this.location.insert(ref.hostView)}deactivate(){if(this.activated){const c=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(c)}}activateWith(activatedRoute,resolver){if(this.isActivated)throw new Error(\"Cannot activate an already activated outlet\");this._activatedRoute=activatedRoute;const factory=(resolver=resolver||this.resolver).resolveComponentFactory(activatedRoute._futureSnapshot.routeConfig.component),childContexts=this.parentContexts.getOrCreateContext(this.name).children,injector=new OutletInjector(activatedRoute,childContexts,this.location.injector);this.activated=this.location.createComponent(factory,this.location.length,injector),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class OutletInjector{constructor(route,childContexts,parent){this.route=route,this.childContexts=childContexts,this.parent=parent}get(token,notFoundValue){return token===router_ActivatedRoute?this.route:token===ChildrenOutletContexts?this.childContexts:this.parent.get(token,notFoundValue)}}class PreloadingStrategy{}class router_PreloadAllModules{preload(route,fn){return fn().pipe(catchError(()=>of(null)))}}class router_NoPreloading{preload(route,fn){return of(null)}}class router_RouterPreloader{constructor(router,moduleLoader,compiler,injector,preloadingStrategy){this.router=router,this.injector=injector,this.preloadingStrategy=preloadingStrategy,this.loader=new router_RouterConfigLoader(moduleLoader,compiler,r=>router.triggerEvent(new RouteConfigLoadStart(r)),r=>router.triggerEvent(new RouteConfigLoadEnd(r)))}setUpPreloading(){this.subscription=this.router.events.pipe(filter(e=>e instanceof NavigationEnd),concatMap(()=>this.preload())).subscribe(()=>{})}preload(){const ngModule=this.injector.get(NgModuleRef);return this.processRoutes(ngModule,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(ngModule,routes){const res=[];for(const route of routes)if(route.loadChildren&&!route.canLoad&&route._loadedConfig){const childConfig=route._loadedConfig;res.push(this.processRoutes(childConfig.module,childConfig.routes))}else route.loadChildren&&!route.canLoad?res.push(this.preloadConfig(ngModule,route)):route.children&&res.push(this.processRoutes(ngModule,route.children));return from(res).pipe(mergeAll(),map(_=>void 0))}preloadConfig(ngModule,route){return this.preloadingStrategy.preload(route,()=>this.loader.load(ngModule.injector,route).pipe(mergeMap(config=>(route._loadedConfig=config,this.processRoutes(config.module,config.routes)))))}}class RouterScroller{constructor(router,viewportScroller,options={}){this.router=router,this.viewportScroller=viewportScroller,this.options=options,this.lastId=0,this.lastSource=\"imperative\",this.restoredId=0,this.store={},options.scrollPositionRestoration=options.scrollPositionRestoration||\"disabled\",options.anchorScrolling=options.anchorScrolling||\"disabled\"}init(){\"disabled\"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration(\"manual\"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof NavigationStart?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof NavigationEnd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Scroll&&(e.position?\"top\"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):\"enabled\"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&\"enabled\"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):\"disabled\"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(routerEvent,anchor){this.router.triggerEvent(new Scroll(routerEvent,\"popstate\"===this.lastSource?this.store[this.restoredId]:null,anchor))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const ROUTER_CONFIGURATION=new InjectionToken(\"ROUTER_CONFIGURATION\"),ROUTER_FORROOT_GUARD=new InjectionToken(\"ROUTER_FORROOT_GUARD\"),ROUTER_PROVIDERS=[common_Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:router_Router,useFactory:setupRouter,deps:[core_ApplicationRef,UrlSerializer,ChildrenOutletContexts,common_Location,Injector,NgModuleFactoryLoader,Compiler,ROUTES,ROUTER_CONFIGURATION,[UrlHandlingStrategy,new Optional],[RouteReuseStrategy,new Optional]]},ChildrenOutletContexts,{provide:router_ActivatedRoute,useFactory:rootRoute,deps:[router_Router]},{provide:NgModuleFactoryLoader,useClass:SystemJsNgModuleLoader},router_RouterPreloader,router_NoPreloading,router_PreloadAllModules,{provide:ROUTER_CONFIGURATION,useValue:{enableTracing:!1}}];function routerNgProbeToken(){return new NgProbeToken(\"Router\",router_Router)}class router_RouterModule{constructor(guard,router){}static forRoot(routes,config){return{ngModule:router_RouterModule,providers:[ROUTER_PROVIDERS,provideRoutes(routes),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[router_Router,new Optional,new SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:config||{}},{provide:LocationStrategy,useFactory:provideLocationStrategy,deps:[PlatformLocation,[new Inject(APP_BASE_HREF),new Optional],ROUTER_CONFIGURATION]},{provide:RouterScroller,useFactory:createRouterScroller,deps:[router_Router,common_ViewportScroller,ROUTER_CONFIGURATION]},{provide:PreloadingStrategy,useExisting:config&&config.preloadingStrategy?config.preloadingStrategy:router_NoPreloading},{provide:NgProbeToken,multi:!0,useFactory:routerNgProbeToken},[router_RouterInitializer,{provide:APP_INITIALIZER,multi:!0,useFactory:getAppInitializer,deps:[router_RouterInitializer]},{provide:ROUTER_INITIALIZER,useFactory:getBootstrapListener,deps:[router_RouterInitializer]},{provide:APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ROUTER_INITIALIZER}]]}}static forChild(routes){return{ngModule:router_RouterModule,providers:[provideRoutes(routes)]}}}function createRouterScroller(router,viewportScroller,config){return config.scrollOffset&&viewportScroller.setOffset(config.scrollOffset),new RouterScroller(router,viewportScroller,config)}function provideLocationStrategy(platformLocationStrategy,baseHref,options={}){return options.useHash?new HashLocationStrategy(platformLocationStrategy,baseHref):new PathLocationStrategy(platformLocationStrategy,baseHref)}function provideForRootGuard(router){if(router)throw new Error(\"RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.\");return\"guarded\"}function provideRoutes(routes){return[{provide:ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:routes},{provide:ROUTES,multi:!0,useValue:routes}]}function setupRouter(ref,urlSerializer,contexts,location,injector,loader,compiler,config,opts={},urlHandlingStrategy,routeReuseStrategy){const router=new router_Router(null,urlSerializer,contexts,location,injector,loader,compiler,router_flatten(config));if(urlHandlingStrategy&&(router.urlHandlingStrategy=urlHandlingStrategy),routeReuseStrategy&&(router.routeReuseStrategy=routeReuseStrategy),opts.errorHandler&&(router.errorHandler=opts.errorHandler),opts.malformedUriErrorHandler&&(router.malformedUriErrorHandler=opts.malformedUriErrorHandler),opts.enableTracing){const dom=getDOM();router.events.subscribe(e=>{dom.logGroup(`Router Event: ${e.constructor.name}`),dom.log(e.toString()),dom.log(e),dom.logGroupEnd()})}return opts.onSameUrlNavigation&&(router.onSameUrlNavigation=opts.onSameUrlNavigation),opts.paramsInheritanceStrategy&&(router.paramsInheritanceStrategy=opts.paramsInheritanceStrategy),opts.urlUpdateStrategy&&(router.urlUpdateStrategy=opts.urlUpdateStrategy),opts.relativeLinkResolution&&(router.relativeLinkResolution=opts.relativeLinkResolution),router}function rootRoute(router){return router.routerState.root}class router_RouterInitializer{constructor(injector){this.injector=injector,this.initNavigation=!1,this.resultOfPreactivationDone=new Subject_Subject}appInitializer(){return this.injector.get(LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let resolve=null;const res=new Promise(r=>resolve=r),router=this.injector.get(router_Router),opts=this.injector.get(ROUTER_CONFIGURATION);if(this.isLegacyDisabled(opts)||this.isLegacyEnabled(opts))resolve(!0);else if(\"disabled\"===opts.initialNavigation)router.setUpLocationChangeListener(),resolve(!0);else{if(\"enabled\"!==opts.initialNavigation)throw new Error(`Invalid initialNavigation options: '${opts.initialNavigation}'`);router.hooks.afterPreactivation=()=>this.initNavigation?of(null):(this.initNavigation=!0,resolve(!0),this.resultOfPreactivationDone),router.initialNavigation()}return res})}bootstrapListener(bootstrappedComponentRef){const opts=this.injector.get(ROUTER_CONFIGURATION),preloader=this.injector.get(router_RouterPreloader),routerScroller=this.injector.get(RouterScroller),router=this.injector.get(router_Router),ref=this.injector.get(core_ApplicationRef);bootstrappedComponentRef===ref.components[0]&&(this.isLegacyEnabled(opts)?router.initialNavigation():this.isLegacyDisabled(opts)&&router.setUpLocationChangeListener(),preloader.setUpPreloading(),routerScroller.init(),router.resetRootComponentType(ref.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(opts){return\"legacy_enabled\"===opts.initialNavigation||!0===opts.initialNavigation||void 0===opts.initialNavigation}isLegacyDisabled(opts){return\"legacy_disabled\"===opts.initialNavigation||!1===opts.initialNavigation}}function getAppInitializer(r){return r.appInitializer.bind(r)}function getBootstrapListener(r){return r.bootstrapListener.bind(r)}const ROUTER_INITIALIZER=new InjectionToken(\"Router Initializer\");var RenderType_ɵangular_packages_router_router_l=createRendererType2({encapsulation:2,styles:[],data:{}});function View_ɵangular_packages_router_router_l_0(_l){return viewDef(0,[(_l()(),elementDef(0,16777216,null,null,1,\"router-outlet\",[],null,null,null,null,null)),directiveDef(1,212992,null,0,router_RouterOutlet,[ChildrenOutletContexts,ViewContainerRef,ComponentFactoryResolver,[8,null],ChangeDetectorRef],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}function View_ɵangular_packages_router_router_l_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_ɵangular_packages_router_router_l_0,RenderType_ɵangular_packages_router_router_l)),directiveDef(1,49152,null,0,ɵEmptyOutletComponent,[],null,null)],null,null)}var ɵangular_packages_router_router_lNgFactory=createComponentFactory(\"ng-component\",ɵEmptyOutletComponent,View_ɵangular_packages_router_router_l_Host_0,{},{},[]);const ProgrammingTool={id:\"programming\",name:\"Programmierung\",parts:[{id:\"testCreation\",name:\"Erstellen der Unittests\"},{id:\"implementation\",name:\"Implementierung\",disabled:!0}],status:\"beta\"},RegexTool={id:\"regex\",name:\"Reguläre Ausdrücke\",parts:[{id:\"regex\",name:\"Regulären Ausdruck erstellen\"}]},SqlCreateQueryPart={id:\"createQuery\",name:\"Abfrage erstellen\"},SqlTool={id:\"sql\",name:\"SQL\",parts:[SqlCreateQueryPart]},WebTool={id:\"web\",name:\"Web\",parts:[],hasLivePreview:!0},collectionTools=[ProgrammingTool,RegexTool,{id:\"rose\",name:\"ROSE\",status:\"alpha\",parts:[],hasPlayground:!1},SqlTool,{id:\"uml\",name:\"UML-Klassendiagramme\",status:\"beta\",parts:[],hasPlayground:!1},WebTool,{id:\"xml\",name:\"XML\",parts:[]}],BoolFillOutPart={id:\"fillOut\",name:\"Wahrheitstabellen ausfüllen\"},BoolCreatePart={id:\"create\",name:\"Boolesche Formel erstellen\"},BoolTool={id:\"bool\",name:\"Boolesche Algebra\",parts:[BoolFillOutPart,BoolCreatePart]},NaryAdditionToolPart={id:\"addition\",name:\"Addition\"},NaryConversionToolPart={id:\"conversion\",name:\"Zahlenumwandlung\"},NaryTwoConversionToolPart={id:\"twoConversion\",name:\"Zahlenumwandlung im Zweiersystem\",disabled:!0},NaryTool={id:\"nary\",name:\"Zahlensysteme\",parts:[NaryAdditionToolPart,NaryConversionToolPart,NaryTwoConversionToolPart]},randomTools=[BoolTool,NaryTool];class tool_overview_component_ToolOverviewComponent{constructor(){this.randomTools=randomTools,this.collectionTools=collectionTools}}var RenderType_ToolOverviewComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_ToolOverviewComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,\"div\",[[\"class\",\"column is-one-third\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,3,\"a\",[[\"class\",\"button is-link is-fullwidth\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,2).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(2,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(3,2),(_l()(),textDef(4,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_2=_ck(_v,3,0,\"/randomTools\",_v.context.$implicit.id);_ck(_v,2,0,currVal_2)}),(function(_ck,_v){_ck(_v,1,0,nodeValue(_v,2).target,nodeValue(_v,2).href),_ck(_v,4,0,_v.context.$implicit.name)}))}function View_ToolOverviewComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,\"sup\",[],[[8,\"innerHTML\",1]],null,null,null,null))],null,(function(_ck,_v){_ck(_v,0,0,\" &\"+_v.parent.context.$implicit.status+\";\")}))}function View_ToolOverviewComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,6,\"div\",[[\"class\",\"column is-one-third\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,5,\"a\",[[\"class\",\"button is-link is-fullwidth\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,2).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(2,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(3,2),(_l()(),textDef(4,null,[\" \",\"\"])),(_l()(),anchorDef(16777216,null,null,1,null,View_ToolOverviewComponent_3)),directiveDef(6,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){var currVal_2=_ck(_v,3,0,\"/tools\",_v.context.$implicit.id);_ck(_v,2,0,currVal_2),_ck(_v,6,0,_v.context.$implicit.status)}),(function(_ck,_v){_ck(_v,1,0,nodeValue(_v,2).target,nodeValue(_v,2).href),_ck(_v,4,0,_v.context.$implicit.name)}))}function View_ToolOverviewComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,10,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"h2\",[[\"class\",\"subtitle is-4\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Tools mit zufälligen Aufgaben\"])),(_l()(),elementDef(3,0,null,null,2,\"div\",[[\"class\",\"columns is-multiline\"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_ToolOverviewComponent_1)),directiveDef(5,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),elementDef(6,0,null,null,1,\"h2\",[[\"class\",\"subtitle is-4\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Tools mit Aufgaben in Sammlungen\"])),(_l()(),elementDef(8,0,null,null,2,\"div\",[[\"class\",\"columns is-multiline\"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_ToolOverviewComponent_2)),directiveDef(10,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,5,0,_co.randomTools),_ck(_v,10,0,_co.collectionTools)}),null)}function View_ToolOverviewComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_ToolOverviewComponent_0,RenderType_ToolOverviewComponent)),directiveDef(1,49152,null,0,tool_overview_component_ToolOverviewComponent,[],null,null)],null,null)}var ToolOverviewComponentNgFactory=createComponentFactory(\"ng-component\",tool_overview_component_ToolOverviewComponent,View_ToolOverviewComponent_Host_0,{},{},[]);class forkJoin_ForkJoinSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,sources){super(destination),this.sources=sources,this.completed=0,this.haveValues=0;const len=sources.length;this.values=new Array(len);for(let i=0;i<len;i++){const innerSubscription=subscribeToResult(this,sources[i],null,i);innerSubscription&&this.add(innerSubscription)}}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue,innerSub._hasValue||(innerSub._hasValue=!0,this.haveValues++)}notifyComplete(innerSub){const{destination:destination,haveValues:haveValues,values:values}=this,len=values.length;innerSub._hasValue?(this.completed++,this.completed===len&&(haveValues===len&&destination.next(values),destination.complete())):destination.complete()}}const NG_VALUE_ACCESSOR=new InjectionToken(\"NgValueAccessor\");class CheckboxControlValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,\"checked\",value)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",isDisabled)}}const COMPOSITION_BUFFER_MODE=new InjectionToken(\"CompositionEventMode\");class DefaultValueAccessor{constructor(_renderer,_elementRef,_compositionMode){this._renderer=_renderer,this._elementRef=_elementRef,this._compositionMode=_compositionMode,this.onChange=_=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const userAgent=getDOM()?getDOM().getUserAgent():\"\";return/android (\\d+)/.test(userAgent.toLowerCase())}())}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,\"value\",null==value?\"\":value)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",isDisabled)}_handleInput(value){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(value)}_compositionStart(){this._composing=!0}_compositionEnd(value){this._composing=!1,this._compositionMode&&this.onChange(value)}}class AbstractControlDirective{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(value){this.control&&this.control.reset(value)}hasError(errorCode,path){return!!this.control&&this.control.hasError(errorCode,path)}getError(errorCode,path){return this.control?this.control.getError(errorCode,path):null}}class ControlContainer extends AbstractControlDirective{get formDirective(){return null}get path(){return null}}function unimplemented(){throw new Error(\"unimplemented\")}class NgControl extends AbstractControlDirective{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return unimplemented()}get asyncValidator(){return unimplemented()}}class AbstractControlStatus{constructor(cd){this._cd=cd}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class NgControlStatus extends AbstractControlStatus{constructor(cd){super(cd)}}class NgControlStatusGroup extends AbstractControlStatus{constructor(cd){super(cd)}}function isEmptyInputValue(value){return null==value||0===value.length}const EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class forms_Validators{static min(min){return control=>{if(isEmptyInputValue(control.value)||isEmptyInputValue(min))return null;const value=parseFloat(control.value);return!isNaN(value)&&value<min?{min:{min:min,actual:control.value}}:null}}static max(max){return control=>{if(isEmptyInputValue(control.value)||isEmptyInputValue(max))return null;const value=parseFloat(control.value);return!isNaN(value)&&value>max?{max:{max:max,actual:control.value}}:null}}static required(control){return isEmptyInputValue(control.value)?{required:!0}:null}static requiredTrue(control){return!0===control.value?null:{required:!0}}static email(control){return isEmptyInputValue(control.value)?null:EMAIL_REGEXP.test(control.value)?null:{email:!0}}static minLength(minLength){return control=>{if(isEmptyInputValue(control.value))return null;const length=control.value?control.value.length:0;return length<minLength?{minlength:{requiredLength:minLength,actualLength:length}}:null}}static maxLength(maxLength){return control=>{const length=control.value?control.value.length:0;return length>maxLength?{maxlength:{requiredLength:maxLength,actualLength:length}}:null}}static pattern(pattern){if(!pattern)return forms_Validators.nullValidator;let regex,regexStr;return\"string\"==typeof pattern?(regexStr=\"\",\"^\"!==pattern.charAt(0)&&(regexStr+=\"^\"),regexStr+=pattern,\"$\"!==pattern.charAt(pattern.length-1)&&(regexStr+=\"$\"),regex=new RegExp(regexStr)):(regexStr=pattern.toString(),regex=pattern),control=>{if(isEmptyInputValue(control.value))return null;const value=control.value;return regex.test(value)?null:{pattern:{requiredPattern:regexStr,actualValue:value}}}}static nullValidator(control){return null}static compose(validators){if(!validators)return null;const presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){return _mergeErrors(function(control,validators){return validators.map(v=>v(control))}(control,presentValidators))}}static composeAsync(validators){if(!validators)return null;const presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){return function forkJoin(...sources){let resultSelector;return\"function\"==typeof sources[sources.length-1]&&(resultSelector=sources.pop()),1===sources.length&&isArray(sources[0])&&(sources=sources[0]),0===sources.length?empty_EMPTY:resultSelector?forkJoin(sources).pipe(map(args=>resultSelector(...args))):new Observable_Observable(subscriber=>new forkJoin_ForkJoinSubscriber(subscriber,sources))}(function(control,validators){return validators.map(v=>v(control))}(control,presentValidators).map(toObservable)).pipe(map(_mergeErrors))}}}function isPresent(o){return null!=o}function toObservable(r){const obs=core_isPromise(r)?from(r):r;if(!isObservable(obs))throw new Error(\"Expected validator to return Promise or Observable.\");return obs}function _mergeErrors(arrayOfErrors){const res=arrayOfErrors.reduce((res,errors)=>null!=errors?Object.assign({},res,errors):res,{});return 0===Object.keys(res).length?null:res}function normalizeValidator(validator){return validator.validate?c=>validator.validate(c):validator}function normalizeAsyncValidator(validator){return validator.validate?c=>validator.validate(c):validator}class RadioControlRegistry{constructor(){this._accessors=[]}add(control,accessor){this._accessors.push([control,accessor])}remove(accessor){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===accessor)return void this._accessors.splice(i,1)}select(accessor){this._accessors.forEach(c=>{this._isSameGroup(c,accessor)&&c[1]!==accessor&&c[1].fireUncheck(accessor.value)})}_isSameGroup(controlPair,accessor){return!!controlPair[0].control&&controlPair[0]._parent===accessor._control._parent&&controlPair[1].name===accessor.name}}const FormErrorExamples={formControlName:'\\n    <div [formGroup]=\"myGroup\">\\n      <input formControlName=\"firstName\">\\n    </div>\\n\\n    In your class:\\n\\n    this.myGroup = new FormGroup({\\n       firstName: new FormControl()\\n    });',formGroupName:'\\n    <div [formGroup]=\"myGroup\">\\n       <div formGroupName=\"person\">\\n          <input formControlName=\"firstName\">\\n       </div>\\n    </div>\\n\\n    In your class:\\n\\n    this.myGroup = new FormGroup({\\n       person: new FormGroup({ firstName: new FormControl() })\\n    });',formArrayName:'\\n    <div [formGroup]=\"myGroup\">\\n      <div formArrayName=\"cities\">\\n        <div *ngFor=\"let city of cityArray.controls; index as i\">\\n          <input [formControlName]=\"i\">\\n        </div>\\n      </div>\\n    </div>\\n\\n    In your class:\\n\\n    this.cityArray = new FormArray([new FormControl(\\'SF\\')]);\\n    this.myGroup = new FormGroup({\\n      cities: this.cityArray\\n    });',ngModelGroup:'\\n    <form>\\n       <div ngModelGroup=\"person\">\\n          <input [(ngModel)]=\"person.name\" name=\"firstName\">\\n       </div>\\n    </form>',ngModelWithFormGroup:'\\n    <div [formGroup]=\"myGroup\">\\n       <input formControlName=\"firstName\">\\n       <input [(ngModel)]=\"showMoreControls\" [ngModelOptions]=\"{standalone: true}\">\\n    </div>\\n  '};class ReactiveErrors{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\\n       directive and pass it an existing FormGroup instance (you can create one in your class).\\n\\n      Example:\\n\\n      ${FormErrorExamples.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\\n       that also have a \"form\" prefix: formGroupName, formArrayName, or formGroup.\\n\\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\\n\\n        ${FormErrorExamples.formGroupName}\\n\\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\\n\\n        ${FormErrorExamples.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\\n\\n       Example:\\n\\n       ${FormErrorExamples.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\\n      directive and pass it an existing FormGroup instance (you can create one in your class).\\n\\n      Example:\\n\\n      ${FormErrorExamples.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\\n       directive and pass it an existing FormGroup instance (you can create one in your class).\\n\\n        Example:\\n\\n        ${FormErrorExamples.formArrayName}`)}static disabledAttrWarning(){console.warn(\"\\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\\n      you. We recommend using this approach to avoid 'changed after checked' errors.\\n       \\n      Example: \\n      form = new FormGroup({\\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\\n        last: new FormControl('Drew', Validators.required)\\n      });\\n    \")}static ngModelWarning(directiveName){console.warn(`\\n    It looks like you're using ngModel on the same form field as ${directiveName}. \\n    Support for using the ngModel input property and ngModelChange event with \\n    reactive form directives has been deprecated in Angular v6 and will be removed \\n    in Angular v7.\\n    \\n    For more information on this, see our API docs here:\\n    https://angular.io/api/forms/${\"formControl\"===directiveName?\"FormControlDirective\":\"FormControlName\"}#use-with-ngmodel\\n    `)}}function _buildValueString(id,value){return null==id?`${value}`:(value&&\"object\"==typeof value&&(value=\"Object\"),`${id}: ${value}`.slice(0,50))}class forms_SelectControlValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=_=>{},this.onTouched=()=>{},this._compareWith=looseIdentical}set compareWith(fn){if(\"function\"!=typeof fn)throw new Error(`compareWith must be a function, but received ${JSON.stringify(fn)}`);this._compareWith=fn}writeValue(value){this.value=value;const id=this._getOptionId(value);null==id&&this._renderer.setProperty(this._elementRef.nativeElement,\"selectedIndex\",-1);const valueString=_buildValueString(id,value);this._renderer.setProperty(this._elementRef.nativeElement,\"value\",valueString)}registerOnChange(fn){this.onChange=valueString=>{this.value=this._getOptionValue(valueString),fn(this.value)}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",isDisabled)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(value){for(const id of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(id),value))return id;return null}_getOptionValue(valueString){const id=function(valueString){return valueString.split(\":\")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id):valueString}}class NgSelectOption{constructor(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption())}set ngValue(value){null!=this._select&&(this._select._optionMap.set(this.id,value),this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value))}set value(value){this._setElementValue(value),this._select&&this._select.writeValue(this._select.value)}_setElementValue(value){this._renderer.setProperty(this._element.nativeElement,\"value\",value)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function _buildValueString$1(id,value){return null==id?`${value}`:(\"string\"==typeof value&&(value=`'${value}'`),value&&\"object\"==typeof value&&(value=\"Object\"),`${id}: ${value}`.slice(0,50))}class ɵNgSelectMultipleOption{constructor(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption(this))}set ngValue(value){null!=this._select&&(this._value=value,this._setElementValue(_buildValueString$1(this.id,value)),this._select.writeValue(this._select.value))}set value(value){this._select?(this._value=value,this._setElementValue(_buildValueString$1(this.id,value)),this._select.writeValue(this._select.value)):this._setElementValue(value)}_setElementValue(value){this._renderer.setProperty(this._element.nativeElement,\"value\",value)}_setSelected(selected){this._renderer.setProperty(this._element.nativeElement,\"selected\",selected)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function controlPath(name,parent){return[...parent.path,name]}function setUpControl(control,dir){control||forms_throwError(dir,\"Cannot find control with\"),dir.valueAccessor||forms_throwError(dir,\"No value accessor for form control with\"),control.validator=forms_Validators.compose([control.validator,dir.validator]),control.asyncValidator=forms_Validators.composeAsync([control.asyncValidator,dir.asyncValidator]),dir.valueAccessor.writeValue(control.value),function(control,dir){dir.valueAccessor.registerOnChange(newValue=>{control._pendingValue=newValue,control._pendingChange=!0,control._pendingDirty=!0,\"change\"===control.updateOn&&updateControl(control,dir)})}(control,dir),function(control,dir){control.registerOnChange((newValue,emitModelEvent)=>{dir.valueAccessor.writeValue(newValue),emitModelEvent&&dir.viewToModelUpdate(newValue)})}(control,dir),function(control,dir){dir.valueAccessor.registerOnTouched(()=>{control._pendingTouched=!0,\"blur\"===control.updateOn&&control._pendingChange&&updateControl(control,dir),\"submit\"!==control.updateOn&&control.markAsTouched()})}(control,dir),dir.valueAccessor.setDisabledState&&control.registerOnDisabledChange(isDisabled=>{dir.valueAccessor.setDisabledState(isDisabled)}),dir._rawValidators.forEach(validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(()=>control.updateValueAndValidity())}),dir._rawAsyncValidators.forEach(validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(()=>control.updateValueAndValidity())})}function updateControl(control,dir){control._pendingDirty&&control.markAsDirty(),control.setValue(control._pendingValue,{emitModelToViewChange:!1}),dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1}function setUpFormContainer(control,dir){null==control&&forms_throwError(dir,\"Cannot find control with\"),control.validator=forms_Validators.compose([control.validator,dir.validator]),control.asyncValidator=forms_Validators.composeAsync([control.asyncValidator,dir.asyncValidator])}function _noControlError(dir){return forms_throwError(dir,\"There is no FormControl instance attached to form control element with\")}function forms_throwError(dir,message){let messageEnd;throw messageEnd=dir.path.length>1?`path: '${dir.path.join(\" -> \")}'`:dir.path[0]?`name: '${dir.path}'`:\"unspecified name attribute\",new Error(`${message} ${messageEnd}`)}function composeValidators(validators){return null!=validators?forms_Validators.compose(validators.map(normalizeValidator)):null}function composeAsyncValidators(validators){return null!=validators?forms_Validators.composeAsync(validators.map(normalizeAsyncValidator)):null}function isPropertyUpdated(changes,viewModel){if(!changes.hasOwnProperty(\"model\"))return!1;const change=changes.model;return!!change.isFirstChange()||!looseIdentical(viewModel,change.currentValue)}const BUILTIN_ACCESSORS=[CheckboxControlValueAccessor,class{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,\"value\",parseFloat(value))}registerOnChange(fn){this.onChange=value=>{fn(\"\"==value?null:parseFloat(value))}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",isDisabled)}},class{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,\"value\",null==value?\"\":value)}registerOnChange(fn){this.onChange=value=>{fn(\"\"==value?null:parseFloat(value))}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",isDisabled)}},forms_SelectControlValueAccessor,class{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=_=>{},this.onTouched=()=>{},this._compareWith=looseIdentical}set compareWith(fn){if(\"function\"!=typeof fn)throw new Error(`compareWith must be a function, but received ${JSON.stringify(fn)}`);this._compareWith=fn}writeValue(value){let optionSelectedStateSetter;if(this.value=value,Array.isArray(value)){const ids=value.map(v=>this._getOptionId(v));optionSelectedStateSetter=(opt,o)=>{opt._setSelected(ids.indexOf(o.toString())>-1)}}else optionSelectedStateSetter=(opt,o)=>{opt._setSelected(!1)};this._optionMap.forEach(optionSelectedStateSetter)}registerOnChange(fn){this.onChange=_=>{const selected=[];if(_.hasOwnProperty(\"selectedOptions\")){const options=_.selectedOptions;for(let i=0;i<options.length;i++){const opt=options.item(i),val=this._getOptionValue(opt.value);selected.push(val)}}else{const options=_.options;for(let i=0;i<options.length;i++){const opt=options.item(i);if(opt.selected){const val=this._getOptionValue(opt.value);selected.push(val)}}}this.value=selected,fn(selected)}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",isDisabled)}_registerOption(value){const id=(this._idCounter++).toString();return this._optionMap.set(id,value),id}_getOptionId(value){for(const id of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(id)._value,value))return id;return null}_getOptionValue(valueString){const id=function(valueString){return valueString.split(\":\")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id)._value:valueString}},class{constructor(_renderer,_elementRef,_registry,_injector){this._renderer=_renderer,this._elementRef=_elementRef,this._registry=_registry,this._injector=_injector,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(NgControl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(value){this._state=value===this.value,this._renderer.setProperty(this._elementRef.nativeElement,\"checked\",this._state)}registerOnChange(fn){this._fn=fn,this.onChange=()=>{fn(this.value),this._registry.select(this)}}fireUncheck(value){this.writeValue(value)}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",isDisabled)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\\n      If you define both a name and a formControlName attribute on your radio button, their values\\n      must match. Ex: <input type=\"radio\" formControlName=\"food\" name=\"food\">\\n    ')}}];function syncPendingControls(form,directives){form._syncPendingControls(),directives.forEach(dir=>{const control=dir.control;\"submit\"===control.updateOn&&control._pendingChange&&(dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1)})}function selectValueAccessor(dir,valueAccessors){if(!valueAccessors)return null;Array.isArray(valueAccessors)||forms_throwError(dir,\"Value accessor was not provided as an array for form control with\");let defaultAccessor=void 0,builtinAccessor=void 0,customAccessor=void 0;return valueAccessors.forEach(v=>{v.constructor===DefaultValueAccessor?defaultAccessor=v:function(valueAccessor){return BUILTIN_ACCESSORS.some(a=>valueAccessor.constructor===a)}(v)?(builtinAccessor&&forms_throwError(dir,\"More than one built-in value accessor matches form control with\"),builtinAccessor=v):(customAccessor&&forms_throwError(dir,\"More than one custom value accessor matches form control with\"),customAccessor=v)}),customAccessor||builtinAccessor||defaultAccessor||(forms_throwError(dir,\"No valid value accessor for form control with\"),null)}function removeDir(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}const VALID=\"VALID\",INVALID=\"INVALID\",PENDING=\"PENDING\",DISABLED=\"DISABLED\";function coerceToValidator(validatorOrOpts){const validator=isOptionsObj(validatorOrOpts)?validatorOrOpts.validators:validatorOrOpts;return Array.isArray(validator)?composeValidators(validator):validator||null}function coerceToAsyncValidator(asyncValidator,validatorOrOpts){const origAsyncValidator=isOptionsObj(validatorOrOpts)?validatorOrOpts.asyncValidators:asyncValidator;return Array.isArray(origAsyncValidator)?composeAsyncValidators(origAsyncValidator):origAsyncValidator||null}function isOptionsObj(validatorOrOpts){return null!=validatorOrOpts&&!Array.isArray(validatorOrOpts)&&\"object\"==typeof validatorOrOpts}class forms_AbstractControl{constructor(validator,asyncValidator){this.validator=validator,this.asyncValidator=asyncValidator,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===VALID}get invalid(){return this.status===INVALID}get pending(){return this.status==PENDING}get disabled(){return this.status===DISABLED}get enabled(){return this.status!==DISABLED}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:\"change\"}setValidators(newValidator){this.validator=coerceToValidator(newValidator)}setAsyncValidators(newValidator){this.asyncValidator=coerceToAsyncValidator(newValidator)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(opts={}){this.touched=!0,this._parent&&!opts.onlySelf&&this._parent.markAsTouched(opts)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(control=>control.markAllAsTouched())}markAsUntouched(opts={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(control=>{control.markAsUntouched({onlySelf:!0})}),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)}markAsDirty(opts={}){this.pristine=!1,this._parent&&!opts.onlySelf&&this._parent.markAsDirty(opts)}markAsPristine(opts={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(control=>{control.markAsPristine({onlySelf:!0})}),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)}markAsPending(opts={}){this.status=PENDING,!1!==opts.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!opts.onlySelf&&this._parent.markAsPending(opts)}disable(opts={}){const skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status=DISABLED,this.errors=null,this._forEachChild(control=>{control.disable(Object.assign({},opts,{onlySelf:!0}))}),this._updateValue(),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},opts,{skipPristineCheck:skipPristineCheck})),this._onDisabledChange.forEach(changeFn=>changeFn(!0))}enable(opts={}){const skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status=VALID,this._forEachChild(control=>{control.enable(Object.assign({},opts,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent}),this._updateAncestors(Object.assign({},opts,{skipPristineCheck:skipPristineCheck})),this._onDisabledChange.forEach(changeFn=>changeFn(!1))}_updateAncestors(opts){this._parent&&!opts.onlySelf&&(this._parent.updateValueAndValidity(opts),opts.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(parent){this._parent=parent}updateValueAndValidity(opts={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==VALID&&this.status!==PENDING||this._runAsyncValidator(opts.emitEvent)),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!opts.onlySelf&&this._parent.updateValueAndValidity(opts)}_updateTreeValidity(opts={emitEvent:!0}){this._forEachChild(ctrl=>ctrl._updateTreeValidity(opts)),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?DISABLED:VALID}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(emitEvent){if(this.asyncValidator){this.status=PENDING;const obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=obs.subscribe(errors=>this.setErrors(errors,{emitEvent:emitEvent}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(errors,opts={}){this.errors=errors,this._updateControlsErrors(!1!==opts.emitEvent)}get(path){return function(control,path,delimiter){return null==path?null:(path instanceof Array||(path=path.split(\".\")),path instanceof Array&&0===path.length?null:path.reduce((v,name)=>v instanceof FormGroup?v.controls.hasOwnProperty(name)?v.controls[name]:null:v instanceof FormArray&&v.at(name)||null,control))}(this,path)}getError(errorCode,path){const control=path?this.get(path):this;return control&&control.errors?control.errors[errorCode]:null}hasError(errorCode,path){return!!this.getError(errorCode,path)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(emitEvent){this.status=this._calculateStatus(),emitEvent&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(emitEvent)}_initObservables(){this.valueChanges=new core_EventEmitter,this.statusChanges=new core_EventEmitter}_calculateStatus(){return this._allControlsDisabled()?DISABLED:this.errors?INVALID:this._anyControlsHaveStatus(PENDING)?PENDING:this._anyControlsHaveStatus(INVALID)?INVALID:VALID}_anyControlsHaveStatus(status){return this._anyControls(control=>control.status===status)}_anyControlsDirty(){return this._anyControls(control=>control.dirty)}_anyControlsTouched(){return this._anyControls(control=>control.touched)}_updatePristine(opts={}){this.pristine=!this._anyControlsDirty(),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)}_updateTouched(opts={}){this.touched=this._anyControlsTouched(),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)}_isBoxedValue(formState){return\"object\"==typeof formState&&null!==formState&&2===Object.keys(formState).length&&\"value\"in formState&&\"disabled\"in formState}_registerOnCollectionChange(fn){this._onCollectionChange=fn}_setUpdateStrategy(opts){isOptionsObj(opts)&&null!=opts.updateOn&&(this._updateOn=opts.updateOn)}_parentMarkedDirty(onlySelf){return!onlySelf&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class FormControl extends forms_AbstractControl{constructor(formState=null,validatorOrOpts,asyncValidator){super(coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts)),this._onChange=[],this._applyFormState(formState),this._setUpdateStrategy(validatorOrOpts),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(value,options={}){this.value=this._pendingValue=value,this._onChange.length&&!1!==options.emitModelToViewChange&&this._onChange.forEach(changeFn=>changeFn(this.value,!1!==options.emitViewToModelChange)),this.updateValueAndValidity(options)}patchValue(value,options={}){this.setValue(value,options)}reset(formState=null,options={}){this._applyFormState(formState),this.markAsPristine(options),this.markAsUntouched(options),this.setValue(this.value,options),this._pendingChange=!1}_updateValue(){}_anyControls(condition){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(fn){this._onChange.push(fn)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(fn){this._onDisabledChange.push(fn)}_forEachChild(cb){}_syncPendingControls(){return!(\"submit\"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(formState){this._isBoxedValue(formState)?(this.value=this._pendingValue=formState.value,formState.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=formState}}class FormGroup extends forms_AbstractControl{constructor(controls,validatorOrOpts,asyncValidator){super(coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts)),this.controls=controls,this._initObservables(),this._setUpdateStrategy(validatorOrOpts),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(name,control){return this.controls[name]?this.controls[name]:(this.controls[name]=control,control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange),control)}addControl(name,control){this.registerControl(name,control),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(name){this.controls[name]&&this.controls[name]._registerOnCollectionChange(()=>{}),delete this.controls[name],this.updateValueAndValidity(),this._onCollectionChange()}setControl(name,control){this.controls[name]&&this.controls[name]._registerOnCollectionChange(()=>{}),delete this.controls[name],control&&this.registerControl(name,control),this.updateValueAndValidity(),this._onCollectionChange()}contains(controlName){return this.controls.hasOwnProperty(controlName)&&this.controls[controlName].enabled}setValue(value,options={}){this._checkAllValuesPresent(value),Object.keys(value).forEach(name=>{this._throwIfControlMissing(name),this.controls[name].setValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}patchValue(value,options={}){Object.keys(value).forEach(name=>{this.controls[name]&&this.controls[name].patchValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}reset(value={},options={}){this._forEachChild((control,name)=>{control.reset(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)}getRawValue(){return this._reduceChildren({},(acc,control,name)=>(acc[name]=control instanceof FormControl?control.value:control.getRawValue(),acc))}_syncPendingControls(){let subtreeUpdated=this._reduceChildren(!1,(updated,child)=>!!child._syncPendingControls()||updated);return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated}_throwIfControlMissing(name){if(!Object.keys(this.controls).length)throw new Error(\"\\n        There are no form controls registered with this group yet.  If you're using ngModel,\\n        you may want to check next tick (e.g. use setTimeout).\\n      \");if(!this.controls[name])throw new Error(`Cannot find form control with name: ${name}.`)}_forEachChild(cb){Object.keys(this.controls).forEach(k=>cb(this.controls[k],k))}_setUpControls(){this._forEachChild(control=>{control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(condition){let res=!1;return this._forEachChild((control,name)=>{res=res||this.contains(name)&&condition(control)}),res}_reduceValue(){return this._reduceChildren({},(acc,control,name)=>((control.enabled||this.disabled)&&(acc[name]=control.value),acc))}_reduceChildren(initValue,fn){let res=initValue;return this._forEachChild((control,name)=>{res=fn(res,control,name)}),res}_allControlsDisabled(){for(const controlName of Object.keys(this.controls))if(this.controls[controlName].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(value){this._forEachChild((control,name)=>{if(void 0===value[name])throw new Error(`Must supply a value for form control with name: '${name}'.`)})}}class FormArray extends forms_AbstractControl{constructor(controls,validatorOrOpts,asyncValidator){super(coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts)),this.controls=controls,this._initObservables(),this._setUpdateStrategy(validatorOrOpts),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(index){return this.controls[index]}push(control){this.controls.push(control),this._registerControl(control),this.updateValueAndValidity(),this._onCollectionChange()}insert(index,control){this.controls.splice(index,0,control),this._registerControl(control),this.updateValueAndValidity()}removeAt(index){this.controls[index]&&this.controls[index]._registerOnCollectionChange(()=>{}),this.controls.splice(index,1),this.updateValueAndValidity()}setControl(index,control){this.controls[index]&&this.controls[index]._registerOnCollectionChange(()=>{}),this.controls.splice(index,1),control&&(this.controls.splice(index,0,control),this._registerControl(control)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(value,options={}){this._checkAllValuesPresent(value),value.forEach((newValue,index)=>{this._throwIfControlMissing(index),this.at(index).setValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}patchValue(value,options={}){value.forEach((newValue,index)=>{this.at(index)&&this.at(index).patchValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}reset(value=[],options={}){this._forEachChild((control,index)=>{control.reset(value[index],{onlySelf:!0,emitEvent:options.emitEvent})}),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)}getRawValue(){return this.controls.map(control=>control instanceof FormControl?control.value:control.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(control=>control._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let subtreeUpdated=this.controls.reduce((updated,child)=>!!child._syncPendingControls()||updated,!1);return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated}_throwIfControlMissing(index){if(!this.controls.length)throw new Error(\"\\n        There are no form controls registered with this array yet.  If you're using ngModel,\\n        you may want to check next tick (e.g. use setTimeout).\\n      \");if(!this.at(index))throw new Error(`Cannot find form control at index ${index}`)}_forEachChild(cb){this.controls.forEach((control,index)=>{cb(control,index)})}_updateValue(){this.value=this.controls.filter(control=>control.enabled||this.disabled).map(control=>control.value)}_anyControls(condition){return this.controls.some(control=>control.enabled&&condition(control))}_setUpControls(){this._forEachChild(control=>this._registerControl(control))}_checkAllValuesPresent(value){this._forEachChild((control,i)=>{if(void 0===value[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const control of this.controls)if(control.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(control){control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange)}}const resolvedPromise=(()=>Promise.resolve(null))();class forms_NgForm extends ControlContainer{constructor(validators,asyncValidators){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new core_EventEmitter,this.form=new FormGroup({},composeValidators(validators),composeAsyncValidators(asyncValidators))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);dir.control=container.registerControl(dir.name,dir.control),setUpControl(dir.control,dir),dir.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(dir)})}getControl(dir){return this.form.get(dir.path)}removeControl(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);container&&container.removeControl(dir.name),removeDir(this._directives,dir)})}addFormGroup(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path),group=new FormGroup({});setUpFormContainer(group,dir),container.registerControl(dir.name,group),group.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);container&&container.removeControl(dir.name)})}getFormGroup(dir){return this.form.get(dir.path)}updateModel(dir,value){resolvedPromise.then(()=>{this.form.get(dir.path).setValue(value)})}setValue(value){this.control.setValue(value)}onSubmit($event){return this.submitted=!0,syncPendingControls(this.form,this._directives),this.ngSubmit.emit($event),!1}onReset(){this.resetForm()}resetForm(value){this.form.reset(value),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(path){return path.pop(),path.length?this.form.get(path):this.form}}class TemplateDrivenErrors{static modelParentException(){throw new Error(`\\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\\n      formGroup's partner directive \"formControlName\" instead.  Example:\\n\\n      ${FormErrorExamples.formControlName}\\n\\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\\n\\n      Example:\\n\\n      ${FormErrorExamples.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\\n\\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\\n\\n      ${FormErrorExamples.formGroupName}\\n\\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\\n\\n      ${FormErrorExamples.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\\n      control must be defined as \\'standalone\\' in ngModelOptions.\\n\\n      Example 1: <input [(ngModel)]=\"person.firstName\" name=\"first\">\\n      Example 2: <input [(ngModel)]=\"person.firstName\" [ngModelOptions]=\"{standalone: true}\">')}static modelGroupParentException(){throw new Error(`\\n      ngModelGroup cannot be used with a parent formGroup directive.\\n\\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\\n\\n      ${FormErrorExamples.formGroupName}\\n\\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\\n\\n      ${FormErrorExamples.ngModelGroup}`)}static ngFormWarning(){console.warn(\"\\n    It looks like you're using 'ngForm'.\\n\\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\\n    in Angular v9.\\n\\n    Use 'ng-form' instead.\\n\\n    Before:\\n    <ngForm #myForm=\\\"ngForm\\\">\\n\\n    After:\\n    <ng-form #myForm=\\\"ngForm\\\">\\n    \")}}const NG_FORM_SELECTOR_WARNING=new InjectionToken(\"NgFormSelectorWarning\");class AbstractFormGroupDirective extends ControlContainer{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return controlPath(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return composeValidators(this._validators)}get asyncValidator(){return composeAsyncValidators(this._asyncValidators)}_checkParentType(){}}class NgModelGroup extends AbstractFormGroupDirective{constructor(parent,validators,asyncValidators){super(),this._parent=parent,this._validators=validators,this._asyncValidators=asyncValidators}_checkParentType(){this._parent instanceof NgModelGroup||this._parent instanceof forms_NgForm||TemplateDrivenErrors.modelGroupParentException()}}const resolvedPromise$1=(()=>Promise.resolve(null))();class forms_NgModel extends NgControl{constructor(parent,validators,asyncValidators,valueAccessors){super(),this.control=new FormControl,this._registered=!1,this.update=new core_EventEmitter,this._parent=parent,this._rawValidators=validators||[],this._rawAsyncValidators=asyncValidators||[],this.valueAccessor=selectValueAccessor(this,valueAccessors)}ngOnChanges(changes){this._checkForErrors(),this._registered||this._setUpControl(),\"isDisabled\"in changes&&this._updateDisabled(changes),isPropertyUpdated(changes,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?controlPath(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return composeValidators(this._rawValidators)}get asyncValidator(){return composeAsyncValidators(this._rawAsyncValidators)}viewToModelUpdate(newValue){this.viewModel=newValue,this.update.emit(newValue)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){setUpControl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof NgModelGroup)&&this._parent instanceof AbstractFormGroupDirective?TemplateDrivenErrors.formGroupNameException():this._parent instanceof NgModelGroup||this._parent instanceof forms_NgForm||TemplateDrivenErrors.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||TemplateDrivenErrors.missingNameException()}_updateValue(value){resolvedPromise$1.then(()=>{this.control.setValue(value,{emitViewToModelChange:!1})})}_updateDisabled(changes){const disabledValue=changes.isDisabled.currentValue,isDisabled=\"\"===disabledValue||disabledValue&&\"false\"!==disabledValue;resolvedPromise$1.then(()=>{isDisabled&&!this.control.disabled?this.control.disable():!isDisabled&&this.control.disabled&&this.control.enable()})}}class ɵNgNoValidate{}const NG_MODEL_WITH_FORM_CONTROL_WARNING=new InjectionToken(\"NgModelWithFormControlWarning\");class forms_FormGroupDirective extends ControlContainer{constructor(_validators,_asyncValidators){super(),this._validators=_validators,this._asyncValidators=_asyncValidators,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new core_EventEmitter}ngOnChanges(changes){this._checkFormPresent(),changes.hasOwnProperty(\"form\")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(dir){const ctrl=this.form.get(dir.path);return setUpControl(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1}),this.directives.push(dir),ctrl}getControl(dir){return this.form.get(dir.path)}removeControl(dir){removeDir(this.directives,dir)}addFormGroup(dir){const ctrl=this.form.get(dir.path);setUpFormContainer(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})}removeFormGroup(dir){}getFormGroup(dir){return this.form.get(dir.path)}addFormArray(dir){const ctrl=this.form.get(dir.path);setUpFormContainer(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})}removeFormArray(dir){}getFormArray(dir){return this.form.get(dir.path)}updateModel(dir,value){this.form.get(dir.path).setValue(value)}onSubmit($event){return this.submitted=!0,syncPendingControls(this.form,this.directives),this.ngSubmit.emit($event),!1}onReset(){this.resetForm()}resetForm(value){this.form.reset(value),this.submitted=!1}_updateDomValue(){this.directives.forEach(dir=>{const newCtrl=this.form.get(dir.path);dir.control!==newCtrl&&(function(control,dir){dir.valueAccessor.registerOnChange(()=>_noControlError(dir)),dir.valueAccessor.registerOnTouched(()=>_noControlError(dir)),dir._rawValidators.forEach(validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(null)}),dir._rawAsyncValidators.forEach(validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(null)}),control&&control._clearChangeFns()}(dir.control,dir),newCtrl&&setUpControl(newCtrl,dir),dir.control=newCtrl)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const sync=composeValidators(this._validators);this.form.validator=forms_Validators.compose([this.form.validator,sync]);const async=composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=forms_Validators.composeAsync([this.form.asyncValidator,async])}_checkFormPresent(){this.form||ReactiveErrors.missingFormException()}}class FormGroupName extends AbstractFormGroupDirective{constructor(parent,validators,asyncValidators){super(),this._parent=parent,this._validators=validators,this._asyncValidators=asyncValidators}_checkParentType(){_hasInvalidParent(this._parent)&&ReactiveErrors.groupParentException()}}class FormArrayName extends ControlContainer{constructor(parent,validators,asyncValidators){super(),this._parent=parent,this._validators=validators,this._asyncValidators=asyncValidators}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return controlPath(this.name,this._parent)}get validator(){return composeValidators(this._validators)}get asyncValidator(){return composeAsyncValidators(this._asyncValidators)}_checkParentType(){_hasInvalidParent(this._parent)&&ReactiveErrors.arrayParentException()}}function _hasInvalidParent(parent){return!(parent instanceof FormGroupName||parent instanceof forms_FormGroupDirective||parent instanceof FormArrayName)}let forms_FormControlName=(()=>{class FormControlName extends NgControl{constructor(parent,validators,asyncValidators,valueAccessors,_ngModelWarningConfig){super(),this._ngModelWarningConfig=_ngModelWarningConfig,this._added=!1,this.update=new core_EventEmitter,this._ngModelWarningSent=!1,this._parent=parent,this._rawValidators=validators||[],this._rawAsyncValidators=asyncValidators||[],this.valueAccessor=selectValueAccessor(this,valueAccessors)}set isDisabled(isDisabled){ReactiveErrors.disabledAttrWarning()}ngOnChanges(changes){var type,warningConfig;this._added||this._setUpControl(),isPropertyUpdated(changes,this.viewModel)&&(\"formControlName\",type=FormControlName,this,warningConfig=this._ngModelWarningConfig,isDevMode()&&\"never\"!==warningConfig&&((null!==warningConfig&&\"once\"!==warningConfig||type._ngModelWarningSentOnce)&&(\"always\"!==warningConfig||this._ngModelWarningSent)||(ReactiveErrors.ngModelWarning(\"formControlName\"),type._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(newValue){this.viewModel=newValue,this.update.emit(newValue)}get path(){return controlPath(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return composeValidators(this._rawValidators)}get asyncValidator(){return composeAsyncValidators(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof FormGroupName)&&this._parent instanceof AbstractFormGroupDirective?ReactiveErrors.ngModelGroupException():this._parent instanceof FormGroupName||this._parent instanceof forms_FormGroupDirective||this._parent instanceof FormArrayName||ReactiveErrors.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return FormControlName._ngModelWarningSentOnce=!1,FormControlName})();class ɵInternalFormsSharedModule{}class FormBuilder{group(controlsConfig,options=null){const controls=this._reduceControls(controlsConfig);let validators=null,asyncValidators=null,updateOn=void 0;return null!=options&&(function(options){return void 0!==options.asyncValidators||void 0!==options.validators||void 0!==options.updateOn}(options)?(validators=null!=options.validators?options.validators:null,asyncValidators=null!=options.asyncValidators?options.asyncValidators:null,updateOn=null!=options.updateOn?options.updateOn:void 0):(validators=null!=options.validator?options.validator:null,asyncValidators=null!=options.asyncValidator?options.asyncValidator:null)),new FormGroup(controls,{asyncValidators:asyncValidators,updateOn:updateOn,validators:validators})}control(formState,validatorOrOpts,asyncValidator){return new FormControl(formState,validatorOrOpts,asyncValidator)}array(controlsConfig,validatorOrOpts,asyncValidator){const controls=controlsConfig.map(c=>this._createControl(c));return new FormArray(controls,validatorOrOpts,asyncValidator)}_reduceControls(controlsConfig){const controls={};return Object.keys(controlsConfig).forEach(controlName=>{controls[controlName]=this._createControl(controlsConfig[controlName])}),controls}_createControl(controlConfig){return controlConfig instanceof FormControl||controlConfig instanceof FormGroup||controlConfig instanceof FormArray?controlConfig:Array.isArray(controlConfig)?this.control(controlConfig[0],controlConfig.length>1?controlConfig[1]:null,controlConfig.length>2?controlConfig[2]:null):this.control(controlConfig)}}class FormsModule{static withConfig(opts){return{ngModule:FormsModule,providers:[{provide:NG_FORM_SELECTOR_WARNING,useValue:opts.warnOnDeprecatedNgFormSelector}]}}}class ReactiveFormsModule{static withConfig(opts){return{ngModule:ReactiveFormsModule,providers:[{provide:NG_MODEL_WITH_FORM_CONTROL_WARNING,useValue:opts.warnOnNgModelWithFormControl}]}}}class login_form_component_LoginFormComponent{constructor(formBuilder,route,router,authenticationService){this.formBuilder=formBuilder,this.route=route,this.router=router,this.authenticationService=authenticationService,this.loading=!1,this.submitted=!1,this.authenticationService.currentUserValue&&this.router.navigate([\"/\"])}ngOnInit(){this.loginForm=this.formBuilder.group({username:[\"\",forms_Validators.required],password:[\"\",forms_Validators.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||\"/\"}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,this.loginForm.invalid?alert(\"Daten sind nicht valide!\"):(this.loading=!0,this.authenticationService.login(this.f.username.value,this.f.password.value).pipe(first_first()).subscribe(data=>this.router.navigate([this.returnUrl]),error=>this.loading=!1))}}class HttpHandler{}class HttpBackend{}class HttpHeaders{constructor(headers){this.normalizedNames=new Map,this.lazyUpdate=null,headers?this.lazyInit=\"string\"==typeof headers?()=>{this.headers=new Map,headers.split(\"\\n\").forEach(line=>{const index=line.indexOf(\":\");if(index>0){const name=line.slice(0,index),key=name.toLowerCase(),value=line.slice(index+1).trim();this.maybeSetNormalizedName(name,key),this.headers.has(key)?this.headers.get(key).push(value):this.headers.set(key,[value])}})}:()=>{this.headers=new Map,Object.keys(headers).forEach(name=>{let values=headers[name];const key=name.toLowerCase();\"string\"==typeof values&&(values=[values]),values.length>0&&(this.headers.set(key,values),this.maybeSetNormalizedName(name,key))})}:this.headers=new Map}has(name){return this.init(),this.headers.has(name.toLowerCase())}get(name){this.init();const values=this.headers.get(name.toLowerCase());return values&&values.length>0?values[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(name){return this.init(),this.headers.get(name.toLowerCase())||null}append(name,value){return this.clone({name:name,value:value,op:\"a\"})}set(name,value){return this.clone({name:name,value:value,op:\"s\"})}delete(name,value){return this.clone({name:name,value:value,op:\"d\"})}maybeSetNormalizedName(name,lcName){this.normalizedNames.has(lcName)||this.normalizedNames.set(lcName,name)}init(){this.lazyInit&&(this.lazyInit instanceof HttpHeaders?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(update=>this.applyUpdate(update)),this.lazyUpdate=null))}copyFrom(other){other.init(),Array.from(other.headers.keys()).forEach(key=>{this.headers.set(key,other.headers.get(key)),this.normalizedNames.set(key,other.normalizedNames.get(key))})}clone(update){const clone=new HttpHeaders;return clone.lazyInit=this.lazyInit&&this.lazyInit instanceof HttpHeaders?this.lazyInit:this,clone.lazyUpdate=(this.lazyUpdate||[]).concat([update]),clone}applyUpdate(update){const key=update.name.toLowerCase();switch(update.op){case\"a\":case\"s\":let value=update.value;if(\"string\"==typeof value&&(value=[value]),0===value.length)return;this.maybeSetNormalizedName(update.name,key);const base=(\"a\"===update.op?this.headers.get(key):void 0)||[];base.push(...value),this.headers.set(key,base);break;case\"d\":const toDelete=update.value;if(toDelete){let existing=this.headers.get(key);if(!existing)return;0===(existing=existing.filter(value=>-1===toDelete.indexOf(value))).length?(this.headers.delete(key),this.normalizedNames.delete(key)):this.headers.set(key,existing)}else this.headers.delete(key),this.normalizedNames.delete(key)}}forEach(fn){this.init(),Array.from(this.normalizedNames.keys()).forEach(key=>fn(this.normalizedNames.get(key),this.headers.get(key)))}}class HttpUrlEncodingCodec{encodeKey(key){return standardEncoding(key)}encodeValue(value){return standardEncoding(value)}decodeKey(key){return decodeURIComponent(key)}decodeValue(value){return decodeURIComponent(value)}}function standardEncoding(v){return encodeURIComponent(v).replace(/%40/gi,\"@\").replace(/%3A/gi,\":\").replace(/%24/gi,\"$\").replace(/%2C/gi,\",\").replace(/%3B/gi,\";\").replace(/%2B/gi,\"+\").replace(/%3D/gi,\"=\").replace(/%3F/gi,\"?\").replace(/%2F/gi,\"/\")}class HttpParams{constructor(options={}){if(this.updates=null,this.cloneFrom=null,this.encoder=options.encoder||new HttpUrlEncodingCodec,options.fromString){if(options.fromObject)throw new Error(\"Cannot specify both fromString and fromObject.\");this.map=function(rawParams,codec){const map=new Map;return rawParams.length>0&&rawParams.split(\"&\").forEach(param=>{const eqIdx=param.indexOf(\"=\"),[key,val]=-1==eqIdx?[codec.decodeKey(param),\"\"]:[codec.decodeKey(param.slice(0,eqIdx)),codec.decodeValue(param.slice(eqIdx+1))],list=map.get(key)||[];list.push(val),map.set(key,list)}),map}(options.fromString,this.encoder)}else options.fromObject?(this.map=new Map,Object.keys(options.fromObject).forEach(key=>{const value=options.fromObject[key];this.map.set(key,Array.isArray(value)?value:[value])})):this.map=null}has(param){return this.init(),this.map.has(param)}get(param){this.init();const res=this.map.get(param);return res?res[0]:null}getAll(param){return this.init(),this.map.get(param)||null}keys(){return this.init(),Array.from(this.map.keys())}append(param,value){return this.clone({param:param,value:value,op:\"a\"})}set(param,value){return this.clone({param:param,value:value,op:\"s\"})}delete(param,value){return this.clone({param:param,value:value,op:\"d\"})}toString(){return this.init(),this.keys().map(key=>{const eKey=this.encoder.encodeKey(key);return this.map.get(key).map(value=>eKey+\"=\"+this.encoder.encodeValue(value)).join(\"&\")}).join(\"&\")}clone(update){const clone=new HttpParams({encoder:this.encoder});return clone.cloneFrom=this.cloneFrom||this,clone.updates=(this.updates||[]).concat([update]),clone}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(key=>this.map.set(key,this.cloneFrom.map.get(key))),this.updates.forEach(update=>{switch(update.op){case\"a\":case\"s\":const base=(\"a\"===update.op?this.map.get(update.param):void 0)||[];base.push(update.value),this.map.set(update.param,base);break;case\"d\":if(void 0===update.value){this.map.delete(update.param);break}{let base=this.map.get(update.param)||[];const idx=base.indexOf(update.value);-1!==idx&&base.splice(idx,1),base.length>0?this.map.set(update.param,base):this.map.delete(update.param)}}}),this.cloneFrom=this.updates=null)}}function isArrayBuffer(value){return\"undefined\"!=typeof ArrayBuffer&&value instanceof ArrayBuffer}function isBlob(value){return\"undefined\"!=typeof Blob&&value instanceof Blob}function isFormData(value){return\"undefined\"!=typeof FormData&&value instanceof FormData}class HttpRequest{constructor(method,url,third,fourth){let options;if(this.url=url,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType=\"json\",this.method=method.toUpperCase(),function(method){switch(method){case\"DELETE\":case\"GET\":case\"HEAD\":case\"OPTIONS\":case\"JSONP\":return!1;default:return!0}}(this.method)||fourth?(this.body=void 0!==third?third:null,options=fourth):options=third,options&&(this.reportProgress=!!options.reportProgress,this.withCredentials=!!options.withCredentials,options.responseType&&(this.responseType=options.responseType),options.headers&&(this.headers=options.headers),options.params&&(this.params=options.params)),this.headers||(this.headers=new HttpHeaders),this.params){const params=this.params.toString();if(0===params.length)this.urlWithParams=url;else{const qIdx=url.indexOf(\"?\");this.urlWithParams=url+(-1===qIdx?\"?\":qIdx<url.length-1?\"&\":\"\")+params}}else this.params=new HttpParams,this.urlWithParams=url}serializeBody(){return null===this.body?null:isArrayBuffer(this.body)||isBlob(this.body)||isFormData(this.body)||\"string\"==typeof this.body?this.body:this.body instanceof HttpParams?this.body.toString():\"object\"==typeof this.body||\"boolean\"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:isFormData(this.body)?null:isBlob(this.body)?this.body.type||null:isArrayBuffer(this.body)?null:\"string\"==typeof this.body?\"text/plain\":this.body instanceof HttpParams?\"application/x-www-form-urlencoded;charset=UTF-8\":\"object\"==typeof this.body||\"number\"==typeof this.body||Array.isArray(this.body)?\"application/json\":null}clone(update={}){const method=update.method||this.method,url=update.url||this.url,responseType=update.responseType||this.responseType,body=void 0!==update.body?update.body:this.body,withCredentials=void 0!==update.withCredentials?update.withCredentials:this.withCredentials,reportProgress=void 0!==update.reportProgress?update.reportProgress:this.reportProgress;let headers=update.headers||this.headers,params=update.params||this.params;return void 0!==update.setHeaders&&(headers=Object.keys(update.setHeaders).reduce((headers,name)=>headers.set(name,update.setHeaders[name]),headers)),update.setParams&&(params=Object.keys(update.setParams).reduce((params,param)=>params.set(param,update.setParams[param]),params)),new HttpRequest(method,url,body,{params:params,headers:headers,reportProgress:reportProgress,responseType:responseType,withCredentials:withCredentials})}}const HttpEventType=function(){var HttpEventType={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return HttpEventType[HttpEventType.Sent]=\"Sent\",HttpEventType[HttpEventType.UploadProgress]=\"UploadProgress\",HttpEventType[HttpEventType.ResponseHeader]=\"ResponseHeader\",HttpEventType[HttpEventType.DownloadProgress]=\"DownloadProgress\",HttpEventType[HttpEventType.Response]=\"Response\",HttpEventType[HttpEventType.User]=\"User\",HttpEventType}();class HttpResponseBase{constructor(init,defaultStatus=200,defaultStatusText=\"OK\"){this.headers=init.headers||new HttpHeaders,this.status=void 0!==init.status?init.status:defaultStatus,this.statusText=init.statusText||defaultStatusText,this.url=init.url||null,this.ok=this.status>=200&&this.status<300}}class HttpHeaderResponse extends HttpResponseBase{constructor(init={}){super(init),this.type=HttpEventType.ResponseHeader}clone(update={}){return new HttpHeaderResponse({headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})}}class HttpResponse extends HttpResponseBase{constructor(init={}){super(init),this.type=HttpEventType.Response,this.body=void 0!==init.body?init.body:null}clone(update={}){return new HttpResponse({body:void 0!==update.body?update.body:this.body,headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})}}class HttpErrorResponse extends HttpResponseBase{constructor(init){super(init,0,\"Unknown Error\"),this.name=\"HttpErrorResponse\",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${init.url||\"(unknown url)\"}`:`Http failure response for ${init.url||\"(unknown url)\"}: ${init.status} ${init.statusText}`,this.error=init.error||null}}function addBody(options,body){return{body:body,headers:options.headers,observe:options.observe,params:options.params,reportProgress:options.reportProgress,responseType:options.responseType,withCredentials:options.withCredentials}}class http_HttpClient{constructor(handler){this.handler=handler}request(first,url,options={}){let req;if(first instanceof HttpRequest)req=first;else{let headers=void 0;headers=options.headers instanceof HttpHeaders?options.headers:new HttpHeaders(options.headers);let params=void 0;options.params&&(params=options.params instanceof HttpParams?options.params:new HttpParams({fromObject:options.params})),req=new HttpRequest(first,url,void 0!==options.body?options.body:null,{headers:headers,params:params,reportProgress:options.reportProgress,responseType:options.responseType||\"json\",withCredentials:options.withCredentials})}const events$=of(req).pipe(concatMap(req=>this.handler.handle(req)));if(first instanceof HttpRequest||\"events\"===options.observe)return events$;const res$=events$.pipe(filter(event=>event instanceof HttpResponse));switch(options.observe||\"body\"){case\"body\":switch(req.responseType){case\"arraybuffer\":return res$.pipe(map(res=>{if(null!==res.body&&!(res.body instanceof ArrayBuffer))throw new Error(\"Response is not an ArrayBuffer.\");return res.body}));case\"blob\":return res$.pipe(map(res=>{if(null!==res.body&&!(res.body instanceof Blob))throw new Error(\"Response is not a Blob.\");return res.body}));case\"text\":return res$.pipe(map(res=>{if(null!==res.body&&\"string\"!=typeof res.body)throw new Error(\"Response is not a string.\");return res.body}));case\"json\":default:return res$.pipe(map(res=>res.body))}case\"response\":return res$;default:throw new Error(`Unreachable: unhandled observe type ${options.observe}}`)}}delete(url,options={}){return this.request(\"DELETE\",url,options)}get(url,options={}){return this.request(\"GET\",url,options)}head(url,options={}){return this.request(\"HEAD\",url,options)}jsonp(url,callbackParam){return this.request(\"JSONP\",url,{params:(new HttpParams).append(callbackParam,\"JSONP_CALLBACK\"),observe:\"body\",responseType:\"json\"})}options(url,options={}){return this.request(\"OPTIONS\",url,options)}patch(url,body,options={}){return this.request(\"PATCH\",url,addBody(options,body))}post(url,body,options={}){return this.request(\"POST\",url,addBody(options,body))}put(url,body,options={}){return this.request(\"PUT\",url,addBody(options,body))}}class HttpInterceptorHandler{constructor(next,interceptor){this.next=next,this.interceptor=interceptor}handle(req){return this.interceptor.intercept(req,this.next)}}const HTTP_INTERCEPTORS=new InjectionToken(\"HTTP_INTERCEPTORS\");class NoopInterceptor{intercept(req,next){return next.handle(req)}}const XSSI_PREFIX=/^\\)\\]\\}',?\\n/;class XhrFactory{}class BrowserXhr{constructor(){}build(){return new XMLHttpRequest}}class http_HttpXhrBackend{constructor(xhrFactory){this.xhrFactory=xhrFactory}handle(req){if(\"JSONP\"===req.method)throw new Error(\"Attempted to construct Jsonp request without JsonpClientModule installed.\");return new Observable_Observable(observer=>{const xhr=this.xhrFactory.build();if(xhr.open(req.method,req.urlWithParams),req.withCredentials&&(xhr.withCredentials=!0),req.headers.forEach((name,values)=>xhr.setRequestHeader(name,values.join(\",\"))),req.headers.has(\"Accept\")||xhr.setRequestHeader(\"Accept\",\"application/json, text/plain, */*\"),!req.headers.has(\"Content-Type\")){const detectedType=req.detectContentTypeHeader();null!==detectedType&&xhr.setRequestHeader(\"Content-Type\",detectedType)}if(req.responseType){const responseType=req.responseType.toLowerCase();xhr.responseType=\"json\"!==responseType?responseType:\"text\"}const reqBody=req.serializeBody();let headerResponse=null;const partialFromXhr=()=>{if(null!==headerResponse)return headerResponse;const status=1223===xhr.status?204:xhr.status,statusText=xhr.statusText||\"OK\",headers=new HttpHeaders(xhr.getAllResponseHeaders()),url=function(xhr){return\"responseURL\"in xhr&&xhr.responseURL?xhr.responseURL:/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())?xhr.getResponseHeader(\"X-Request-URL\"):null}(xhr)||req.url;return headerResponse=new HttpHeaderResponse({headers:headers,status:status,statusText:statusText,url:url})},onLoad=()=>{let{headers:headers,status:status,statusText:statusText,url:url}=partialFromXhr(),body=null;204!==status&&(body=void 0===xhr.response?xhr.responseText:xhr.response),0===status&&(status=body?200:0);let ok=status>=200&&status<300;if(\"json\"===req.responseType&&\"string\"==typeof body){const originalBody=body;body=body.replace(XSSI_PREFIX,\"\");try{body=\"\"!==body?JSON.parse(body):null}catch(error){body=originalBody,ok&&(ok=!1,body={error:error,text:body})}}ok?(observer.next(new HttpResponse({body:body,headers:headers,status:status,statusText:statusText,url:url||void 0})),observer.complete()):observer.error(new HttpErrorResponse({error:body,headers:headers,status:status,statusText:statusText,url:url||void 0}))},onError=error=>{const{url:url}=partialFromXhr(),res=new HttpErrorResponse({error:error,status:xhr.status||0,statusText:xhr.statusText||\"Unknown Error\",url:url||void 0});observer.error(res)};let sentHeaders=!1;const onDownProgress=event=>{sentHeaders||(observer.next(partialFromXhr()),sentHeaders=!0);let progressEvent={type:HttpEventType.DownloadProgress,loaded:event.loaded};event.lengthComputable&&(progressEvent.total=event.total),\"text\"===req.responseType&&xhr.responseText&&(progressEvent.partialText=xhr.responseText),observer.next(progressEvent)},onUpProgress=event=>{let progress={type:HttpEventType.UploadProgress,loaded:event.loaded};event.lengthComputable&&(progress.total=event.total),observer.next(progress)};return xhr.addEventListener(\"load\",onLoad),xhr.addEventListener(\"error\",onError),req.reportProgress&&(xhr.addEventListener(\"progress\",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.addEventListener(\"progress\",onUpProgress)),xhr.send(reqBody),observer.next({type:HttpEventType.Sent}),()=>{xhr.removeEventListener(\"error\",onError),xhr.removeEventListener(\"load\",onLoad),req.reportProgress&&(xhr.removeEventListener(\"progress\",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.removeEventListener(\"progress\",onUpProgress)),xhr.abort()}})}}const XSRF_COOKIE_NAME=new InjectionToken(\"XSRF_COOKIE_NAME\"),XSRF_HEADER_NAME=new InjectionToken(\"XSRF_HEADER_NAME\");class HttpXsrfTokenExtractor{}class http_HttpXsrfCookieExtractor{constructor(doc,platform,cookieName){this.doc=doc,this.platform=platform,this.cookieName=cookieName,this.lastCookieString=\"\",this.lastToken=null,this.parseCount=0}getToken(){if(\"server\"===this.platform)return null;const cookieString=this.doc.cookie||\"\";return cookieString!==this.lastCookieString&&(this.parseCount++,this.lastToken=parseCookieValue(cookieString,this.cookieName),this.lastCookieString=cookieString),this.lastToken}}class HttpXsrfInterceptor{constructor(tokenService,headerName){this.tokenService=tokenService,this.headerName=headerName}intercept(req,next){const lcUrl=req.url.toLowerCase();if(\"GET\"===req.method||\"HEAD\"===req.method||lcUrl.startsWith(\"http://\")||lcUrl.startsWith(\"https://\"))return next.handle(req);const token=this.tokenService.getToken();return null===token||req.headers.has(this.headerName)||(req=req.clone({headers:req.headers.set(this.headerName,token)})),next.handle(req)}}class HttpInterceptingHandler{constructor(backend,injector){this.backend=backend,this.injector=injector,this.chain=null}handle(req){if(null===this.chain){const interceptors=this.injector.get(HTTP_INTERCEPTORS,[]);this.chain=interceptors.reduceRight((next,interceptor)=>new HttpInterceptorHandler(next,interceptor),this.backend)}return this.chain.handle(req)}}class HttpClientXsrfModule{static disable(){return{ngModule:HttpClientXsrfModule,providers:[{provide:HttpXsrfInterceptor,useClass:NoopInterceptor}]}}static withOptions(options={}){return{ngModule:HttpClientXsrfModule,providers:[options.cookieName?{provide:XSRF_COOKIE_NAME,useValue:options.cookieName}:[],options.headerName?{provide:XSRF_HEADER_NAME,useValue:options.headerName}:[]]}}}class HttpClientModule{}let authentication_service_AuthenticationService=(()=>{class AuthenticationService{constructor(http,router){this.http=http,this.router=router,this.currentUserSubject=new BehaviorSubject_BehaviorSubject(JSON.parse(localStorage.getItem(\"currentUser\"))),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}login(username,password){return this.http.put(\"http://localhost:9000/api/users/authenticate\",{username:username,password:password}).pipe(tap(user=>{localStorage.setItem(\"currentUser\",JSON.stringify(user)),this.currentUserSubject.next(user)}))}logout(){localStorage.removeItem(\"currentUser\"),this.currentUserSubject.next(null),this.router.navigate([\"/loginForm\"])}}return AuthenticationService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new AuthenticationService(ɵɵinject(http_HttpClient),ɵɵinject(router_Router))},token:AuthenticationService,providedIn:\"root\"}),AuthenticationService})();var RenderType_LoginFormComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_LoginFormComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"p\",[[\"class\",\"help is-danger\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\" Nutzername darf nicht leer sein! \"]))],null,null)}function View_LoginFormComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"p\",[[\"class\",\"help is-danger\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\" Passwort darf nicht leer sein! \"]))],null,null)}function View_LoginFormComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,33,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,32,\"form\",[[\"novalidate\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngSubmit\"],[null,\"submit\"],[null,\"reset\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"submit\"===en&&(ad=!1!==nodeValue(_v,3).onSubmit($event)&&ad),\"reset\"===en&&(ad=!1!==nodeValue(_v,3).onReset()&&ad),\"ngSubmit\"===en&&(ad=!1!==_co.onSubmit()&&ad),ad}),null,null)),directiveDef(2,16384,null,0,ɵNgNoValidate,[],null,null),directiveDef(3,540672,null,0,forms_FormGroupDirective,[[8,null],[8,null]],{form:[0,\"form\"]},{ngSubmit:\"ngSubmit\"}),providerDef(2048,null,ControlContainer,null,[forms_FormGroupDirective]),directiveDef(5,16384,null,0,NgControlStatusGroup,[[4,ControlContainer]],null,null),(_l()(),elementDef(6,0,null,null,11,\"div\",[[\"class\",\"field\"]],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,1,\"label\",[[\"class\",\"label\"],[\"for\",\"username\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Nutzername\"])),(_l()(),elementDef(9,0,null,null,6,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(10,0,null,null,5,\"input\",[[\"class\",\"input\"],[\"formControlName\",\"username\"],[\"id\",\"username\"],[\"placeholder\",\"Nutzername\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],(function(_v,en,$event){var ad=!0;return\"input\"===en&&(ad=!1!==nodeValue(_v,11)._handleInput($event.target.value)&&ad),\"blur\"===en&&(ad=!1!==nodeValue(_v,11).onTouched()&&ad),\"compositionstart\"===en&&(ad=!1!==nodeValue(_v,11)._compositionStart()&&ad),\"compositionend\"===en&&(ad=!1!==nodeValue(_v,11)._compositionEnd($event.target.value)&&ad),ad}),null,null)),directiveDef(11,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(13,671744,null,0,forms_FormControlName,[[3,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR],[2,NG_MODEL_WITH_FORM_CONTROL_WARNING]],{name:[0,\"name\"]},null),providerDef(2048,null,NgControl,null,[forms_FormControlName]),directiveDef(15,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_LoginFormComponent_1)),directiveDef(17,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),elementDef(18,0,null,null,11,\"div\",[[\"class\",\"field\"]],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,1,\"label\",[[\"class\",\"label\"],[\"for\",\"password\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Passwort\"])),(_l()(),elementDef(21,0,null,null,6,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(22,0,null,null,5,\"input\",[[\"class\",\"input\"],[\"formControlName\",\"password\"],[\"id\",\"password\"],[\"placeholder\",\"Passwort\"],[\"type\",\"password\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],(function(_v,en,$event){var ad=!0;return\"input\"===en&&(ad=!1!==nodeValue(_v,23)._handleInput($event.target.value)&&ad),\"blur\"===en&&(ad=!1!==nodeValue(_v,23).onTouched()&&ad),\"compositionstart\"===en&&(ad=!1!==nodeValue(_v,23)._compositionStart()&&ad),\"compositionend\"===en&&(ad=!1!==nodeValue(_v,23)._compositionEnd($event.target.value)&&ad),ad}),null,null)),directiveDef(23,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(25,671744,null,0,forms_FormControlName,[[3,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR],[2,NG_MODEL_WITH_FORM_CONTROL_WARNING]],{name:[0,\"name\"]},null),providerDef(2048,null,NgControl,null,[forms_FormControlName]),directiveDef(27,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_LoginFormComponent_2)),directiveDef(29,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),elementDef(30,0,null,null,3,\"div\",[[\"class\",\"field\"]],null,null,null,null,null)),(_l()(),elementDef(31,0,null,null,2,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(32,0,null,null,1,\"button\",[[\"class\",\"button is-link\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Login\"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,_co.loginForm),_ck(_v,13,0,\"username\"),_ck(_v,17,0,_co.submitted&&_co.f.username.errors&&_co.f.username.errors.required),_ck(_v,25,0,\"password\"),_ck(_v,29,0,_co.submitted&&_co.f.password.errors&&_co.f.password.errors.required)}),(function(_ck,_v){_ck(_v,1,0,nodeValue(_v,5).ngClassUntouched,nodeValue(_v,5).ngClassTouched,nodeValue(_v,5).ngClassPristine,nodeValue(_v,5).ngClassDirty,nodeValue(_v,5).ngClassValid,nodeValue(_v,5).ngClassInvalid,nodeValue(_v,5).ngClassPending),_ck(_v,10,0,nodeValue(_v,15).ngClassUntouched,nodeValue(_v,15).ngClassTouched,nodeValue(_v,15).ngClassPristine,nodeValue(_v,15).ngClassDirty,nodeValue(_v,15).ngClassValid,nodeValue(_v,15).ngClassInvalid,nodeValue(_v,15).ngClassPending),_ck(_v,22,0,nodeValue(_v,27).ngClassUntouched,nodeValue(_v,27).ngClassTouched,nodeValue(_v,27).ngClassPristine,nodeValue(_v,27).ngClassDirty,nodeValue(_v,27).ngClassValid,nodeValue(_v,27).ngClassInvalid,nodeValue(_v,27).ngClassPending)}))}function View_LoginFormComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_LoginFormComponent_0,RenderType_LoginFormComponent)),directiveDef(1,114688,null,0,login_form_component_LoginFormComponent,[FormBuilder,router_ActivatedRoute,router_Router,authentication_service_AuthenticationService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var LoginFormComponentNgFactory=createComponentFactory(\"ng-component\",login_form_component_LoginFormComponent,View_LoginFormComponent_Host_0,{},{},[]);class random_overview_component_RandomOverviewComponent{constructor(route){this.route=route;const toolId=route.snapshot.paramMap.get(\"toolId\");this.tool=randomTools.find(t=>t.id===toolId)}ngOnInit(){}}var RenderType_RandomOverviewComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_RandomOverviewComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,\"a\",[[\"class\",\"button is-link is-fullwidth\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,1).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(1,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(2,3),(_l()(),textDef(3,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_2=_ck(_v,2,0,\"/randomTools\",_v.component.tool.id,_v.parent.context.$implicit.id);_ck(_v,1,0,currVal_2)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).target,nodeValue(_v,1).href),_ck(_v,3,0,_v.parent.context.$implicit.name)}))}function View_RandomOverviewComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_RandomOverviewComponent_2)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){_ck(_v,2,0,!_v.context.$implicit.disabled)}),null)}function View_RandomOverviewComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"h1\",[[\"class\",\"title is-3 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Playground\"]))],null,null)}function View_RandomOverviewComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"h1\",[[\"class\",\"title is-3 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Evaluation\"]))],null,null)}function View_RandomOverviewComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,9,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"h1\",[[\"class\",\"title is-3 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Übungsaufgaben\"])),(_l()(),elementDef(3,0,null,null,2,\"div\",[[\"class\",\"buttons\"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_RandomOverviewComponent_1)),directiveDef(5,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_RandomOverviewComponent_3)),directiveDef(7,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_RandomOverviewComponent_4)),directiveDef(9,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,5,0,_co.tool.parts),_ck(_v,7,0,_co.tool.hasPlayground),_ck(_v,9,0,!1)}),null)}function View_RandomOverviewComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_RandomOverviewComponent_0,RenderType_RandomOverviewComponent)),directiveDef(1,114688,null,0,random_overview_component_RandomOverviewComponent,[router_ActivatedRoute],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var RandomOverviewComponentNgFactory=createComponentFactory(\"ng-component\",random_overview_component_RandomOverviewComponent,View_RandomOverviewComponent_Host_0,{},{},[]);function randomInt(minInclusive,maxExclusive){const intMax=Math.floor(maxExclusive),intMin=Math.floor(minInclusive);return Math.floor(Math.random()*(intMax-intMin))+intMin}function takeRandom(from){return from[Math.floor(Math.random()*from.length)]}function flatMapArray(ts,f){return ts.reduce((acc,t)=>acc.concat(f(t)),[])}class BooleanNode{}class BooleanVariable extends BooleanNode{constructor(variable){super(),this.variable=variable}evaluate(assignments){return assignments.has(this.variable)?assignments.get(this.variable):void 0}getVariables(){return[this]}asString(){return this.variable}}class BooleanConstant extends BooleanNode{constructor(value){super(),this.value=value}evaluate(assignments){return this.value}getVariables(){return[]}asString(){return this.value?\"1\":\"0\"}}const BooleanTrue=new BooleanConstant(!0),BooleanFalse=new BooleanConstant(!1);class BooleanNot extends BooleanNode{constructor(child){super(),this.child=child}evaluate(assignments){return!this.child.evaluate(assignments)}getVariables(){return this.child.getVariables()}asString(){return\"not \"+(this.child instanceof BooleanBinaryNode?\"(\"+this.child.asString()+\")\":this.child.asString())}}class BooleanBinaryNode extends BooleanNode{constructor(left,right){super(),this.left=left,this.right=right}getVariables(){const leftVars=this.left.getVariables(),rightVars=this.right.getVariables();return Array.from(new Set(leftVars.concat(rightVars)))}asString(){const leftChildString=this.left instanceof BooleanBinaryNode?`(${this.left.asString()})`:this.left.asString(),rightChildString=this.right instanceof BooleanBinaryNode?`(${this.right.asString()})`:this.right.asString();return leftChildString+\" \"+this.operator+\" \"+rightChildString}evaluate(assignments){return this.evalFunc(this.left.evaluate(assignments),this.right.evaluate(assignments))}}class BooleanAnd extends BooleanBinaryNode{constructor(){super(...arguments),this.operator=\"and\",this.evalFunc=(a,b)=>a&&b}}class BooleanOr extends BooleanBinaryNode{constructor(){super(...arguments),this.operator=\"or\",this.evalFunc=(a,b)=>a||b}}class BooleanNAnd extends BooleanBinaryNode{constructor(){super(...arguments),this.operator=\"nand\",this.evalFunc=(a,b)=>!(a&&b)}}class BooleanNOr extends BooleanBinaryNode{constructor(){super(...arguments),this.operator=\"nor\",this.evalFunc=(a,b)=>!(a||b)}}class BooleanXOr extends BooleanBinaryNode{constructor(){super(...arguments),this.operator=\"xor\",this.evalFunc=(a,b)=>a&&!b||!a&&b}}class BooleanEquivalency extends BooleanBinaryNode{constructor(){super(...arguments),this.operator=\"equiv\",this.evalFunc=(a,b)=>a===b}}class BooleanImplication extends BooleanBinaryNode{constructor(){super(...arguments),this.operator=\"impl\",this.evalFunc=(a,b)=>!a||b}}const HTML_REPLACERS=new Map([[/impl/g,\"&rArr;\"],[/nor/g,\"&#x22bd;\"],[/nand/g,\"&#x22bc;\"],[/equiv/g,\"&hArr;\"],[/not /g,\"&not;\"],[/and/g,\"&and;\"],[/xor/g,\"&oplus;\"],[/or/g,\"&or;\"]]);class bool_BooleanFormula{constructor(rootNode){this.rootNode=rootNode,this.variables=this.rootNode.getVariables().sort((v1,v2)=>v1.variable.charCodeAt(0)-v2.variable.charCodeAt(0)),this.assignments=this.calculateAssignments()}calculateAssignments(){let assignments=[];for(const variable of this.variables)assignments=0===assignments.length?[new Map([[variable.variable,!1]]),new Map([[variable.variable,!0]])]:flatMapArray(assignments,assignment=>[new Map([...assignment,[variable.variable,!1]]),new Map([...assignment,[variable.variable,!0]])]);return assignments}getVariables(){return this.variables}getAllAssignments(){return this.assignments}asString(){return this.rootNode.asString()}asHtmlString(){let base=this.rootNode.asString();return HTML_REPLACERS.forEach((replacer,replaced)=>base=base.replace(replaced,replacer)),base}}const varA=new BooleanVariable(\"a\"),varB=new BooleanVariable(\"b\"),varC=new BooleanVariable(\"c\");function generateRandomOperator(left,right){const leftNegated=2===randomInt(0,3),rightNegated=2===randomInt(0,3),leftChild=leftNegated?new BooleanNot(left):left,rightChild=rightNegated?new BooleanNot(right):right;return 1===randomInt(0,2)?new BooleanAnd(leftChild,rightChild):new BooleanOr(leftChild,rightChild)}function generateBooleanFormula(){if(1===randomInt(1,3))return new bool_BooleanFormula(generateRandomOperator(varA,varB));{const vars=[varA,varB,varC],leftChild=generateRandomOperator(takeRandom(vars),takeRandom(vars)),rightChild=generateRandomOperator(takeRandom(vars),takeRandom(vars));return new bool_BooleanFormula(generateRandomOperator(leftChild,rightChild))}}class BoolComponentHelper{displayAssignmentValue(assignment,variable){return assignment.has(variable.variable)?assignment.get(variable.variable)?\"1\":\"0\":\"\"}}class bool_fill_out_component_BoolFillOutComponent extends BoolComponentHelper{constructor(){super(),this.tool=BoolTool,this.part=BoolFillOutPart,this.sampleVariable=new BooleanVariable(\"s\"),this.learnerVariable=new BooleanVariable(\"z\"),this.corrected=!1,this.completelyCorrect=!1}ngOnInit(){this.update()}update(){this.completelyCorrect=!1,this.corrected=!1,this.formula=generateBooleanFormula(),this.formula.getAllAssignments().forEach(assignment=>{assignment.set(this.sampleVariable.variable,this.formula.rootNode.evaluate(assignment)),assignment.set(this.learnerVariable.variable,!1)})}updateAssignment(assignment){for(const as of this.formula.getAllAssignments())if(as===assignment){const newValue=!as.get(this.learnerVariable.variable);as.set(this.learnerVariable.variable,newValue)}}handleKeyboardEvent(event){\"Enter\"===event.key&&(this.completelyCorrect?this.update():this.corrected=!0)}}var RenderType_BoolFillOutComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_BoolFillOutComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"th\",[[\"class\",\"has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(1,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit.variable)}))}function View_BoolFillOutComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"td\",[[\"class\",\"has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(1,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.displayAssignmentValue(_v.parent.context.$implicit,_v.context.$implicit))}))}function View_BoolFillOutComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,5,\"tr\",[],[[2,\"has-text-danger\",null],[2,\"has-text-success\",null]],null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_BoolFillOutComponent_3)),directiveDef(2,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),elementDef(3,0,null,null,2,\"td\",[[\"class\",\"has-text-centered\"]],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,1,\"button\",[[\"class\",\"button\"]],[[2,\"is-link\",null]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.updateAssignment(_v.context.$implicit)&&ad),ad}),null,null)),(_l()(),textDef(5,null,[\"\",\"\"]))],(function(_ck,_v){_ck(_v,2,0,_v.component.formula.getVariables())}),(function(_ck,_v){var _co=_v.component,currVal_0=_co.corrected&&_v.context.$implicit.get(_co.learnerVariable.variable)!==_v.context.$implicit.get(_co.sampleVariable.variable),currVal_1=_co.corrected&&_v.context.$implicit.get(_co.learnerVariable.variable)===_v.context.$implicit.get(_co.sampleVariable.variable);_ck(_v,0,0,currVal_0,currVal_1);var currVal_3=_v.context.$implicit.get(_co.learnerVariable.variable);_ck(_v,4,0,currVal_3),_ck(_v,5,0,_co.displayAssignmentValue(_v.context.$implicit,_co.learnerVariable))}))}function View_BoolFillOutComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,30,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"h1\",[[\"class\",\"title is-3 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(2,null,[\"\",\"\"])),(_l()(),elementDef(3,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,26,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(5,0,null,null,25,\"div\",[[\"class\",\"column is-half-desktop is-offset-one-quarter-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,2,\"h2\",[[\"class\",\"subtitle is-4 has-text-centered\"]],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,1,\"code\",[],[[8,\"innerHTML\",1]],null,null,null,null)),(_l()(),textDef(8,null,[\"\",\"\"])),(_l()(),elementDef(9,0,null,null,9,\"table\",[[\"class\",\"table is-bordered is-fullwidth\"]],null,null,null,null,null)),(_l()(),elementDef(10,0,null,null,5,\"thead\",[],null,null,null,null,null)),(_l()(),elementDef(11,0,null,null,4,\"tr\",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_BoolFillOutComponent_1)),directiveDef(13,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),elementDef(14,0,null,null,1,\"th\",[[\"class\",\"has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(15,null,[\"\",\"\"])),(_l()(),elementDef(16,0,null,null,2,\"tbody\",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_BoolFillOutComponent_2)),directiveDef(18,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),elementDef(19,0,null,null,11,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(20,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(21,0,null,null,1,\"button\",[[\"class\",\"button is-link is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=0!=(_v.component.corrected=!0)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Lösung testen\"])),(_l()(),elementDef(23,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(24,0,null,null,1,\"button\",[[\"class\",\"button is-primary is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.update()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Nächste Aufgabe\"])),(_l()(),elementDef(26,0,null,null,4,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(27,0,null,null,3,\"a\",[[\"class\",\"button is-dark is-fullwidth\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,28).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(28,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(29,2),(_l()(),textDef(-1,null,[\"Bearbeiten beenden\"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,13,0,_co.formula.getVariables()),_ck(_v,18,0,_co.formula.getAllAssignments());var currVal_8=_ck(_v,29,0,\"/randomTools\",_co.tool.id);_ck(_v,28,0,currVal_8)}),(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.part.name),_ck(_v,7,0,_co.formula.asHtmlString()),_ck(_v,8,0,_co.formula.asHtmlString()),_ck(_v,15,0,_co.learnerVariable.variable),_ck(_v,27,0,nodeValue(_v,28).target,nodeValue(_v,28).href)}))}function View_BoolFillOutComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,[[\"document\",\"keypress\"]],(function(_v,en,$event){var ad=!0;return\"document:keypress\"===en&&(ad=!1!==nodeValue(_v,1).handleKeyboardEvent($event)&&ad),ad}),View_BoolFillOutComponent_0,RenderType_BoolFillOutComponent)),directiveDef(1,114688,null,0,bool_fill_out_component_BoolFillOutComponent,[],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var BoolFillOutComponentNgFactory=createComponentFactory(\"ng-component\",bool_fill_out_component_BoolFillOutComponent,View_BoolFillOutComponent_Host_0,{},{},[]);class BoolCreateInstructionsComponent{constructor(){}}var RenderType_BoolCreateInstructionsComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_BoolCreateInstructionsComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,\"hr\",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"h3\",[[\"class\",\"subtitle is-4 has-text-info has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Folgende Operatoren sind definiert und dürfen verwendet werden:\"])),(_l()(),elementDef(3,0,null,null,80,\"table\",[[\"class\",\"table is-fullwidth\"]],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,7,\"thead\",[],null,null,null,null,null)),(_l()(),elementDef(5,0,null,null,6,\"tr\",[],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,1,\"th\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Standardoperatoren\"])),(_l()(),elementDef(8,0,null,null,1,\"th\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Mathematisches Symbol\"])),(_l()(),elementDef(10,0,null,null,1,\"th\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Darstellung\"])),(_l()(),elementDef(12,0,null,null,24,\"tbody\",[],null,null,null,null,null)),(_l()(),elementDef(13,0,null,null,7,\"tr\",[],null,null,null,null,null)),(_l()(),elementDef(14,0,null,null,1,\"td\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Nicht\"])),(_l()(),elementDef(16,0,null,null,1,\"td\",[[\"class\",\"has-background-grey-light\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"¬ a\"])),(_l()(),elementDef(18,0,null,null,2,\"td\",[],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"not a\"])),(_l()(),elementDef(21,0,null,null,7,\"tr\",[],null,null,null,null,null)),(_l()(),elementDef(22,0,null,null,1,\"td\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Und\"])),(_l()(),elementDef(24,0,null,null,1,\"td\",[[\"class\",\"has-background-grey-light\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a ∧ b\"])),(_l()(),elementDef(26,0,null,null,2,\"td\",[],null,null,null,null,null)),(_l()(),elementDef(27,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a and b\"])),(_l()(),elementDef(29,0,null,null,7,\"tr\",[],null,null,null,null,null)),(_l()(),elementDef(30,0,null,null,1,\"td\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Oder\"])),(_l()(),elementDef(32,0,null,null,1,\"td\",[[\"class\",\"has-background-grey-light\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a ∨ b\"])),(_l()(),elementDef(34,0,null,null,2,\"td\",[],null,null,null,null,null)),(_l()(),elementDef(35,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a or b\"])),(_l()(),elementDef(37,0,null,null,5,\"thead\",[],null,null,null,null,null)),(_l()(),elementDef(38,0,null,null,4,\"tr\",[],null,null,null,null,null)),(_l()(),elementDef(39,0,null,null,1,\"th\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Spezialoperatoren\"])),(_l()(),elementDef(41,0,null,null,0,\"th\",[],null,null,null,null,null)),(_l()(),elementDef(42,0,null,null,0,\"th\",[],null,null,null,null,null)),(_l()(),elementDef(43,0,null,null,40,\"tbody\",[],null,null,null,null,null)),(_l()(),elementDef(44,0,null,null,7,\"tr\",[],null,null,null,null,null)),(_l()(),elementDef(45,0,null,null,1,\"td\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Exklusives Oder\"])),(_l()(),elementDef(47,0,null,null,1,\"td\",[[\"class\",\"has-background-grey-light\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a ⊕ b\"])),(_l()(),elementDef(49,0,null,null,2,\"td\",[],null,null,null,null,null)),(_l()(),elementDef(50,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a xor b\"])),(_l()(),elementDef(52,0,null,null,7,\"tr\",[],null,null,null,null,null)),(_l()(),elementDef(53,0,null,null,1,\"td\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Negiertes Und\"])),(_l()(),elementDef(55,0,null,null,1,\"td\",[[\"class\",\"has-background-grey-light\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a ⊼ b\"])),(_l()(),elementDef(57,0,null,null,2,\"td\",[],null,null,null,null,null)),(_l()(),elementDef(58,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a nand b\"])),(_l()(),elementDef(60,0,null,null,7,\"tr\",[],null,null,null,null,null)),(_l()(),elementDef(61,0,null,null,1,\"td\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Negiertes Oder\"])),(_l()(),elementDef(63,0,null,null,1,\"td\",[[\"class\",\"has-background-grey-light\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a ⊽ b\"])),(_l()(),elementDef(65,0,null,null,2,\"td\",[],null,null,null,null,null)),(_l()(),elementDef(66,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a nor b\"])),(_l()(),elementDef(68,0,null,null,7,\"tr\",[],null,null,null,null,null)),(_l()(),elementDef(69,0,null,null,1,\"td\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Äquivalenz\"])),(_l()(),elementDef(71,0,null,null,1,\"td\",[[\"class\",\"has-background-grey-light\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a ⇔ b\"])),(_l()(),elementDef(73,0,null,null,2,\"td\",[],null,null,null,null,null)),(_l()(),elementDef(74,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a equiv b\"])),(_l()(),elementDef(76,0,null,null,7,\"tr\",[],null,null,null,null,null)),(_l()(),elementDef(77,0,null,null,1,\"td\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Implikation\"])),(_l()(),elementDef(79,0,null,null,1,\"td\",[[\"class\",\"has-background-grey-light\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a ⇒ b\"])),(_l()(),elementDef(81,0,null,null,2,\"td\",[],null,null,null,null,null)),(_l()(),elementDef(82,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a impl b\"])),(_l()(),elementDef(84,0,null,null,1,\"h3\",[[\"class\",\"subtitle is-4 has-text-info has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Weitere Regeln\"])),(_l()(),elementDef(86,0,null,null,46,\"div\",[[\"class\",\"content\"]],null,null,null,null,null)),(_l()(),elementDef(87,0,null,null,44,\"ul\",[],null,null,null,null,null)),(_l()(),elementDef(88,0,null,null,1,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Groß- und Kleinschreibung spielt keine Rolle.\"])),(_l()(),elementDef(90,0,null,null,41,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\" Reihenfolge der Auswertung: \"])),(_l()(),elementDef(92,0,null,null,39,\"ul\",[],null,null,null,null,null)),(_l()(),elementDef(93,0,null,null,12,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Die Operatorrangfolge ist folgendermaßen festgelegt: \"])),(_l()(),elementDef(95,0,null,null,10,\"ol\",[],null,null,null,null,null)),(_l()(),elementDef(96,0,null,null,1,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Nicht\"])),(_l()(),elementDef(98,0,null,null,1,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Und\"])),(_l()(),elementDef(100,0,null,null,1,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Oder\"])),(_l()(),elementDef(102,0,null,null,1,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Implikation\"])),(_l()(),elementDef(104,0,null,null,1,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Restliche Operatoren: exklusives Oder, Nicht Und, Nicht Oder, äquivalenz\"])),(_l()(),elementDef(106,0,null,null,8,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Beeinflussung der Auswertung: \"])),(_l()(),elementDef(108,0,null,null,6,\"ul\",[],null,null,null,null,null)),(_l()(),elementDef(109,0,null,null,3,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Klammere, um die Reihenfolge festzulegen, in der Ausdrücke ausgewertet werden. Beispiel: \"])),(_l()(),elementDef(111,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"not((a or b) and c)\"])),(_l()(),elementDef(113,0,null,null,1,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Ansonsten wird von links nach rechts ausgewertet (bei gleicher Präzedenz der zweite Operator Vorrang) \"])),(_l()(),elementDef(115,0,null,null,16,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Beispiele: \"])),(_l()(),elementDef(117,0,null,null,14,\"ul\",[],null,null,null,null,null)),(_l()(),elementDef(118,0,null,null,6,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Nach Rangfolge: \"])),(_l()(),elementDef(120,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a xor b impl c or d and not e\"])),(_l()(),textDef(-1,null,[\" ⇔ \"])),(_l()(),elementDef(123,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a xor (b impl (c or (d and (not e))))))\"])),(_l()(),elementDef(125,0,null,null,6,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Gleichwertiger Rang (links nach rechts): \"])),(_l()(),elementDef(127,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"a xor b nor c nand d equiv e\"])),(_l()(),textDef(-1,null,[\" ⇔ \"])),(_l()(),elementDef(130,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"((((a xor b) nor c) nand d) equiv e)\"])),(_l()(),elementDef(132,0,null,null,0,\"br\",[],null,null,null,null,null))],null,null)}var api=__webpack_require__(\"+oOE\");const whiteSpace=Object(api.createToken)({name:\"WhiteSpace\",pattern:/\\s+/,group:api.Lexer.SKIPPED}),boolean_formula_parser_variable=Object(api.createToken)({name:\"Variable\",pattern:/[a-z]/}),TRUE=Object(api.createToken)({name:\"TRUE\",pattern:/1|TRUE/i}),boolean_formula_parser_FALSE=Object(api.createToken)({name:\"FALSE\",pattern:/0|FALSE/i}),leftBracket=Object(api.createToken)({name:\"leftBracket\",pattern:/\\(/}),rightBracket=Object(api.createToken)({name:\"rightBracket\",pattern:/\\)/}),notOperator=Object(api.createToken)({name:\"notOperator\",pattern:/not/}),andOperator=Object(api.createToken)({name:\"AndOperator\",pattern:/and/}),orOperator=Object(api.createToken)({name:\"OrOperator\",pattern:/or/}),otherOperators=Object(api.createToken)({name:\"Operators\",pattern:/[x|n]or|nand|equiv|impl/}),allTokens=[leftBracket,rightBracket,notOperator,andOperator,orOperator,otherOperators,TRUE,boolean_formula_parser_FALSE,boolean_formula_parser_variable,whiteSpace],BooleanFormulaLexer=new api.Lexer(allTokens);function instantiateOperator(leftOp,opString,rightOp){switch(opString){case\"and\":return new BooleanAnd(leftOp,rightOp);case\"or\":return new BooleanOr(leftOp,rightOp);case\"xor\":return new BooleanXOr(leftOp,rightOp);case\"nor\":return new BooleanNOr(leftOp,rightOp);case\"nand\":return new BooleanNAnd(leftOp,rightOp);case\"equiv\":return new BooleanEquivalency(leftOp,rightOp);case\"impl\":return new BooleanImplication(leftOp,rightOp)}}class boolean_formula_parser_BooleanFormulaParser extends api.EmbeddedActionsParser{constructor(){super(allTokens),this.trueRule=this.RULE(\"trueRule\",()=>(this.CONSUME(TRUE),BooleanTrue)),this.falseRule=this.RULE(\"falseRule\",()=>(this.CONSUME(boolean_formula_parser_FALSE),BooleanFalse)),this.variableRule=this.RULE(\"variableRule\",()=>{const variableToken=this.CONSUME(boolean_formula_parser_variable);return new BooleanVariable(variableToken.image[0])}),this.value=this.RULE(\"value\",()=>this.OR([{ALT:()=>this.SUBRULE(this.variableRule)},{ALT:()=>this.SUBRULE(this.trueRule)},{ALT:()=>this.SUBRULE(this.falseRule)}])),this.binaryStatement=this.RULE(\"binaryStatement\",()=>instantiateOperator(this.SUBRULE(this.booleanFormula),this.CONSUME(otherOperators).image,this.SUBRULE2(this.booleanFormula))),this.factor=this.RULE(\"factor\",()=>this.OR([{ALT:()=>this.SUBRULE(this.variableRule)},{ALT:()=>this.SUBRULE(this.trueRule)},{ALT:()=>this.SUBRULE(this.falseRule)},{ALT:()=>{this.CONSUME(leftBracket);const child=this.SUBRULE(this.booleanFormula);return this.CONSUME(rightBracket),child}}])),this.notFactor=this.RULE(\"notFactor\",()=>{const negated=void 0!==this.OPTION(()=>this.CONSUME(notOperator)),child=this.SUBRULE(this.factor);return negated?new BooleanNot(child):child}),this.andTermComponent=this.RULE(\"otherTerm\",()=>{const left=this.SUBRULE(this.notFactor),right=this.OPTION(()=>{const operator=this.CONSUME(otherOperators),factor=this.SUBRULE2(this.notFactor);return{operator:operator.image,right:factor}});return right?instantiateOperator(left,right.operator,right.right):left}),this.orTermComponent=this.RULE(\"orTerm\",()=>{const left=this.SUBRULE(this.andTermComponent),right=this.OPTION(()=>(this.CONSUME(andOperator),this.SUBRULE2(this.andTermComponent)));return right?new BooleanAnd(left,right):left}),this.booleanFormula=this.RULE(\"booleanFormula\",()=>{const left=this.SUBRULE(this.orTermComponent),right=this.OPTION(()=>(this.CONSUME(orOperator),this.SUBRULE2(this.orTermComponent)));return right?new BooleanOr(left,right):left}),this.performSelfAnalysis()}}class bool_create_component_BoolCreateComponent extends BoolComponentHelper{constructor(){super(),this.tool=BoolTool,this.part=BoolCreatePart,this.sampleVariable=new BooleanVariable(\"z\"),this.learnerVariable=new BooleanVariable(\"y\"),this.solution=\"\",this.corrected=!1,this.completelyCorrect=!1,this.showInstructions=!1}ngOnInit(){this.update()}update(){this.completelyCorrect=!1,this.corrected=!1,this.solution=\"\",this.formula=generateBooleanFormula(),this.formula.getAllAssignments().forEach(assignment=>assignment.set(this.sampleVariable.variable,this.formula.rootNode.evaluate(assignment)))}correct(){this.corrected=!0;const booleanFormula=function(formulaString){const lexResult=BooleanFormulaLexer.tokenize(formulaString),parser=new boolean_formula_parser_BooleanFormulaParser;return parser.input=lexResult.tokens,parser.booleanFormula()}(this.solution);if(!booleanFormula)return void alert(\"Konnte Formel >>\"+this.solution+\"<< nicht parsen!\");const variablesAwaited=this.formula.getVariables().map(v=>v.variable),variablesUsed=booleanFormula.getVariables().map(v=>v.variable);var first,second;(first=variablesAwaited).length===(second=variablesUsed).length&&first.every((value,index)=>value===second[index])?this.completelyCorrect=this.formula.getAllAssignments().every(assignment=>{const value=booleanFormula.evaluate(assignment);return assignment.set(this.learnerVariable.variable,value),assignment.get(this.sampleVariable.variable)===value}):alert(\"Sie haben nicht die richtigen Variablen benutzt!\")}handleKeyboardEvent(event){\"Enter\"===event.key&&(this.completelyCorrect?this.update():this.correct())}}var RenderType_BoolCreateComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_BoolCreateComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"th\",[[\"class\",\"has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(1,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit.variable)}))}function View_BoolCreateComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"td\",[[\"class\",\"has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(1,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.displayAssignmentValue(_v.parent.context.$implicit,_v.context.$implicit))}))}function View_BoolCreateComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,6,\"tr\",[],[[2,\"has-text-danger\",null],[2,\"has-text-success\",null]],null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_BoolCreateComponent_3)),directiveDef(2,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),elementDef(3,0,null,null,1,\"td\",[[\"class\",\"has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(4,null,[\"\",\"\"])),(_l()(),elementDef(5,0,null,null,1,\"td\",[[\"class\",\"has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(6,null,[\"\",\"\"]))],(function(_ck,_v){_ck(_v,2,0,_v.component.formula.getVariables())}),(function(_ck,_v){var _co=_v.component,currVal_0=_co.corrected&&_v.context.$implicit.get(_co.learnerVariable.variable)!==_v.context.$implicit.get(_co.sampleVariable.variable),currVal_1=_co.corrected&&_v.context.$implicit.get(_co.learnerVariable.variable)===_v.context.$implicit.get(_co.sampleVariable.variable);_ck(_v,0,0,currVal_0,currVal_1),_ck(_v,4,0,_co.displayAssignmentValue(_v.context.$implicit,_co.sampleVariable)),_ck(_v,6,0,_co.displayAssignmentValue(_v.context.$implicit,_co.learnerVariable))}))}function View_BoolCreateComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"it4all-bool-create-instructions\",[],null,null,null,View_BoolCreateInstructionsComponent_0,RenderType_BoolCreateInstructionsComponent)),directiveDef(2,49152,null,0,BoolCreateInstructionsComponent,[],null,null)],null,null)}function View_BoolCreateComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,45,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"h1\",[[\"class\",\"title is-3 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(2,null,[\"\",\"\"])),(_l()(),elementDef(3,0,null,null,40,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,39,\"div\",[[\"class\",\"column is-half-desktop is-offset-one-quarter-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(5,0,null,null,11,\"table\",[[\"class\",\"table is-bordered is-fullwidth\"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,7,\"thead\",[],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,6,\"tr\",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_BoolCreateComponent_1)),directiveDef(9,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),elementDef(10,0,null,null,1,\"th\",[[\"class\",\"has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(11,null,[\"\",\"\"])),(_l()(),elementDef(12,0,null,null,1,\"th\",[[\"class\",\"has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(13,null,[\"\",\"\"])),(_l()(),elementDef(14,0,null,null,2,\"tbody\",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_BoolCreateComponent_2)),directiveDef(16,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),elementDef(17,0,null,null,0,\"hr\",[],null,null,null,null,null)),(_l()(),elementDef(18,0,null,null,10,\"div\",[[\"class\",\"field has-addons\"]],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,2,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(20,0,null,null,1,\"label\",[[\"class\",\"button is-static\"],[\"for\",\"solution\"]],null,null,null,null,null)),(_l()(),textDef(21,null,[\"\",\" = \"])),(_l()(),elementDef(22,0,null,null,6,\"div\",[[\"class\",\"control is-expanded\"]],null,null,null,null,null)),(_l()(),elementDef(23,0,null,null,5,\"input\",[[\"autocomplete\",\"false\"],[\"autofocus\",\"\"],[\"class\",\"input\"],[\"id\",\"solution\"],[\"placeholder\",\"Boolesche Formel\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"input\"===en&&(ad=!1!==nodeValue(_v,24)._handleInput($event.target.value)&&ad),\"blur\"===en&&(ad=!1!==nodeValue(_v,24).onTouched()&&ad),\"compositionstart\"===en&&(ad=!1!==nodeValue(_v,24)._compositionStart()&&ad),\"compositionend\"===en&&(ad=!1!==nodeValue(_v,24)._compositionEnd($event.target.value)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.solution=$event)&&ad),ad}),null,null)),directiveDef(24,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(26,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(28,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(29,0,null,null,11,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(30,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(31,0,null,null,1,\"button\",[[\"class\",\"button is-link is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.correct()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Korrektur\"])),(_l()(),elementDef(33,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(34,0,null,null,1,\"button\",[[\"class\",\"button is-primary is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.update()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Nächste Aufgabe\"])),(_l()(),elementDef(36,0,null,null,4,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(37,0,null,null,3,\"a\",[[\"class\",\"button is-dark is-fullwidth\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,38).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(38,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(39,2),(_l()(),textDef(-1,null,[\"Bearbeiten beenden\"])),(_l()(),elementDef(41,0,null,null,2,\"div\",[[\"class\",\"buttons\"]],null,null,null,null,null)),(_l()(),elementDef(42,0,null,null,1,\"button\",[[\"class\",\"button is-info is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"click\"===en&&(ad=0!=(_co.showInstructions=!_co.showInstructions)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\" Hilfe anzeigen \"])),(_l()(),anchorDef(16777216,null,null,1,null,View_BoolCreateComponent_4)),directiveDef(45,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,9,0,_co.formula.getVariables()),_ck(_v,16,0,_co.formula.getAllAssignments()),_ck(_v,26,0,_co.solution);var currVal_16=_ck(_v,39,0,\"/randomTools\",_co.tool.id);_ck(_v,38,0,currVal_16),_ck(_v,45,0,_co.showInstructions)}),(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.part.name),_ck(_v,11,0,_co.sampleVariable.variable),_ck(_v,13,0,_co.learnerVariable.variable),_ck(_v,21,0,_co.sampleVariable.variable),_ck(_v,23,0,nodeValue(_v,28).ngClassUntouched,nodeValue(_v,28).ngClassTouched,nodeValue(_v,28).ngClassPristine,nodeValue(_v,28).ngClassDirty,nodeValue(_v,28).ngClassValid,nodeValue(_v,28).ngClassInvalid,nodeValue(_v,28).ngClassPending),_ck(_v,37,0,nodeValue(_v,38).target,nodeValue(_v,38).href)}))}function View_BoolCreateComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,[[\"document\",\"keypress\"]],(function(_v,en,$event){var ad=!0;return\"document:keypress\"===en&&(ad=!1!==nodeValue(_v,1).handleKeyboardEvent($event)&&ad),ad}),View_BoolCreateComponent_0,RenderType_BoolCreateComponent)),directiveDef(1,114688,null,0,bool_create_component_BoolCreateComponent,[],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var BoolCreateComponentNgFactory=createComponentFactory(\"ng-component\",bool_create_component_BoolCreateComponent,View_BoolCreateComponent_Host_0,{},{},[]);const BINARY_SYSTEM={radix:2,name:\"Binärsystem\",allowedDigits:\"01\"},DECIMAL_SYSTEM={radix:10,name:\"Dezimalsystem\",allowedDigits:\"0123456789\"},HEXADECIMAL_SYSTEM={radix:16,name:\"Hexadezimalsystem\",allowedDigits:\"0123456789ABCDEF\"},NUMBERING_SYSTEMS=[BINARY_SYSTEM,{radix:4,name:\"Quaternärsystem\",allowedDigits:\"0123\"},{radix:8,name:\"Oktalsystem\",allowedDigits:\"01234567\"},HEXADECIMAL_SYSTEM];class NaryNumberInput{constructor(numberingSystem,fieldId,labelContent,fieldPlaceholder=null,decimalNumber,isReadonly=!1){this.numberingSystem=numberingSystem,this.fieldId=fieldId,this.labelContent=labelContent,this.fieldPlaceholder=fieldPlaceholder,this.decimalNumber=decimalNumber,this.isReadonly=isReadonly}}class NaryHelpers{getSummandNary(summand,radix){let naryString=summand.toString(radix);return 2===radix&&(naryString=naryString.padStart(8,\"0\").match(/.{1,4}/g).join(\" \")),naryString}}class nary_number_input_component_NaryNumberInputComponent extends NaryHelpers{constructor(){super()}ngOnInit(){}getValue(){return this.naryNumberInput.decimalNumber?this.getSummandNary(this.naryNumberInput.decimalNumber,this.naryNumberInput.numberingSystem.radix):\"\"}getPlaceholder(){return this.naryNumberInput.fieldPlaceholder||this.naryNumberInput.labelContent}}var RenderType_NaryNumberInputComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_NaryNumberInputComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,10,\"div\",[[\"class\",\"field has-addons\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,3,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,2,\"div\",[[\"class\",\"button is-static\"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,1,\"label\",[],[[8,\"htmlFor\",0]],null,null,null,null)),(_l()(),textDef(4,null,[\"\",\"\"])),(_l()(),elementDef(5,0,null,null,1,\"div\",[[\"class\",\"control is-expanded\"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,0,\"input\",[[\"class\",\"input has-text-right\"],[\"readonly\",\"\"]],[[8,\"id\",0],[8,\"value\",0],[8,\"placeholder\",0]],null,null,null,null)),(_l()(),elementDef(7,0,null,null,3,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,2,\"div\",[[\"class\",\"button is-static\"]],null,null,null,null,null)),(_l()(),elementDef(9,0,null,null,1,\"sub\",[],null,null,null,null,null)),(_l()(),textDef(10,null,[\"\",\"\"]))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,inlineInterpolate(1,\"\",_co.naryNumberInput.fieldId,\"\")),_ck(_v,4,0,_co.naryNumberInput.labelContent),_ck(_v,6,0,inlineInterpolate(1,\"\",_co.naryNumberInput.fieldId,\"\"),_co.getValue(),_co.getPlaceholder()),_ck(_v,10,0,_co.naryNumberInput.numberingSystem.radix)}))}class nary_addition_component_NaryAdditionComponent extends NaryHelpers{constructor(){super(),this.tool=NaryTool,this.toolPart=NaryAdditionToolPart,this.numberingSystems=NUMBERING_SYSTEMS,this.system=BINARY_SYSTEM,this.checked=!1,this.correct=!1,this.solutionString=\"\",this.firstSummandInput=new NaryNumberInput(this.system,\"firstSummand\",\"Summand 1:\",null,0,!0),this.secondSummandInput=new NaryNumberInput(this.system,\"secondSummand\",\"Summand 2:\",null,0,!0),this.update()}update(){this.target=randomInt(1,256);const firstSummand=randomInt(1,this.target);this.firstSummandInput.decimalNumber=firstSummand,this.firstSummandInput.numberingSystem=this.system,this.secondSummandInput.decimalNumber=this.target-firstSummand,this.secondSummandInput.numberingSystem=this.system,this.checked=!1,this.correct=!1,this.solutionString=\"\"}checkSolution(){const reversedSolutionString=this.solutionString.replace(/\\s/g,\"\").split(\"\").reverse().join(\"\"),solution=parseInt(reversedSolutionString,this.system.radix);this.checked=!0,this.correct=solution===this.target}handleKeyboardEvent(event){\"Enter\"===event.key&&(this.correct?this.update():this.checkSolution())}}var RenderType_NaryAdditionComponent=createRendererType2({encapsulation:0,styles:[\"#solution[_ngcontent-%COMP%] {\\n          direction: rtl;\\n          unicode-bidi: bidi-override\\n      }\"],data:{}});function View_NaryAdditionComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,\"option\",[],null,null,null,null,null)),directiveDef(1,147456,null,0,NgSelectOption,[ElementRef,Renderer2,[2,forms_SelectControlValueAccessor]],{ngValue:[0,\"ngValue\"]},null),directiveDef(2,147456,null,0,ɵNgSelectMultipleOption,[ElementRef,Renderer2,[8,null]],{ngValue:[0,\"ngValue\"]},null),(_l()(),textDef(3,null,[\"\",\" - \",\"\"]))],(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit),_ck(_v,2,0,_v.context.$implicit)}),(function(_ck,_v){_ck(_v,3,0,_v.context.$implicit.radix,_v.context.$implicit.name)}))}function View_NaryAdditionComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"div\",[[\"class\",\"help is-danger\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Die Lösung ist nicht korrekt.\"]))],null,null)}function View_NaryAdditionComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"div\",[[\"class\",\"help is-success\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Die Lösung ist korrekt.\"]))],null,null)}function View_NaryAdditionComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,61,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"h1\",[[\"class\",\"title is-3 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(2,null,[\"\",\"\"])),(_l()(),elementDef(3,0,null,null,58,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,57,\"div\",[[\"class\",\"column is-half-desktop is-offset-one-quarter-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(5,0,null,null,12,\"div\",[[\"class\",\"field\"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,1,\"label\",[[\"class\",\"label has-text-centered\"],[\"for\",\"numberSystem\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Zahlensystem\"])),(_l()(),elementDef(8,0,null,null,9,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(9,0,null,null,8,\"div\",[[\"class\",\"select is-fullwidth\"]],null,null,null,null,null)),(_l()(),elementDef(10,0,null,null,7,\"select\",[[\"id\",\"numberSystem\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"change\"],[null,\"blur\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"change\"===en&&(ad=!1!==nodeValue(_v,11).onChange($event.target.value)&&ad),\"blur\"===en&&(ad=!1!==nodeValue(_v,11).onTouched()&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.system=$event)&&ad),\"change\"===en&&(ad=!1!==_co.update()&&ad),ad}),null,null)),directiveDef(11,16384,null,0,forms_SelectControlValueAccessor,[Renderer2,ElementRef],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[forms_SelectControlValueAccessor]),directiveDef(13,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(15,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_NaryAdditionComponent_1)),directiveDef(17,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),elementDef(18,0,null,null,0,\"hr\",[],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,1,\"it4all-nary-number-input\",[],null,null,null,View_NaryNumberInputComponent_0,RenderType_NaryNumberInputComponent)),directiveDef(20,114688,null,0,nary_number_input_component_NaryNumberInputComponent,[],{naryNumberInput:[0,\"naryNumberInput\"]},null),(_l()(),elementDef(21,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),elementDef(22,0,null,null,1,\"it4all-nary-number-input\",[],null,null,null,View_NaryNumberInputComponent_0,RenderType_NaryNumberInputComponent)),directiveDef(23,114688,null,0,nary_number_input_component_NaryNumberInputComponent,[],{naryNumberInput:[0,\"naryNumberInput\"]},null),(_l()(),elementDef(24,0,null,null,0,\"hr\",[],null,null,null,null,null)),(_l()(),elementDef(25,0,null,null,23,\"div\",[[\"class\",\"field\"]],null,null,null,null,null)),(_l()(),elementDef(26,0,null,null,18,\"div\",[[\"class\",\"field has-addons\"]],null,null,null,null,null)),(_l()(),elementDef(27,0,null,null,3,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(28,0,null,null,2,\"div\",[[\"class\",\"button is-static\"]],null,null,null,null,null)),(_l()(),elementDef(29,0,null,null,1,\"label\",[[\"for\",\"solution\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Lösung:\"])),(_l()(),elementDef(31,0,null,null,9,\"div\",[[\"class\",\"control is-expanded\"]],null,null,null,null,null)),(_l()(),elementDef(32,0,null,null,8,\"input\",[[\"autocomplete\",\"false\"],[\"autofocus\",\"\"],[\"class\",\"input\"],[\"id\",\"solution\"],[\"placeholder\",\"Lösung\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"input\"===en&&(ad=!1!==nodeValue(_v,36)._handleInput($event.target.value)&&ad),\"blur\"===en&&(ad=!1!==nodeValue(_v,36).onTouched()&&ad),\"compositionstart\"===en&&(ad=!1!==nodeValue(_v,36)._compositionStart()&&ad),\"compositionend\"===en&&(ad=!1!==nodeValue(_v,36)._compositionEnd($event.target.value)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.solutionString=$event)&&ad),ad}),null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(34,278528,null,0,NgClass,[NgClassImpl],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),pureObjectDef(35,{\"is-success\":0,\"is-danger\":1}),directiveDef(36,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(38,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(40,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(41,0,null,null,3,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(42,0,null,null,2,\"div\",[[\"class\",\"button is-static\"]],null,null,null,null,null)),(_l()(),elementDef(43,0,null,null,1,\"sub\",[],null,null,null,null,null)),(_l()(),textDef(44,null,[\"\",\"\"])),(_l()(),anchorDef(16777216,null,null,1,null,View_NaryAdditionComponent_2)),directiveDef(46,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_NaryAdditionComponent_3)),directiveDef(48,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),elementDef(49,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),elementDef(50,0,null,null,11,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(51,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(52,0,null,null,1,\"button\",[[\"class\",\"button is-link is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.checkSolution()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Lösung testen\"])),(_l()(),elementDef(54,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(55,0,null,null,1,\"button\",[[\"class\",\"button is-primary is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.update()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Nächste Aufgabe\"])),(_l()(),elementDef(57,0,null,null,4,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(58,0,null,null,3,\"button\",[[\"class\",\"button is-dark is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,59).onClick()&&ad),ad}),null,null)),directiveDef(59,16384,null,0,router_RouterLink,[router_Router,router_ActivatedRoute,[8,null],Renderer2,ElementRef],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(60,2),(_l()(),textDef(-1,null,[\"Beenden\"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,13,0,_co.system),_ck(_v,17,0,_co.numberingSystems),_ck(_v,20,0,_co.firstSummandInput),_ck(_v,23,0,_co.secondSummandInput);var currVal_20=_ck(_v,35,0,_co.checked&&_co.correct,_co.checked&&!_co.correct);_ck(_v,34,0,\"input\",currVal_20),_ck(_v,38,0,_co.solutionString),_ck(_v,46,0,_co.checked&&!_co.correct),_ck(_v,48,0,_co.checked&&_co.correct);var currVal_25=_ck(_v,60,0,\"/randomTools\",_co.tool.id);_ck(_v,59,0,currVal_25)}),(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.toolPart.name),_ck(_v,10,0,nodeValue(_v,15).ngClassUntouched,nodeValue(_v,15).ngClassTouched,nodeValue(_v,15).ngClassPristine,nodeValue(_v,15).ngClassDirty,nodeValue(_v,15).ngClassValid,nodeValue(_v,15).ngClassInvalid,nodeValue(_v,15).ngClassPending),_ck(_v,32,0,nodeValue(_v,40).ngClassUntouched,nodeValue(_v,40).ngClassTouched,nodeValue(_v,40).ngClassPristine,nodeValue(_v,40).ngClassDirty,nodeValue(_v,40).ngClassValid,nodeValue(_v,40).ngClassInvalid,nodeValue(_v,40).ngClassPending),_ck(_v,44,0,_co.system.radix)}))}function View_NaryAdditionComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,[[\"document\",\"keypress\"]],(function(_v,en,$event){var ad=!0;return\"document:keypress\"===en&&(ad=!1!==nodeValue(_v,1).handleKeyboardEvent($event)&&ad),ad}),View_NaryAdditionComponent_0,RenderType_NaryAdditionComponent)),directiveDef(1,49152,null,0,nary_addition_component_NaryAdditionComponent,[],null,null)],null,null)}var NaryAdditionComponentNgFactory=createComponentFactory(\"ng-component\",nary_addition_component_NaryAdditionComponent,View_NaryAdditionComponent_Host_0,{},{},[]);class nary_conversion_component_NaryConversionComponent extends NaryHelpers{constructor(){super(),this.tool=NaryTool,this.toolPart=NaryConversionToolPart,this.numberingSystems=NUMBERING_SYSTEMS,this.startSystem=BINARY_SYSTEM,this.targetSystem=HEXADECIMAL_SYSTEM,this.toConvertInput=new NaryNumberInput(this.startSystem,\"toConvert\",\"Startzahl:\",null,0,!0),this.checked=!1,this.correct=!1,this.update()}update(){this.toConvertInput.decimalNumber=randomInt(1,256),this.toConvertInput.numberingSystem=this.startSystem,this.solutionString=\"\",this.checked=!1,this.correct=!1}checkSolution(){this.checked=!0;const solution=parseInt(this.solutionString.trim(),this.targetSystem.radix);this.correct=solution===this.toConvertInput.decimalNumber}handleKeyboardEvent(event){\"Enter\"===event.key&&(this.correct?this.update():this.checkSolution())}}var RenderType_NaryConversionComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_NaryConversionComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,\"option\",[],null,null,null,null,null)),directiveDef(1,147456,null,0,NgSelectOption,[ElementRef,Renderer2,[2,forms_SelectControlValueAccessor]],{ngValue:[0,\"ngValue\"]},null),directiveDef(2,147456,null,0,ɵNgSelectMultipleOption,[ElementRef,Renderer2,[8,null]],{ngValue:[0,\"ngValue\"]},null),(_l()(),textDef(3,null,[\"\",\" - \",\"\"]))],(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit),_ck(_v,2,0,_v.context.$implicit)}),(function(_ck,_v){_ck(_v,3,0,_v.context.$implicit.radix,_v.context.$implicit.name)}))}function View_NaryConversionComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,\"option\",[],null,null,null,null,null)),directiveDef(1,147456,null,0,NgSelectOption,[ElementRef,Renderer2,[2,forms_SelectControlValueAccessor]],{ngValue:[0,\"ngValue\"]},null),directiveDef(2,147456,null,0,ɵNgSelectMultipleOption,[ElementRef,Renderer2,[8,null]],{ngValue:[0,\"ngValue\"]},null),(_l()(),textDef(3,null,[\"\",\" - \",\"\"]))],(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit),_ck(_v,2,0,_v.context.$implicit)}),(function(_ck,_v){_ck(_v,3,0,_v.context.$implicit.radix,_v.context.$implicit.name)}))}function View_NaryConversionComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"div\",[[\"class\",\"help is-danger\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Die Lösung ist nicht korrekt.\"]))],null,null)}function View_NaryConversionComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"div\",[[\"class\",\"help is-success\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Die Lösung ist korrekt.\"]))],null,null)}function View_NaryConversionComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,74,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"h1\",[[\"class\",\"title is-3 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(2,null,[\"\",\"\"])),(_l()(),elementDef(3,0,null,null,71,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,70,\"div\",[[\"class\",\"column is-half-desktop is-offset-one-quarter-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(5,0,null,null,28,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,13,\"div\",[[\"class\",\"column is-half-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,12,\"div\",[[\"class\",\"field\"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,1,\"label\",[[\"class\",\"label has-text-centered\"],[\"for\",\"startSystem\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Startsystem\"])),(_l()(),elementDef(10,0,null,null,9,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(11,0,null,null,8,\"div\",[[\"class\",\"select is-fullwidth\"]],null,null,null,null,null)),(_l()(),elementDef(12,0,null,null,7,\"select\",[[\"id\",\"startSystem\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"change\"],[null,\"blur\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"change\"===en&&(ad=!1!==nodeValue(_v,13).onChange($event.target.value)&&ad),\"blur\"===en&&(ad=!1!==nodeValue(_v,13).onTouched()&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.startSystem=$event)&&ad),\"change\"===en&&(ad=!1!==_co.update()&&ad),ad}),null,null)),directiveDef(13,16384,null,0,forms_SelectControlValueAccessor,[Renderer2,ElementRef],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[forms_SelectControlValueAccessor]),directiveDef(15,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(17,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_NaryConversionComponent_1)),directiveDef(19,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),elementDef(20,0,null,null,13,\"div\",[[\"class\",\"column is-half-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(21,0,null,null,12,\"div\",[[\"class\",\"field\"]],null,null,null,null,null)),(_l()(),elementDef(22,0,null,null,1,\"label\",[[\"class\",\"label has-text-centered\"],[\"for\",\"targetSystem\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Zielsystem\"])),(_l()(),elementDef(24,0,null,null,9,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(25,0,null,null,8,\"div\",[[\"class\",\"select is-fullwidth\"]],null,null,null,null,null)),(_l()(),elementDef(26,0,null,null,7,\"select\",[[\"id\",\"targetSystem\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"change\"],[null,\"blur\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"change\"===en&&(ad=!1!==nodeValue(_v,27).onChange($event.target.value)&&ad),\"blur\"===en&&(ad=!1!==nodeValue(_v,27).onTouched()&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.targetSystem=$event)&&ad),\"change\"===en&&(ad=!1!==_co.update()&&ad),ad}),null,null)),directiveDef(27,16384,null,0,forms_SelectControlValueAccessor,[Renderer2,ElementRef],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[forms_SelectControlValueAccessor]),directiveDef(29,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(31,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_NaryConversionComponent_2)),directiveDef(33,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),elementDef(34,0,null,null,0,\"hr\",[],null,null,null,null,null)),(_l()(),elementDef(35,0,null,null,1,\"it4all-nary-number-input\",[],null,null,null,View_NaryNumberInputComponent_0,RenderType_NaryNumberInputComponent)),directiveDef(36,114688,null,0,nary_number_input_component_NaryNumberInputComponent,[],{naryNumberInput:[0,\"naryNumberInput\"]},null),(_l()(),elementDef(37,0,null,null,0,\"hr\",[],null,null,null,null,null)),(_l()(),elementDef(38,0,null,null,23,\"div\",[[\"class\",\"field\"]],null,null,null,null,null)),(_l()(),elementDef(39,0,null,null,18,\"div\",[[\"class\",\"field has-addons\"]],null,null,null,null,null)),(_l()(),elementDef(40,0,null,null,3,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(41,0,null,null,2,\"div\",[[\"class\",\"button is-static\"]],null,null,null,null,null)),(_l()(),elementDef(42,0,null,null,1,\"label\",[[\"for\",\"solution\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Lösung:\"])),(_l()(),elementDef(44,0,null,null,9,\"div\",[[\"class\",\"control is-expanded\"]],null,null,null,null,null)),(_l()(),elementDef(45,0,null,null,8,\"input\",[[\"autofocus\",\"\"],[\"class\",\"input has-text-right\"],[\"id\",\"solution\"],[\"placeholder\",\"Lösung\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"input\"===en&&(ad=!1!==nodeValue(_v,49)._handleInput($event.target.value)&&ad),\"blur\"===en&&(ad=!1!==nodeValue(_v,49).onTouched()&&ad),\"compositionstart\"===en&&(ad=!1!==nodeValue(_v,49)._compositionStart()&&ad),\"compositionend\"===en&&(ad=!1!==nodeValue(_v,49)._compositionEnd($event.target.value)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.solutionString=$event)&&ad),ad}),null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(47,278528,null,0,NgClass,[NgClassImpl],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),pureObjectDef(48,{\"is-success\":0,\"is-danger\":1}),directiveDef(49,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(51,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(53,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(54,0,null,null,3,\"div\",[[\"class\",\"control\"]],null,null,null,null,null)),(_l()(),elementDef(55,0,null,null,2,\"div\",[[\"class\",\"button is-static\"]],null,null,null,null,null)),(_l()(),elementDef(56,0,null,null,1,\"sub\",[],null,null,null,null,null)),(_l()(),textDef(57,null,[\"\",\"\"])),(_l()(),anchorDef(16777216,null,null,1,null,View_NaryConversionComponent_3)),directiveDef(59,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_NaryConversionComponent_4)),directiveDef(61,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),elementDef(62,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),elementDef(63,0,null,null,11,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(64,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(65,0,null,null,1,\"button\",[[\"class\",\"button is-link is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.checkSolution()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Lösung testen\"])),(_l()(),elementDef(67,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(68,0,null,null,1,\"button\",[[\"class\",\"button is-primary is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.update()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Nächste Aufgabe\"])),(_l()(),elementDef(70,0,null,null,4,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(71,0,null,null,3,\"button\",[[\"class\",\"button is-dark is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,72).onClick()&&ad),ad}),null,null)),directiveDef(72,16384,null,0,router_RouterLink,[router_Router,router_ActivatedRoute,[8,null],Renderer2,ElementRef],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(73,2),(_l()(),textDef(-1,null,[\"Beenden\"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,15,0,_co.startSystem),_ck(_v,19,0,_co.numberingSystems),_ck(_v,29,0,_co.targetSystem),_ck(_v,33,0,_co.numberingSystems),_ck(_v,36,0,_co.toConvertInput);var currVal_28=_ck(_v,48,0,_co.checked&&_co.correct,_co.checked&&!_co.correct);_ck(_v,47,0,\"input has-text-right\",currVal_28),_ck(_v,51,0,_co.solutionString),_ck(_v,59,0,_co.checked&&!_co.correct),_ck(_v,61,0,_co.checked&&_co.correct);var currVal_33=_ck(_v,73,0,\"/randomTools\",_co.tool.id);_ck(_v,72,0,currVal_33)}),(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.toolPart.name),_ck(_v,12,0,nodeValue(_v,17).ngClassUntouched,nodeValue(_v,17).ngClassTouched,nodeValue(_v,17).ngClassPristine,nodeValue(_v,17).ngClassDirty,nodeValue(_v,17).ngClassValid,nodeValue(_v,17).ngClassInvalid,nodeValue(_v,17).ngClassPending),_ck(_v,26,0,nodeValue(_v,31).ngClassUntouched,nodeValue(_v,31).ngClassTouched,nodeValue(_v,31).ngClassPristine,nodeValue(_v,31).ngClassDirty,nodeValue(_v,31).ngClassValid,nodeValue(_v,31).ngClassInvalid,nodeValue(_v,31).ngClassPending),_ck(_v,45,0,nodeValue(_v,53).ngClassUntouched,nodeValue(_v,53).ngClassTouched,nodeValue(_v,53).ngClassPristine,nodeValue(_v,53).ngClassDirty,nodeValue(_v,53).ngClassValid,nodeValue(_v,53).ngClassInvalid,nodeValue(_v,53).ngClassPending),_ck(_v,57,0,_co.targetSystem.radix)}))}function View_NaryConversionComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,[[\"document\",\"keypress\"]],(function(_v,en,$event){var ad=!0;return\"document:keypress\"===en&&(ad=!1!==nodeValue(_v,1).handleKeyboardEvent($event)&&ad),ad}),View_NaryConversionComponent_0,RenderType_NaryConversionComponent)),directiveDef(1,49152,null,0,nary_conversion_component_NaryConversionComponent,[],null,null)],null,null)}var NaryConversionComponentNgFactory=createComponentFactory(\"ng-component\",nary_conversion_component_NaryConversionComponent,View_NaryConversionComponent_Host_0,{},{},[]);class nary_two_conversion_component_NaryTwoConversionComponent extends NaryHelpers{constructor(){super(),this.tool=NaryTool,this.toolPart=NaryTwoConversionToolPart,this.withIntermediateSteps=!0,this.toConvertInput=new NaryNumberInput(DECIMAL_SYSTEM,\"startNumber\",\"Startzahl:\",null,0,!0),this.binaryAbsolute=new NaryNumberInput(BINARY_SYSTEM,\"binaryAbsolute\",\"Binärdarstellung:\",\"Binärdarstellung\")}ngOnInit(){this.update()}update(){this.toConvertInput.decimalNumber=randomInt(0,256),this.binaryAbsolute.decimalNumber=void 0}checkSolution(){}}var RenderType_NaryTwoConversionComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_NaryTwoConversionComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,33,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"h1\",[[\"class\",\"title is-3 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Zweierkomplement\"])),(_l()(),elementDef(3,0,null,null,30,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,29,\"div\",[[\"class\",\"column is-half-desktop is-offset-one-quarter-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(5,0,null,null,9,\"div\",[[\"class\",\"field\"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,8,\"div\",[[\"class\",\"control has-text-centered\"]],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,7,\"label\",[[\"class\",\"checkbox\"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,5,\"input\",[[\"type\",\"checkbox\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"change\"],[null,\"blur\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"change\"===en&&(ad=!1!==nodeValue(_v,9).onChange($event.target.checked)&&ad),\"blur\"===en&&(ad=!1!==nodeValue(_v,9).onTouched()&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.withIntermediateSteps=$event)&&ad),ad}),null,null)),directiveDef(9,16384,null,0,CheckboxControlValueAccessor,[Renderer2,ElementRef],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[CheckboxControlValueAccessor]),directiveDef(11,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(13,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),textDef(-1,null,[\" Mit Zwischenschritten \"])),(_l()(),elementDef(15,0,null,null,0,\"hr\",[],null,null,null,null,null)),(_l()(),elementDef(16,0,null,null,1,\"it4all-nary-number-input\",[],null,null,null,View_NaryNumberInputComponent_0,RenderType_NaryNumberInputComponent)),directiveDef(17,114688,null,0,nary_number_input_component_NaryNumberInputComponent,[],{naryNumberInput:[0,\"naryNumberInput\"]},null),(_l()(),elementDef(18,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,1,\"it4all-nary-number-input\",[],null,null,null,View_NaryNumberInputComponent_0,RenderType_NaryNumberInputComponent)),directiveDef(20,114688,null,0,nary_number_input_component_NaryNumberInputComponent,[],{naryNumberInput:[0,\"naryNumberInput\"]},null),(_l()(),elementDef(21,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),elementDef(22,0,null,null,11,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(23,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(24,0,null,null,1,\"button\",[[\"class\",\"button is-link is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.checkSolution()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Lösung testen\"])),(_l()(),elementDef(26,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(27,0,null,null,1,\"button\",[[\"class\",\"button is-primary is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.update()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Nächste Aufgabe\"])),(_l()(),elementDef(29,0,null,null,4,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(30,0,null,null,3,\"button\",[[\"class\",\"button is-dark is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,31).onClick()&&ad),ad}),null,null)),directiveDef(31,16384,null,0,router_RouterLink,[router_Router,router_ActivatedRoute,[8,null],Renderer2,ElementRef],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(32,2),(_l()(),textDef(-1,null,[\"Beenden\"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,11,0,_co.withIntermediateSteps),_ck(_v,17,0,_co.toConvertInput),_ck(_v,20,0,_co.binaryAbsolute);var currVal_10=_ck(_v,32,0,\"/random-tools\",_co.tool.id);_ck(_v,31,0,currVal_10)}),(function(_ck,_v){_ck(_v,8,0,nodeValue(_v,13).ngClassUntouched,nodeValue(_v,13).ngClassTouched,nodeValue(_v,13).ngClassPristine,nodeValue(_v,13).ngClassDirty,nodeValue(_v,13).ngClassValid,nodeValue(_v,13).ngClassInvalid,nodeValue(_v,13).ngClassPending)}))}function View_NaryTwoConversionComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_NaryTwoConversionComponent_0,RenderType_NaryTwoConversionComponent)),directiveDef(1,114688,null,0,nary_two_conversion_component_NaryTwoConversionComponent,[],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var NaryTwoConversionComponentNgFactory=createComponentFactory(\"ng-component\",nary_two_conversion_component_NaryTwoConversionComponent,View_NaryTwoConversionComponent_Host_0,{},{},[]);class ToolIndexComponent{constructor(route,apiService,router){this.route=route,this.apiService=apiService,this.router=router,this.collections=[],this.toolId=this.route.snapshot.paramMap.get(\"toolId\"),void 0===this.toolId&&this.router.navigate([\"/\"])}ngOnInit(){this.apiService.getCollections(this.toolId).subscribe(collections=>this.collections=collections,error=>console.error(\"X:  \"+error))}}let api_service_ApiService=(()=>{class ApiService{constructor(http){this.http=http,this.baseUrl=\"/api/tools\"}getCollections(toolId){return this.http.get(`${this.baseUrl}/${toolId}/collections`)}getCollection(toolId,collId){return this.http.get(`${this.baseUrl}/${toolId}/collections/${collId}`)}getExercises(toolId,collId){return this.http.get(`${this.baseUrl}/${toolId}/collections/${collId}/exercises`)}getExercise(toolId,collId,exId){return this.http.get(`${this.baseUrl}/${toolId}/collections/${collId}/exercises/${exId}`)}correctSolution(toolId,collId,exId,part,solution){return this.http.put(`${this.baseUrl}/${toolId}/collections/${collId}/exercises/${exId}/${part}`,JSON.stringify(solution),ApiService.putHttpOptions)}}return ApiService.putHttpOptions={headers:new HttpHeaders({\"Content-Type\":\"application/json\"})},ApiService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new ApiService(ɵɵinject(http_HttpClient))},token:ApiService,providedIn:\"root\"}),ApiService})();var RenderType_ToolIndexComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_ToolIndexComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,\"div\",[[\"class\",\"column is-one-third\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,3,\"a\",[[\"class\",\"button is-link is-fullwidth\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,2).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(2,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(3,4),(_l()(),textDef(4,null,[\"\",\"\"]))],(function(_ck,_v){var currVal_2=_ck(_v,3,0,\"/tools\",_v.component.toolId,\"collections\",_v.context.$implicit.id);_ck(_v,2,0,currVal_2)}),(function(_ck,_v){_ck(_v,1,0,nodeValue(_v,2).target,nodeValue(_v,2).href),_ck(_v,4,0,_v.context.$implicit.title)}))}function View_ToolIndexComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,\"div\",[[\"class\",\"columns is-multiline\"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_ToolIndexComponent_2)),directiveDef(2,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){_ck(_v,2,0,_v.component.collections)}),null)}function View_ToolIndexComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"div\",[[\"class\",\"notification is-danger has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\" Es konnten keine Sammlungen gefunden werden! \"]))],null,null)}function View_ToolIndexComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,5,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"h1\",[[\"class\",\"title is-3 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Sammlungen\"])),(_l()(),anchorDef(16777216,null,null,1,null,View_ToolIndexComponent_1)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"],ngIfElse:[1,\"ngIfElse\"]},null),(_l()(),anchorDef(0,[[\"elseBlock\",2]],null,0,null,View_ToolIndexComponent_3))],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,(null==_co.collections?null:_co.collections.length)>0,nodeValue(_v,5))}),null)}function View_ToolIndexComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_ToolIndexComponent_0,RenderType_ToolIndexComponent)),directiveDef(1,114688,null,0,ToolIndexComponent,[router_ActivatedRoute,api_service_ApiService,router_Router],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var ToolIndexComponentNgFactory=createComponentFactory(\"ng-component\",ToolIndexComponent,View_ToolIndexComponent_Host_0,{},{},[]);class collection_index_component_CollectionIndexComponent{constructor(route,apiService){this.route=route,this.apiService=apiService,this.exercises=[];const toolId=this.route.snapshot.paramMap.get(\"toolId\");this.tool=collectionTools.find(t=>t.id===toolId),this.collId=parseInt(route.snapshot.paramMap.get(\"collId\"),10)}ngOnInit(){this.apiService.getCollection(this.tool.id,this.collId).subscribe(collection=>{this.collection=collection,this.updateExercises()})}updateExercises(){this.apiService.getExercises(this.tool.id,this.collection.id).subscribe(exercises=>this.exercises=exercises)}}var RenderType_CollectionIndexComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_CollectionIndexComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,\"a\",[[\"class\",\"button is-link\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,1).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(1,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(2,8),(_l()(),textDef(3,null,[\"\",\"\"]))],(function(_ck,_v){var _co=_v.component,currVal_2=_ck(_v,2,0,\"/tools\",_co.tool.id,\"collections\",_co.collId,\"exercises\",_v.parent.parent.context.$implicit.id,\"parts\",_v.parent.context.$implicit.id);_ck(_v,1,0,currVal_2)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).target,nodeValue(_v,1).href),_ck(_v,3,0,_v.parent.context.$implicit.name)}))}function View_CollectionIndexComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_CollectionIndexComponent_4)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){_ck(_v,2,0,!_v.context.$implicit.disabled)}),null)}function View_CollectionIndexComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,8,\"div\",[[\"class\",\"column is-one-third-desktop is-one-half\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,7,\"div\",[[\"class\",\"card\"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,2,\"div\",[[\"class\",\"card-header\"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,1,\"div\",[[\"class\",\"card-header-title\"]],null,null,null,null,null)),(_l()(),textDef(4,null,[\"\",\". \",\"\"])),(_l()(),elementDef(5,0,null,null,3,\"div\",[[\"class\",\"card-content\"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,2,\"div\",[[\"class\",\"buttons\"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_CollectionIndexComponent_3)),directiveDef(8,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){_ck(_v,8,0,_v.component.tool.parts)}),(function(_ck,_v){_ck(_v,4,0,_v.context.$implicit.id,_v.context.$implicit.title)}))}function View_CollectionIndexComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,5,\"section\",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"h1\",[[\"class\",\"title is-3 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(2,null,['Sammlung \"','\"'])),(_l()(),elementDef(3,0,null,null,2,\"div\",[[\"class\",\"columns is-multiline\"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_CollectionIndexComponent_2)),directiveDef(5,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){_ck(_v,5,0,_v.component.exercises)}),(function(_ck,_v){_ck(_v,2,0,_v.component.collection.title)}))}function View_CollectionIndexComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"div\",[[\"class\",\"notification is-danger\"]],null,null,null,null,null)),(_l()(),textDef(1,null,[\" Sammlung mit der ID \",\" für das Tool \",\" konnte nicht gefunden werden! \"]))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_co.collId,_co.tool.name)}))}function View_CollectionIndexComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_CollectionIndexComponent_1)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"],ngIfElse:[1,\"ngIfElse\"]},null),(_l()(),anchorDef(0,[[\"collectionNotFoundBlock\",2]],null,0,null,View_CollectionIndexComponent_5))],(function(_ck,_v){_ck(_v,2,0,void 0!==_v.component.collection,nodeValue(_v,3))}),null)}function View_CollectionIndexComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_CollectionIndexComponent_0,RenderType_CollectionIndexComponent)),directiveDef(1,114688,null,0,collection_index_component_CollectionIndexComponent,[router_ActivatedRoute,api_service_ApiService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var CollectionIndexComponentNgFactory=createComponentFactory(\"ng-component\",collection_index_component_CollectionIndexComponent,View_CollectionIndexComponent_Host_0,{},{},[]);class TabComponent{constructor(){this.active=!1}}var RenderType_TabComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_TabComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"div\",[],[[8,\"hidden\",0]],null,null,null,null)),ngContentDef(null,0)],null,(function(_ck,_v){_ck(_v,0,0,!_v.component.active)}))}function normalizeLineEndings(str){return str?str.replace(/\\r\\n|\\r/g,\"\\n\"):str}__webpack_require__(\"mrSG\");let ctrl_ngx_codemirror_CodemirrorComponent=class{constructor(_differs,_ngZone){this._differs=_differs,this._ngZone=_ngZone,this.className=\"\",this.name=\"codemirror\",this.autoFocus=!1,this.preserveScrollPosition=!1,this.cursorActivity=new core_EventEmitter,this.focusChange=new core_EventEmitter,this.scroll=new core_EventEmitter,this.value=\"\",this.disabled=!1,this.isFocused=!1,this.onChange=_=>{},this.onTouched=()=>{}}set options(value){this._options=value,!this._differ&&value&&(this._differ=this._differs.find(value).create())}get codeMirrorGlobal(){return this._codeMirror?this._codeMirror:(this._codeMirror=__webpack_require__(\"VrN/\"),this._codeMirror)}ngAfterViewInit(){this.ref&&this._ngZone.runOutsideAngular(()=>{this.codeMirror=this.codeMirrorGlobal.fromTextArea(this.ref.nativeElement,this._options),this.codeMirror.on(\"cursorActivity\",cm=>this._ngZone.run(()=>this.cursorActive(cm))),this.codeMirror.on(\"scroll\",this.scrollChanged.bind(this)),this.codeMirror.on(\"blur\",()=>this._ngZone.run(()=>this.focusChanged(!1))),this.codeMirror.on(\"focus\",()=>this._ngZone.run(()=>this.focusChanged(!0))),this.codeMirror.on(\"change\",(cm,change)=>this._ngZone.run(()=>this.codemirrorValueChanged(cm,change))),this.codeMirror.setValue(this.value)})}ngDoCheck(){if(!this._differ)return;const changes=this._differ.diff(this._options);changes&&(changes.forEachChangedItem(option=>this.setOptionIfChanged(option.key,option.currentValue)),changes.forEachAddedItem(option=>this.setOptionIfChanged(option.key,option.currentValue)),changes.forEachRemovedItem(option=>this.setOptionIfChanged(option.key,option.currentValue)))}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(cm,change){\"setValue\"!==change.origin&&(this.value=cm.getValue(),this.onChange(this.value))}setOptionIfChanged(optionName,newValue){this.codeMirror&&this.codeMirror.setOption(optionName,newValue)}focusChanged(focused){this.onTouched(),this.isFocused=focused,this.focusChange.emit(focused)}scrollChanged(cm){this.scroll.emit(cm.getScrollInfo())}cursorActive(cm){this.cursorActivity.emit(cm)}writeValue(value){if(null==value)return;if(!this.codeMirror)return void(this.value=value);const cur=this.codeMirror.getValue();if(value!==cur&&normalizeLineEndings(cur)!==normalizeLineEndings(value))if(this.value=value,this.preserveScrollPosition){const prevScrollPosition=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(prevScrollPosition.left,prevScrollPosition.top)}else this.codeMirror.setValue(this.value)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled,this.setOptionIfChanged(\"readOnly\",this.disabled)}},CodemirrorModule=class{};var RenderType_CodemirrorComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_CodemirrorComponent_0(_l){return viewDef(2,[queryDef(402653184,1,{ref:0}),(_l()(),elementDef(1,0,[[1,0],[\"ref\",1]],null,1,\"textarea\",[[\"autocomplete\",\"off\"]],[[8,\"name\",0],[8,\"className\",0],[2,\"ngx-codemirror--focused\",null],[8,\"autofocus\",0]],null,null,null,null)),(_l()(),textDef(-1,null,[\"    \"]))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_co.name,inlineInterpolate(1,\"ngx-codemirror \",_co.className,\"\"),_co.isFocused,_co.autoFocus)}))}function getDefaultEditorOptions(mode){return{mode:mode,lineNumbers:!0,theme:\"eclipse\",indentUnit:4,readOnly:!1,extraKeys:{Tab:cm=>cm.execCommand(\"indentMore\"),\"Shift-Tab\":cm=>cm.execCommand(\"indentLess\")}}}class exercise_files_editor_component_ExerciseFilesEditorComponent{constructor(){this.editorOptions=getDefaultEditorOptions(this.mode),this.content=\"\"}ngOnChanges(changes){if(this.exerciseFiles&&this.exerciseFiles.length>0){const editableExerciseFiles=this.exerciseFiles.filter(ef=>ef.editable);this.updateEditor(editableExerciseFiles.length>0?editableExerciseFiles[0]:this.exerciseFiles[0])}}changeFile($event){if($event.target){const fileName=$event.target.textContent;this.exerciseFiles.forEach(ef=>ef.active=!1);const exerciseFile=this.exerciseFiles.find(ef=>ef.name===fileName);exerciseFile&&this.updateEditor(exerciseFile)}}updateEditor(exerciseFile){exerciseFile.active=!0,this.content=exerciseFile.content,this.editorOptions.mode=exerciseFile.fileType,this.editorOptions.readOnly=!exerciseFile.editable}}var RenderType_ExerciseFilesEditorComponent=createRendererType2({encapsulation:2,styles:[[\".CodeMirror{border:1px solid grey;height:700px}\"]],data:{}});function View_ExerciseFilesEditorComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,\"li\",[],[[2,\"is-active\",null]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.changeFile($event)&&ad),ad}),null,null)),(_l()(),elementDef(1,0,null,null,1,\"a\",[],[[2,\"has-text-grey-light\",null],[8,\"title\",0]],null,null,null,null)),(_l()(),textDef(2,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,0,0,_v.context.$implicit.active),_ck(_v,1,0,!_v.context.$implicit.editable,_v.context.$implicit.editable?\"\":\"Nicht editierbar\"),_ck(_v,2,0,_v.context.$implicit.name)}))}function View_ExerciseFilesEditorComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,\"div\",[[\"class\",\"tabs is-centered\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,2,\"ul\",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_ExerciseFilesEditorComponent_1)),directiveDef(3,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),elementDef(4,0,null,null,5,\"ngx-codemirror\",[],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"]],(function(_v,en,$event){var ad=!0;return\"ngModelChange\"===en&&(ad=!1!==(_v.component.content=$event)&&ad),ad}),View_CodemirrorComponent_0,RenderType_CodemirrorComponent)),directiveDef(5,4636672,null,0,ctrl_ngx_codemirror_CodemirrorComponent,[KeyValueDiffers,NgZone],{options:[0,\"options\"]},null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[ctrl_ngx_codemirror_CodemirrorComponent]),directiveDef(7,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(9,16384,null,0,NgControlStatus,[[4,NgControl]],null,null)],(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,_co.exerciseFiles),_ck(_v,5,0,_co.editorOptions),_ck(_v,7,0,_co.content)}),(function(_ck,_v){_ck(_v,4,0,nodeValue(_v,9).ngClassUntouched,nodeValue(_v,9).ngClassTouched,nodeValue(_v,9).ngClassPristine,nodeValue(_v,9).ngClassDirty,nodeValue(_v,9).ngClassValid,nodeValue(_v,9).ngClassInvalid,nodeValue(_v,9).ngClassPending)}))}class TabsComponent{constructor(){}ngAfterContentInit(){const activeTabs=this.tabs.filter(t=>t.active);this.tabs.length>0&&0===activeTabs.length&&this.selectTab(this.tabs.first)}selectTab(tab){this.tabs.toArray().forEach(t=>t.active=!1),tab.active=!0}}var RenderType_TabsComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_TabsComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,\"li\",[],[[2,\"is-active\",null]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.selectTab(_v.context.$implicit)&&ad),ad}),null,null)),(_l()(),elementDef(1,0,null,null,1,\"a\",[],null,null,null,null,null)),(_l()(),textDef(2,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,0,0,_v.context.$implicit.active),_ck(_v,2,0,_v.context.$implicit.title)}))}function View_TabsComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,\"div\",[[\"class\",\"tabs is-centered\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,2,\"ul\",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_TabsComponent_1)),directiveDef(3,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),ngContentDef(null,0)],(function(_ck,_v){_ck(_v,3,0,_v.component.tabs)}),null)}__webpack_require__(\"25Eh\");class programming_exercise_component_ProgrammingExerciseComponent{constructor(route,router,apiService){this.route=route,this.router=router,this.apiService=apiService,this.tool=ProgrammingTool}ngOnInit(){const collId=parseInt(this.route.snapshot.paramMap.get(\"collId\"),10),exId=parseInt(this.route.snapshot.paramMap.get(\"exId\"),10),partStr=this.route.snapshot.paramMap.get(\"partId\"),maybePart=this.tool.parts.find(p=>p.id===partStr);maybePart?this.part=maybePart:this.router.navigate([\"/tools\",this.tool.id,\"collections\",collId]),this.apiService.getCollection(this.tool.id,collId).subscribe(coll=>this.collection=coll),this.apiService.getExercise(this.tool.id,collId,exId).subscribe(ex=>this.exercise=ex)}correct(){console.error(\"TODO: correct!\"),console.info(JSON.stringify(this.exercise,null,2))}showSampleSolution(){console.error(\"TODO: show sample solution...\")}}var RenderType_ProgrammingExerciseComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_ProgrammingExerciseComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"it4all-tab\",[],null,null,null,View_TabComponent_0,RenderType_TabComponent)),directiveDef(1,49152,[[1,4]],0,TabComponent,[],{title:[0,\"title\"]},null)],(function(_ck,_v){_ck(_v,1,0,\"Live-Vorschau\")}),null)}function View_ProgrammingExerciseComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,29,\"div\",[[\"class\",\"container is-fluid\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,28,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,2,\"div\",[[\"class\",\"column is-half-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,1,\"app-exercise-files-editor\",[],null,null,null,View_ExerciseFilesEditorComponent_0,RenderType_ExerciseFilesEditorComponent)),directiveDef(4,573440,null,0,exercise_files_editor_component_ExerciseFilesEditorComponent,[],{exerciseFiles:[0,\"exerciseFiles\"],mode:[1,\"mode\"]},null),(_l()(),elementDef(5,0,null,null,24,\"div\",[[\"class\",\"column is-half-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,23,\"it4all-tabs\",[],null,null,null,View_TabsComponent_0,RenderType_TabsComponent)),directiveDef(7,1097728,null,1,TabsComponent,[],null,null),queryDef(603979776,1,{tabs:1}),(_l()(),elementDef(9,0,null,0,14,\"it4all-tab\",[],null,null,null,View_TabComponent_0,RenderType_TabComponent)),directiveDef(10,49152,[[1,4]],0,TabComponent,[],{title:[0,\"title\"]},null),(_l()(),elementDef(11,0,null,0,0,\"div\",[[\"class\",\"notification\"]],[[8,\"innerHTML\",1]],null,null,null,null)),(_l()(),elementDef(12,0,null,0,11,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(13,0,null,null,2,\"div\",[[\"class\",\"column\"]],null,null,null,null,null)),(_l()(),elementDef(14,0,null,null,1,\"button\",[[\"class\",\"button is-link is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.correct()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Korrektur\"])),(_l()(),elementDef(16,0,null,null,2,\"div\",[[\"class\",\"column\"]],null,null,null,null,null)),(_l()(),elementDef(17,0,null,null,1,\"button\",[[\"class\",\"button is-primary is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.showSampleSolution()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Musterlösung anzeigen \"])),(_l()(),elementDef(19,0,null,null,4,\"div\",[[\"class\",\"column\"]],null,null,null,null,null)),(_l()(),elementDef(20,0,null,null,3,\"a\",[[\"class\",\"button is-dark is-fullwidth\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,21).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(21,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(22,4),(_l()(),textDef(-1,null,[\"Bearbeiten beenden\"])),(_l()(),elementDef(24,0,null,0,1,\"it4all-tab\",[],null,null,null,View_TabComponent_0,RenderType_TabComponent)),directiveDef(25,49152,[[1,4]],0,TabComponent,[],{title:[0,\"title\"]},null),(_l()(),anchorDef(16777216,null,0,1,null,View_ProgrammingExerciseComponent_1)),directiveDef(27,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),elementDef(28,0,null,0,1,\"it4all-tab\",[],null,null,null,View_TabComponent_0,RenderType_TabComponent)),directiveDef(29,49152,[[1,4]],0,TabComponent,[],{title:[0,\"title\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,null==_co.exercise?null:_co.exercise.unitTestPart.unitTestFiles,\"python\"),_ck(_v,10,0,\"Aufgabenstellung\");var currVal_6=_ck(_v,22,0,\"/tools\",\"programming\",\"collections\",_co.collection.id);_ck(_v,21,0,currVal_6),_ck(_v,25,0,\"Korrektur\"),_ck(_v,27,0,_co.tool.hasLivePreview),_ck(_v,29,0,\"Musterlösung(en)\")}),(function(_ck,_v){var _co=_v.component;_ck(_v,11,0,null==_co.exercise?null:_co.exercise.text),_ck(_v,20,0,nodeValue(_v,21).target,nodeValue(_v,21).href)}))}function View_ProgrammingExerciseComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_ProgrammingExerciseComponent_0,RenderType_ProgrammingExerciseComponent)),directiveDef(1,114688,null,0,programming_exercise_component_ProgrammingExerciseComponent,[router_ActivatedRoute,router_Router,api_service_ApiService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var ProgrammingExerciseComponentNgFactory=createComponentFactory(\"ng-component\",programming_exercise_component_ProgrammingExerciseComponent,View_ProgrammingExerciseComponent_Host_0,{},{},[]);class RegexMatchingResultComponent{constructor(){}ngOnInit(){}ngOnChanges(changes){}}var RenderType_RegexMatchingResultComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_RegexMatchingResultComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"span\",[[\"class\",\"has-text-success\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"korrekt\"]))],null,null)}function View_RegexMatchingResultComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"span\",[[\"class\",\"has-text-danger\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"fälschlicherweise\"]))],null,null)}function View_RegexMatchingResultComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"span\",[[\"class\",\"has-text-danger\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"fälschlicherweise nicht\"]))],null,null)}function View_RegexMatchingResultComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"span\",[[\"class\",\"has-text-success\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"korrekt nicht\"]))],null,null)}function View_RegexMatchingResultComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,14,\"div\",[[\"class\",\"notification\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(2,null,[\"\",\"\"])),(_l()(),textDef(-1,null,[\" wurde \"])),(_l()(),elementDef(4,0,null,null,9,null,null,null,null,null,null,null)),directiveDef(5,16384,null,0,NgSwitch,[],{ngSwitch:[0,\"ngSwitch\"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexMatchingResultComponent_1)),directiveDef(7,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,\"ngSwitchCase\"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexMatchingResultComponent_2)),directiveDef(9,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,\"ngSwitchCase\"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexMatchingResultComponent_3)),directiveDef(11,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,\"ngSwitchCase\"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexMatchingResultComponent_4)),directiveDef(13,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,\"ngSwitchCase\"]},null),(_l()(),textDef(-1,null,[\" erkannt. \"]))],(function(_ck,_v){_ck(_v,5,0,_v.component.matchingResult.resultType),_ck(_v,7,0,\"TruePositive\"),_ck(_v,9,0,\"FalsePositive\"),_ck(_v,11,0,\"FalseNegative\"),_ck(_v,13,0,\"TrueNegative\")}),(function(_ck,_v){_ck(_v,2,0,_v.component.matchingResult.matchData)}))}class RegexExtractionResultComponent{constructor(){}ngOnInit(){}}var RenderType_RegexExtractionResultComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_RegexExtractionResultComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,6,\"li\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\" Erwartet: \"])),(_l()(),elementDef(2,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(3,null,[\"\",\"\"])),(_l()(),textDef(-1,null,[\", Bekommen: \"])),(_l()(),elementDef(5,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(6,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,3,0,null==_v.context.$implicit.sampleArg?null:_v.context.$implicit.sampleArg.content),_ck(_v,6,0,null==_v.context.$implicit.userArg?null:_v.context.$implicit.userArg.content)}))}function View_RegexExtractionResultComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,7,\"div\",[[\"class\",\"notification\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,3,\"p\",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Basis: \"])),(_l()(),elementDef(3,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(4,null,[\"\",\"\"])),(_l()(),elementDef(5,0,null,null,2,\"ul\",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexExtractionResultComponent_1)),directiveDef(7,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){_ck(_v,7,0,_v.component.extractionResult.extractionMatchingResult.allMatches)}),(function(_ck,_v){_ck(_v,4,0,_v.component.extractionResult.base)}))}class SolutionSavedComponent{constructor(){}ngOnInit(){}}var RenderType_SolutionSavedComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_SolutionSavedComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"div\",[[\"class\",\"notification has-text-success\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Ihre Lösung wurde gespeichert. \"]))],null,null)}function View_SolutionSavedComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"div\",[[\"class\",\"notification has-text-danger\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Ihre Lösung konnte nicht gespeichert werden!\"]))],null,null)}function View_SolutionSavedComponent_0(_l){return viewDef(0,[(_l()(),anchorDef(16777216,null,null,1,null,View_SolutionSavedComponent_1)),directiveDef(1,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"],ngIfElse:[1,\"ngIfElse\"]},null),(_l()(),anchorDef(0,[[\"notSavedBlock\",2]],null,0,null,View_SolutionSavedComponent_2))],(function(_ck,_v){_ck(_v,1,0,_v.component.saved,nodeValue(_v,2))}),null)}class PointsNotificationComponent{constructor(){this.textColor=\"danger\"}ngOnInit(){this.updatePercentage()}ngOnChanges(changes){this.updatePercentage()}updatePercentage(){this.percentage=this.points/this.maxPoints*100,this.percentage>=90?this.textColor=\"success\":this.percentage>=75&&(this.textColor=\"warning\")}}var RenderType_PointsNotificationComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_PointsNotificationComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,5,\"div\",[],[[8,\"className\",0]],null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"p\",[[\"class\",\"has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(2,null,[\"Sie haben \",\" von maximal \",\" Punkten erreicht.\"])),(_l()(),elementDef(3,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,1,\"progress\",[[\"max\",\"100\"]],[[8,\"className\",0],[8,\"value\",0]],null,null,null,null)),(_l()(),textDef(5,null,[\"\",\"%\"]))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,inlineInterpolate(1,\"notification has-text-\",_co.textColor,\"\")),_ck(_v,2,0,_co.points,_co.maxPoints),_ck(_v,4,0,inlineInterpolate(1,\"progress is-\",_co.textColor,\"\"),inlineInterpolate(1,\"\",_co.percentage,\"\")),_ck(_v,5,0,_co.percentage)}))}class regex_exercise_component_RegexExerciseComponent{constructor(route,apiService){this.route=route,this.apiService=apiService,this.tool=RegexTool,this.solution=\"\",this.corrected=!1,this.displaySampleSolutions=!1,this.collId=parseInt(route.snapshot.paramMap.get(\"collId\"),10),this.exId=parseInt(route.snapshot.paramMap.get(\"exId\"),10)}ngOnInit(){this.apiService.getExercise(this.tool.id,this.collId,this.exId).subscribe(exercise=>this.exercise=exercise)}correct(){void 0!==this.solution&&0!==this.solution.length?this.apiService.correctSolution(this.tool.id,this.collId,this.exId,\"regex\",this.solution).subscribe(result=>{this.corrected=!0,this.result=result}):alert(\"Sie können keine leere Lösung abgeben!\")}showSampleSolutions(){this.displaySampleSolutions=!0}}var RenderType_RegexExerciseComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_RegexExerciseComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,\"div\",[[\"class\",\"notification\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"code\",[],null,null,null,null,null)),(_l()(),textDef(2,null,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,2,0,_v.context.$implicit.sample)}))}function View_RegexExerciseComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,5,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,1,\"h2\",[[\"class\",\"subtitle is-4 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Musterlösungen\"])),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexExerciseComponent_3)),directiveDef(5,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){_ck(_v,5,0,_v.component.exercise.sampleSolutions)}),null)}function View_RegexExerciseComponent_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"it4all-regex-matching-result\",[],null,null,null,View_RegexMatchingResultComponent_0,RenderType_RegexMatchingResultComponent)),directiveDef(2,638976,null,0,RegexMatchingResultComponent,[],{matchingResult:[0,\"matchingResult\"]},null),(_l()(),elementDef(3,0,null,null,0,\"br\",[],null,null,null,null,null))],(function(_ck,_v){_ck(_v,2,0,_v.context.$implicit)}),null)}function View_RegexExerciseComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexExerciseComponent_6)),directiveDef(2,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){_ck(_v,2,0,_v.component.result.matchingResults)}),null)}function View_RegexExerciseComponent_8(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"it4all-regex-extraction-result\",[],null,null,null,View_RegexExtractionResultComponent_0,RenderType_RegexExtractionResultComponent)),directiveDef(2,114688,null,0,RegexExtractionResultComponent,[],{extractionResult:[0,\"extractionResult\"]},null),(_l()(),elementDef(3,0,null,null,0,\"br\",[],null,null,null,null,null))],(function(_ck,_v){_ck(_v,2,0,_v.context.$implicit)}),null)}function View_RegexExerciseComponent_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexExerciseComponent_8)),directiveDef(2,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){_ck(_v,2,0,_v.component.result.extractionResults)}),null)}function View_RegexExerciseComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,12,\"div\",[[\"class\",\"column is-two-thirds\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,\"app-solution-saved\",[],null,null,null,View_SolutionSavedComponent_0,RenderType_SolutionSavedComponent)),directiveDef(2,114688,null,0,SolutionSavedComponent,[],{saved:[0,\"saved\"]},null),(_l()(),elementDef(3,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,1,\"app-points-notification\",[],null,null,null,View_PointsNotificationComponent_0,RenderType_PointsNotificationComponent)),directiveDef(5,638976,null,0,PointsNotificationComponent,[],{points:[0,\"points\"],maxPoints:[1,\"maxPoints\"]},null),(_l()(),elementDef(6,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,5,null,null,null,null,null,null,null)),directiveDef(8,16384,null,0,NgSwitch,[],{ngSwitch:[0,\"ngSwitch\"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexExerciseComponent_5)),directiveDef(10,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,\"ngSwitchCase\"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexExerciseComponent_7)),directiveDef(12,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,\"ngSwitchCase\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.result.solutionSaved),_ck(_v,5,0,_co.result.points,_co.result.maxPoints),_ck(_v,8,0,_co.result.correctionType),_ck(_v,10,0,\"MATCHING\"),_ck(_v,12,0,\"EXTRACTION\")}),null)}function View_RegexExerciseComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,31,\"div\",[[\"class\",\"container is-fluid\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,30,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,27,\"div\",[[\"class\",\"column is-one-third\"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,1,\"h1\",[[\"class\",\"title is-3 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Aufgabenstellung\"])),(_l()(),elementDef(5,0,null,null,1,\"div\",[[\"class\",\"notification\"]],null,null,null,null,null)),(_l()(),textDef(6,null,[\"\",\"\"])),(_l()(),elementDef(7,0,null,null,8,\"div\",[[\"class\",\"field\"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,1,\"label\",[[\"class\",\"label has-text-centered\"],[\"for\",\"solution\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Ihre Lösung\"])),(_l()(),elementDef(10,0,null,null,5,\"input\",[[\"class\",\"input\"],[\"id\",\"solution\"],[\"placeholder\",\"Ihre Lösung\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"input\"===en&&(ad=!1!==nodeValue(_v,11)._handleInput($event.target.value)&&ad),\"blur\"===en&&(ad=!1!==nodeValue(_v,11).onTouched()&&ad),\"compositionstart\"===en&&(ad=!1!==nodeValue(_v,11)._compositionStart()&&ad),\"compositionend\"===en&&(ad=!1!==nodeValue(_v,11)._compositionEnd($event.target.value)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.solution=$event)&&ad),ad}),null,null)),directiveDef(11,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(13,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(15,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(16,0,null,null,11,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(17,0,null,null,2,\"div\",[[\"class\",\"column\"]],null,null,null,null,null)),(_l()(),elementDef(18,0,null,null,1,\"button\",[[\"class\",\"button is-link is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.correct()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Lösung testen\"])),(_l()(),elementDef(20,0,null,null,2,\"div\",[[\"class\",\"column\"]],null,null,null,null,null)),(_l()(),elementDef(21,0,null,null,1,\"button\",[[\"class\",\"button is-primary is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.showSampleSolutions()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Musterlösung anzeigen\"])),(_l()(),elementDef(23,0,null,null,4,\"div\",[[\"class\",\"column\"]],null,null,null,null,null)),(_l()(),elementDef(24,0,null,null,3,\"a\",[[\"class\",\"button is-dark is-fullwidth\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,25).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(25,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(26,4),(_l()(),textDef(-1,null,[\" Bearbeiten beenden \"])),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexExerciseComponent_2)),directiveDef(29,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_RegexExerciseComponent_4)),directiveDef(31,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,13,0,_co.solution);var currVal_11=_ck(_v,26,0,\"/tools\",_co.tool.id,\"collections\",_co.collId);_ck(_v,25,0,currVal_11),_ck(_v,29,0,_co.displaySampleSolutions),_ck(_v,31,0,_co.corrected&&_co.result)}),(function(_ck,_v){_ck(_v,6,0,_v.component.exercise.text),_ck(_v,10,0,nodeValue(_v,15).ngClassUntouched,nodeValue(_v,15).ngClassTouched,nodeValue(_v,15).ngClassPristine,nodeValue(_v,15).ngClassDirty,nodeValue(_v,15).ngClassValid,nodeValue(_v,15).ngClassInvalid,nodeValue(_v,15).ngClassPending),_ck(_v,24,0,nodeValue(_v,25).target,nodeValue(_v,25).href)}))}function View_RegexExerciseComponent_0(_l){return viewDef(0,[(_l()(),anchorDef(16777216,null,null,1,null,View_RegexExerciseComponent_1)),directiveDef(1,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){_ck(_v,1,0,null!=_v.component.exercise)}),null)}function View_RegexExerciseComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_RegexExerciseComponent_0,RenderType_RegexExerciseComponent)),directiveDef(1,114688,null,0,regex_exercise_component_RegexExerciseComponent,[router_ActivatedRoute,api_service_ApiService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var RegexExerciseComponentNgFactory=createComponentFactory(\"ng-component\",regex_exercise_component_RegexExerciseComponent,View_RegexExerciseComponent_Host_0,{},{},[]);__webpack_require__(\"/9rB\");class sql_exercise_component_SqlExerciseComponent{constructor(route,apiService,dexieService,router){this.route=route,this.apiService=apiService,this.dexieService=dexieService,this.router=router,this.tool=SqlTool,this.part=SqlCreateQueryPart,this.solution=\"\",this.editorOptions=getDefaultEditorOptions(\"sql\")}ngOnInit(){const collId=parseInt(this.route.snapshot.paramMap.get(\"collId\"),10),exId=parseInt(this.route.snapshot.paramMap.get(\"exId\"),10);this.apiService.getCollection(this.tool.id,collId).subscribe(coll=>this.collection=coll),this.apiService.getExercise(this.tool.id,collId,exId).subscribe(ex=>this.exercise=ex),this.dexieService.sqlSolutions.get([collId,exId]).then(solution=>this.solution=solution?solution.solution:\"\")}correct(){this.dexieService.sqlSolutions.put({collId:this.collection.id,exId:this.exercise.id,solution:this.solution}),this.apiService.correctSolution(this.tool.id,this.collection.id,this.exercise.id,\"solve\",this.solution).subscribe(result=>{this.result=result,console.warn(JSON.stringify(this.result,null,2))})}showSampleSolutions(){}}var dexie_es_keys=Object.keys,dexie_es_isArray=Array.isArray,dexie_es_global=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:global;function extend(obj,extension){return\"object\"!=typeof extension?obj:(dexie_es_keys(extension).forEach((function(key){obj[key]=extension[key]})),obj)}var getProto=Object.getPrototypeOf,_hasOwn={}.hasOwnProperty;function hasOwn(obj,prop){return _hasOwn.call(obj,prop)}function props(proto,extension){\"function\"==typeof extension&&(extension=extension(getProto(proto))),dexie_es_keys(extension).forEach((function(key){setProp(proto,key,extension[key])}))}var defineProperty=Object.defineProperty;function setProp(obj,prop,functionOrGetSet,options){defineProperty(obj,prop,extend(functionOrGetSet&&hasOwn(functionOrGetSet,\"get\")&&\"function\"==typeof functionOrGetSet.get?{get:functionOrGetSet.get,set:functionOrGetSet.set,configurable:!0}:{value:functionOrGetSet,configurable:!0,writable:!0},options))}function derive(Child){return{from:function(Parent){return Child.prototype=Object.create(Parent.prototype),setProp(Child.prototype,\"constructor\",Child),{extend:props.bind(null,Child.prototype)}}}}var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,_slice=[].slice;function slice(args,start,end){return _slice.call(args,start,end)}function override(origFunc,overridedFactory){return overridedFactory(origFunc)}function assert(b){if(!b)throw new Error(\"Assertion Failed\")}function asap(fn){dexie_es_global.setImmediate?setImmediate(fn):setTimeout(fn,0)}function arrayToObject(array,extractor){return array.reduce((function(result,item,i){var nameAndValue=extractor(item,i);return nameAndValue&&(result[nameAndValue[0]]=nameAndValue[1]),result}),{})}function tryCatch(fn,onerror,args){try{fn.apply(null,args)}catch(ex){onerror&&onerror(ex)}}function getByKeyPath(obj,keyPath){if(hasOwn(obj,keyPath))return obj[keyPath];if(!keyPath)return obj;if(\"string\"!=typeof keyPath){for(var rv=[],i=0,l=keyPath.length;i<l;++i){var val=getByKeyPath(obj,keyPath[i]);rv.push(val)}return rv}var period=keyPath.indexOf(\".\");if(-1!==period){var innerObj=obj[keyPath.substr(0,period)];return void 0===innerObj?void 0:getByKeyPath(innerObj,keyPath.substr(period+1))}}function setByKeyPath(obj,keyPath,value){if(obj&&void 0!==keyPath&&!(\"isFrozen\"in Object&&Object.isFrozen(obj)))if(\"string\"!=typeof keyPath&&\"length\"in keyPath){assert(\"string\"!=typeof value&&\"length\"in value);for(var i=0,l=keyPath.length;i<l;++i)setByKeyPath(obj,keyPath[i],value[i])}else{var period=keyPath.indexOf(\".\");if(-1!==period){var currentKeyPath=keyPath.substr(0,period),remainingKeyPath=keyPath.substr(period+1);if(\"\"===remainingKeyPath)void 0===value?delete obj[currentKeyPath]:obj[currentKeyPath]=value;else{var innerObj=obj[currentKeyPath];innerObj||(innerObj=obj[currentKeyPath]={}),setByKeyPath(innerObj,remainingKeyPath,value)}}else void 0===value?delete obj[keyPath]:obj[keyPath]=value}}function shallowClone(obj){var rv={};for(var m in obj)hasOwn(obj,m)&&(rv[m]=obj[m]);return rv}var dexie_es_concat=[].concat;function dexie_es_flatten(a){return dexie_es_concat.apply([],a)}var intrinsicTypes=\"Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set\".split(\",\").concat(dexie_es_flatten([8,16,32,64].map((function(num){return[\"Int\",\"Uint\",\"Float\"].map((function(t){return t+num+\"Array\"}))})))).filter((function(t){return dexie_es_global[t]})).map((function(t){return dexie_es_global[t]}));function deepClone(any){if(!any||\"object\"!=typeof any)return any;var rv;if(dexie_es_isArray(any)){rv=[];for(var i=0,l=any.length;i<l;++i)rv.push(deepClone(any[i]))}else if(intrinsicTypes.indexOf(any.constructor)>=0)rv=any;else for(var prop in rv=any.constructor?Object.create(any.constructor.prototype):{},any)hasOwn(any,prop)&&(rv[prop]=deepClone(any[prop]));return rv}function getObjectDiff(a,b,rv,prfx){return rv=rv||{},prfx=prfx||\"\",dexie_es_keys(a).forEach((function(prop){if(hasOwn(b,prop)){var ap=a[prop],bp=b[prop];\"object\"==typeof ap&&\"object\"==typeof bp&&ap&&bp&&\"\"+ap.constructor==\"\"+bp.constructor?getObjectDiff(ap,bp,rv,prfx+prop+\".\"):ap!==bp&&(rv[prfx+prop]=b[prop])}else rv[prfx+prop]=void 0})),dexie_es_keys(b).forEach((function(prop){hasOwn(a,prop)||(rv[prfx+prop]=b[prop])})),rv}var iteratorSymbol=\"undefined\"!=typeof Symbol&&Symbol.iterator,getIteratorOf=iteratorSymbol?function(x){var i;return null!=x&&(i=x[iteratorSymbol])&&i.apply(x)}:function(){return null},NO_CHAR_ARRAY={};function getArrayOf(arrayLike){var i,a,x,it;if(1===arguments.length){if(dexie_es_isArray(arrayLike))return arrayLike.slice();if(this===NO_CHAR_ARRAY&&\"string\"==typeof arrayLike)return[arrayLike];if(it=getIteratorOf(arrayLike)){for(a=[];!(x=it.next()).done;)a.push(x.value);return a}if(null==arrayLike)return[arrayLike];if(\"number\"==typeof(i=arrayLike.length)){for(a=new Array(i);i--;)a[i]=arrayLike[i];return a}return[arrayLike]}for(i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return a}var debug=\"undefined\"!=typeof location&&/^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);function setDebug(value,filter){debug=value,libraryFilter=filter}var libraryFilter=function(){return!0},NEEDS_THROW_FOR_STACK=!new Error(\"\").stack;function getErrorWithStack(){if(NEEDS_THROW_FOR_STACK)try{throw new Error}catch(e){return e}return new Error}function prettyStack(exception,numIgnoredFrames){var stack=exception.stack;return stack?(numIgnoredFrames=numIgnoredFrames||0,0===stack.indexOf(exception.name)&&(numIgnoredFrames+=(exception.name+exception.message).split(\"\\n\").length),stack.split(\"\\n\").slice(numIgnoredFrames).filter(libraryFilter).map((function(frame){return\"\\n\"+frame})).join(\"\")):\"\"}var idbDomErrorNames=[\"Unknown\",\"Constraint\",\"Data\",\"TransactionInactive\",\"ReadOnly\",\"Version\",\"NotFound\",\"InvalidState\",\"InvalidAccess\",\"Abort\",\"Timeout\",\"QuotaExceeded\",\"Syntax\",\"DataClone\"],errorList=[\"Modify\",\"Bulk\",\"OpenFailed\",\"VersionChange\",\"Schema\",\"Upgrade\",\"InvalidTable\",\"MissingAPI\",\"NoSuchDatabase\",\"InvalidArgument\",\"SubTransaction\",\"Unsupported\",\"Internal\",\"DatabaseClosed\",\"PrematureCommit\",\"ForeignAwait\"].concat(idbDomErrorNames),defaultTexts={VersionChanged:\"Database version changed by other database connection\",DatabaseClosed:\"Database has been closed\",Abort:\"Transaction aborted\",TransactionInactive:\"Transaction has already completed or failed\"};function DexieError(name,msg){this._e=getErrorWithStack(),this.name=name,this.message=msg}function ModifyError(msg,failures,successCount,failedKeys){this._e=getErrorWithStack(),this.failures=failures,this.failedKeys=failedKeys,this.successCount=successCount}function BulkError(msg,failures){this._e=getErrorWithStack(),this.name=\"BulkError\",this.failures=failures,this.message=function(msg,failures){return msg+\". Errors: \"+failures.map((function(f){return f.toString()})).filter((function(v,i,s){return s.indexOf(v)===i})).join(\"\\n\")}(msg,failures)}derive(DexieError).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+\": \"+this.message+prettyStack(this._e,2))}},toString:function(){return this.name+\": \"+this.message}}),derive(ModifyError).from(DexieError),derive(BulkError).from(DexieError);var errnames=errorList.reduce((function(obj,name){return obj[name]=name+\"Error\",obj}),{}),BaseException=DexieError,exceptions=errorList.reduce((function(obj,name){var fullName=name+\"Error\";function DexieError(msgOrInner,inner){this._e=getErrorWithStack(),this.name=fullName,msgOrInner?\"string\"==typeof msgOrInner?(this.message=msgOrInner,this.inner=inner||null):\"object\"==typeof msgOrInner&&(this.message=msgOrInner.name+\" \"+msgOrInner.message,this.inner=msgOrInner):(this.message=defaultTexts[name]||fullName,this.inner=null)}return derive(DexieError).from(BaseException),obj[name]=DexieError,obj}),{});exceptions.Syntax=SyntaxError,exceptions.Type=TypeError,exceptions.Range=RangeError;var exceptionMap=idbDomErrorNames.reduce((function(obj,name){return obj[name+\"Error\"]=exceptions[name],obj}),{}),fullNameExceptions=errorList.reduce((function(obj,name){return-1===[\"Syntax\",\"Type\",\"Range\"].indexOf(name)&&(obj[name+\"Error\"]=exceptions[name]),obj}),{});function nop(){}function mirror(val){return val}function pureFunctionChain(f1,f2){return null==f1||f1===mirror?f2:function(val){return f2(f1(val))}}function callBoth(on1,on2){return function(){on1.apply(this,arguments),on2.apply(this,arguments)}}function hookCreatingChain(f1,f2){return f1===nop?f2:function(){var res=f1.apply(this,arguments);void 0!==res&&(arguments[0]=res);var onsuccess=this.onsuccess,onerror=this.onerror;this.onsuccess=null,this.onerror=null;var res2=f2.apply(this,arguments);return onsuccess&&(this.onsuccess=this.onsuccess?callBoth(onsuccess,this.onsuccess):onsuccess),onerror&&(this.onerror=this.onerror?callBoth(onerror,this.onerror):onerror),void 0!==res2?res2:res}}function hookDeletingChain(f1,f2){return f1===nop?f2:function(){f1.apply(this,arguments);var onsuccess=this.onsuccess,onerror=this.onerror;this.onsuccess=this.onerror=null,f2.apply(this,arguments),onsuccess&&(this.onsuccess=this.onsuccess?callBoth(onsuccess,this.onsuccess):onsuccess),onerror&&(this.onerror=this.onerror?callBoth(onerror,this.onerror):onerror)}}function hookUpdatingChain(f1,f2){return f1===nop?f2:function(modifications){var res=f1.apply(this,arguments);extend(modifications,res);var onsuccess=this.onsuccess,onerror=this.onerror;this.onsuccess=null,this.onerror=null;var res2=f2.apply(this,arguments);return onsuccess&&(this.onsuccess=this.onsuccess?callBoth(onsuccess,this.onsuccess):onsuccess),onerror&&(this.onerror=this.onerror?callBoth(onerror,this.onerror):onerror),void 0===res?void 0===res2?void 0:res2:extend(res,res2)}}function reverseStoppableEventChain(f1,f2){return f1===nop?f2:function(){return!1!==f2.apply(this,arguments)&&f1.apply(this,arguments)}}function promisableChain(f1,f2){return f1===nop?f2:function(){var res=f1.apply(this,arguments);if(res&&\"function\"==typeof res.then){for(var thiz=this,i=arguments.length,args=new Array(i);i--;)args[i]=arguments[i];return res.then((function(){return f2.apply(thiz,args)}))}return f2.apply(this,arguments)}}fullNameExceptions.ModifyError=ModifyError,fullNameExceptions.DexieError=DexieError,fullNameExceptions.BulkError=BulkError;var INTERNAL={},LONG_STACKS_CLIP_LIMIT=100,ZONE_ECHO_LIMIT=7,nativePromiseInstanceAndProto=function(){try{return new Function(\"let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];\")()}catch(e){var P=dexie_es_global.Promise;return P?[P.resolve(),P.prototype,P.resolve()]:[]}}(),resolvedNativePromise=nativePromiseInstanceAndProto[0],nativePromiseProto=nativePromiseInstanceAndProto[1],resolvedGlobalPromise=nativePromiseInstanceAndProto[2],nativePromiseThen=nativePromiseProto&&nativePromiseProto.then,NativePromise=resolvedNativePromise&&resolvedNativePromise.constructor,AsyncFunction=nativePromiseInstanceAndProto[3],patchGlobalPromise=!!resolvedGlobalPromise,stack_being_generated=!1,schedulePhysicalTick=resolvedGlobalPromise?function(){resolvedGlobalPromise.then(physicalTick)}:dexie_es_global.setImmediate?setImmediate.bind(null,physicalTick):dexie_es_global.MutationObserver?function(){var hiddenDiv=document.createElement(\"div\");new MutationObserver((function(){physicalTick(),hiddenDiv=null})).observe(hiddenDiv,{attributes:!0}),hiddenDiv.setAttribute(\"i\",\"1\")}:function(){setTimeout(physicalTick,0)},asap$1=function(callback,args){microtickQueue.push([callback,args]),needsNewPhysicalTick&&(schedulePhysicalTick(),needsNewPhysicalTick=!1)},isOutsideMicroTick=!0,needsNewPhysicalTick=!0,unhandledErrors=[],rejectingErrors=[],currentFulfiller=null,rejectionMapper=mirror,globalPSD={id:\"global\",global:!0,ref:0,unhandleds:[],onunhandled:globalError,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(uh){try{globalError(uh[0],uh[1])}catch(e){}}))}},PSD=globalPSD,microtickQueue=[],numScheduledCalls=0,tickFinalizers=[];function dexie_es_Promise(fn){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");this._listeners=[],this.onuncatched=nop,this._lib=!1;var psd=this._PSD=PSD;if(debug&&(this._stackHolder=getErrorWithStack(),this._prev=null,this._numPrev=0),\"function\"!=typeof fn){if(fn!==INTERNAL)throw new TypeError(\"Not a function\");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&handleRejection(this,this._value))}this._state=null,this._value=null,++psd.ref,function executePromiseTask(promise,fn){try{fn((function(value){if(null===promise._state){if(value===promise)throw new TypeError(\"A promise cannot be resolved with itself.\");var shouldExecuteTick=promise._lib&&beginMicroTickScope();value&&\"function\"==typeof value.then?executePromiseTask(promise,(function(resolve,reject){value instanceof dexie_es_Promise?value._then(resolve,reject):value.then(resolve,reject)})):(promise._state=!0,promise._value=value,propagateAllListeners(promise)),shouldExecuteTick&&endMicroTickScope()}}),handleRejection.bind(null,promise))}catch(ex){handleRejection(promise,ex)}}(this,fn)}var thenProp={get:function(){var psd=PSD,microTaskId=totalEchoes;function then(onFulfilled,onRejected){var _this=this,possibleAwait=!psd.global&&(psd!==PSD||microTaskId!==totalEchoes);possibleAwait&&decrementExpectedAwaits();var rv=new dexie_es_Promise((function(resolve,reject){propagateToListener(_this,new dexie_es_Listener(nativeAwaitCompatibleWrap(onFulfilled,psd,possibleAwait),nativeAwaitCompatibleWrap(onRejected,psd,possibleAwait),resolve,reject,psd))}));return debug&&linkToPreviousPromise(rv,this),rv}return then.prototype=INTERNAL,then},set:function(value){setProp(this,\"then\",value&&value.prototype===INTERNAL?thenProp:{get:function(){return value},set:thenProp.set})}};function dexie_es_Listener(onFulfilled,onRejected,resolve,reject,zone){this.onFulfilled=\"function\"==typeof onFulfilled?onFulfilled:null,this.onRejected=\"function\"==typeof onRejected?onRejected:null,this.resolve=resolve,this.reject=reject,this.psd=zone}function handleRejection(promise,reason){if(rejectingErrors.push(reason),null===promise._state){var shouldExecuteTick=promise._lib&&beginMicroTickScope();reason=rejectionMapper(reason),promise._state=!1,promise._value=reason,debug&&null!==reason&&\"object\"==typeof reason&&!reason._promise&&tryCatch((function(){var origProp=function getPropertyDescriptor(obj,prop){var proto;return getOwnPropertyDescriptor(obj,prop)||(proto=getProto(obj))&&getPropertyDescriptor(proto,prop)}(reason,\"stack\");reason._promise=promise,setProp(reason,\"stack\",{get:function(){return stack_being_generated?origProp&&(origProp.get?origProp.get.apply(reason):origProp.value):promise.stack}})})),function(promise){unhandledErrors.some((function(p){return p._value===promise._value}))||unhandledErrors.push(promise)}(promise),propagateAllListeners(promise),shouldExecuteTick&&endMicroTickScope()}}function propagateAllListeners(promise){var listeners=promise._listeners;promise._listeners=[];for(var i=0,len=listeners.length;i<len;++i)propagateToListener(promise,listeners[i]);var psd=promise._PSD;--psd.ref||psd.finalize(),0===numScheduledCalls&&(++numScheduledCalls,asap$1((function(){0==--numScheduledCalls&&finalizePhysicalTick()}),[]))}function propagateToListener(promise,listener){if(null!==promise._state){var cb=promise._state?listener.onFulfilled:listener.onRejected;if(null===cb)return(promise._state?listener.resolve:listener.reject)(promise._value);++listener.psd.ref,++numScheduledCalls,asap$1(callListener,[cb,promise,listener])}else promise._listeners.push(listener)}function callListener(cb,promise,listener){try{currentFulfiller=promise;var ret,value=promise._value;promise._state?ret=cb(value):(rejectingErrors.length&&(rejectingErrors=[]),ret=cb(value),-1===rejectingErrors.indexOf(value)&&function(promise){for(var i=unhandledErrors.length;i;)if(unhandledErrors[--i]._value===promise._value)return void unhandledErrors.splice(i,1)}(promise)),listener.resolve(ret)}catch(e){listener.reject(e)}finally{currentFulfiller=null,0==--numScheduledCalls&&finalizePhysicalTick(),--listener.psd.ref||listener.psd.finalize()}}function linkToPreviousPromise(promise,prev){var numPrev=prev?prev._numPrev+1:0;numPrev<LONG_STACKS_CLIP_LIMIT&&(promise._prev=prev,promise._numPrev=numPrev)}function physicalTick(){beginMicroTickScope()&&endMicroTickScope()}function beginMicroTickScope(){var wasRootExec=isOutsideMicroTick;return isOutsideMicroTick=!1,needsNewPhysicalTick=!1,wasRootExec}function endMicroTickScope(){var callbacks,i,l;do{for(;microtickQueue.length>0;)for(callbacks=microtickQueue,microtickQueue=[],l=callbacks.length,i=0;i<l;++i){var item=callbacks[i];item[0].apply(null,item[1])}}while(microtickQueue.length>0);isOutsideMicroTick=!0,needsNewPhysicalTick=!0}function finalizePhysicalTick(){var unhandledErrs=unhandledErrors;unhandledErrors=[],unhandledErrs.forEach((function(p){p._PSD.onunhandled.call(null,p._value,p)}));for(var finalizers=tickFinalizers.slice(0),i=finalizers.length;i;)finalizers[--i]()}function PromiseReject(reason){return new dexie_es_Promise(INTERNAL,!1,reason)}function wrap(fn,errorCatcher){var psd=PSD;return function(){var wasRootExec=beginMicroTickScope(),outerScope=PSD;try{return switchToZone(psd,!0),fn.apply(this,arguments)}catch(e){errorCatcher&&errorCatcher(e)}finally{switchToZone(outerScope,!1),wasRootExec&&endMicroTickScope()}}}props(dexie_es_Promise.prototype,{then:thenProp,_then:function(onFulfilled,onRejected){propagateToListener(this,new dexie_es_Listener(null,null,onFulfilled,onRejected,PSD))},catch:function(onRejected){if(1===arguments.length)return this.then(null,onRejected);var type=arguments[0],handler=arguments[1];return this.then(null,\"function\"==typeof type?function(err){return err instanceof type?handler(err):PromiseReject(err)}:function(err){return err&&err.name===type?handler(err):PromiseReject(err)})},finally:function(onFinally){return this.then((function(value){return onFinally(),value}),(function(err){return onFinally(),PromiseReject(err)}))},stack:{get:function(){if(this._stack)return this._stack;try{stack_being_generated=!0;var stack=function getStack(promise,stacks,limit){if(stacks.length===limit)return stacks;var stack=\"\";if(!1===promise._state){var errorName,message,failure=promise._value;null!=failure?(errorName=failure.name||\"Error\",message=failure.message||failure,stack=prettyStack(failure,0)):(errorName=failure,message=\"\"),stacks.push(errorName+(message?\": \"+message:\"\")+stack)}return debug&&((stack=prettyStack(promise._stackHolder,2))&&-1===stacks.indexOf(stack)&&stacks.push(stack),promise._prev&&getStack(promise._prev,stacks,limit)),stacks}(this,[],20).join(\"\\nFrom previous: \");return null!==this._state&&(this._stack=stack),stack}finally{stack_being_generated=!1}}},timeout:function(ms,msg){var _this=this;return ms<1/0?new dexie_es_Promise((function(resolve,reject){var handle=setTimeout((function(){return reject(new exceptions.Timeout(msg))}),ms);_this.then(resolve,reject).finally(clearTimeout.bind(null,handle))})):this}}),\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&setProp(dexie_es_Promise.prototype,Symbol.toStringTag,\"Promise\"),globalPSD.env=snapShot(),props(dexie_es_Promise,{all:function(){var values=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new dexie_es_Promise((function(resolve,reject){0===values.length&&resolve([]);var remaining=values.length;values.forEach((function(a,i){return dexie_es_Promise.resolve(a).then((function(x){values[i]=x,--remaining||resolve(values)}),reject)}))}))},resolve:function(value){if(value instanceof dexie_es_Promise)return value;if(value&&\"function\"==typeof value.then)return new dexie_es_Promise((function(resolve,reject){value.then(resolve,reject)}));var rv=new dexie_es_Promise(INTERNAL,!0,value);return linkToPreviousPromise(rv,currentFulfiller),rv},reject:PromiseReject,race:function(){var values=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new dexie_es_Promise((function(resolve,reject){values.map((function(value){return dexie_es_Promise.resolve(value).then(resolve,reject)}))}))},PSD:{get:function(){return PSD},set:function(value){return PSD=value}},newPSD:newScope,usePSD:usePSD,scheduler:{get:function(){return asap$1},set:function(value){asap$1=value}},rejectionMapper:{get:function(){return rejectionMapper},set:function(value){rejectionMapper=value}},follow:function(fn,zoneProps){return new dexie_es_Promise((function(resolve,reject){return newScope((function(resolve,reject){var psd=PSD;psd.unhandleds=[],psd.onunhandled=reject,psd.finalize=callBoth((function(){var _this=this;tickFinalizers.push((function finalizer(){0===_this.unhandleds.length?resolve():reject(_this.unhandleds[0]),tickFinalizers.splice(tickFinalizers.indexOf(finalizer),1)})),++numScheduledCalls,asap$1((function(){0==--numScheduledCalls&&finalizePhysicalTick()}),[])}),psd.finalize),fn()}),zoneProps,resolve,reject)}))}});var task={awaits:0,echoes:0,id:0},taskCounter=0,zoneStack=[],zoneEchoes=0,totalEchoes=0,zone_id_counter=0;function newScope(fn,props$$1,a1,a2){var parent=PSD,psd=Object.create(parent);psd.parent=parent,psd.ref=0,psd.global=!1,psd.id=++zone_id_counter;var globalEnv=globalPSD.env;psd.env=patchGlobalPromise?{Promise:dexie_es_Promise,PromiseProp:{value:dexie_es_Promise,configurable:!0,writable:!0},all:dexie_es_Promise.all,race:dexie_es_Promise.race,resolve:dexie_es_Promise.resolve,reject:dexie_es_Promise.reject,nthen:getPatchedPromiseThen(globalEnv.nthen,psd),gthen:getPatchedPromiseThen(globalEnv.gthen,psd)}:{},props$$1&&extend(psd,props$$1),++parent.ref,psd.finalize=function(){--this.parent.ref||this.parent.finalize()};var rv=usePSD(psd,fn,a1,a2);return 0===psd.ref&&psd.finalize(),rv}function incrementExpectedAwaits(){return task.id||(task.id=++taskCounter),++task.awaits,task.echoes+=ZONE_ECHO_LIMIT,task.id}function decrementExpectedAwaits(sourceTaskId){!task.awaits||sourceTaskId&&sourceTaskId!==task.id||(0==--task.awaits&&(task.id=0),task.echoes=task.awaits*ZONE_ECHO_LIMIT)}function onPossibleParallellAsync(possiblePromise){return task.echoes&&possiblePromise&&possiblePromise.constructor===NativePromise?(incrementExpectedAwaits(),possiblePromise.then((function(x){return decrementExpectedAwaits(),x}),(function(e){return decrementExpectedAwaits(),rejection(e)}))):possiblePromise}function zoneEnterEcho(targetZone){++totalEchoes,task.echoes&&0!=--task.echoes||(task.echoes=task.id=0),zoneStack.push(PSD),switchToZone(targetZone,!0)}function zoneLeaveEcho(){var zone=zoneStack[zoneStack.length-1];zoneStack.pop(),switchToZone(zone,!1)}function switchToZone(targetZone,bEnteringZone){var job,currentZone=PSD;if((bEnteringZone?!task.echoes||zoneEchoes++&&targetZone===PSD:!zoneEchoes||--zoneEchoes&&targetZone===PSD)||(job=bEnteringZone?zoneEnterEcho.bind(null,targetZone):zoneLeaveEcho,nativePromiseThen.call(resolvedNativePromise,job)),targetZone!==PSD&&(PSD=targetZone,currentZone===globalPSD&&(globalPSD.env=snapShot()),patchGlobalPromise)){var GlobalPromise=globalPSD.env.Promise,targetEnv=targetZone.env;nativePromiseProto.then=targetEnv.nthen,GlobalPromise.prototype.then=targetEnv.gthen,(currentZone.global||targetZone.global)&&(Object.defineProperty(dexie_es_global,\"Promise\",targetEnv.PromiseProp),GlobalPromise.all=targetEnv.all,GlobalPromise.race=targetEnv.race,GlobalPromise.resolve=targetEnv.resolve,GlobalPromise.reject=targetEnv.reject)}}function snapShot(){var GlobalPromise=dexie_es_global.Promise;return patchGlobalPromise?{Promise:GlobalPromise,PromiseProp:Object.getOwnPropertyDescriptor(dexie_es_global,\"Promise\"),all:GlobalPromise.all,race:GlobalPromise.race,resolve:GlobalPromise.resolve,reject:GlobalPromise.reject,nthen:nativePromiseProto.then,gthen:GlobalPromise.prototype.then}:{}}function usePSD(psd,fn,a1,a2,a3){var outerScope=PSD;try{return switchToZone(psd,!0),fn(a1,a2,a3)}finally{switchToZone(outerScope,!1)}}function nativeAwaitCompatibleWrap(fn,zone,possibleAwait){return\"function\"!=typeof fn?fn:function(){var outerZone=PSD;possibleAwait&&incrementExpectedAwaits(),switchToZone(zone,!0);try{return fn.apply(this,arguments)}finally{switchToZone(outerZone,!1)}}}function getPatchedPromiseThen(origThen,zone){return function(onResolved,onRejected){return origThen.call(this,nativeAwaitCompatibleWrap(onResolved,zone,!1),nativeAwaitCompatibleWrap(onRejected,zone,!1))}}var UNHANDLEDREJECTION=\"unhandledrejection\";function globalError(err,promise){var rv;try{rv=promise.onuncatched(err)}catch(e){}if(!1!==rv)try{var event,eventData={promise:promise,reason:err};if(dexie_es_global.document&&document.createEvent?((event=document.createEvent(\"Event\")).initEvent(UNHANDLEDREJECTION,!0,!0),extend(event,eventData)):dexie_es_global.CustomEvent&&extend(event=new CustomEvent(UNHANDLEDREJECTION,{detail:eventData}),eventData),event&&dexie_es_global.dispatchEvent&&(dispatchEvent(event),!dexie_es_global.PromiseRejectionEvent&&dexie_es_global.onunhandledrejection))try{dexie_es_global.onunhandledrejection(event)}catch(_){}event.defaultPrevented||console.warn(\"Unhandled rejection: \"+(err.stack||err))}catch(e){}}var rejection=dexie_es_Promise.reject;function dexie_es_Events(ctx){var evs={},rv=function(eventName,subscriber){if(subscriber){for(var i=arguments.length,args=new Array(i-1);--i;)args[i-1]=arguments[i];return evs[eventName].subscribe.apply(null,args),ctx}if(\"string\"==typeof eventName)return evs[eventName]};rv.addEventType=add;for(var i=1,l=arguments.length;i<l;++i)add(arguments[i]);return rv;function add(eventName,chainFunction,defaultFunction){if(\"object\"!=typeof eventName){var cfg;chainFunction||(chainFunction=reverseStoppableEventChain),defaultFunction||(defaultFunction=nop);var context={subscribers:[],fire:defaultFunction,subscribe:function(cb){-1===context.subscribers.indexOf(cb)&&(context.subscribers.push(cb),context.fire=chainFunction(context.fire,cb))},unsubscribe:function(cb){context.subscribers=context.subscribers.filter((function(fn){return fn!==cb})),context.fire=context.subscribers.reduce(chainFunction,defaultFunction)}};return evs[eventName]=rv[eventName]=context,context}dexie_es_keys(cfg=eventName).forEach((function(eventName){var args=cfg[eventName];if(dexie_es_isArray(args))add(eventName,cfg[eventName][0],cfg[eventName][1]);else{if(\"asap\"!==args)throw new exceptions.InvalidArgument(\"Invalid event config\");var context=add(eventName,mirror,(function(){for(var i=arguments.length,args=new Array(i);i--;)args[i]=arguments[i];context.subscribers.forEach((function(fn){asap((function(){fn.apply(null,args)}))}))}))}}))}}var dbNamesDB,maxString=String.fromCharCode(65535),maxKey=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return maxString}}(),minKey=-1/0,INVALID_KEY_ARGUMENT=\"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\",STRING_EXPECTED=\"String expected.\",connections=[],isIEOrEdge=\"undefined\"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),hasIEDeleteObjectStoreBug=isIEOrEdge,hangsOnDeleteLargeKeyRange=isIEOrEdge,dexieStackFrameFilter=function(frame){return!/(dexie\\.js|dexie\\.min\\.js)/.test(frame)};function Dexie(dbName,options){var dbReadyResolve,cancelOpen,hasGetAll,what,fn,deps=Dexie.dependencies,opts=extend({addons:Dexie.addons,autoOpen:!0,indexedDB:deps.indexedDB,IDBKeyRange:deps.IDBKeyRange},options),addons=opts.addons,autoOpen=opts.autoOpen,indexedDB=opts.indexedDB,IDBKeyRange=opts.IDBKeyRange,globalSchema=this._dbSchema={},versions=[],dbStoreNames=[],allTables={},idbdb=null,dbOpenError=null,isBeingOpened=!1,onReadyBeingFired=null,openComplete=!1,READWRITE=\"readwrite\",db=this,dbReadyPromise=new dexie_es_Promise((function(resolve){dbReadyResolve=resolve})),openCanceller=new dexie_es_Promise((function(_,reject){cancelOpen=reject})),autoSchema=!0,hasNativeGetDatabaseNames=!!getNativeGetDatabaseNamesFn(indexedDB);function Version(versionNumber){this._cfg={version:versionNumber,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function createTable(idbtrans,tableName,primKey,indexes){var store=idbtrans.db.createObjectStore(tableName,primKey.keyPath?{keyPath:primKey.keyPath,autoIncrement:primKey.auto}:{autoIncrement:primKey.auto});return indexes.forEach((function(idx){addIndex(store,idx)})),store}function addIndex(store,idx){store.createIndex(idx.name,idx.keyPath,{unique:idx.unique,multiEntry:idx.multi})}function extractTransactionArgs(mode,_tableArgs_,scopeFunc){var i=arguments.length;if(i<2)throw new exceptions.InvalidArgument(\"Too few arguments\");for(var args=new Array(i-1);--i;)args[i-1]=arguments[i];return scopeFunc=args.pop(),[mode,dexie_es_flatten(args),scopeFunc]}function Table(name,tableSchema,optionalTrans){this.name=name,this.schema=tableSchema,this._tx=optionalTrans,this.hook=allTables[name]?allTables[name].hook:dexie_es_Events(null,{creating:[hookCreatingChain,nop],reading:[pureFunctionChain,mirror],updating:[hookUpdatingChain,nop],deleting:[hookDeletingChain,nop]})}function BulkErrorHandlerCatchAll(errorList,done,supportHooks){return(supportHooks?hookedEventRejectHandler:eventRejectHandler)((function(e){errorList.push(e),done&&done()}))}function bulkDelete(idbstore,trans,keysOrTuples,hasDeleteHook,deletingHook){return new dexie_es_Promise((function(resolve,reject){var len=keysOrTuples.length,lastItem=len-1;if(0===len)return resolve();if(hasDeleteHook){var hookCtx,errorHandler=hookedEventRejectHandler(reject),successHandler=hookedEventSuccessHandler(null);tryCatch((function(){for(var i=0;i<len;++i){var tuple=keysOrTuples[i];deletingHook.call(hookCtx={onsuccess:null,onerror:null},tuple[0],tuple[1],trans);var req=idbstore.delete(tuple[0]);req._hookCtx=hookCtx,req.onerror=errorHandler,req.onsuccess=i===lastItem?hookedEventSuccessHandler(resolve):successHandler}}),(function(err){throw hookCtx.onerror&&hookCtx.onerror(err),err}))}else for(var i=0;i<len;++i){var req=idbstore.delete(keysOrTuples[i]);req.onerror=eventRejectHandler(reject),i===lastItem&&(req.onsuccess=wrap((function(){return resolve()})))}}))}function Transaction(mode,storeNames,dbschema,parent){var _this=this;this.db=db,this.mode=mode,this.storeNames=storeNames,this.idbtrans=null,this.on=dexie_es_Events(this,\"complete\",\"error\",\"abort\"),this.parent=parent||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new dexie_es_Promise((function(resolve,reject){_this._resolve=resolve,_this._reject=reject})),this._completion.then((function(){_this.active=!1,_this.on.complete.fire()}),(function(e){var wasActive=_this.active;return _this.active=!1,_this.on.error.fire(e),_this.parent?_this.parent._reject(e):wasActive&&_this.idbtrans&&_this.idbtrans.abort(),rejection(e)}))}function WhereClause(table,index,orCollection){this._ctx={table:table,index:\":id\"===index?null:index,or:orCollection}}function Collection(whereClause,keyRangeGenerator){var keyRange=null,error=null;if(keyRangeGenerator)try{keyRange=keyRangeGenerator()}catch(ex){error=ex}var whereCtx=whereClause._ctx,table=whereCtx.table;this._ctx={table:table,index:whereCtx.index,isPrimKey:!whereCtx.index||table.schema.primKey.keyPath&&whereCtx.index===table.schema.primKey.name,range:keyRange,keysOnly:!1,dir:\"next\",unique:\"\",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:error,or:whereCtx.or,valueMapper:table.hook.reading.fire}}function isPlainKeyRange(ctx,ignoreLimitFilter){return!(ctx.filter||ctx.algorithm||ctx.or)&&(ignoreLimitFilter?ctx.justLimit:!ctx.replayFilter)}function lowerVersionFirst(a,b){return a._cfg.version-b._cfg.version}function setApiOnPlace(objs,tableNames,dbschema){tableNames.forEach((function(tableName){var schema=dbschema[tableName];objs.forEach((function(obj){tableName in obj||(obj===Transaction.prototype||obj instanceof Transaction?setProp(obj,tableName,{get:function(){return this.table(tableName)}}):obj[tableName]=new Table(tableName,schema))}))}))}function iterate(req,filter,fn,resolve,reject,valueMapper){var wrappedFn=wrap(valueMapper?function(x,c,a){return fn(valueMapper(x),c,a)}:fn,reject);req.onerror||(req.onerror=eventRejectHandler(reject)),req.onsuccess=function(fn,reject){return function(){try{fn.apply(this,arguments)}catch(e){reject(e)}}}(filter?function(){var cursor=req.result;if(cursor){var c=function(){cursor.continue()};filter(cursor,(function(advancer){c=advancer}),resolve,reject)&&wrappedFn(cursor.value,cursor,(function(advancer){c=advancer})),c()}else resolve()}:function(){var cursor=req.result;if(cursor){var c=function(){cursor.continue()};wrappedFn(cursor.value,cursor,(function(advancer){c=advancer})),c()}else resolve()},reject)}function cmp(key1,key2){return indexedDB.cmp(key1,key2)}function max(a,b){return cmp(a,b)>0?a:b}function ascending(a,b){return indexedDB.cmp(a,b)}function descending(a,b){return indexedDB.cmp(b,a)}function simpleCompare(a,b){return a<b?-1:a===b?0:1}function simpleCompareReverse(a,b){return a>b?-1:a===b?0:1}function combine(filter1,filter2){return filter1?filter2?function(){return filter1.apply(this,arguments)&&filter2.apply(this,arguments)}:filter1:filter2}function adjustToExistingIndexNames(schema,idbtrans){for(var storeNames=idbtrans.db.objectStoreNames,i=0;i<storeNames.length;++i){var storeName=storeNames[i],store=idbtrans.objectStore(storeName);hasGetAll=\"getAll\"in store;for(var j=0;j<store.indexNames.length;++j){var indexName=store.indexNames[j],keyPath=store.index(indexName).keyPath,dexieName=\"string\"==typeof keyPath?keyPath:\"[\"+slice(keyPath).join(\"+\")+\"]\";if(schema[storeName]){var indexSpec=schema[storeName].idxByName[dexieName];indexSpec&&(indexSpec.name=indexName)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\\/|Edge\\/)/.test(navigator.userAgent)&&dexie_es_global.WorkerGlobalScope&&dexie_es_global instanceof dexie_es_global.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1]<604&&(hasGetAll=!1)}function fireOnBlocked(ev){db.on(\"blocked\").fire(ev),connections.filter((function(c){return c.name===db.name&&c!==db&&!c._vcFired})).map((function(c){return c.on(\"versionchange\").fire(ev)}))}this.version=function(versionNumber){if(idbdb||isBeingOpened)throw new exceptions.Schema(\"Cannot add version when database is open\");this.verno=Math.max(this.verno,versionNumber);var versionInstance=versions.filter((function(v){return v._cfg.version===versionNumber}))[0];return versionInstance||(versionInstance=new Version(versionNumber),versions.push(versionInstance),versions.sort(lowerVersionFirst),autoSchema=!1,versionInstance)},extend(Version.prototype,{stores:function(stores){this._cfg.storesSource=this._cfg.storesSource?extend(this._cfg.storesSource,stores):stores;var storesSpec={};versions.forEach((function(version){extend(storesSpec,version._cfg.storesSource)}));var dbschema=this._cfg.dbschema={};return this._parseStoresSpec(storesSpec,dbschema),globalSchema=db._dbSchema=dbschema,[allTables,db,Transaction.prototype].forEach((function(obj){for(var key in obj)obj[key]instanceof Table&&delete obj[key]})),setApiOnPlace([allTables,db,Transaction.prototype,this._cfg.tables],dexie_es_keys(dbschema),dbschema),dbStoreNames=dexie_es_keys(dbschema),this},upgrade:function(upgradeFunction){return this._cfg.contentUpgrade=upgradeFunction,this},_parseStoresSpec:function(stores,outSchema){dexie_es_keys(stores).forEach((function(tableName){if(null!==stores[tableName]){var instanceTemplate={},indexes=function(indexes){var rv=[];return indexes.split(\",\").forEach((function(index){var name=(index=index.trim()).replace(/([&*]|\\+\\+)/g,\"\"),keyPath=/^\\[/.test(name)?name.match(/^\\[(.*)\\]$/)[1].split(\"+\"):name;rv.push(new IndexSpec(name,keyPath||null,/\\&/.test(index),/\\*/.test(index),/\\+\\+/.test(index),dexie_es_isArray(keyPath),/\\./.test(index)))})),rv}(stores[tableName]),primKey=indexes.shift();if(primKey.multi)throw new exceptions.Schema(\"Primary key cannot be multi-valued\");primKey.keyPath&&setByKeyPath(instanceTemplate,primKey.keyPath,primKey.auto?0:primKey.keyPath),indexes.forEach((function(idx){if(idx.auto)throw new exceptions.Schema(\"Only primary key can be marked as autoIncrement (++)\");if(!idx.keyPath)throw new exceptions.Schema(\"Index must have a name and cannot be an empty string\");setByKeyPath(instanceTemplate,idx.keyPath,idx.compound?idx.keyPath.map((function(){return\"\"})):\"\")})),outSchema[tableName]=new TableSchema(tableName,primKey,indexes,instanceTemplate)}}))}}),this._allTables=allTables,this._createTransaction=function(mode,storeNames,dbschema,parentTransaction){return new Transaction(mode,storeNames,dbschema,parentTransaction)},this._whenReady=function(fn){return openComplete||PSD.letThrough?fn():new dexie_es_Promise((function(resolve,reject){if(!isBeingOpened){if(!autoOpen)return void reject(new exceptions.DatabaseClosed);db.open().catch(nop)}dbReadyPromise.then(resolve,reject)})).then(fn)},this.verno=0,this.open=function(){if(isBeingOpened||idbdb)return dbReadyPromise.then((function(){return dbOpenError?rejection(dbOpenError):db}));debug&&(openCanceller._stackHolder=getErrorWithStack()),isBeingOpened=!0,dbOpenError=null,openComplete=!1;var resolveDbReady=dbReadyResolve,upgradeTransaction=null;return dexie_es_Promise.race([openCanceller,new dexie_es_Promise((function(resolve,reject){if(!indexedDB)throw new exceptions.MissingAPI(\"indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.\");var req=autoSchema?indexedDB.open(dbName):indexedDB.open(dbName,Math.round(10*db.verno));if(!req)throw new exceptions.MissingAPI(\"IndexedDB API not available\");req.onerror=eventRejectHandler(reject),req.onblocked=wrap(fireOnBlocked),req.onupgradeneeded=wrap((function(e){if(upgradeTransaction=req.transaction,autoSchema&&!db._allowEmptyDB){req.onerror=preventDefault,upgradeTransaction.abort(),req.result.close();var delreq=indexedDB.deleteDatabase(dbName);delreq.onsuccess=delreq.onerror=wrap((function(){reject(new exceptions.NoSuchDatabase(\"Database \"+dbName+\" doesnt exist\"))}))}else upgradeTransaction.onerror=eventRejectHandler(reject),function(oldVersion,idbtrans,reject){var trans=db._createTransaction(READWRITE,dbStoreNames,globalSchema);trans.create(idbtrans),trans._completion.catch(reject);var rejectTransaction=trans._reject.bind(trans);newScope((function(){PSD.trans=trans,0===oldVersion?(dexie_es_keys(globalSchema).forEach((function(tableName){createTable(idbtrans,tableName,globalSchema[tableName].primKey,globalSchema[tableName].indexes)})),dexie_es_Promise.follow((function(){return db.on.populate.fire(trans)})).catch(rejectTransaction)):function(oldVersion,trans,idbtrans){var queue=[],oldVersionStruct=versions.filter((function(version){return version._cfg.version===oldVersion}))[0];if(!oldVersionStruct)throw new exceptions.Upgrade(\"Dexie specification of currently installed DB version is missing\");globalSchema=db._dbSchema=oldVersionStruct._cfg.dbschema;var anyContentUpgraderHasRun=!1;return versions.filter((function(v){return v._cfg.version>oldVersion})).forEach((function(version){queue.push((function(){var oldSchema=globalSchema,newSchema=version._cfg.dbschema;adjustToExistingIndexNames(oldSchema,idbtrans),adjustToExistingIndexNames(newSchema,idbtrans),globalSchema=db._dbSchema=newSchema;var diff=function(oldSchema,newSchema){var diff={del:[],add:[],change:[]};for(var table in oldSchema)newSchema[table]||diff.del.push(table);for(table in newSchema){var oldDef=oldSchema[table],newDef=newSchema[table];if(oldDef){var change={name:table,def:newDef,recreate:!1,del:[],add:[],change:[]};if(oldDef.primKey.src!==newDef.primKey.src)change.recreate=!0,diff.change.push(change);else{var oldIndexes=oldDef.idxByName,newIndexes=newDef.idxByName;for(var idxName in oldIndexes)newIndexes[idxName]||change.del.push(idxName);for(idxName in newIndexes){var oldIdx=oldIndexes[idxName],newIdx=newIndexes[idxName];oldIdx?oldIdx.src!==newIdx.src&&change.change.push(newIdx):change.add.push(newIdx)}(change.del.length>0||change.add.length>0||change.change.length>0)&&diff.change.push(change)}}else diff.add.push([table,newDef])}return diff}(oldSchema,newSchema);if(diff.add.forEach((function(tuple){createTable(idbtrans,tuple[0],tuple[1].primKey,tuple[1].indexes)})),diff.change.forEach((function(change){if(change.recreate)throw new exceptions.Upgrade(\"Not yet support for changing primary key\");var store=idbtrans.objectStore(change.name);change.add.forEach((function(idx){addIndex(store,idx)})),change.change.forEach((function(idx){store.deleteIndex(idx.name),addIndex(store,idx)})),change.del.forEach((function(idxName){store.deleteIndex(idxName)}))})),version._cfg.contentUpgrade)return anyContentUpgraderHasRun=!0,dexie_es_Promise.follow((function(){version._cfg.contentUpgrade(trans)}))})),queue.push((function(idbtrans){anyContentUpgraderHasRun&&hasIEDeleteObjectStoreBug||function(newSchema,idbtrans){for(var i=0;i<idbtrans.db.objectStoreNames.length;++i){var storeName=idbtrans.db.objectStoreNames[i];null==newSchema[storeName]&&idbtrans.db.deleteObjectStore(storeName)}}(version._cfg.dbschema,idbtrans)}))})),function runQueue(){return queue.length?dexie_es_Promise.resolve(queue.shift()(trans.idbtrans)).then(runQueue):dexie_es_Promise.resolve()}().then((function(){!function(newSchema,idbtrans){dexie_es_keys(newSchema).forEach((function(tableName){idbtrans.db.objectStoreNames.contains(tableName)||createTable(idbtrans,tableName,newSchema[tableName].primKey,newSchema[tableName].indexes)}))}(globalSchema,idbtrans)}))}(oldVersion,trans,idbtrans).catch(rejectTransaction)}))}((e.oldVersion>Math.pow(2,62)?0:e.oldVersion)/10,upgradeTransaction,reject)}),reject),req.onsuccess=wrap((function(){if(upgradeTransaction=null,idbdb=req.result,connections.push(db),autoSchema)!function(){if(db.verno=idbdb.version/10,db._dbSchema=globalSchema={},0!==(dbStoreNames=slice(idbdb.objectStoreNames,0)).length){var trans=idbdb.transaction(safariMultiStoreFix(dbStoreNames),\"readonly\");dbStoreNames.forEach((function(storeName){for(var store=trans.objectStore(storeName),keyPath=store.keyPath,dotted=keyPath&&\"string\"==typeof keyPath&&-1!==keyPath.indexOf(\".\"),primKey=new IndexSpec(keyPath,keyPath||\"\",!1,!1,!!store.autoIncrement,keyPath&&\"string\"!=typeof keyPath,dotted),indexes=[],j=0;j<store.indexNames.length;++j){var idbindex=store.index(store.indexNames[j]);dotted=(keyPath=idbindex.keyPath)&&\"string\"==typeof keyPath&&-1!==keyPath.indexOf(\".\");var index=new IndexSpec(idbindex.name,keyPath,!!idbindex.unique,!!idbindex.multiEntry,!1,keyPath&&\"string\"!=typeof keyPath,dotted);indexes.push(index)}globalSchema[storeName]=new TableSchema(storeName,primKey,indexes,{})})),setApiOnPlace([allTables],dexie_es_keys(globalSchema),globalSchema)}}();else if(idbdb.objectStoreNames.length>0)try{adjustToExistingIndexNames(globalSchema,idbdb.transaction(safariMultiStoreFix(idbdb.objectStoreNames),\"readonly\"))}catch(e){}idbdb.onversionchange=wrap((function(ev){db._vcFired=!0,db.on(\"versionchange\").fire(ev)})),hasNativeGetDatabaseNames||\"__dbnames\"===dbName||dbNamesDB.dbnames.put({name:dbName}).catch(nop),resolve()}),reject)}))]).then((function(){return onReadyBeingFired=[],dexie_es_Promise.resolve(Dexie.vip(db.on.ready.fire)).then((function fireRemainders(){if(onReadyBeingFired.length>0){var remainders=onReadyBeingFired.reduce(promisableChain,nop);return onReadyBeingFired=[],dexie_es_Promise.resolve(Dexie.vip(remainders)).then(fireRemainders)}}))})).finally((function(){onReadyBeingFired=null})).then((function(){return isBeingOpened=!1,db})).catch((function(err){try{upgradeTransaction&&upgradeTransaction.abort()}catch(e){}return isBeingOpened=!1,db.close(),rejection(dbOpenError=err)})).finally((function(){openComplete=!0,resolveDbReady()}))},this.close=function(){var idx=connections.indexOf(db);if(idx>=0&&connections.splice(idx,1),idbdb){try{idbdb.close()}catch(e){}idbdb=null}autoOpen=!1,dbOpenError=new exceptions.DatabaseClosed,isBeingOpened&&cancelOpen(dbOpenError),dbReadyPromise=new dexie_es_Promise((function(resolve){dbReadyResolve=resolve})),openCanceller=new dexie_es_Promise((function(_,reject){cancelOpen=reject}))},this.delete=function(){var hasArguments=arguments.length>0;return new dexie_es_Promise((function(resolve,reject){if(hasArguments)throw new exceptions.InvalidArgument(\"Arguments not allowed in db.delete()\");function doDelete(){db.close();var req=indexedDB.deleteDatabase(dbName);req.onsuccess=wrap((function(){hasNativeGetDatabaseNames||dbNamesDB.dbnames.delete(dbName).catch(nop),resolve()})),req.onerror=eventRejectHandler(reject),req.onblocked=fireOnBlocked}isBeingOpened?dbReadyPromise.then(doDelete):doDelete()}))},this.backendDB=function(){return idbdb},this.isOpen=function(){return null!==idbdb},this.hasBeenClosed=function(){return dbOpenError&&dbOpenError instanceof exceptions.DatabaseClosed},this.hasFailed=function(){return null!==dbOpenError},this.dynamicallyOpened=function(){return autoSchema},this.name=dbName,props(this,{tables:{get:function(){return dexie_es_keys(allTables).map((function(name){return allTables[name]}))}}}),this.on=dexie_es_Events(this,\"populate\",\"blocked\",\"versionchange\",{ready:[promisableChain,nop]}),this.on.ready.subscribe=override(this.on.ready.subscribe,(function(subscribe){return function(subscriber,bSticky){Dexie.vip((function(){openComplete?(dbOpenError||dexie_es_Promise.resolve().then(subscriber),bSticky&&subscribe(subscriber)):onReadyBeingFired?(onReadyBeingFired.push(subscriber),bSticky&&subscribe(subscriber)):(subscribe(subscriber),bSticky||subscribe((function unsubscribe(){db.on.ready.unsubscribe(subscriber),db.on.ready.unsubscribe(unsubscribe)})))}))}})),this.transaction=function(){var args=extractTransactionArgs.apply(this,arguments);return this._transaction.apply(this,args)},this._transaction=function(mode,tables,scopeFunc){var parentTransaction=PSD.trans;parentTransaction&&parentTransaction.db===db&&-1===mode.indexOf(\"!\")||(parentTransaction=null);var onlyIfCompatible=-1!==mode.indexOf(\"?\");mode=mode.replace(\"!\",\"\").replace(\"?\",\"\");try{var storeNames=tables.map((function(table){var storeName=table instanceof Table?table.name:table;if(\"string\"!=typeof storeName)throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");return storeName}));if(\"r\"==mode||\"readonly\"==mode)mode=\"readonly\";else{if(\"rw\"!=mode&&mode!=READWRITE)throw new exceptions.InvalidArgument(\"Invalid transaction mode: \"+mode);mode=READWRITE}if(parentTransaction){if(\"readonly\"===parentTransaction.mode&&mode===READWRITE){if(!onlyIfCompatible)throw new exceptions.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");parentTransaction=null}parentTransaction&&storeNames.forEach((function(storeName){if(parentTransaction&&-1===parentTransaction.storeNames.indexOf(storeName)){if(!onlyIfCompatible)throw new exceptions.SubTransaction(\"Table \"+storeName+\" not included in parent transaction.\");parentTransaction=null}})),onlyIfCompatible&&parentTransaction&&!parentTransaction.active&&(parentTransaction=null)}}catch(e){return parentTransaction?parentTransaction._promise(null,(function(_,reject){reject(e)})):rejection(e)}return parentTransaction?parentTransaction._promise(mode,enterTransactionScope,\"lock\"):PSD.trans?usePSD(PSD.transless,(function(){return db._whenReady(enterTransactionScope)})):db._whenReady(enterTransactionScope);function enterTransactionScope(){return dexie_es_Promise.resolve().then((function(){var returnValue,transless=PSD.transless||PSD,trans=db._createTransaction(mode,storeNames,globalSchema,parentTransaction),zoneProps={trans:trans,transless:transless};parentTransaction?trans.idbtrans=parentTransaction.idbtrans:trans.create(),scopeFunc.constructor===AsyncFunction&&incrementExpectedAwaits();var promiseFollowed=dexie_es_Promise.follow((function(){if(returnValue=scopeFunc.call(trans,trans))if(returnValue.constructor===NativePromise){var decrementor=decrementExpectedAwaits.bind(null,null);returnValue.then(decrementor,decrementor)}else\"function\"==typeof returnValue.next&&\"function\"==typeof returnValue.throw&&(returnValue=awaitIterator(returnValue))}),zoneProps);return(returnValue&&\"function\"==typeof returnValue.then?dexie_es_Promise.resolve(returnValue).then((function(x){return trans.active?x:rejection(new exceptions.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\"))})):promiseFollowed.then((function(){return returnValue}))).then((function(x){return parentTransaction&&trans._resolve(),trans._completion.then((function(){return x}))})).catch((function(e){return trans._reject(e),rejection(e)}))}))}},this.table=function(tableName){if(!hasOwn(allTables,tableName))throw new exceptions.InvalidTable(\"Table \"+tableName+\" does not exist\");return allTables[tableName]},props(Table.prototype,{_trans:function(mode,fn,writeLocked){var trans=this._tx||PSD.trans;return trans&&trans.db===db?trans===PSD.trans?trans._promise(mode,fn,writeLocked):newScope((function(){return trans._promise(mode,fn,writeLocked)}),{trans:trans,transless:PSD.transless||PSD}):function tempTransaction(mode,storeNames,fn){if(openComplete||PSD.letThrough){var trans=db._createTransaction(mode,storeNames,globalSchema);try{trans.create()}catch(ex){return rejection(ex)}return trans._promise(mode,(function(resolve,reject){return newScope((function(){return PSD.trans=trans,fn(resolve,reject,trans)}))})).then((function(result){return trans._completion.then((function(){return result}))}))}if(!isBeingOpened){if(!autoOpen)return rejection(new exceptions.DatabaseClosed);db.open().catch(nop)}return dbReadyPromise.then((function(){return tempTransaction(mode,storeNames,fn)}))}(mode,[this.name],fn)},_idbstore:function(mode,fn,writeLocked){var tableName=this.name;return this._trans(mode,(function(resolve,reject,trans){if(-1===trans.storeNames.indexOf(tableName))throw new exceptions.NotFound(\"Table\"+tableName+\" not part of transaction\");return fn(resolve,reject,trans.idbtrans.objectStore(tableName),trans)}),writeLocked)},get:function(keyOrCrit,cb){if(keyOrCrit&&keyOrCrit.constructor===Object)return this.where(keyOrCrit).first(cb);var self=this;return this._idbstore(\"readonly\",(function(resolve,reject,idbstore){var req=idbstore.get(keyOrCrit);req.onerror=eventRejectHandler(reject),req.onsuccess=wrap((function(){resolve(self.hook.reading.fire(req.result))}),reject)})).then(cb)},where:function(indexOrCrit){if(\"string\"==typeof indexOrCrit)return new WhereClause(this,indexOrCrit);if(dexie_es_isArray(indexOrCrit))return new WhereClause(this,\"[\"+indexOrCrit.join(\"+\")+\"]\");var keyPaths=dexie_es_keys(indexOrCrit);if(1===keyPaths.length)return this.where(keyPaths[0]).equals(indexOrCrit[keyPaths[0]]);var compoundIndex=this.schema.indexes.concat(this.schema.primKey).filter((function(ix){return ix.compound&&keyPaths.every((function(keyPath){return ix.keyPath.indexOf(keyPath)>=0}))&&ix.keyPath.every((function(keyPath){return keyPaths.indexOf(keyPath)>=0}))}))[0];if(compoundIndex&&maxKey!==maxString)return this.where(compoundIndex.name).equals(compoundIndex.keyPath.map((function(kp){return indexOrCrit[kp]})));compoundIndex||console.warn(\"The query \"+JSON.stringify(indexOrCrit)+\" on \"+this.name+\" would benefit of a compound index [\"+keyPaths.join(\"+\")+\"]\");var idxByName=this.schema.idxByName,simpleIndex=keyPaths.reduce((function(r,keyPath){return[r[0]||idxByName[keyPath],r[0]||!idxByName[keyPath]?combine(r[1],(function(x){return\"\"+getByKeyPath(x,keyPath)==\"\"+indexOrCrit[keyPath]})):r[1]]}),[null,null]),idx=simpleIndex[0];return idx?this.where(idx.name).equals(indexOrCrit[idx.keyPath]).filter(simpleIndex[1]):compoundIndex?this.filter(simpleIndex[1]):this.where(keyPaths).equals(\"\")},count:function(cb){return this.toCollection().count(cb)},offset:function(offset){return this.toCollection().offset(offset)},limit:function(numRows){return this.toCollection().limit(numRows)},reverse:function(){return this.toCollection().reverse()},filter:function(filterFunction){return this.toCollection().and(filterFunction)},each:function(fn){return this.toCollection().each(fn)},toArray:function(cb){return this.toCollection().toArray(cb)},orderBy:function(index){return new Collection(new WhereClause(this,dexie_es_isArray(index)?\"[\"+index.join(\"+\")+\"]\":index))},toCollection:function(){return new Collection(new WhereClause(this))},mapToClass:function(constructor,structure){this.schema.mappedClass=constructor;var instanceTemplate=Object.create(constructor.prototype);structure&&applyStructure(instanceTemplate,structure),this.schema.instanceTemplate=instanceTemplate;var readHook=function(obj){if(!obj)return obj;var res=Object.create(constructor.prototype);for(var m in obj)if(hasOwn(obj,m))try{res[m]=obj[m]}catch(_){}return res};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=readHook,this.hook(\"reading\",readHook),constructor},defineClass:function(structure){return this.mapToClass(Dexie.defineClass(structure),structure)},bulkDelete:function(keys$$1){return this.hook.deleting.fire===nop?this._idbstore(READWRITE,(function(resolve,reject,idbstore,trans){resolve(bulkDelete(idbstore,trans,keys$$1,!1,nop))})):this.where(\":id\").anyOf(keys$$1).delete().then((function(){}))},bulkPut:function(objects,keys$$1){var _this=this;return this._idbstore(READWRITE,(function(resolve,reject,idbstore){if(!idbstore.keyPath&&!_this.schema.primKey.auto&&!keys$$1)throw new exceptions.InvalidArgument(\"bulkPut() with non-inbound keys requires keys array in second argument\");if(idbstore.keyPath&&keys$$1)throw new exceptions.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");if(keys$$1&&keys$$1.length!==objects.length)throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");if(0===objects.length)return resolve();var req,errorHandler,done=function(result){0===errorList.length?resolve(result):reject(new BulkError(_this.name+\".bulkPut(): \"+errorList.length+\" of \"+numObjs+\" operations failed\",errorList))},errorList=[],numObjs=objects.length,table=_this;if(_this.hook.creating.fire===nop&&_this.hook.updating.fire===nop){errorHandler=BulkErrorHandlerCatchAll(errorList);for(var i=0,l=objects.length;i<l;++i)(req=keys$$1?idbstore.put(objects[i],keys$$1[i]):idbstore.put(objects[i])).onerror=errorHandler;req.onerror=BulkErrorHandlerCatchAll(errorList,done),req.onsuccess=eventSuccessHandler(done)}else{var effectiveKeys=keys$$1||idbstore.keyPath&&objects.map((function(o){return getByKeyPath(o,idbstore.keyPath)})),objectLookup=effectiveKeys&&arrayToObject(effectiveKeys,(function(key,i){return null!=key&&[key,objects[i]]}));(effectiveKeys?table.where(\":id\").anyOf(effectiveKeys.filter((function(key){return null!=key}))).modify((function(){this.value=objectLookup[this.primKey],objectLookup[this.primKey]=null})).catch(ModifyError,(function(e){errorList=e.failures})).then((function(){for(var objsToAdd=[],keysToAdd=keys$$1&&[],i=effectiveKeys.length-1;i>=0;--i){var key=effectiveKeys[i];(null==key||objectLookup[key])&&(objsToAdd.push(objects[i]),keys$$1&&keysToAdd.push(key),null!=key&&(objectLookup[key]=null))}return objsToAdd.reverse(),keys$$1&&keysToAdd.reverse(),table.bulkAdd(objsToAdd,keysToAdd)})).then((function(lastAddedKey){var lastEffectiveKey=effectiveKeys[effectiveKeys.length-1];return null!=lastEffectiveKey?lastEffectiveKey:lastAddedKey})):table.bulkAdd(objects)).then(done).catch(BulkError,(function(e){errorList=errorList.concat(e.failures),done()})).catch(reject)}}),\"locked\")},bulkAdd:function(objects,keys$$1){var self=this,creatingHook=this.hook.creating.fire;return this._idbstore(READWRITE,(function(resolve,reject,idbstore,trans){if(!idbstore.keyPath&&!self.schema.primKey.auto&&!keys$$1)throw new exceptions.InvalidArgument(\"bulkAdd() with non-inbound keys requires keys array in second argument\");if(idbstore.keyPath&&keys$$1)throw new exceptions.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");if(keys$$1&&keys$$1.length!==objects.length)throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");if(0===objects.length)return resolve();function done(result){0===errorList.length?resolve(result):reject(new BulkError(self.name+\".bulkAdd(): \"+errorList.length+\" of \"+numObjs+\" operations failed\",errorList))}var req,errorHandler,successHandler,errorList=[],numObjs=objects.length;if(creatingHook!==nop){var hookCtx,keyPath=idbstore.keyPath;errorHandler=BulkErrorHandlerCatchAll(errorList,null,!0),successHandler=hookedEventSuccessHandler(null),tryCatch((function(){for(var i=0,l=objects.length;i<l;++i){hookCtx={onerror:null,onsuccess:null};var key=keys$$1&&keys$$1[i],obj=objects[i],effectiveKey=keys$$1?key:keyPath?getByKeyPath(obj,keyPath):void 0,keyToUse=creatingHook.call(hookCtx,effectiveKey,obj,trans);null==effectiveKey&&null!=keyToUse&&(keyPath?setByKeyPath(obj=deepClone(obj),keyPath,keyToUse):key=keyToUse),(req=null!=key?idbstore.add(obj,key):idbstore.add(obj))._hookCtx=hookCtx,i<l-1&&(req.onerror=errorHandler,hookCtx.onsuccess&&(req.onsuccess=successHandler))}}),(function(err){throw hookCtx.onerror&&hookCtx.onerror(err),err})),req.onerror=BulkErrorHandlerCatchAll(errorList,done,!0),req.onsuccess=hookedEventSuccessHandler(done)}else{errorHandler=BulkErrorHandlerCatchAll(errorList);for(var i=0,l=objects.length;i<l;++i)(req=keys$$1?idbstore.add(objects[i],keys$$1[i]):idbstore.add(objects[i])).onerror=errorHandler;req.onerror=BulkErrorHandlerCatchAll(errorList,done),req.onsuccess=eventSuccessHandler(done)}}))},add:function(obj,key){var creatingHook=this.hook.creating.fire;return this._idbstore(READWRITE,(function(resolve,reject,idbstore,trans){var hookCtx={onsuccess:null,onerror:null};if(creatingHook!==nop){var effectiveKey=null!=key?key:idbstore.keyPath?getByKeyPath(obj,idbstore.keyPath):void 0,keyToUse=creatingHook.call(hookCtx,effectiveKey,obj,trans);null==effectiveKey&&null!=keyToUse&&(idbstore.keyPath?setByKeyPath(obj,idbstore.keyPath,keyToUse):key=keyToUse)}try{var req=null!=key?idbstore.add(obj,key):idbstore.add(obj);req._hookCtx=hookCtx,req.onerror=hookedEventRejectHandler(reject),req.onsuccess=hookedEventSuccessHandler((function(result){var keyPath=idbstore.keyPath;keyPath&&setByKeyPath(obj,keyPath,result),resolve(result)}))}catch(e){throw hookCtx.onerror&&hookCtx.onerror(e),e}}))},put:function(obj,key){var _this=this;if(this.hook.creating.fire!==nop||this.hook.updating.fire!==nop){var keyPath=this.schema.primKey.keyPath,effectiveKey=void 0!==key?key:keyPath&&getByKeyPath(obj,keyPath);return null==effectiveKey?this.add(obj):(obj=deepClone(obj),this._trans(READWRITE,(function(){return _this.where(\":id\").equals(effectiveKey).modify((function(){this.value=obj})).then((function(count){return 0===count?_this.add(obj,key):effectiveKey}))}),\"locked\"))}return this._idbstore(READWRITE,(function(resolve,reject,idbstore){var req=void 0!==key?idbstore.put(obj,key):idbstore.put(obj);req.onerror=eventRejectHandler(reject),req.onsuccess=wrap((function(ev){var keyPath=idbstore.keyPath;keyPath&&setByKeyPath(obj,keyPath,ev.target.result),resolve(req.result)}))}))},delete:function(key){return this.hook.deleting.subscribers.length?this.where(\":id\").equals(key).delete():this._idbstore(READWRITE,(function(resolve,reject,idbstore){var req=idbstore.delete(key);req.onerror=eventRejectHandler(reject),req.onsuccess=wrap((function(){resolve(req.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(READWRITE,(function(resolve,reject,idbstore){var req=idbstore.clear();req.onerror=eventRejectHandler(reject),req.onsuccess=wrap((function(){resolve(req.result)}))}))},update:function(keyOrObject,modifications){if(\"object\"!=typeof modifications||dexie_es_isArray(modifications))throw new exceptions.InvalidArgument(\"Modifications must be an object.\");if(\"object\"!=typeof keyOrObject||dexie_es_isArray(keyOrObject))return this.where(\":id\").equals(keyOrObject).modify(modifications);dexie_es_keys(modifications).forEach((function(keyPath){setByKeyPath(keyOrObject,keyPath,modifications[keyPath])}));var key=getByKeyPath(keyOrObject,this.schema.primKey.keyPath);return void 0===key?rejection(new exceptions.InvalidArgument(\"Given object does not contain its primary key\")):this.where(\":id\").equals(key).modify(modifications)}}),props(Transaction.prototype,{_lock:function(){return assert(!PSD.global),++this._reculock,1!==this._reculock||PSD.global||(PSD.lockOwnerFor=this),this},_unlock:function(){if(assert(!PSD.global),0==--this._reculock)for(PSD.global||(PSD.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var fnAndPSD=this._blockedFuncs.shift();try{usePSD(fnAndPSD[1],fnAndPSD[0])}catch(e){}}return this},_locked:function(){return this._reculock&&PSD.lockOwnerFor!==this},create:function(idbtrans){var _this=this;if(!this.mode)return this;if(assert(!this.idbtrans),!idbtrans&&!idbdb)switch(dbOpenError&&dbOpenError.name){case\"DatabaseClosedError\":throw new exceptions.DatabaseClosed(dbOpenError);case\"MissingAPIError\":throw new exceptions.MissingAPI(dbOpenError.message,dbOpenError);default:throw new exceptions.OpenFailed(dbOpenError)}if(!this.active)throw new exceptions.TransactionInactive;return assert(null===this._completion._state),(idbtrans=this.idbtrans=idbtrans||idbdb.transaction(safariMultiStoreFix(this.storeNames),this.mode)).onerror=wrap((function(ev){preventDefault(ev),_this._reject(idbtrans.error)})),idbtrans.onabort=wrap((function(ev){preventDefault(ev),_this.active&&_this._reject(new exceptions.Abort(idbtrans.error)),_this.active=!1,_this.on(\"abort\").fire(ev)})),idbtrans.oncomplete=wrap((function(){_this.active=!1,_this._resolve()})),this},_promise:function(mode,fn,bWriteLock){var _this=this;if(mode===READWRITE&&this.mode!==READWRITE)return rejection(new exceptions.ReadOnly(\"Transaction is readonly\"));if(!this.active)return rejection(new exceptions.TransactionInactive);if(this._locked())return new dexie_es_Promise((function(resolve,reject){_this._blockedFuncs.push([function(){_this._promise(mode,fn,bWriteLock).then(resolve,reject)},PSD])}));if(bWriteLock)return newScope((function(){var p=new dexie_es_Promise((function(resolve,reject){_this._lock();var rv=fn(resolve,reject,_this);rv&&rv.then&&rv.then(resolve,reject)}));return p.finally((function(){return _this._unlock()})),p._lib=!0,p}));var p=new dexie_es_Promise((function(resolve,reject){var rv=fn(resolve,reject,_this);rv&&rv.then&&rv.then(resolve,reject)}));return p._lib=!0,p},_root:function(){return this.parent?this.parent._root():this},waitFor:function(promise){var root=this._root();if(promise=dexie_es_Promise.resolve(promise),root._waitingFor)root._waitingFor=root._waitingFor.then((function(){return promise}));else{root._waitingFor=promise,root._waitingQueue=[];var store=root.idbtrans.objectStore(root.storeNames[0]);!function spin(){for(++root._spinCount;root._waitingQueue.length;)root._waitingQueue.shift()();root._waitingFor&&(store.get(-1/0).onsuccess=spin)}()}var currentWaitPromise=root._waitingFor;return new dexie_es_Promise((function(resolve,reject){promise.then((function(res){return root._waitingQueue.push(wrap(resolve.bind(null,res)))}),(function(err){return root._waitingQueue.push(wrap(reject.bind(null,err)))})).finally((function(){root._waitingFor===currentWaitPromise&&(root._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new exceptions.Abort),this.active=!1},tables:{get:(what=\"Transaction.tables\",fn=function(){return allTables},function(){return console.warn(what+\" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. \"+prettyStack(getErrorWithStack(),1)),fn.apply(this,arguments)})},table:function(name){return new Table(name,db.table(name).schema,this)}}),props(WhereClause.prototype,(function(){function fail(collectionOrWhereClause,err,T){var collection=collectionOrWhereClause instanceof WhereClause?new Collection(collectionOrWhereClause):collectionOrWhereClause;return collection._ctx.error=T?new T(err):new TypeError(err),collection}function emptyCollection(whereClause){return new Collection(whereClause,(function(){return IDBKeyRange.only(\"\")})).limit(0)}function nextCasing(key,lowerKey,upperNeedle,lowerNeedle,cmp,dir){for(var length=Math.min(key.length,lowerNeedle.length),llp=-1,i=0;i<length;++i){var lwrKeyChar=lowerKey[i];if(lwrKeyChar!==lowerNeedle[i])return cmp(key[i],upperNeedle[i])<0?key.substr(0,i)+upperNeedle[i]+upperNeedle.substr(i+1):cmp(key[i],lowerNeedle[i])<0?key.substr(0,i)+lowerNeedle[i]+upperNeedle.substr(i+1):llp>=0?key.substr(0,llp)+lowerKey[llp]+upperNeedle.substr(llp+1):null;cmp(key[i],lwrKeyChar)<0&&(llp=i)}return length<lowerNeedle.length&&\"next\"===dir?key+upperNeedle.substr(key.length):length<key.length&&\"prev\"===dir?key.substr(0,upperNeedle.length):llp<0?null:key.substr(0,llp)+lowerNeedle[llp]+upperNeedle.substr(llp+1)}function addIgnoreCaseAlgorithm(whereClause,match,needles,suffix){var upper,lower,compare,upperNeedles,lowerNeedles,direction,nextKeySuffix,needlesLen=needles.length;if(!needles.every((function(s){return\"string\"==typeof s})))return fail(whereClause,STRING_EXPECTED);function initDirection(dir){upper=function(dir){return\"next\"===dir?function(s){return s.toUpperCase()}:function(s){return s.toLowerCase()}}(dir),lower=function(dir){return\"next\"===dir?function(s){return s.toLowerCase()}:function(s){return s.toUpperCase()}}(dir),compare=\"next\"===dir?simpleCompare:simpleCompareReverse;var needleBounds=needles.map((function(needle){return{lower:lower(needle),upper:upper(needle)}})).sort((function(a,b){return compare(a.lower,b.lower)}));upperNeedles=needleBounds.map((function(nb){return nb.upper})),lowerNeedles=needleBounds.map((function(nb){return nb.lower})),direction=dir,nextKeySuffix=\"next\"===dir?\"\":suffix}initDirection(\"next\");var c=new Collection(whereClause,(function(){return IDBKeyRange.bound(upperNeedles[0],lowerNeedles[needlesLen-1]+suffix)}));c._ondirectionchange=function(direction){initDirection(direction)};var firstPossibleNeedle=0;return c._addAlgorithm((function(cursor,advance,resolve){var key=cursor.key;if(\"string\"!=typeof key)return!1;var lowerKey=lower(key);if(match(lowerKey,lowerNeedles,firstPossibleNeedle))return!0;for(var lowestPossibleCasing=null,i=firstPossibleNeedle;i<needlesLen;++i){var casing=nextCasing(key,lowerKey,upperNeedles[i],lowerNeedles[i],compare,direction);null===casing&&null===lowestPossibleCasing?firstPossibleNeedle=i+1:(null===lowestPossibleCasing||compare(lowestPossibleCasing,casing)>0)&&(lowestPossibleCasing=casing)}return advance(null!==lowestPossibleCasing?function(){cursor.continue(lowestPossibleCasing+nextKeySuffix)}:resolve),!1})),c}return{between:function(lower,upper,includeLower,includeUpper){includeLower=!1!==includeLower,includeUpper=!0===includeUpper;try{return cmp(lower,upper)>0||0===cmp(lower,upper)&&(includeLower||includeUpper)&&(!includeLower||!includeUpper)?emptyCollection(this):new Collection(this,(function(){return IDBKeyRange.bound(lower,upper,!includeLower,!includeUpper)}))}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}},equals:function(value){return new Collection(this,(function(){return IDBKeyRange.only(value)}))},above:function(value){return new Collection(this,(function(){return IDBKeyRange.lowerBound(value,!0)}))},aboveOrEqual:function(value){return new Collection(this,(function(){return IDBKeyRange.lowerBound(value)}))},below:function(value){return new Collection(this,(function(){return IDBKeyRange.upperBound(value,!0)}))},belowOrEqual:function(value){return new Collection(this,(function(){return IDBKeyRange.upperBound(value)}))},startsWith:function(str){return\"string\"!=typeof str?fail(this,STRING_EXPECTED):this.between(str,str+maxString,!0,!0)},startsWithIgnoreCase:function(str){return\"\"===str?this.startsWith(str):addIgnoreCaseAlgorithm(this,(function(x,a){return 0===x.indexOf(a[0])}),[str],maxString)},equalsIgnoreCase:function(str){return addIgnoreCaseAlgorithm(this,(function(x,a){return x===a[0]}),[str],\"\")},anyOfIgnoreCase:function(){var set=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return 0===set.length?emptyCollection(this):addIgnoreCaseAlgorithm(this,(function(x,a){return-1!==a.indexOf(x)}),set,\"\")},startsWithAnyOfIgnoreCase:function(){var set=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return 0===set.length?emptyCollection(this):addIgnoreCaseAlgorithm(this,(function(x,a){return a.some((function(n){return 0===x.indexOf(n)}))}),set,maxString)},anyOf:function(){var set=getArrayOf.apply(NO_CHAR_ARRAY,arguments),compare=ascending;try{set.sort(compare)}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}if(0===set.length)return emptyCollection(this);var c=new Collection(this,(function(){return IDBKeyRange.bound(set[0],set[set.length-1])}));c._ondirectionchange=function(direction){set.sort(compare=\"next\"===direction?ascending:descending)};var i=0;return c._addAlgorithm((function(cursor,advance,resolve){for(var key=cursor.key;compare(key,set[i])>0;)if(++i===set.length)return advance(resolve),!1;return 0===compare(key,set[i])||(advance((function(){cursor.continue(set[i])})),!1)})),c},notEqual:function(value){return this.inAnyRange([[minKey,value],[value,maxKey]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var set=getArrayOf.apply(NO_CHAR_ARRAY,arguments);if(0===set.length)return new Collection(this);try{set.sort(ascending)}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}var ranges=set.reduce((function(res,val){return res?res.concat([[res[res.length-1][1],val]]):[[minKey,val]]}),null);return ranges.push([set[set.length-1],maxKey]),this.inAnyRange(ranges,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(ranges,options){if(0===ranges.length)return emptyCollection(this);if(!ranges.every((function(range){return void 0!==range[0]&&void 0!==range[1]&&ascending(range[0],range[1])<=0})))return fail(this,\"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\",exceptions.InvalidArgument);var set,includeLowers=!options||!1!==options.includeLowers,includeUppers=options&&!0===options.includeUppers,sortDirection=ascending;function rangeSorter(a,b){return sortDirection(a[0],b[0])}try{(set=ranges.reduce((function(ranges,newRange){for(var i=0,l=ranges.length;i<l;++i){var range=ranges[i];if(cmp(newRange[0],range[1])<0&&cmp(newRange[1],range[0])>0){range[0]=cmp(a=range[0],b=newRange[0])<0?a:b,range[1]=max(range[1],newRange[1]);break}}var a,b;return i===l&&ranges.push(newRange),ranges}),[])).sort(rangeSorter)}catch(ex){return fail(this,INVALID_KEY_ARGUMENT)}var i=0,keyIsBeyondCurrentEntry=includeUppers?function(key){return ascending(key,set[i][1])>0}:function(key){return ascending(key,set[i][1])>=0},keyIsBeforeCurrentEntry=includeLowers?function(key){return descending(key,set[i][0])>0}:function(key){return descending(key,set[i][0])>=0},checkKey=keyIsBeyondCurrentEntry,c=new Collection(this,(function(){return IDBKeyRange.bound(set[0][0],set[set.length-1][1],!includeLowers,!includeUppers)}));return c._ondirectionchange=function(direction){\"next\"===direction?(checkKey=keyIsBeyondCurrentEntry,sortDirection=ascending):(checkKey=keyIsBeforeCurrentEntry,sortDirection=descending),set.sort(rangeSorter)},c._addAlgorithm((function(cursor,advance,resolve){for(var key=cursor.key;checkKey(key);)if(++i===set.length)return advance(resolve),!1;return!!function(key){return!keyIsBeyondCurrentEntry(key)&&!keyIsBeforeCurrentEntry(key)}(key)||0!==cmp(key,set[i][1])&&0!==cmp(key,set[i][0])&&(advance((function(){cursor.continue(sortDirection===ascending?set[i][0]:set[i][1])})),!1)})),c},startsWithAnyOf:function(){var set=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return set.every((function(s){return\"string\"==typeof s}))?0===set.length?emptyCollection(this):this.inAnyRange(set.map((function(str){return[str,str+maxString]}))):fail(this,\"startsWithAnyOf() only works with strings\")}}})),props(Collection.prototype,(function(){function addFilter(ctx,fn){ctx.filter=combine(ctx.filter,fn)}function addReplayFilter(ctx,factory,isLimitFilter){var curr=ctx.replayFilter;ctx.replayFilter=curr?function(){return combine(curr(),factory())}:factory,ctx.justLimit=isLimitFilter&&!curr}function getIndexOrStore(ctx,store){if(ctx.isPrimKey)return store;var indexSpec=ctx.table.schema.idxByName[ctx.index];if(!indexSpec)throw new exceptions.Schema(\"KeyPath \"+ctx.index+\" on object store \"+store.name+\" is not indexed\");return store.index(indexSpec.name)}function openCursor(ctx,store){var idxOrStore=getIndexOrStore(ctx,store);return ctx.keysOnly&&\"openKeyCursor\"in idxOrStore?idxOrStore.openKeyCursor(ctx.range||null,ctx.dir+ctx.unique):idxOrStore.openCursor(ctx.range||null,ctx.dir+ctx.unique)}function iter(ctx,fn,resolve,reject,idbstore){var filter=ctx.replayFilter?combine(ctx.filter,ctx.replayFilter()):ctx.filter;ctx.or?function(){var set={},resolved=0;function resolveboth(){2==++resolved&&resolve()}function union(item,cursor,advance){if(!filter||filter(cursor,advance,resolveboth,reject)){var primaryKey=cursor.primaryKey,key=\"\"+primaryKey;\"[object ArrayBuffer]\"===key&&(key=\"\"+new Uint8Array(primaryKey)),hasOwn(set,key)||(set[key]=!0,fn(item,cursor,advance))}}ctx.or._iterate(union,resolveboth,reject,idbstore),iterate(openCursor(ctx,idbstore),ctx.algorithm,union,resolveboth,reject,!ctx.keysOnly&&ctx.valueMapper)}():iterate(openCursor(ctx,idbstore),combine(ctx.algorithm,filter),fn,resolve,reject,!ctx.keysOnly&&ctx.valueMapper)}return{_read:function(fn,cb){var ctx=this._ctx;return ctx.error?ctx.table._trans(null,rejection.bind(null,ctx.error)):ctx.table._idbstore(\"readonly\",fn).then(cb)},_write:function(fn){var ctx=this._ctx;return ctx.error?ctx.table._trans(null,rejection.bind(null,ctx.error)):ctx.table._idbstore(READWRITE,fn,\"locked\")},_addAlgorithm:function(fn){var ctx=this._ctx;ctx.algorithm=combine(ctx.algorithm,fn)},_iterate:function(fn,resolve,reject,idbstore){return iter(this._ctx,fn,resolve,reject,idbstore)},clone:function(props$$1){var rv=Object.create(this.constructor.prototype),ctx=Object.create(this._ctx);return props$$1&&extend(ctx,props$$1),rv._ctx=ctx,rv},raw:function(){return this._ctx.valueMapper=null,this},each:function(fn){var ctx=this._ctx;return this._read((function(resolve,reject,idbstore){iter(ctx,fn,resolve,reject,idbstore)}))},count:function(cb){var ctx=this._ctx;if(isPlainKeyRange(ctx,!0))return this._read((function(resolve,reject,idbstore){var idx=getIndexOrStore(ctx,idbstore),req=ctx.range?idx.count(ctx.range):idx.count();req.onerror=eventRejectHandler(reject),req.onsuccess=function(e){resolve(Math.min(e.target.result,ctx.limit))}}),cb);var count=0;return this._read((function(resolve,reject,idbstore){iter(ctx,(function(){return++count,!1}),(function(){resolve(count)}),reject,idbstore)}),cb)},sortBy:function(keyPath,cb){var parts=keyPath.split(\".\").reverse(),lastPart=parts[0],lastIndex=parts.length-1;function getval(obj,i){return i?getval(obj[parts[i]],i-1):obj[lastPart]}var order=\"next\"===this._ctx.dir?1:-1;function sorter(a,b){var aVal=getval(a,lastIndex),bVal=getval(b,lastIndex);return aVal<bVal?-order:aVal>bVal?order:0}return this.toArray((function(a){return a.sort(sorter)})).then(cb)},toArray:function(cb){var ctx=this._ctx;return this._read((function(resolve,reject,idbstore){if(hasGetAll&&\"next\"===ctx.dir&&isPlainKeyRange(ctx,!0)&&ctx.limit>0){var readingHook=ctx.table.hook.reading.fire,idxOrStore=getIndexOrStore(ctx,idbstore),req=ctx.limit<1/0?idxOrStore.getAll(ctx.range,ctx.limit):idxOrStore.getAll(ctx.range);req.onerror=eventRejectHandler(reject),req.onsuccess=eventSuccessHandler(readingHook===mirror?resolve:function(res){try{resolve(res.map(readingHook))}catch(e){reject(e)}})}else{var a=[];iter(ctx,(function(item){a.push(item)}),(function(){resolve(a)}),reject,idbstore)}}),cb)},offset:function(offset){var ctx=this._ctx;return offset<=0?this:(ctx.offset+=offset,isPlainKeyRange(ctx)?addReplayFilter(ctx,(function(){var offsetLeft=offset;return function(cursor,advance){return 0===offsetLeft||(1===offsetLeft?(--offsetLeft,!1):(advance((function(){cursor.advance(offsetLeft),offsetLeft=0})),!1))}})):addReplayFilter(ctx,(function(){var offsetLeft=offset;return function(){return--offsetLeft<0}})),this)},limit:function(numRows){return this._ctx.limit=Math.min(this._ctx.limit,numRows),addReplayFilter(this._ctx,(function(){var rowsLeft=numRows;return function(cursor,advance,resolve){return--rowsLeft<=0&&advance(resolve),rowsLeft>=0}}),!0),this},until:function(filterFunction,bIncludeStopEntry){return addFilter(this._ctx,(function(cursor,advance,resolve){return!filterFunction(cursor.value)||(advance(resolve),bIncludeStopEntry)})),this},first:function(cb){return this.limit(1).toArray((function(a){return a[0]})).then(cb)},last:function(cb){return this.reverse().first(cb)},filter:function(filterFunction){return addFilter(this._ctx,(function(cursor){return filterFunction(cursor.value)})),function(ctx,fn){ctx.isMatch=combine(ctx.isMatch,fn)}(this._ctx,filterFunction),this},and:function(filterFunction){return this.filter(filterFunction)},or:function(indexName){return new WhereClause(this._ctx.table,indexName,this)},reverse:function(){return this._ctx.dir=\"prev\"===this._ctx.dir?\"next\":\"prev\",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(cb){var ctx=this._ctx;return ctx.keysOnly=!ctx.isMatch,this.each((function(val,cursor){cb(cursor.key,cursor)}))},eachUniqueKey:function(cb){return this._ctx.unique=\"unique\",this.eachKey(cb)},eachPrimaryKey:function(cb){var ctx=this._ctx;return ctx.keysOnly=!ctx.isMatch,this.each((function(val,cursor){cb(cursor.primaryKey,cursor)}))},keys:function(cb){var ctx=this._ctx;ctx.keysOnly=!ctx.isMatch;var a=[];return this.each((function(item,cursor){a.push(cursor.key)})).then((function(){return a})).then(cb)},primaryKeys:function(cb){var ctx=this._ctx;if(hasGetAll&&\"next\"===ctx.dir&&isPlainKeyRange(ctx,!0)&&ctx.limit>0)return this._read((function(resolve,reject,idbstore){var idxOrStore=getIndexOrStore(ctx,idbstore),req=ctx.limit<1/0?idxOrStore.getAllKeys(ctx.range,ctx.limit):idxOrStore.getAllKeys(ctx.range);req.onerror=eventRejectHandler(reject),req.onsuccess=eventSuccessHandler(resolve)})).then(cb);ctx.keysOnly=!ctx.isMatch;var a=[];return this.each((function(item,cursor){a.push(cursor.primaryKey)})).then((function(){return a})).then(cb)},uniqueKeys:function(cb){return this._ctx.unique=\"unique\",this.keys(cb)},firstKey:function(cb){return this.limit(1).keys((function(a){return a[0]})).then(cb)},lastKey:function(cb){return this.reverse().firstKey(cb)},distinct:function(){var ctx=this._ctx,idx=ctx.index&&ctx.table.schema.idxByName[ctx.index];if(!idx||!idx.multi)return this;var set={};return addFilter(this._ctx,(function(cursor){var strKey=cursor.primaryKey.toString(),found=hasOwn(set,strKey);return set[strKey]=!0,!found})),this},modify:function(changes){var self=this,hook=this._ctx.table.hook,updatingHook=hook.updating.fire,deletingHook=hook.deleting.fire;return this._write((function(resolve,reject,idbstore,trans){var modifyer;if(\"function\"==typeof changes)modifyer=updatingHook===nop&&deletingHook===nop?changes:function(item){var origItem=deepClone(item);if(!1===changes.call(this,item,this))return!1;if(hasOwn(this,\"value\")){var objectDiff=getObjectDiff(origItem,this.value),additionalChanges=updatingHook.call(this,objectDiff,this.primKey,origItem,trans);additionalChanges&&(item=this.value,dexie_es_keys(additionalChanges).forEach((function(keyPath){setByKeyPath(item,keyPath,additionalChanges[keyPath])})))}else deletingHook.call(this,this.primKey,item,trans)};else if(updatingHook===nop){var keyPaths=dexie_es_keys(changes),numKeys=keyPaths.length;modifyer=function(item){for(var anythingModified=!1,i=0;i<numKeys;++i){var keyPath=keyPaths[i],val=changes[keyPath];getByKeyPath(item,keyPath)!==val&&(setByKeyPath(item,keyPath,val),anythingModified=!0)}return anythingModified}}else{var origChanges=changes;changes=shallowClone(origChanges),modifyer=function(item){var anythingModified=!1,additionalChanges=updatingHook.call(this,changes,this.primKey,deepClone(item),trans);return additionalChanges&&extend(changes,additionalChanges),dexie_es_keys(changes).forEach((function(keyPath){var val=changes[keyPath];getByKeyPath(item,keyPath)!==val&&(setByKeyPath(item,keyPath,val),anythingModified=!0)})),additionalChanges&&(changes=shallowClone(origChanges)),anythingModified}}var count=0,successCount=0,iterationComplete=!1,failures=[],failKeys=[],currentKey=null;function doReject(e){return e&&(failures.push(e),failKeys.push(currentKey)),reject(new ModifyError(\"Error modifying one or more objects\",failures,successCount,failKeys))}function checkFinished(){iterationComplete&&successCount+failures.length===count&&(failures.length>0?doReject():resolve(successCount))}self.clone().raw()._iterate((function(item,cursor){currentKey=cursor.primaryKey;var thisContext={primKey:cursor.primaryKey,value:item,onsuccess:null,onerror:null};function onerror(e){return failures.push(e),failKeys.push(thisContext.primKey),checkFinished(),!0}if(!1!==modifyer.call(thisContext,item,thisContext)){var bDelete=!hasOwn(thisContext,\"value\");++count,tryCatch((function(){var req=bDelete?cursor.delete():cursor.update(thisContext.value);req._hookCtx=thisContext,req.onerror=hookedEventRejectHandler(onerror),req.onsuccess=hookedEventSuccessHandler((function(){++successCount,checkFinished()}))}),onerror)}else thisContext.onsuccess&&thisContext.onsuccess(thisContext.value)}),(function(){iterationComplete=!0,checkFinished()}),doReject,idbstore)}))},delete:function(){var _this=this,ctx=this._ctx,range=ctx.range,deletingHook=ctx.table.hook.deleting.fire,hasDeleteHook=deletingHook!==nop;if(!hasDeleteHook&&isPlainKeyRange(ctx)&&(ctx.isPrimKey&&!hangsOnDeleteLargeKeyRange||!range))return this._write((function(resolve,reject,idbstore){var onerror=eventRejectHandler(reject),countReq=range?idbstore.count(range):idbstore.count();countReq.onerror=onerror,countReq.onsuccess=function(){var count=countReq.result;tryCatch((function(){var delReq=range?idbstore.delete(range):idbstore.clear();delReq.onerror=onerror,delReq.onsuccess=function(){return resolve(count)}}),(function(err){return reject(err)}))}}));var CHUNKSIZE=hasDeleteHook?2e3:1e4;return this._write((function(resolve,reject,idbstore,trans){var totalCount=0,collection=_this.clone({keysOnly:!ctx.isMatch&&!hasDeleteHook}).distinct().limit(CHUNKSIZE).raw(),keysOrTuples=[],nextChunk=function(){return collection.each(hasDeleteHook?function(val,cursor){keysOrTuples.push([cursor.primaryKey,cursor.value])}:function(val,cursor){keysOrTuples.push(cursor.primaryKey)}).then((function(){return keysOrTuples.sort(hasDeleteHook?function(a,b){return ascending(a[0],b[0])}:ascending),bulkDelete(idbstore,trans,keysOrTuples,hasDeleteHook,deletingHook)})).then((function(){var count=keysOrTuples.length;return totalCount+=count,keysOrTuples=[],count<CHUNKSIZE?totalCount:nextChunk()}))};resolve(nextChunk())}))}}})),extend(this,{Collection:Collection,Table:Table,Transaction:Transaction,Version:Version,WhereClause:WhereClause}),db.on(\"versionchange\",(function(ev){ev.newVersion>0?console.warn(\"Another connection wants to upgrade database '\"+db.name+\"'. Closing db now to resume the upgrade.\"):console.warn(\"Another connection wants to delete database '\"+db.name+\"'. Closing db now to resume the delete request.\"),db.close()})),db.on(\"blocked\",(function(ev){!ev.newVersion||ev.newVersion<ev.oldVersion?console.warn(\"Dexie.delete('\"+db.name+\"') was blocked\"):console.warn(\"Upgrade '\"+db.name+\"' blocked by other connection holding version \"+ev.oldVersion/10)})),addons.forEach((function(fn){fn(db)}))}function applyStructure(obj,structure){return dexie_es_keys(structure).forEach((function(member){var value=function parseType(type){if(\"function\"==typeof type)return new type;if(dexie_es_isArray(type))return[parseType(type[0])];if(type&&\"object\"==typeof type){var rv={};return applyStructure(rv,type),rv}return type}(structure[member]);obj[member]=value})),obj}function hookedEventSuccessHandler(resolve){return wrap((function(event){var req=event.target,ctx=req._hookCtx,result=ctx.value||req.result,hookSuccessHandler=ctx&&ctx.onsuccess;hookSuccessHandler&&hookSuccessHandler(result),resolve&&resolve(result)}),resolve)}function eventRejectHandler(reject){return wrap((function(event){return preventDefault(event),reject(event.target.error),!1}))}function eventSuccessHandler(resolve){return wrap((function(event){resolve(event.target.result)}))}function hookedEventRejectHandler(reject){return wrap((function(event){var req=event.target,err=req.error,ctx=req._hookCtx,hookErrorHandler=ctx&&ctx.onerror;return hookErrorHandler&&hookErrorHandler(err),preventDefault(event),reject(err),!1}))}function preventDefault(event){event.stopPropagation&&event.stopPropagation(),event.preventDefault&&event.preventDefault()}function awaitIterator(iterator){var callNext=function(result){return iterator.next(result)},onSuccess=step(callNext),onError=step((function(error){return iterator.throw(error)}));function step(getNext){return function(val){var next=getNext(val),value=next.value;return next.done?value:value&&\"function\"==typeof value.then?value.then(onSuccess,onError):dexie_es_isArray(value)?dexie_es_Promise.all(value).then(onSuccess,onError):onSuccess(value)}}return step(callNext)()}function IndexSpec(name,keyPath,unique,multi,auto,compound,dotted){this.name=name,this.keyPath=keyPath,this.unique=unique,this.multi=multi,this.auto=auto,this.compound=compound,this.dotted=dotted;var keyPathSrc=\"string\"==typeof keyPath?keyPath:keyPath&&\"[\"+[].join.call(keyPath,\"+\")+\"]\";this.src=(unique?\"&\":\"\")+(multi?\"*\":\"\")+(auto?\"++\":\"\")+keyPathSrc}function TableSchema(name,primKey,indexes,instanceTemplate){this.name=name,this.primKey=primKey||new IndexSpec,this.indexes=indexes||[new IndexSpec],this.instanceTemplate=instanceTemplate,this.mappedClass=null,this.idxByName=arrayToObject(indexes,(function(index){return[index.name,index]}))}function safariMultiStoreFix(storeNames){return 1===storeNames.length?storeNames[0]:storeNames}function getNativeGetDatabaseNamesFn(indexedDB){var fn=indexedDB&&(indexedDB.getDatabaseNames||indexedDB.webkitGetDatabaseNames);return fn&&fn.bind(indexedDB)}setDebug(debug,dexieStackFrameFilter),props(Dexie,fullNameExceptions),props(Dexie,{delete:function(databaseName){var db=new Dexie(databaseName),promise=db.delete();return promise.onblocked=function(fn){return db.on(\"blocked\",fn),this},promise},exists:function(name){return new Dexie(name).open().then((function(db){return db.close(),!0})).catch(Dexie.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(cb){var getDatabaseNames=getNativeGetDatabaseNamesFn(Dexie.dependencies.indexedDB);return getDatabaseNames?new dexie_es_Promise((function(resolve,reject){var req=getDatabaseNames();req.onsuccess=function(event){resolve(slice(event.target.result,0))},req.onerror=eventRejectHandler(reject)})).then(cb):dbNamesDB.dbnames.toCollection().primaryKeys(cb)},defineClass:function(){return function(properties){properties&&extend(this,properties)}},applyStructure:applyStructure,ignoreTransaction:function(scopeFunc){return PSD.trans?usePSD(PSD.transless,scopeFunc):scopeFunc()},vip:function(fn){return newScope((function(){return PSD.letThrough=!0,fn()}))},async:function(generatorFn){return function(){try{var rv=awaitIterator(generatorFn.apply(this,arguments));return rv&&\"function\"==typeof rv.then?rv:dexie_es_Promise.resolve(rv)}catch(e){return rejection(e)}}},spawn:function(generatorFn,args,thiz){try{var rv=awaitIterator(generatorFn.apply(thiz,args||[]));return rv&&\"function\"==typeof rv.then?rv:dexie_es_Promise.resolve(rv)}catch(e){return rejection(e)}},currentTransaction:{get:function(){return PSD.trans||null}},waitFor:function(promiseOrFunction,optionalTimeout){var promise=dexie_es_Promise.resolve(\"function\"==typeof promiseOrFunction?Dexie.ignoreTransaction(promiseOrFunction):promiseOrFunction).timeout(optionalTimeout||6e4);return PSD.trans?PSD.trans.waitFor(promise):promise},Promise:dexie_es_Promise,debug:{get:function(){return debug},set:function(value){setDebug(value,\"dexie\"===value?function(){return!0}:dexieStackFrameFilter)}},derive:derive,extend:extend,props:props,override:override,Events:dexie_es_Events,getByKeyPath:getByKeyPath,setByKeyPath:setByKeyPath,delByKeyPath:function(obj,keyPath){\"string\"==typeof keyPath?setByKeyPath(obj,keyPath,void 0):\"length\"in keyPath&&[].map.call(keyPath,(function(kp){setByKeyPath(obj,kp,void 0)}))},shallowClone:shallowClone,deepClone:deepClone,getObjectDiff:getObjectDiff,asap:asap,maxKey:maxKey,minKey:minKey,addons:[],connections:connections,MultiModifyError:exceptions.Modify,errnames:errnames,IndexSpec:IndexSpec,TableSchema:TableSchema,dependencies:function(){try{return{indexedDB:dexie_es_global.indexedDB||dexie_es_global.mozIndexedDB||dexie_es_global.webkitIndexedDB||dexie_es_global.msIndexedDB,IDBKeyRange:dexie_es_global.IDBKeyRange||dexie_es_global.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:\"{version}\",version:\"{version}\".split(\".\").map((function(n){return parseInt(n)})).reduce((function(p,c,i){return p+c/Math.pow(10,2*i)})),default:Dexie,Dexie:Dexie}),dexie_es_Promise.rejectionMapper=function(domError,message){if(!domError||domError instanceof DexieError||domError instanceof TypeError||domError instanceof SyntaxError||!domError.name||!exceptionMap[domError.name])return domError;var rv=new exceptionMap[domError.name](message||domError.message,domError);return\"stack\"in domError&&setProp(rv,\"stack\",{get:function(){return this.inner.stack}}),rv},(dbNamesDB=new Dexie(\"__dbnames\")).version(1).stores({dbnames:\"name\"}),function(){try{void 0!==typeof localStorage&&void 0!==dexie_es_global.document&&(JSON.parse(localStorage.getItem(\"Dexie.DatabaseNames\")||\"[]\").forEach((function(name){return dbNamesDB.dbnames.put({name:name}).catch(nop)})),localStorage.removeItem(\"Dexie.DatabaseNames\"))}catch(_e){}}();var dexie_es=Dexie;let dexie_service_DexieService=(()=>{class DexieService extends dexie_es{constructor(){super(\"it4all-client\"),this.version(1).stores({collections:\"[id+toolId]\",exerciseBasics:\"[id+collId+toolId]\",sqlSolutions:\"[collId+exId]\"}),this.collections=this.table(\"collections\"),this.exerciseBasics=this.table(\"exerciseBasics\"),this.sqlSolutions=this.table(\"sqlSolutions\")}}return DexieService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new DexieService},token:DexieService,providedIn:\"root\"}),DexieService})();var RenderType_SqlExerciseComponent=createRendererType2({encapsulation:2,styles:[[\".CodeMirror{height:200px;border:1px solid grey;margin-bottom:40px}\"]],data:{}});function View_SqlExerciseComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function View_SqlExerciseComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,33,\"div\",[[\"class\",\"container is-fluid\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,32,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,26,\"div\",[[\"class\",\"column is-half-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,1,\"h1\",[[\"class\",\"title is-4 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Aufgabenstellung\"])),(_l()(),elementDef(5,0,null,null,1,\"div\",[[\"class\",\"notification\"]],null,null,null,null,null)),(_l()(),textDef(6,null,[\" \",\" \"])),(_l()(),elementDef(7,0,null,null,1,\"h1\",[[\"class\",\"title is-4 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Anfrage\"])),(_l()(),elementDef(9,0,null,null,5,\"ngx-codemirror\",[],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"]],(function(_v,en,$event){var ad=!0;return\"ngModelChange\"===en&&(ad=!1!==(_v.component.solution=$event)&&ad),ad}),View_CodemirrorComponent_0,RenderType_CodemirrorComponent)),directiveDef(10,4636672,null,0,ctrl_ngx_codemirror_CodemirrorComponent,[KeyValueDiffers,NgZone],{options:[0,\"options\"]},null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[ctrl_ngx_codemirror_CodemirrorComponent]),directiveDef(12,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(14,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(15,0,null,null,11,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(16,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(17,0,null,null,1,\"button\",[[\"class\",\"button is-link is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.correct()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Lösung testen\"])),(_l()(),elementDef(19,0,null,null,2,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(20,0,null,null,1,\"button\",[[\"class\",\"button is-primary is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.showSampleSolutions()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Musterlösungen anzeigen \"])),(_l()(),elementDef(22,0,null,null,4,\"div\",[[\"class\",\"column is-one-third-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(23,0,null,null,3,\"a\",[[\"class\",\"button is-dark is-fullwidth\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,24).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(24,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(25,4),(_l()(),textDef(-1,null,[\" Bearbeiten beenden \"])),(_l()(),elementDef(27,0,null,null,1,\"h1\",[[\"class\",\"title is-4 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Datenbankschema...\"])),(_l()(),elementDef(29,0,null,null,4,\"div\",[[\"class\",\"column is-half-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(30,0,null,null,1,\"h1\",[[\"class\",\"title is-4 has-text-centered\"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[\"Korrektur\"])),(_l()(),anchorDef(16777216,null,null,1,null,View_SqlExerciseComponent_1)),directiveDef(33,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,10,0,_co.editorOptions),_ck(_v,12,0,_co.solution);var currVal_12=_ck(_v,25,0,\"/tools\",_co.tool.id,\"collections\",null==_co.collection?null:_co.collection.id);_ck(_v,24,0,currVal_12),_ck(_v,33,0,_co.result)}),(function(_ck,_v){var _co=_v.component;_ck(_v,6,0,null==_co.exercise?null:_co.exercise.text),_ck(_v,9,0,nodeValue(_v,14).ngClassUntouched,nodeValue(_v,14).ngClassTouched,nodeValue(_v,14).ngClassPristine,nodeValue(_v,14).ngClassDirty,nodeValue(_v,14).ngClassValid,nodeValue(_v,14).ngClassInvalid,nodeValue(_v,14).ngClassPending),_ck(_v,23,0,nodeValue(_v,24).target,nodeValue(_v,24).href)}))}function View_SqlExerciseComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_SqlExerciseComponent_0,RenderType_SqlExerciseComponent)),directiveDef(1,114688,null,0,sql_exercise_component_SqlExerciseComponent,[router_ActivatedRoute,api_service_ApiService,dexie_service_DexieService,router_Router],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var SqlExerciseComponentNgFactory=createComponentFactory(\"ng-component\",sql_exercise_component_SqlExerciseComponent,View_SqlExerciseComponent_Host_0,{},{},[]);__webpack_require__(\"1p+/\");class web_exercise_component_WebExerciseComponent{constructor(route,apiService){this.route=route,this.apiService=apiService,this.tool=WebTool,this.collId=parseInt(route.snapshot.paramMap.get(\"collId\"),10),this.exId=parseInt(route.snapshot.paramMap.get(\"exId\"),10)}ngOnInit(){this.apiService.getExercise(this.tool.id,this.collId,this.exId).subscribe(ex=>this.exercise=ex)}correct(){console.error(\"TODO: correct!\")}showSampleSolution(){console.error(\"TODO: show sample solution...\")}}var RenderType_WebExerciseComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_WebExerciseComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"it4all-tab\",[],null,null,null,View_TabComponent_0,RenderType_TabComponent)),directiveDef(1,49152,[[1,4]],0,TabComponent,[],{title:[0,\"title\"]},null)],(function(_ck,_v){_ck(_v,1,0,\"Live-Vorschau\")}),null)}function View_WebExerciseComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,30,\"div\",[[\"class\",\"container is-fluid\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,29,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,2,\"div\",[[\"class\",\"column is-half-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,1,\"app-exercise-files-editor\",[],null,null,null,View_ExerciseFilesEditorComponent_0,RenderType_ExerciseFilesEditorComponent)),directiveDef(4,573440,null,0,exercise_files_editor_component_ExerciseFilesEditorComponent,[],{exerciseFiles:[0,\"exerciseFiles\"],mode:[1,\"mode\"]},null),(_l()(),elementDef(5,0,null,null,25,\"div\",[[\"class\",\"column is-half-desktop\"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,24,\"it4all-tabs\",[],null,null,null,View_TabsComponent_0,RenderType_TabsComponent)),directiveDef(7,1097728,null,1,TabsComponent,[],null,null),queryDef(603979776,1,{tabs:1}),(_l()(),elementDef(9,0,null,0,15,\"it4all-tab\",[],null,null,null,View_TabComponent_0,RenderType_TabComponent)),directiveDef(10,49152,[[1,4]],0,TabComponent,[],{title:[0,\"title\"]},null),(_l()(),elementDef(11,0,null,0,1,\"div\",[[\"class\",\"notification\"]],null,null,null,null,null)),(_l()(),textDef(12,null,[\"\",\"\"])),(_l()(),elementDef(13,0,null,0,11,\"div\",[[\"class\",\"columns\"]],null,null,null,null,null)),(_l()(),elementDef(14,0,null,null,2,\"div\",[[\"class\",\"column\"]],null,null,null,null,null)),(_l()(),elementDef(15,0,null,null,1,\"button\",[[\"class\",\"button is-link is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.correct()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Korrektur\"])),(_l()(),elementDef(17,0,null,null,2,\"div\",[[\"class\",\"column\"]],null,null,null,null,null)),(_l()(),elementDef(18,0,null,null,1,\"button\",[[\"class\",\"button is-primary is-fullwidth\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.showSampleSolution()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[\"Musterlösung anzeigen \"])),(_l()(),elementDef(20,0,null,null,4,\"div\",[[\"class\",\"column\"]],null,null,null,null,null)),(_l()(),elementDef(21,0,null,null,3,\"a\",[[\"class\",\"button is-dark is-fullwidth\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,22).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(22,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(23,4),(_l()(),textDef(-1,null,[\"Bearbeiten beenden\"])),(_l()(),elementDef(25,0,null,0,1,\"it4all-tab\",[],null,null,null,View_TabComponent_0,RenderType_TabComponent)),directiveDef(26,49152,[[1,4]],0,TabComponent,[],{title:[0,\"title\"]},null),(_l()(),anchorDef(16777216,null,0,1,null,View_WebExerciseComponent_1)),directiveDef(28,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"]},null),(_l()(),elementDef(29,0,null,0,1,\"it4all-tab\",[],null,null,null,View_TabComponent_0,RenderType_TabComponent)),directiveDef(30,49152,[[1,4]],0,TabComponent,[],{title:[0,\"title\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,null==_co.exercise?null:_co.exercise.files,\"htmlmixed\"),_ck(_v,10,0,\"Aufgabenstellung\");var currVal_6=_ck(_v,23,0,\"/tools\",\"programming\",\"collections\",_co.collId);_ck(_v,22,0,currVal_6),_ck(_v,26,0,\"Korrektur\"),_ck(_v,28,0,_co.tool.hasLivePreview),_ck(_v,30,0,\"Musterlösung(en)\")}),(function(_ck,_v){var _co=_v.component;_ck(_v,12,0,null==_co.exercise?null:_co.exercise.text),_ck(_v,21,0,nodeValue(_v,22).target,nodeValue(_v,22).href)}))}function View_WebExerciseComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"ng-component\",[],null,null,null,View_WebExerciseComponent_0,RenderType_WebExerciseComponent)),directiveDef(1,114688,null,0,web_exercise_component_WebExerciseComponent,[router_ActivatedRoute,api_service_ApiService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var WebExerciseComponentNgFactory=createComponentFactory(\"ng-component\",web_exercise_component_WebExerciseComponent,View_WebExerciseComponent_Host_0,{},{},[]),RenderType_AppComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_AppComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,2,\"div\",[[\"class\",\"buttons\"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,1,\"a\",[[\"class\",\"button is-light\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.logout()&&ad),ad}),null,null)),(_l()(),textDef(3,null,[\"Logout \",\"\"]))],null,(function(_ck,_v){_ck(_v,3,0,_v.component.currentUser.id)}))}function View_AppComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,\"div\",[[\"class\",\"buttons\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,3,\"a\",[[\"class\",\"button is-light\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,2).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(2,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(3,1),(_l()(),textDef(-1,null,[\"Login\"]))],(function(_ck,_v){var currVal_2=_ck(_v,3,0,\"/loginForm\");_ck(_v,2,0,currVal_2)}),(function(_ck,_v){_ck(_v,1,0,nodeValue(_v,2).target,nodeValue(_v,2).href)}))}function View_AppComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,11,\"nav\",[[\"aria-label\",\"main navigation\"],[\"class\",\"navbar is-dark\"],[\"role\",\"navigation\"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,4,\"div\",[[\"class\",\"navbar-brand\"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,3,\"a\",[[\"class\",\"navbar-item\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==nodeValue(_v,3).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(3,671744,null,0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,\"routerLink\"]},null),pureArrayDef(4,1),(_l()(),textDef(-1,null,[\"it4all - β\"])),(_l()(),elementDef(6,0,null,null,5,\"div\",[[\"class\",\"navbar-menu\"],[\"id\",\"navbarBasicExample\"]],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,4,\"div\",[[\"class\",\"navbar-end\"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,3,\"div\",[[\"class\",\"navbar-item\"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_AppComponent_1)),directiveDef(10,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,\"ngIf\"],ngIfElse:[1,\"ngIfElse\"]},null),(_l()(),anchorDef(0,[[\"noUserBlock\",2]],null,0,null,View_AppComponent_2)),(_l()(),elementDef(12,0,null,null,0,\"br\",[],null,null,null,null,null)),(_l()(),elementDef(13,16777216,null,null,1,\"router-outlet\",[],null,null,null,null,null)),directiveDef(14,212992,null,0,router_RouterOutlet,[ChildrenOutletContexts,ViewContainerRef,ComponentFactoryResolver,[8,null],ChangeDetectorRef],null,null)],(function(_ck,_v){var _co=_v.component,currVal_2=_ck(_v,4,0,\"/\");_ck(_v,3,0,currVal_2),_ck(_v,10,0,_co.currentUser,nodeValue(_v,11)),_ck(_v,14,0)}),(function(_ck,_v){_ck(_v,2,0,nodeValue(_v,3).target,nodeValue(_v,3).href)}))}function View_AppComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,\"it4all-root\",[],null,null,null,View_AppComponent_0,RenderType_AppComponent)),directiveDef(1,49152,null,0,AppComponent,[authentication_service_AuthenticationService,platform_browser_Title],null,null)],null,null)}var AppComponentNgFactory=createComponentFactory(\"it4all-root\",AppComponent,View_AppComponent_Host_0,{},{},[]);class JwtInterceptor{constructor(authenticationService){this.authenticationService=authenticationService}intercept(request,next){const currentUser=this.authenticationService.currentUserValue;return currentUser&&currentUser.token&&(request=request.clone({setHeaders:{Authorization:`Bearer ${currentUser.token}`}})),next.handle(request)}}class error_interceptor_ErrorInterceptor{constructor(authenticationService){this.authenticationService=authenticationService}intercept(request,next){return next.handle(request).pipe(catchError(err=>(401===err.status&&this.authenticationService.logout(),function(error,scheduler){return new Observable_Observable(subscriber=>subscriber.error(error))}(err.error.message||err.statusTest))))}}let auth_guard_AuthGuard=(()=>{class AuthGuard{constructor(router,authenticationService){this.router=router,this.authenticationService=authenticationService}canActivate(route,state){return!!this.authenticationService.currentUserValue||(this.router.navigate([\"/loginForm\"],{queryParams:{returnUrl:state.url}}),!1)}}return AuthGuard.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new AuthGuard(ɵɵinject(router_Router),ɵɵinject(authentication_service_AuthenticationService))},token:AuthGuard,providedIn:\"root\"}),AuthGuard})();class AppRoutingModule{}var AppModuleNgFactory=createNgModuleFactory(AppModule,[AppComponent],(function(_l){return function(providers){const providersByKey={},modules=[];let isRoot=!1;for(let i=0;i<providers.length;i++){const provider=providers[i];provider.token===APP_ROOT&&!0===provider.value&&(isRoot=!0),1073741824&provider.flags&&modules.push(provider.token),provider.index=i,providersByKey[tokenKey(provider.token)]=provider}return{factory:null,providersByKey:providersByKey,providers:providers,modules:modules,isRoot:isRoot}}([moduleProvideDef(512,ComponentFactoryResolver,CodegenComponentFactoryResolver,[[8,[ɵangular_packages_router_router_lNgFactory,ToolOverviewComponentNgFactory,LoginFormComponentNgFactory,RandomOverviewComponentNgFactory,BoolFillOutComponentNgFactory,BoolCreateComponentNgFactory,NaryAdditionComponentNgFactory,NaryConversionComponentNgFactory,NaryTwoConversionComponentNgFactory,ToolIndexComponentNgFactory,CollectionIndexComponentNgFactory,ProgrammingExerciseComponentNgFactory,RegexExerciseComponentNgFactory,SqlExerciseComponentNgFactory,WebExerciseComponentNgFactory,AppComponentNgFactory]],[3,ComponentFactoryResolver],NgModuleRef]),moduleProvideDef(5120,LOCALE_ID$1,_localeFactory,[[3,LOCALE_ID$1]]),moduleProvideDef(4608,NgLocalization,NgLocaleLocalization,[LOCALE_ID$1,[2,DEPRECATED_PLURAL_FN]]),moduleProvideDef(5120,SCHEDULER,zoneSchedulerFactory,[NgZone]),moduleProvideDef(5120,APP_ID,_appIdRandomProviderFactory,[]),moduleProvideDef(5120,IterableDiffers,_iterableDiffersFactory,[]),moduleProvideDef(5120,KeyValueDiffers,_keyValueDiffersFactory,[]),moduleProvideDef(4608,DomSanitizer,platform_browser_DomSanitizerImpl,[DOCUMENT]),moduleProvideDef(6144,Sanitizer,null,[DomSanitizer]),moduleProvideDef(4608,HAMMER_GESTURE_CONFIG,HammerGestureConfig,[]),moduleProvideDef(5120,EVENT_MANAGER_PLUGINS,(function(p0_0,p0_1,p0_2,p1_0,p2_0,p2_1,p2_2,p2_3){return[new platform_browser_DomEventsPlugin(p0_0,p0_1,p0_2),new KeyEventsPlugin(p1_0),new HammerGesturesPlugin(p2_0,p2_1,p2_2,p2_3)]}),[DOCUMENT,NgZone,PLATFORM_ID,DOCUMENT,DOCUMENT,HAMMER_GESTURE_CONFIG,Console,[2,HAMMER_LOADER]]),moduleProvideDef(4608,EventManager,EventManager,[EVENT_MANAGER_PLUGINS,NgZone]),moduleProvideDef(135680,DomSharedStylesHost,DomSharedStylesHost,[DOCUMENT]),moduleProvideDef(4608,platform_browser_DomRendererFactory2,platform_browser_DomRendererFactory2,[EventManager,DomSharedStylesHost,APP_ID]),moduleProvideDef(6144,RendererFactory2,null,[platform_browser_DomRendererFactory2]),moduleProvideDef(6144,SharedStylesHost,null,[DomSharedStylesHost]),moduleProvideDef(4608,Testability,Testability,[NgZone]),moduleProvideDef(4608,HttpXsrfTokenExtractor,http_HttpXsrfCookieExtractor,[DOCUMENT,PLATFORM_ID,XSRF_COOKIE_NAME]),moduleProvideDef(4608,HttpXsrfInterceptor,HttpXsrfInterceptor,[HttpXsrfTokenExtractor,XSRF_HEADER_NAME]),moduleProvideDef(5120,HTTP_INTERCEPTORS,(function(p0_0,p1_0,p2_0){return[p0_0,new JwtInterceptor(p1_0),new error_interceptor_ErrorInterceptor(p2_0)]}),[HttpXsrfInterceptor,authentication_service_AuthenticationService,authentication_service_AuthenticationService]),moduleProvideDef(4608,BrowserXhr,BrowserXhr,[]),moduleProvideDef(6144,XhrFactory,null,[BrowserXhr]),moduleProvideDef(4608,http_HttpXhrBackend,http_HttpXhrBackend,[XhrFactory]),moduleProvideDef(6144,HttpBackend,null,[http_HttpXhrBackend]),moduleProvideDef(4608,HttpHandler,HttpInterceptingHandler,[HttpBackend,Injector]),moduleProvideDef(4608,http_HttpClient,http_HttpClient,[HttpHandler]),moduleProvideDef(5120,router_ActivatedRoute,rootRoute,[router_Router]),moduleProvideDef(4608,router_NoPreloading,router_NoPreloading,[]),moduleProvideDef(6144,PreloadingStrategy,null,[router_NoPreloading]),moduleProvideDef(135680,router_RouterPreloader,router_RouterPreloader,[router_Router,NgModuleFactoryLoader,Compiler,Injector,PreloadingStrategy]),moduleProvideDef(4608,router_PreloadAllModules,router_PreloadAllModules,[]),moduleProvideDef(5120,RouterScroller,createRouterScroller,[router_Router,common_ViewportScroller,ROUTER_CONFIGURATION]),moduleProvideDef(5120,ROUTER_INITIALIZER,getBootstrapListener,[router_RouterInitializer]),moduleProvideDef(5120,APP_BOOTSTRAP_LISTENER,(function(p0_0){return[p0_0]}),[ROUTER_INITIALIZER]),moduleProvideDef(4608,RadioControlRegistry,RadioControlRegistry,[]),moduleProvideDef(4608,FormBuilder,FormBuilder,[]),moduleProvideDef(4608,platform_browser_Title,platform_browser_Title,[DOCUMENT]),moduleProvideDef(1073742336,CommonModule,CommonModule,[]),moduleProvideDef(1024,ErrorHandler,errorHandler,[]),moduleProvideDef(1024,NgProbeToken,(function(){return[routerNgProbeToken()]}),[]),moduleProvideDef(512,router_RouterInitializer,router_RouterInitializer,[Injector]),moduleProvideDef(1024,APP_INITIALIZER,(function(p0_0,p1_0){return[(coreTokens=p0_0,exportNgVar(\"probe\",inspectNativeElement),exportNgVar(\"coreTokens\",Object.assign({},CORE_TOKENS,(coreTokens||[]).reduce((prev,t)=>(prev[t.name]=t.token,prev),{}))),()=>inspectNativeElement),getAppInitializer(p1_0)];var coreTokens}),[[2,NgProbeToken],router_RouterInitializer]),moduleProvideDef(512,ApplicationInitStatus,ApplicationInitStatus,[[2,APP_INITIALIZER]]),moduleProvideDef(131584,core_ApplicationRef,core_ApplicationRef,[NgZone,Console,Injector,ErrorHandler,ComponentFactoryResolver,ApplicationInitStatus]),moduleProvideDef(1073742336,ApplicationModule,ApplicationModule,[core_ApplicationRef]),moduleProvideDef(1073742336,platform_browser_BrowserModule,platform_browser_BrowserModule,[[3,platform_browser_BrowserModule]]),moduleProvideDef(1073742336,HttpClientXsrfModule,HttpClientXsrfModule,[]),moduleProvideDef(1073742336,HttpClientModule,HttpClientModule,[]),moduleProvideDef(1024,ROUTER_FORROOT_GUARD,provideForRootGuard,[[3,router_Router]]),moduleProvideDef(512,UrlSerializer,DefaultUrlSerializer,[]),moduleProvideDef(512,ChildrenOutletContexts,ChildrenOutletContexts,[]),moduleProvideDef(256,ROUTER_CONFIGURATION,{},[]),moduleProvideDef(1024,LocationStrategy,provideLocationStrategy,[PlatformLocation,[2,APP_BASE_HREF],ROUTER_CONFIGURATION]),moduleProvideDef(512,common_Location,common_Location,[LocationStrategy,PlatformLocation]),moduleProvideDef(512,Compiler,Compiler,[]),moduleProvideDef(512,NgModuleFactoryLoader,SystemJsNgModuleLoader,[Compiler,[2,SystemJsNgModuleLoaderConfig]]),moduleProvideDef(1024,ROUTES,(function(){return[[{path:\"\",component:tool_overview_component_ToolOverviewComponent,canActivate:[auth_guard_AuthGuard]},{path:\"loginForm\",component:login_form_component_LoginFormComponent},{path:\"randomTools/:toolId\",component:random_overview_component_RandomOverviewComponent,canActivate:[auth_guard_AuthGuard]},{path:\"randomTools/bool/fillOut\",component:bool_fill_out_component_BoolFillOutComponent,canActivate:[auth_guard_AuthGuard]},{path:\"randomTools/bool/create\",component:bool_create_component_BoolCreateComponent,canActivate:[auth_guard_AuthGuard]},{path:\"randomTools/nary/addition\",component:nary_addition_component_NaryAdditionComponent,canActivate:[auth_guard_AuthGuard]},{path:\"randomTools/nary/conversion\",component:nary_conversion_component_NaryConversionComponent,canActivate:[auth_guard_AuthGuard]},{path:\"randomTools/nary/twoConversion\",component:nary_two_conversion_component_NaryTwoConversionComponent,canActivate:[auth_guard_AuthGuard]},{path:\"tools/:toolId\",component:ToolIndexComponent,canActivate:[auth_guard_AuthGuard]},{path:\"tools/:toolId/collections/:collId\",component:collection_index_component_CollectionIndexComponent,canActivate:[auth_guard_AuthGuard]},{path:\"tools/programming/collections/:collId/exercises/:exId/parts/:partId\",component:programming_exercise_component_ProgrammingExerciseComponent,canActivate:[auth_guard_AuthGuard]},{path:\"tools/regex/collections/:collId/exercises/:exId/parts/:partId\",component:regex_exercise_component_RegexExerciseComponent,canActivate:[auth_guard_AuthGuard]},{path:\"tools/sql/collections/:collId/exercises/:exId/parts/:partId\",component:sql_exercise_component_SqlExerciseComponent,canActivate:[auth_guard_AuthGuard]},{path:\"tools/web/collections/:collId/exercises/:exId/parts/:partId\",component:web_exercise_component_WebExerciseComponent,canActivate:[auth_guard_AuthGuard]}]]}),[]),moduleProvideDef(1024,router_Router,setupRouter,[core_ApplicationRef,UrlSerializer,ChildrenOutletContexts,common_Location,Injector,NgModuleFactoryLoader,Compiler,ROUTES,ROUTER_CONFIGURATION,[2,UrlHandlingStrategy],[2,RouteReuseStrategy]]),moduleProvideDef(1073742336,router_RouterModule,router_RouterModule,[[2,ROUTER_FORROOT_GUARD],[2,router_Router]]),moduleProvideDef(1073742336,AppRoutingModule,AppRoutingModule,[]),moduleProvideDef(1073742336,ɵInternalFormsSharedModule,ɵInternalFormsSharedModule,[]),moduleProvideDef(1073742336,FormsModule,FormsModule,[]),moduleProvideDef(1073742336,ReactiveFormsModule,ReactiveFormsModule,[]),moduleProvideDef(1073742336,CodemirrorModule,CodemirrorModule,[]),moduleProvideDef(1073742336,AppModule,AppModule,[]),moduleProvideDef(256,APP_ROOT,!0,[]),moduleProvideDef(256,XSRF_COOKIE_NAME,\"XSRF-TOKEN\",[]),moduleProvideDef(256,XSRF_HEADER_NAME,\"X-XSRF-TOKEN\",[])])}));(function(){if(_runModeLocked)throw new Error(\"Cannot enable prod mode after platform setup.\");_devMode=!1})(),platformBrowser().bootstrapModuleFactory(AppModuleNgFactory).catch(err=>console.error(err))},zn8P:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error(\"Cannot find module '\"+req+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=\"zn8P\"}},[[0,0]]]);","extractedComments":[]}