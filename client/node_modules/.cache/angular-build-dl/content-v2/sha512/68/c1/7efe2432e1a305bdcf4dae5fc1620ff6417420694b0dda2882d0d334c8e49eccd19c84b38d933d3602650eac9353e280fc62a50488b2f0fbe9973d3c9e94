(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+dQi":function(e,t,n){!function(e){"use strict";e.defineMode("javascript",(function(t,n){var r,i,o=t.indentUnit,l=n.statementIndent,s=n.jsonld,a=n.json||s,u=n.typescript,c=n.wordCharacters||/[\w$\xa1-\uffff]/,h=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),l={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:l,false:l,null:l,undefined:l,NaN:l,Infinity:l,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),d=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function p(e,t,n){return r=e,i=n,t}function m(e,t){var n,r=e.next();if('"'==r||"'"==r)return t.tokenize=(n=r,function(e,t){var r,i=!1;if(s&&"@"==e.peek()&&e.match(f))return t.tokenize=m,p("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=n||i);)i=!i&&"\\"==r;return i||(t.tokenize=m),p("string","string")}),t.tokenize(e,t);if("."==r&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return p("number","number");if("."==r&&e.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return p(r);if("="==r&&e.eat(">"))return p("=>","operator");if("0"==r&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return p("number","number");if(/\d/.test(r))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),p("number","number");if("/"==r)return e.eat("*")?(t.tokenize=g,g(e,t)):e.eat("/")?(e.skipToEnd(),p("comment","comment")):Ge(e,t,1)?(function(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string-2")):(e.eat("="),p("operator","operator",e.current()));if("`"==r)return t.tokenize=v,v(e,t);if("#"==r)return e.skipToEnd(),p("error","error");if("<"==r&&e.match("!--")||"-"==r&&e.match("->"))return e.skipToEnd(),p("comment","comment");if(d.test(r))return">"==r&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=r&&"="!=r||e.eat("="):/[<>*+\-]/.test(r)&&(e.eat(r),">"==r&&e.eat(r))),p("operator","operator",e.current());if(c.test(r)){e.eatWhile(c);var i=e.current();if("."!=t.lastType){if(h.propertyIsEnumerable(i)){var o=h[i];return p(o.type,o.style,i)}if("async"==i&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",i)}return p("variable","variable",i)}}function g(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=m;break}r="*"==n}return p("comment","comment")}function v(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=m;break}r=!r&&"\\"==n}return p("quasi","string-2",e.current())}var y="([{}])";function b(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(u){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,l=n-1;l>=0;--l){var s=e.string.charAt(l),a=y.indexOf(s);if(a>=0&&a<3){if(!i){++l;break}if(0==--i){"("==s&&(o=!0);break}}else if(a>=3&&a<6)++i;else if(c.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--l){if(0==l)return;if(e.string.charAt(l-1)==s&&"\\"!=e.string.charAt(l-2)){l--;break}}else if(o&&!i){++l;break}}o&&!i&&(t.fatArrowAt=l)}}var w={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function _(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function x(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}var C={state:null,column:null,marked:null,cc:null};function k(){for(var e=arguments.length-1;e>=0;e--)C.cc.push(arguments[e])}function S(){return k.apply(null,arguments),!0}function E(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function T(e){var t=C.state;if(C.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=function e(t,n){if(n){if(n.block){var r=e(t,n.prev);return r?r==n.prev?n:new A(r,n.vars,!0):null}return E(t,n.vars)?n:new A(n.prev,new I(t,n.vars),!1)}return null}(e,t.context);if(null!=r)return void(t.context=r)}else if(!E(e,t.localVars))return void(t.localVars=new I(e,t.localVars));n.globalVars&&!E(e,t.globalVars)&&(t.globalVars=new I(e,t.globalVars))}function O(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function A(e,t,n){this.prev=e,this.vars=t,this.block=n}function I(e,t){this.name=e,this.next=t}var N=new I("this",new I("arguments",null));function R(){C.state.context=new A(C.state.context,C.state.localVars,!1),C.state.localVars=N}function L(){C.state.context=new A(C.state.context,C.state.localVars,!0),C.state.localVars=null}function M(){C.state.localVars=C.state.context.vars,C.state.context=C.state.context.prev}function P(e,t){var n=function(){var n=C.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new _(r,C.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function D(){var e=C.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function j(e){return function t(n){return n==e?S():";"==e||"}"==n||")"==n||"]"==n?k():S(t)}}function F(e,t){return"var"==e?S(P("vardef",t),be,j(";"),D):"keyword a"==e?S(P("form"),H,F,D):"keyword b"==e?S(P("form"),F,D):"keyword d"==e?C.stream.match(/^\s*$/,!1)?S():S(P("stat"),W,j(";"),D):"debugger"==e?S(j(";")):"{"==e?S(P("}"),L,le,D,M):";"==e?S():"if"==e?("else"==C.state.lexical.info&&C.state.cc[C.state.cc.length-1]==D&&C.state.cc.pop()(),S(P("form"),H,F,D,Se)):"function"==e?S(Ae):"for"==e?S(P("form"),Ee,F,D):"class"==e||u&&"interface"==t?(C.marked="keyword",S(P("form","class"==e?e:t),Me,D)):"variable"==e?u&&"declare"==t?(C.marked="keyword",S(F)):u&&("module"==t||"enum"==t||"type"==t)&&C.stream.match(/^\s*\w/,!1)?(C.marked="keyword","enum"==t?S(Ke):"type"==t?S(Ne,j("operator"),he,j(";")):S(P("form"),we,j("{"),P("}"),le,D,D)):u&&"namespace"==t?(C.marked="keyword",S(P("form"),V,F,D)):u&&"abstract"==t?(C.marked="keyword",S(F)):S(P("stat"),J):"switch"==e?S(P("form"),H,j("{"),P("}","switch"),L,le,D,D,M):"case"==e?S(V,j(":")):"default"==e?S(j(":")):"catch"==e?S(P("form"),R,U,F,D,M):"export"==e?S(P("stat"),Fe,D):"import"==e?S(P("stat"),Ve,D):"async"==e?S(F):"@"==t?S(V,F):k(P("stat"),V,j(";"),D)}function U(e){if("("==e)return S(Re,j(")"))}function V(e,t){return B(e,t,!1)}function z(e,t){return B(e,t,!0)}function H(e){return"("!=e?k():S(P(")"),V,j(")"),D)}function B(e,t,n){if(C.state.fatArrowAt==C.stream.start){var r=n?Q:Z;if("("==e)return S(R,P(")"),ie(Re,")"),D,j("=>"),r,M);if("variable"==e)return k(R,we,j("=>"),r,M)}var i=n?K:$;return w.hasOwnProperty(e)?S(i):"function"==e?S(Ae,i):"class"==e||u&&"interface"==t?(C.marked="keyword",S(P("form"),Le,D)):"keyword c"==e||"async"==e?S(n?z:V):"("==e?S(P(")"),W,j(")"),D,i):"operator"==e||"spread"==e?S(n?z:V):"["==e?S(P("]"),$e,D,i):"{"==e?oe(te,"}",null,i):"quasi"==e?k(q,i):"new"==e?S(function(e){return function(t){return"."==t?S(e?X:Y):"variable"==t&&u?S(ge,e?K:$):k(e?z:V)}}(n)):"import"==e?S(V):S()}function W(e){return e.match(/[;\}\)\],]/)?k():k(V)}function $(e,t){return","==e?S(V):K(e,t,!1)}function K(e,t,n){var r=0==n?$:K,i=0==n?V:z;return"=>"==e?S(R,n?Q:Z,M):"operator"==e?/\+\+|--/.test(t)||u&&"!"==t?S(r):u&&"<"==t&&C.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?S(P(">"),ie(he,">"),D,r):"?"==t?S(V,j(":"),i):S(i):"quasi"==e?k(q,r):";"!=e?"("==e?oe(z,")","call",r):"."==e?S(ee,r):"["==e?S(P("]"),W,j("]"),D,r):u&&"as"==t?(C.marked="keyword",S(he,r)):"regexp"==e?(C.state.lastType=C.marked="operator",C.stream.backUp(C.stream.pos-C.stream.start-1),S(i)):void 0:void 0}function q(e,t){return"quasi"!=e?k():"${"!=t.slice(t.length-2)?S(q):S(V,G)}function G(e){if("}"==e)return C.marked="string-2",C.state.tokenize=v,S(q)}function Z(e){return b(C.stream,C.state),k("{"==e?F:V)}function Q(e){return b(C.stream,C.state),k("{"==e?F:z)}function Y(e,t){if("target"==t)return C.marked="keyword",S($)}function X(e,t){if("target"==t)return C.marked="keyword",S(K)}function J(e){return":"==e?S(D,F):k($,j(";"),D)}function ee(e){if("variable"==e)return C.marked="property",S()}function te(e,t){return"async"==e?(C.marked="property",S(te)):"variable"==e||"keyword"==C.style?(C.marked="property","get"==t||"set"==t?S(ne):(u&&C.state.fatArrowAt==C.stream.start&&(n=C.stream.match(/^\s*:\s*/,!1))&&(C.state.fatArrowAt=C.stream.pos+n[0].length),S(re))):"number"==e||"string"==e?(C.marked=s?"property":C.style+" property",S(re)):"jsonld-keyword"==e?S(re):u&&O(t)?(C.marked="keyword",S(te)):"["==e?S(V,se,j("]"),re):"spread"==e?S(z,re):"*"==t?(C.marked="keyword",S(te)):":"==e?k(re):void 0;var n}function ne(e){return"variable"!=e?k(re):(C.marked="property",S(Ae))}function re(e){return":"==e?S(z):"("==e?k(Ae):void 0}function ie(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var l=C.state.lexical;return"call"==l.info&&(l.pos=(l.pos||0)+1),S((function(n,r){return n==t||r==t?k():k(e)}),r)}return i==t||o==t?S():n&&n.indexOf(";")>-1?k(e):S(j(t))}return function(n,i){return n==t||i==t?S():k(e,r)}}function oe(e,t,n){for(var r=3;r<arguments.length;r++)C.cc.push(arguments[r]);return S(P(t,n),ie(e,t),D)}function le(e){return"}"==e?S():k(F,le)}function se(e,t){if(u){if(":"==e)return S(he);if("?"==t)return S(se)}}function ae(e,t){if(u&&(":"==e||"in"==t))return S(he)}function ue(e){if(u&&":"==e)return C.stream.match(/^\s*\w+\s+is\b/,!1)?S(V,ce,he):S(he)}function ce(e,t){if("is"==t)return C.marked="keyword",S()}function he(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(C.marked="keyword",S("typeof"==t?z:he)):"variable"==e||"void"==t?(C.marked="type",S(me)):"|"==t||"&"==t?S(he):"string"==e||"number"==e||"atom"==e?S(me):"["==e?S(P("]"),ie(he,"]",","),D,me):"{"==e?S(P("}"),ie(fe,"}",",;"),D,me):"("==e?S(ie(pe,")"),de,me):"<"==e?S(ie(he,">"),he):void 0}function de(e){if("=>"==e)return S(he)}function fe(e,t){return"variable"==e||"keyword"==C.style?(C.marked="property",S(fe)):"?"==t||"number"==e||"string"==e?S(fe):":"==e?S(he):"["==e?S(j("variable"),ae,j("]"),fe):"("==e?k(Ie,fe):void 0}function pe(e,t){return"variable"==e&&C.stream.match(/^\s*[?:]/,!1)||"?"==t?S(pe):":"==e?S(he):"spread"==e?S(pe):k(he)}function me(e,t){return"<"==t?S(P(">"),ie(he,">"),D,me):"|"==t||"."==e||"&"==t?S(he):"["==e?S(he,j("]"),me):"extends"==t||"implements"==t?(C.marked="keyword",S(he)):"?"==t?S(he,j(":"),he):void 0}function ge(e,t){if("<"==t)return S(P(">"),ie(he,">"),D,me)}function ve(){return k(he,ye)}function ye(e,t){if("="==t)return S(he)}function be(e,t){return"enum"==t?(C.marked="keyword",S(Ke)):k(we,se,Ce,ke)}function we(e,t){return u&&O(t)?(C.marked="keyword",S(we)):"variable"==e?(T(t),S()):"spread"==e?S(we):"["==e?oe(xe,"]"):"{"==e?oe(_e,"}"):void 0}function _e(e,t){return"variable"!=e||C.stream.match(/^\s*:/,!1)?("variable"==e&&(C.marked="property"),"spread"==e?S(we):"}"==e?k():"["==e?S(V,j("]"),j(":"),_e):S(j(":"),we,Ce)):(T(t),S(Ce))}function xe(){return k(we,Ce)}function Ce(e,t){if("="==t)return S(z)}function ke(e){if(","==e)return S(be)}function Se(e,t){if("keyword b"==e&&"else"==t)return S(P("form","else"),F,D)}function Ee(e,t){return"await"==t?S(Ee):"("==e?S(P(")"),Te,D):void 0}function Te(e){return"var"==e?S(be,Oe):"variable"==e?S(Oe):k(Oe)}function Oe(e,t){return")"==e?S():";"==e?S(Oe):"in"==t||"of"==t?(C.marked="keyword",S(V,Oe)):k(V,Oe)}function Ae(e,t){return"*"==t?(C.marked="keyword",S(Ae)):"variable"==e?(T(t),S(Ae)):"("==e?S(R,P(")"),ie(Re,")"),D,ue,F,M):u&&"<"==t?S(P(">"),ie(ve,">"),D,Ae):void 0}function Ie(e,t){return"*"==t?(C.marked="keyword",S(Ie)):"variable"==e?(T(t),S(Ie)):"("==e?S(R,P(")"),ie(Re,")"),D,ue,M):u&&"<"==t?S(P(">"),ie(ve,">"),D,Ie):void 0}function Ne(e,t){return"keyword"==e||"variable"==e?(C.marked="type",S(Ne)):"<"==t?S(P(">"),ie(ve,">"),D):void 0}function Re(e,t){return"@"==t&&S(V,Re),"spread"==e?S(Re):u&&O(t)?(C.marked="keyword",S(Re)):u&&"this"==e?S(se,Ce):k(we,se,Ce)}function Le(e,t){return"variable"==e?Me(e,t):Pe(e,t)}function Me(e,t){if("variable"==e)return T(t),S(Pe)}function Pe(e,t){return"<"==t?S(P(">"),ie(ve,">"),D,Pe):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(C.marked="keyword"),S(u?he:V,Pe)):"{"==e?S(P("}"),De,D):void 0}function De(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&O(t))&&C.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(C.marked="keyword",S(De)):"variable"==e||"keyword"==C.style?(C.marked="property",S(u?je:Ae,De)):"number"==e||"string"==e?S(u?je:Ae,De):"["==e?S(V,se,j("]"),u?je:Ae,De):"*"==t?(C.marked="keyword",S(De)):u&&"("==e?k(Ie,De):";"==e||","==e?S(De):"}"==e?S():"@"==t?S(V,De):void 0}function je(e,t){if("?"==t)return S(je);if(":"==e)return S(he,Ce);if("="==t)return S(z);var n=C.state.lexical.prev;return k(n&&"interface"==n.info?Ie:Ae)}function Fe(e,t){return"*"==t?(C.marked="keyword",S(We,j(";"))):"default"==t?(C.marked="keyword",S(V,j(";"))):"{"==e?S(ie(Ue,"}"),We,j(";")):k(F)}function Ue(e,t){return"as"==t?(C.marked="keyword",S(j("variable"))):"variable"==e?k(z,Ue):void 0}function Ve(e){return"string"==e?S():"("==e?k(V):k(ze,He,We)}function ze(e,t){return"{"==e?oe(ze,"}"):("variable"==e&&T(t),"*"==t&&(C.marked="keyword"),S(Be))}function He(e){if(","==e)return S(ze,He)}function Be(e,t){if("as"==t)return C.marked="keyword",S(ze)}function We(e,t){if("from"==t)return C.marked="keyword",S(V)}function $e(e){return"]"==e?S():k(ie(z,"]"))}function Ke(){return k(P("form"),we,j("{"),P("}"),ie(qe,"}"),D,D)}function qe(){return k(we,Ce)}function Ge(e,t,n){return t.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return M.lex=!0,D.lex=!0,{startState:function(e){var t={tokenize:m,lastType:"sof",cc:[],lexical:new _((e||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new A(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),b(e,t)),t.tokenize!=g&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",function(e,t,n,r,i){var o=e.cc;for(C.state=e,C.stream=i,C.marked=null,C.cc=o,C.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():a?V:F)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return C.marked?C.marked:"variable"==n&&x(e,r)?"variable-2":t}}(t,n,r,i,e))},indent:function(t,r){if(t.tokenize==g)return e.Pass;if(t.tokenize!=m)return 0;var i,s=r&&r.charAt(0),a=t.lexical;if(!/^\s*else\b/.test(r))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==D)a=a.prev;else if(c!=Se)break}for(;("stat"==a.type||"form"==a.type)&&("}"==s||(i=t.cc[t.cc.length-1])&&(i==$||i==K)&&!/^[,\.=+\-*:?[\(]/.test(r));)a=a.prev;l&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var h=a.type,f=s==h;return"vardef"==h?a.indented+("operator"==t.lastType||","==t.lastType?a.info.length+1:0):"form"==h&&"{"==s?a.indented:"form"==h?a.indented+o:"stat"==h?a.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||d.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,r)?l||o:0):"switch"!=a.info||f||0==n.doubleIndentSwitch?a.align?a.column+(f?0:1):a.indented+(f?0:o):a.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",blockCommentContinue:a?null:" * ",lineComment:a?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:a?"json":"javascript",jsonldMode:s,jsonMode:a,expressionAllowed:Ge,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=V&&t!=z||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n("VrN/"))},"+oOE":function(e,t,n){"use strict";n.r(t);var r="6.5.0",i=n("mrSG"),o=n("d6pH"),l=n("iQ+w"),s={},a=new l.RegExpParser;function u(e){var t=e.toString();if(s.hasOwnProperty(t))return s[t];var n=a.pattern(t);return s[t]=n,n}var c="Complement Sets are not supported for first char optimization",h='Unable to use "first char" lexer optimizations:\n';function d(e,t,n){var r=R(e);t[r]=r,!0===n&&function(e,t){var n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){var i=R(r.charCodeAt(0));t[i]=i}else{var o=n.toLowerCase();o!==n&&(t[i=R(o.charCodeAt(0))]=i)}}(e,t)}function f(e,t){return Object(o.q)(e.value,(function(e){if("number"==typeof e)return Object(o.j)(t,e);var n=e;return void 0!==Object(o.q)(t,(function(e){return n.from<=e&&e<=n.to}))}))}function p(e){return!(!e.quantifier||0!==e.quantifier.atLeast)||!!e.value&&(Object(o.y)(e.value)?Object(o.o)(e.value,p):p(e.value))}var m=function(e){function t(t){var n=e.call(this)||this;return n.targetCharCodes=t,n.found=!1,n}return Object(i.a)(t,e),t.prototype.visitChildren=function(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}e.prototype.visitChildren.call(this,t)}},t.prototype.visitCharacter=function(e){Object(o.j)(this.targetCharCodes,e.value)&&(this.found=!0)},t.prototype.visitSet=function(e){e.complement?void 0===f(e,this.targetCharCodes)&&(this.found=!0):void 0!==f(e,this.targetCharCodes)&&(this.found=!0)},t}(l.BaseRegExpVisitor);function g(e,t){if(t instanceof RegExp){var n=u(t),r=new m(e);return r.visit(n),r.found}return void 0!==Object(o.q)(t,(function(t){return Object(o.j)(e,t.charCodeAt(0))}))}var v="PATTERN",y="defaultMode",b="modes",w="boolean"==typeof new RegExp("(?:)").sticky;var _=/[^\\][\$]/,x=/[^\\[][\^]|^\^/;function C(e){return new RegExp("^(?:"+e.source+")",e.ignoreCase?"i":"")}function k(e){return new RegExp(""+e.source,e.ignoreCase?"iy":"y")}function S(e){var t=e.PATTERN;if(Object(o.D)(t))return!1;if(Object(o.B)(t))return!0;if(Object(o.w)(t,"exec"))return!0;if(Object(o.E)(t))return!1;throw Error("non exhaustive match")}function E(e){return!(!Object(o.E)(e)||1!==e.length)&&e.charCodeAt(0)}var T={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var r=e.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return this.lastIndex=10===e.charCodeAt(n+1)?n+2:n+1,!0}return!1},lastIndex:0};function O(e,t){if(Object(o.w)(e,"LINE_BREAKS"))return!1;if(Object(o.D)(e.PATTERN)){try{g(t,e.PATTERN)}catch(n){return{issue:B.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}if(Object(o.E)(e.PATTERN))return!1;if(S(e))return{issue:B.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function A(e){return Object(o.I)(e,(function(e){return Object(o.E)(e)&&e.length>0?e.charCodeAt(0):e}))}function I(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}var N=256;function R(e){return e<N?e:L[e]}var L=[];function M(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function P(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var D=1,j={};function F(e){var t=function(e){for(var t=Object(o.g)(e),n=e,r=!0;r;){n=Object(o.i)(Object(o.t)(Object(o.I)(n,(function(e){return e.CATEGORIES}))));var i=Object(o.l)(n,t);t=t.concat(i),Object(o.A)(i)?r=!1:n=i}return t}(e);!function(e){Object(o.u)(e,(function(e){var t;U(e)||(j[D]=e,e.tokenTypeIdx=D++),V(e)&&!Object(o.y)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),V(e)||(e.CATEGORIES=[]),t=e,Object(o.w)(t,"categoryMatches")||(e.categoryMatches=[]),function(e){return Object(o.w)(e,"categoryMatchesMap")}(e)||(e.categoryMatchesMap={})}))}(t),function(e){Object(o.u)(e,(function(e){!function e(t,n){Object(o.u)(t,(function(e){n.categoryMatchesMap[e.tokenTypeIdx]=!0})),Object(o.u)(n.CATEGORIES,(function(r){var i=t.concat(n);Object(o.j)(i,r)||e(i,r)}))}([],e)}))}(t),function(e){Object(o.u)(e,(function(e){e.categoryMatches=[],Object(o.u)(e.categoryMatchesMap,(function(t,n){e.categoryMatches.push(j[n].tokenTypeIdx)}))}))}(t),Object(o.u)(t,(function(e){e.isParent=e.categoryMatches.length>0}))}function U(e){return Object(o.w)(e,"tokenTypeIdx")}function V(e){return Object(o.w)(e,"CATEGORIES")}function z(e){return Object(o.w)(e,"tokenTypeIdx")}var H={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->"+e.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(e,t,n,r,i){return"unexpected character: ->"+e.charAt(t)+"<- at offset: "+t+", skipped "+n+" characters."}},B=function(e){return e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e}({}),W={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:H,traceInitPerf:!1,skipValidations:!1};Object.freeze(W);var $=function(){function e(e,t){var n=this;if(void 0===t&&(t=W),this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Object(o.K)(W,t);var r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var r,a=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===W.lineTerminatorsPattern)n.config.lineTerminatorsPattern=T;else if(n.config.lineTerminatorCharacters===W.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),Object(o.y)(e)?((r={modes:{}}).modes[y]=Object(o.g)(e),r[y]=y):(a=!1,r=Object(o.h)(e))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(function(e,t,n){var r=[];return Object(o.w)(e,y)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+y+"> property in its definition\n",type:B.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Object(o.w)(e,b)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+b+"> property in its definition\n",type:B.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Object(o.w)(e,b)&&Object(o.w)(e,y)&&!Object(o.w)(e.modes,e.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a "+y+": <"+e.defaultMode+">which does not exist\n",type:B.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Object(o.w)(e,b)&&Object(o.u)(e.modes,(function(e,t){Object(o.u)(e,(function(e,n){Object(o.F)(e)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+t+"> at index: <"+n+">\n",type:B.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),r}(r))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(function(e,t,n){var r=[],i=!1,l=Object(o.i)(Object(o.t)(Object(o.J)(e.modes,(function(e){return e})))),s=Object(o.P)(l,(function(e){return e[v]===$.NA})),a=A(n);return t&&Object(o.u)(s,(function(e){var t=O(e,a);if(!1!==t){var n=function(e,t){if(t.issue===B.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+e.name+"> Token Type\n\t Root cause: "+t.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===B.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+e.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(e,t);r.push({message:n,type:t.issue,tokenType:e})}else Object(o.w)(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(i=!0):g(a,e.PATTERN)&&(i=!0)})),t&&!i&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:B.NO_LINE_BREAKS_FLAGS}),r}(r,n.trackStartLines,n.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},Object(o.u)(r.modes,(function(e,t){r.modes[t]=Object(o.P)(e,(function(e){return Object(o.F)(e)}))}));var f=Object(o.G)(r.modes);if(Object(o.u)(r.modes,(function(e,r){n.TRACE_INIT("Mode: <"+r+"> processing",(function(){var s;n.modes.push(r),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(function(e,t){var n=[],r=function(e){var t=Object(o.p)(e,(function(e){return!Object(o.w)(e,v)}));return{errors:Object(o.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:B.MISSING_PATTERN,tokenTypes:[e]}})),valid:Object(o.l)(e,t)}}(e);n=n.concat(r.errors);var s=function(e){var t=Object(o.p)(e,(function(e){var t=e[v];return!(Object(o.D)(t)||Object(o.B)(t)||Object(o.w)(t,"exec")||Object(o.E)(t))}));return{errors:Object(o.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:B.INVALID_PATTERN,tokenTypes:[e]}})),valid:Object(o.l)(e,t)}}(r.valid),a=s.valid;return(n=(n=(n=(n=n.concat(s.errors)).concat(function(e){var t=[],n=Object(o.p)(e,(function(e){return Object(o.D)(e[v])}));return(t=(t=(t=(t=t.concat(function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return Object(i.a)(t,e),t.prototype.visitEndAnchor=function(e){this.found=!0},t}(l.BaseRegExpVisitor),n=Object(o.p)(e,(function(e){var n=e[v];try{var r=u(n),i=new t;return i.visit(r),i.found}catch(o){return _.test(n.source)}}));return Object(o.I)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:B.EOI_ANCHOR_FOUND,tokenTypes:[e]}}))}(n))).concat(function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return Object(i.a)(t,e),t.prototype.visitStartAnchor=function(e){this.found=!0},t}(l.BaseRegExpVisitor),n=Object(o.p)(e,(function(e){var n=e[v];try{var r=u(n),i=new t;return i.visit(r),i.found}catch(o){return x.test(n.source)}}));return Object(o.I)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:B.SOI_ANCHOR_FOUND,tokenTypes:[e]}}))}(n))).concat(function(e){var t=Object(o.p)(e,(function(e){var t=e[v];return t instanceof RegExp&&(t.multiline||t.global)}));return Object(o.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:B.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}}))}(n))).concat(function(e){var t=[],n=Object(o.I)(e,(function(n){return Object(o.O)(e,(function(e,r){return n.PATTERN.source!==r.PATTERN.source||Object(o.j)(t,r)||r.PATTERN===$.NA?e:(t.push(r),e.push(r),e)}),[])}));n=Object(o.i)(n);var r=Object(o.p)(n,(function(e){return e.length>1}));return Object(o.I)(r,(function(e){var t=Object(o.I)(e,(function(e){return e.name}));return{message:"The same RegExp pattern ->"+Object(o.s)(e).PATTERN+"<-has been used in all of the following Token Types: "+t.join(", ")+" <-",type:B.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}))}(n))).concat(function(e){var t=Object(o.p)(e,(function(e){return e[v].test("")}));return Object(o.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:B.EMPTY_MATCH_PATTERN,tokenTypes:[e]}}))}(n))}(a))).concat(function(e){var t=Object(o.p)(e,(function(e){if(!Object(o.w)(e,"GROUP"))return!1;var t=e.GROUP;return t!==$.SKIPPED&&t!==$.NA&&!Object(o.E)(t)}));return Object(o.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:B.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}}))}(a))).concat(function(e,t){var n=Object(o.p)(e,(function(e){return void 0!==e.PUSH_MODE&&!Object(o.j)(t,e.PUSH_MODE)}));return Object(o.I)(n,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+e.PUSH_MODE+"<-which does not exist",type:B.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}}))}(a,t))).concat(function(e){var t=[],n=Object(o.O)(e,(function(e,t,n){var r,i=t.PATTERN;return i===$.NA?e:(Object(o.E)(i)?e.push({str:i,idx:n,tokenType:t}):Object(o.D)(i)&&(r=i,void 0===Object(o.q)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(function(e){return-1!==r.source.indexOf(e)})))&&e.push({str:i.source,idx:n,tokenType:t}),e)}),[]);return Object(o.u)(e,(function(e,r){Object(o.u)(n,(function(n){var i=n.tokenType;r<n.idx&&function(e,t){if(Object(o.D)(t)){var n=t.exec(e);return null!==n&&0===n.index}if(Object(o.B)(t))return t(e,0,[],{});if(Object(o.w)(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(n.str,e.PATTERN)&&t.push({message:"Token: ->"+i.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+e.name+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE",type:B.UNREACHABLE_PATTERN,tokenTypes:[e,i]})}))})),t}(a))}(e,f))})),Object(o.A)(n.lexerDefinitionErrors)&&(F(e),n.TRACE_INIT("analyzeTokenTypes",(function(){s=function(e,t){var n,r=(t=Object(o.k)(t,{useSticky:w,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(e,t){return t()}})).tracer;r("initCharCodeToOptimizedIndexMap",(function(){!function(){if(Object(o.A)(L)){L=new Array(65536);for(var e=0;e<65536;e++)L[e]=e>255?255+~~(e/255):e}}()})),r("Reject Lexer.NA",(function(){n=Object(o.P)(e,(function(e){return e[v]===$.NA}))}));var i,s,a,f,m,y,b,_,x,T,M,P=!1;r("Transform Patterns",(function(){P=!1,i=Object(o.I)(n,(function(e){var n=e[v];if(Object(o.D)(n)){var r=n.source;return 1===r.length&&"^"!==r&&"$"!==r&&"."!==r?r:2!==r.length||"\\"!==r[0]||Object(o.j)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?t.useSticky?k(n):C(n):r[1]}if(Object(o.B)(n))return P=!0,{exec:n};if(Object(o.w)(n,"exec"))return P=!0,n;if("string"==typeof n){if(1===n.length)return n;var i=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),l=new RegExp(i);return t.useSticky?k(l):C(l)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){s=Object(o.I)(n,(function(e){return e.tokenTypeIdx})),a=Object(o.I)(n,(function(e){var t=e.GROUP;if(t!==$.SKIPPED){if(Object(o.E)(t))return t;if(Object(o.F)(t))return!1;throw Error("non exhaustive match")}})),f=Object(o.I)(n,(function(e){var t=e.LONGER_ALT;if(t)return Object(o.x)(n,t)})),m=Object(o.I)(n,(function(e){return e.PUSH_MODE})),y=Object(o.I)(n,(function(e){return Object(o.w)(e,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var e=A(t.lineTerminatorCharacters);b=Object(o.I)(n,(function(e){return!1})),"onlyOffset"!==t.positionTracking&&(b=Object(o.I)(n,(function(t){return Object(o.w)(t,"LINE_BREAKS")?t.LINE_BREAKS:!1===O(t,e)?g(e,t.PATTERN):void 0})))})),r("Misc Mapping #2",(function(){_=Object(o.I)(n,S),x=Object(o.I)(i,E),T=Object(o.O)(n,(function(e,t){var n=t.GROUP;return Object(o.E)(n)&&n!==$.SKIPPED&&(e[n]=[]),e}),{}),M=Object(o.I)(i,(function(e,t){return{pattern:i[t],longerAlt:f[t],canLineTerminator:b[t],isCustom:_[t],short:x[t],group:a[t],push:m[t],pop:y[t],tokenTypeIdx:s[t],tokenType:n[t]}}))}));var D=!0,j=[];return t.safeMode||r("First Char Optimization",(function(){j=Object(o.O)(n,(function(e,n,r){if("string"==typeof n.PATTERN){var i=R(n.PATTERN.charCodeAt(0));I(e,i,M[r])}else if(Object(o.y)(n.START_CHARS_HINT)){var s;Object(o.u)(n.START_CHARS_HINT,(function(t){var n=R("string"==typeof t?t.charCodeAt(0):t);s!==n&&(s=n,I(e,n,M[r]))}))}else if(Object(o.D)(n.PATTERN))if(n.PATTERN.unicode)D=!1,t.ensureOptimizations&&Object(o.c)(h+"\tUnable to analyze < "+n.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var a=function(e,t){void 0===t&&(t=!1);try{var n=u(e);return function e(t,n,r){switch(t.type){case"Disjunction":for(var i=0;i<t.value.length;i++)e(t.value[i],n,r);break;case"Alternative":var l=t.value;for(i=0;i<l.length;i++){var s=l[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var a=s;switch(a.type){case"Character":d(a.value,n,r);break;case"Set":if(!0===a.complement)throw Error(c);Object(o.u)(a.value,(function(e){if("number"==typeof e)d(e,n,r);else{var t=e;if(!0===r)for(var i=t.from;i<=t.to;i++)d(i,n,r);else{for(i=t.from;i<=t.to&&i<N;i++)d(i,n,r);if(t.to>=N)for(var o=t.to,l=R(t.from>=N?t.from:N),s=R(o),a=l;a<=s;a++)n[a]=a}}}));break;case"Group":e(a.value,n,r);break;default:throw Error("Non Exhaustive Match")}var u=void 0!==a.quantifier&&0===a.quantifier.atLeast;if("Group"===a.type&&!1===p(a)||"Group"!==a.type&&!1===u)break}break;default:throw Error("non exhaustive match!")}return Object(o.U)(n)}(n.value,{},n.flags.ignoreCase)}catch(i){if(i.message===c)t&&Object(o.d)(h+"\tUnable to optimize: < "+e.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var r="";t&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Object(o.c)(h+"\n\tFailed parsing: < "+e.toString()+" >\n\tUsing the regexp-to-ast library version: "+l.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+r)}}return[]}(n.PATTERN,t.ensureOptimizations);Object(o.A)(a)&&(D=!1),Object(o.u)(a,(function(t){I(e,t,M[r])}))}else t.ensureOptimizations&&Object(o.c)(h+"\tTokenType: <"+n.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),D=!1;return e}),[])})),r("ArrayPacking",(function(){j=Object(o.L)(j)})),{emptyGroups:T,patternIdxToConfig:M,charCodeToPatternIdxToConfig:j,hasCustom:P,canBeOptimized:D}}(e,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:n.TRACE_INIT.bind(n)})})),n.patternIdxToConfig[r]=s.patternIdxToConfig,n.charCodeToPatternIdxToConfig[r]=s.charCodeToPatternIdxToConfig,n.emptyGroups=Object(o.K)(n.emptyGroups,s.emptyGroups),n.hasCustom=s.hasCustom||n.hasCustom,n.canModeBeOptimized[r]=s.canBeOptimized)}))})),n.defaultMode=r.defaultMode,!Object(o.A)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var m=Object(o.I)(n.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+m)}Object(o.u)(n.lexerDefinitionWarning,(function(e){Object(o.d)(e.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(w?(n.chopInput=o.a,n.match=n.matchWithTest):(n.updateLastIndex=o.b,n.match=n.matchWithExec),a&&(n.handleModes=o.b),!1===n.trackStartLines&&(n.computeNewColumn=o.a),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=o.b),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var e=Object(o.O)(n.canModeBeOptimized,(function(e,t,n){return!1===t&&e.push(n),e}),[]);if(t.ensureOptimizations&&!Object(o.A)(e))throw Error("Lexer Modes: < "+e.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),n.TRACE_INIT("clearRegExpParserCache",(function(){s={}})),n.TRACE_INIT("toFastProperties",(function(){Object(o.S)(n)}))}))}return e.prototype.tokenize=function(e,t){if(void 0===t&&(t=this.defaultMode),!Object(o.A)(this.lexerDefinitionErrors)){var n=Object(o.I)(this.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(e,t)},e.prototype.tokenizeInternal=function(e,t){var n,r,i,l,s,a,u,c,h,d,f,p,m,g,v,y,b=this,w=e,_=w.length,x=0,C=0,k=this.hasCustom?0:Math.floor(e.length/10),S=new Array(k),E=[],T=this.trackStartLines?1:void 0,O=this.trackStartLines?1:void 0,A=(g=this.emptyGroups,v={},y=Object(o.G)(g),Object(o.u)(y,(function(e){var t=g[e];if(!Object(o.y)(t))throw Error("non exhaustive match");v[e]=[]})),v),I=this.trackStartLines,N=this.config.lineTerminatorsPattern,L=0,M=[],P=[],D=[],j=[];Object.freeze(j);var F=void 0;function U(){return M}function V(e){var t=R(e),n=P[t];return void 0===n?j:n}var z,H=function(e){if(1===D.length&&void 0===e.tokenType.PUSH_MODE){var t=b.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);E.push({offset:e.startOffset,line:void 0!==e.startLine?e.startLine:void 0,column:void 0!==e.startColumn?e.startColumn:void 0,length:e.image.length,message:t})}else{D.pop();var n=Object(o.H)(D);L=(M=b.patternIdxToConfig[n]).length,F=(P=b.charCodeToPatternIdxToConfig[n])&&b.canModeBeOptimized[n]&&!1===b.config.safeMode?V:U}};function B(e){D.push(e),L=(M=this.patternIdxToConfig[e]).length,L=M.length,F=(P=this.charCodeToPatternIdxToConfig[e])&&this.canModeBeOptimized[e]&&!1===this.config.safeMode?V:U}for(B.call(this,t);x<_;){s=null;var W=w.charCodeAt(x),$=F(W),K=$.length;for(n=0;n<K;n++){var q=(z=$[n]).pattern;if(a=null,!1!==(re=z.short)?W===re&&(s=q):!0===z.isCustom?null!==(m=q.exec(w,x,S,A))?(s=m[0],void 0!==m.payload&&(a=m.payload)):s=null:(this.updateLastIndex(q,x),s=this.match(q,e,x)),null!==s){if(void 0!==(l=z.longerAlt)){var G=M[l],Z=G.pattern;u=null,!0===G.isCustom?null!==(m=Z.exec(w,x,S,A))?(i=m[0],void 0!==m.payload&&(u=m.payload)):i=null:(this.updateLastIndex(Z,x),i=this.match(Z,e,x)),i&&i.length>s.length&&(s=i,a=u,z=G)}break}}if(null!==s){if(c=s.length,void 0!==(h=z.group)&&(d=this.createTokenInstance(s,x,z.tokenTypeIdx,z.tokenType,T,O,c),this.handlePayload(d,a),!1===h?C=this.addToken(S,C,d):A[h].push(d)),e=this.chopInput(e,c),x+=c,O=this.computeNewColumn(O,c),!0===I&&!0===z.canLineTerminator){var Q=0,Y=void 0,X=void 0;N.lastIndex=0;do{!0===(Y=N.test(s))&&(X=N.lastIndex-1,Q++)}while(!0===Y);0!==Q&&this.updateTokenEndLineColumnLocation(d,h,X,Q,T+=Q,O=c-X,c)}this.handleModes(z,H,B,d)}else{for(var J=x,ee=T,te=O,ne=!1;!ne&&x<_;)for(w.charCodeAt(x),e=this.chopInput(e,1),x++,r=0;r<L;r++){var re,ie=M[r];if(q=ie.pattern,!1!==(re=ie.short)?w.charCodeAt(x)===re&&(ne=!0):!0===ie.isCustom?ne=null!==q.exec(w,x,S,A):(this.updateLastIndex(q,x),ne=null!==q.exec(e)),!0===ne)break}p=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(w,J,f=x-J,ee,te),E.push({offset:J,line:ee,column:te,length:f,message:p})}}return this.hasCustom||(S.length=C),{tokens:S,groups:A,errors:E}},e.prototype.handleModes=function(e,t,n,r){if(!0===e.pop){var i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)},e.prototype.chopInput=function(e,t){return e.substring(t)},e.prototype.updateLastIndex=function(e,t){e.lastIndex=t},e.prototype.updateTokenEndLineColumnLocation=function(e,t,n,r,i,o,l){var s,a;void 0!==t&&(a=(s=n===l-1)?-1:0,1===r&&!0===s||(e.endLine=i+a,e.endColumn=o-1-a))},e.prototype.computeNewColumn=function(e,t){return e+t},e.prototype.createTokenInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},e.prototype.createOffsetOnlyToken=function(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}},e.prototype.createStartOnlyToken=function(e,t,n,r,i,o){return{image:e,startOffset:t,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}},e.prototype.createFullToken=function(e,t,n,r,i,o,l){return{image:e,startOffset:t,endOffset:t+l-1,startLine:i,endLine:i,startColumn:o,endColumn:o+l-1,tokenTypeIdx:n,tokenType:r}},e.prototype.addToken=function(e,t,n){return 666},e.prototype.addTokenUsingPush=function(e,t,n){return e.push(n),t},e.prototype.addTokenUsingMemberAccess=function(e,t,n){return e[t]=n,++t},e.prototype.handlePayload=function(e,t){},e.prototype.handlePayloadNoCustom=function(e,t){},e.prototype.handlePayloadWithCustom=function(e,t){null!==t&&(e.payload=t)},e.prototype.match=function(e,t,n){return null},e.prototype.matchWithTest=function(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null},e.prototype.matchWithExec=function(e,t){var n=e.exec(t);return null!==n?n[0]:n},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=Object(o.R)(t),i=r.time,l=r.value,s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(n+"<-- <"+e+"> time: "+i+"ms"),this.traceInitIndent--,l}return t()},e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e}();function K(e){return G(e)?e.LABEL:e.name}function q(e){return e.name}function G(e){return Object(o.E)(e.LABEL)&&""!==e.LABEL}var Z="parent",Q="categories",Y="label",X="group",J="push_mode",ee="pop_mode",te="longer_alt",ne="line_breaks",re="start_chars_hint";function ie(e){return function(e){var t=e.pattern,n={};if(n.name=e.name,Object(o.F)(t)||(n.PATTERN=t),Object(o.w)(e,Z))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";return Object(o.w)(e,Q)&&(n.CATEGORIES=e[Q]),F([n]),Object(o.w)(e,Y)&&(n.LABEL=e[Y]),Object(o.w)(e,X)&&(n.GROUP=e[X]),Object(o.w)(e,ee)&&(n.POP_MODE=e[ee]),Object(o.w)(e,J)&&(n.PUSH_MODE=e[J]),Object(o.w)(e,te)&&(n.LONGER_ALT=e[te]),Object(o.w)(e,ne)&&(n.LINE_BREAKS=e[ne]),Object(o.w)(e,re)&&(n.START_CHARS_HINT=e[re]),n}(e)}var oe=ie({name:"EOF",pattern:$.NA});function le(e,t,n,r,i,o,l,s){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:l,endColumn:s,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function se(e,t){return M(e,t)}F([oe]);var ae=function(){function e(e){this.definition=e}return e.prototype.accept=function(e){e.visit(this),Object(o.u)(this.definition,(function(t){t.accept(e)}))},e}(),ue=function(e){function t(t){var n=e.call(this,[])||this;return n.idx=1,Object(o.f)(n,Object(o.N)(t,(function(e){return void 0!==e}))),n}return Object(i.a)(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.accept=function(e){e.visit(this)},t}(ae),ce=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.orgText="",Object(o.f)(n,Object(o.N)(t,(function(e){return void 0!==e}))),n}return Object(i.a)(t,e),t}(ae),he=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.ignoreAmbiguities=!1,Object(o.f)(n,Object(o.N)(t,(function(e){return void 0!==e}))),n}return Object(i.a)(t,e),t}(ae),de=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(o.f)(n,Object(o.N)(t,(function(e){return void 0!==e}))),n}return Object(i.a)(t,e),t}(ae),fe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(o.f)(n,Object(o.N)(t,(function(e){return void 0!==e}))),n}return Object(i.a)(t,e),t}(ae),pe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(o.f)(n,Object(o.N)(t,(function(e){return void 0!==e}))),n}return Object(i.a)(t,e),t}(ae),me=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(o.f)(n,Object(o.N)(t,(function(e){return void 0!==e}))),n}return Object(i.a)(t,e),t}(ae),ge=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(o.f)(n,Object(o.N)(t,(function(e){return void 0!==e}))),n}return Object(i.a)(t,e),t}(ae),ve=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,Object(o.f)(n,Object(o.N)(t,(function(e){return void 0!==e}))),n}return Object(i.a)(t,e),t}(ae),ye=function(){function e(e){this.idx=1,Object(o.f)(this,Object(o.N)(e,(function(e){return void 0!==e})))}return e.prototype.accept=function(e){e.visit(this)},e}();function be(e){return Object(o.I)(e,we)}function we(e){function t(e){return Object(o.I)(e,we)}if(e instanceof ue)return{type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};if(e instanceof he)return{type:"Flat",definition:t(e.definition)};if(e instanceof de)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof fe)return{type:"RepetitionMandatory",name:e.name,idx:e.idx,definition:t(e.definition)};if(e instanceof pe)return{type:"RepetitionMandatoryWithSeparator",name:e.name,idx:e.idx,separator:we(new ye({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof ge)return{type:"RepetitionWithSeparator",name:e.name,idx:e.idx,separator:we(new ye({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof me)return{type:"Repetition",name:e.name,idx:e.idx,definition:t(e.definition)};if(e instanceof ve)return{type:"Alternation",name:e.name,idx:e.idx,definition:t(e.definition)};if(e instanceof ye){var n={type:"Terminal",name:e.terminalType.name,label:K(e.terminalType),idx:e.idx},r=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=Object(o.D)(r)?r.source:r),n}if(e instanceof ce)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}var _e=function(){function e(){}return e.prototype.walk=function(e,t){var n=this;void 0===t&&(t=[]),Object(o.u)(e.definition,(function(r,i){var l=Object(o.m)(e.definition,i+1);if(r instanceof ue)n.walkProdRef(r,l,t);else if(r instanceof ye)n.walkTerminal(r,l,t);else if(r instanceof he)n.walkFlat(r,l,t);else if(r instanceof de)n.walkOption(r,l,t);else if(r instanceof fe)n.walkAtLeastOne(r,l,t);else if(r instanceof pe)n.walkAtLeastOneSep(r,l,t);else if(r instanceof ge)n.walkManySep(r,l,t);else if(r instanceof me)n.walkMany(r,l,t);else{if(!(r instanceof ve))throw Error("non exhaustive match");n.walkOr(r,l,t)}}))},e.prototype.walkTerminal=function(e,t,n){},e.prototype.walkProdRef=function(e,t,n){},e.prototype.walkFlat=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkOption=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkAtLeastOne=function(e,t,n){var r=[new de({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkAtLeastOneSep=function(e,t,n){var r=xe(e,t,n);this.walk(e,r)},e.prototype.walkMany=function(e,t,n){var r=[new de({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkManySep=function(e,t,n){var r=xe(e,t,n);this.walk(e,r)},e.prototype.walkOr=function(e,t,n){var r=this,i=t.concat(n);Object(o.u)(e.definition,(function(e){var t=new he({definition:[e]});r.walk(t,i)}))},e}();function xe(e,t,n){return[new de({definition:[new ye({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}var Ce=function(){function e(){}return e.prototype.visit=function(e){var t=e;switch(t.constructor){case ue:return this.visitNonTerminal(t);case he:return this.visitFlat(t);case de:return this.visitOption(t);case fe:return this.visitRepetitionMandatory(t);case pe:return this.visitRepetitionMandatoryWithSeparator(t);case ge:return this.visitRepetitionWithSeparator(t);case me:return this.visitRepetition(t);case ve:return this.visitAlternation(t);case ye:return this.visitTerminal(t);case ce:return this.visitRule(t);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(e){},e.prototype.visitFlat=function(e){},e.prototype.visitOption=function(e){},e.prototype.visitRepetition=function(e){},e.prototype.visitRepetitionMandatory=function(e){},e.prototype.visitRepetitionMandatoryWithSeparator=function(e){},e.prototype.visitRepetitionWithSeparator=function(e){},e.prototype.visitAlternation=function(e){},e.prototype.visitTerminal=function(e){},e.prototype.visitRule=function(e){},e}();function ke(e,t){return void 0===t&&(t=[]),!!(e instanceof de||e instanceof me||e instanceof ge)||(e instanceof ve?Object(o.Q)(e.definition,(function(e){return ke(e,t)})):!(e instanceof ue&&Object(o.j)(t,e))&&e instanceof ae&&(e instanceof ue&&t.push(e),Object(o.o)(e.definition,(function(e){return ke(e,t)}))))}function Se(e){if(e instanceof ue)return"SUBRULE";if(e instanceof de)return"OPTION";if(e instanceof ve)return"OR";if(e instanceof fe)return"AT_LEAST_ONE";if(e instanceof pe)return"AT_LEAST_ONE_SEP";if(e instanceof ge)return"MANY_SEP";if(e instanceof me)return"MANY";if(e instanceof ye)return"CONSUME";throw Error("non exhaustive match")}var Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.separator="-",t.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},t}return Object(i.a)(t,e),t.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},t.prototype.visitTerminal=function(e){var t=e.terminalType.name+this.separator+"Terminal";Object(o.w)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitNonTerminal=function(e){var t=e.nonTerminalName+this.separator+"Terminal";Object(o.w)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitOption=function(e){this.dslMethods.option.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.dslMethods.repetitionWithSeparator.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.dslMethods.repetitionMandatory.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)},t.prototype.visitRepetition=function(e){this.dslMethods.repetition.push(e)},t.prototype.visitAlternation=function(e){this.dslMethods.alternation.push(e)},t}(Ce),Te=new Ee;function Oe(e){if(e instanceof ue)return Oe(e.referencedRule);if(e instanceof ye)return[e.terminalType];if(function(e){return e instanceof he||e instanceof de||e instanceof me||e instanceof fe||e instanceof pe||e instanceof ge||e instanceof ye||e instanceof ce}(e))return function(e){for(var t,n=[],r=e.definition,i=0,l=r.length>i,s=!0;l&&s;)s=ke(t=r[i]),n=n.concat(Oe(t)),l=r.length>(i+=1);return Object(o.T)(n)}(e);if(function(e){return e instanceof ve}(e))return function(e){var t=Object(o.I)(e.definition,(function(e){return Oe(e)}));return Object(o.T)(Object(o.t)(t))}(e);throw Error("non exhaustive match")}var Ae=function(e){function t(t){var n=e.call(this)||this;return n.topProd=t,n.follows={},n}return Object(i.a)(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(e,t,n){},t.prototype.walkProdRef=function(e,t,n){var r=e.referencedRule.name+e.idx+"_~IN~_"+this.topProd.name,i=t.concat(n),o=Oe(new he({definition:i}));this.follows[r]=o},t}(_e);function Ie(e,t,n){return n|t|e}var Ne=24;function Re(e,t,n,r){var i=r+1<<Ne;return Ie(e,t,n)|i}function Le(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==1&&(e.endOffset=t.endOffset)}function Me(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==1&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function Pe(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}var De=function(e){function t(t){var n=e.call(this)||this;return n.result=[],n.ruleIdx=t,n}return Object(i.a)(t,e),t.prototype.collectNamedDSLMethod=function(e,t,n){if(!Object(o.F)(e.name)){var r=void 0;if(e instanceof de||e instanceof me||e instanceof fe||e instanceof ve)r=new t({definition:e.definition,idx:e.idx});else{if(!(e instanceof pe||e instanceof ge))throw Error("non exhaustive match");r=new t({definition:e.definition,idx:e.idx,separator:e.separator})}var i=[r],l=Ie(this.ruleIdx,n,e.idx);this.result.push({def:i,key:l,name:e.name,orgProd:e})}},t.prototype.visitOption=function(e){this.collectNamedDSLMethod(e,de,512)},t.prototype.visitRepetition=function(e){this.collectNamedDSLMethod(e,me,768)},t.prototype.visitRepetitionMandatory=function(e){this.collectNamedDSLMethod(e,fe,1024)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.collectNamedDSLMethod(e,pe,1536)},t.prototype.visitRepetitionWithSeparator=function(e){this.collectNamedDSLMethod(e,ge,1280)},t.prototype.visitAlternation=function(e){var t=this;this.collectNamedDSLMethod(e,ve,256);var n=e.definition.length>1;Object(o.u)(e.definition,(function(r,i){if(!Object(o.F)(r.name)){var l;l=n?[new de({definition:r.definition})]:r.definition;var s=Re(t.ruleIdx,256,e.idx,i);t.result.push({def:l,key:s,name:r.name,orgProd:r})}}))},t}(Ce),je=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return Object(i.a)(t,e),t.prototype.walkTerminal=function(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){var r=t.concat(n),i=new he({definition:r});this.possibleTokTypes=Oe(i),this.found=!0}},t}(function(e){function t(t,n){var r=e.call(this)||this;return r.topProd=t,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return Object(i.a)(t,e),t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Object(o.g)(this.path.ruleStack).reverse(),this.occurrenceStack=Object(o.g)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(t,n){void 0===n&&(n=[]),this.found||e.prototype.walk.call(this,t,n)},t.prototype.walkProdRef=function(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){var r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}},t.prototype.updateExpectedNext=function(){Object(o.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(_e)),Fe=function(e){function t(t,n){var r=e.call(this)||this;return r.topRule=t,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return Object(i.a)(t,e),t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(_e),Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.walkMany=function(t,n,r){if(t.idx===this.occurrence){var i=Object(o.s)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof ye&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkMany.call(this,t,n,r)},t}(Fe),Ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.walkManySep=function(t,n,r){if(t.idx===this.occurrence){var i=Object(o.s)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof ye&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkManySep.call(this,t,n,r)},t}(Fe),ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.walkAtLeastOne=function(t,n,r){if(t.idx===this.occurrence){var i=Object(o.s)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof ye&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkAtLeastOne.call(this,t,n,r)},t}(Fe),He=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.walkAtLeastOneSep=function(t,n,r){if(t.idx===this.occurrence){var i=Object(o.s)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof ye&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkAtLeastOneSep.call(this,t,n,r)},t}(Fe);function Be(e,t,n){void 0===n&&(n=[]),n=Object(o.g)(n);var r=[],i=0;function l(l){var s=Be(l.concat(Object(o.m)(e,i+1)),t,n);return r.concat(s)}for(;n.length<t&&i<e.length;){var s=e[i];if(s instanceof he)return l(s.definition);if(s instanceof ue)return l(s.definition);if(s instanceof de)r=l(s.definition);else{if(s instanceof fe)return l(a=s.definition.concat([new me({definition:s.definition})]));if(s instanceof pe)return l(a=[new he({definition:s.definition}),new me({definition:[new ye({terminalType:s.separator})].concat(s.definition)})]);if(s instanceof ge){var a=s.definition.concat([new me({definition:[new ye({terminalType:s.separator})].concat(s.definition)})]);r=l(a)}else if(s instanceof me)a=s.definition.concat([new me({definition:s.definition})]),r=l(a);else{if(s instanceof ve)return Object(o.u)(s.definition,(function(e){r=l(e.definition)})),r;if(!(s instanceof ye))throw Error("non exhaustive match");n.push(s.terminalType)}}i++}return r.push({partialPath:n,suffixDef:Object(o.m)(e,i)}),r}function We(e,t,n,r){var i=["EXIT_NONE_TERMINAL"],l=!1,s=t.length,a=s-r-1,u=[],c=[];for(c.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Object(o.A)(c);){var h=c.pop();if("EXIT_ALTERNATIVE"!==h){var d=h.def,f=h.idx,p=h.ruleStack,m=h.occurrenceStack;if(!Object(o.A)(d)){var g=d[0];if("EXIT_NONE_TERMINAL"===g){var v={idx:f,def:Object(o.m)(d),ruleStack:Object(o.n)(p),occurrenceStack:Object(o.n)(m)};c.push(v)}else if(g instanceof ye)if(f<s-1){var y=f+1;n(t[y],g.terminalType)&&(v={idx:y,def:Object(o.m)(d),ruleStack:p,occurrenceStack:m},c.push(v))}else{if(f!==s-1)throw Error("non exhaustive match");u.push({nextTokenType:g.terminalType,nextTokenOccurrence:g.idx,ruleStack:p,occurrenceStack:m}),l=!0}else if(g instanceof ue){var b=Object(o.g)(p);b.push(g.nonTerminalName);var w=Object(o.g)(m);w.push(g.idx),v={idx:f,def:g.definition.concat(i,Object(o.m)(d)),ruleStack:b,occurrenceStack:w},c.push(v)}else if(g instanceof de){var _={idx:f,def:Object(o.m)(d),ruleStack:p,occurrenceStack:m};c.push(_),c.push("EXIT_ALTERNATIVE");var x={idx:f,def:g.definition.concat(Object(o.m)(d)),ruleStack:p,occurrenceStack:m};c.push(x)}else if(g instanceof fe){var C=new me({definition:g.definition,idx:g.idx}),k=g.definition.concat([C],Object(o.m)(d));c.push(v={idx:f,def:k,ruleStack:p,occurrenceStack:m})}else if(g instanceof pe){var S=new ye({terminalType:g.separator});C=new me({definition:[S].concat(g.definition),idx:g.idx}),k=g.definition.concat([C],Object(o.m)(d)),c.push(v={idx:f,def:k,ruleStack:p,occurrenceStack:m})}else if(g instanceof ge){_={idx:f,def:Object(o.m)(d),ruleStack:p,occurrenceStack:m},c.push(_),c.push("EXIT_ALTERNATIVE"),S=new ye({terminalType:g.separator});var E=new me({definition:[S].concat(g.definition),idx:g.idx});k=g.definition.concat([E],Object(o.m)(d)),c.push(x={idx:f,def:k,ruleStack:p,occurrenceStack:m})}else if(g instanceof me)_={idx:f,def:Object(o.m)(d),ruleStack:p,occurrenceStack:m},c.push(_),c.push("EXIT_ALTERNATIVE"),E=new me({definition:g.definition,idx:g.idx}),k=g.definition.concat([E],Object(o.m)(d)),c.push(x={idx:f,def:k,ruleStack:p,occurrenceStack:m});else if(g instanceof ve)for(var T=g.definition.length-1;T>=0;T--){var O={idx:f,def:g.definition[T].definition.concat(Object(o.m)(d)),ruleStack:p,occurrenceStack:m};c.push(O),c.push("EXIT_ALTERNATIVE")}else if(g instanceof he)c.push({idx:f,def:g.definition.concat(Object(o.m)(d)),ruleStack:p,occurrenceStack:m});else{if(!(g instanceof ce))throw Error("non exhaustive match");c.push($e(g,f,p,m))}}}else l&&Object(o.H)(c).idx<=a&&c.pop()}return u}function $e(e,t,n,r){var i=Object(o.g)(n);i.push(e.name);var l=Object(o.g)(r);return l.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:l}}var Ke=function(e){return e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION",e}({}),qe=function(e){function t(t,n,r){var i=e.call(this)||this;return i.topProd=t,i.targetOccurrence=n,i.targetProdType=r,i}return Object(i.a)(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},t.prototype.checkIsTarget=function(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)},t.prototype.walkOption=function(t,n,r){this.checkIsTarget(t,Ke.OPTION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOne=function(t,n,r){this.checkIsTarget(t,Ke.REPETITION_MANDATORY,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOneSep=function(t,n,r){this.checkIsTarget(t,Ke.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkMany=function(t,n,r){this.checkIsTarget(t,Ke.REPETITION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkManySep=function(t,n,r){this.checkIsTarget(t,Ke.REPETITION_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t}(_e),Ge=function(e){function t(t,n,r){var i=e.call(this)||this;return i.targetOccurrence=t,i.targetProdType=n,i.targetRef=r,i.result=[],i}return Object(i.a)(t,e),t.prototype.checkIsTarget=function(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)},t.prototype.visitOption=function(e){this.checkIsTarget(e,Ke.OPTION)},t.prototype.visitRepetition=function(e){this.checkIsTarget(e,Ke.REPETITION)},t.prototype.visitRepetitionMandatory=function(e){this.checkIsTarget(e,Ke.REPETITION_MANDATORY)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.checkIsTarget(e,Ke.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.visitRepetitionWithSeparator=function(e){this.checkIsTarget(e,Ke.REPETITION_WITH_SEPARATOR)},t.prototype.visitAlternation=function(e){this.checkIsTarget(e,Ke.ALTERNATION)},t}(Ce);function Ze(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}function Qe(e){for(var t=[""],n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<t.length;o++){var l=t[o];i.push(l+"_"+r.tokenTypeIdx);for(var s=0;s<r.categoryMatches.length;s++)i.push(l+"_"+r.categoryMatches[s])}t=i}return t}function Ye(e,t,n){for(var r=0;r<e.length;r++)if(r!==n)for(var i=e[r],o=0;o<t.length;o++)if(!0===i[t[o]])return!1;return!0}function Xe(e,t){for(var n=Object(o.I)(e,(function(e){return Be([e],1)})),r=Ze(n.length),i=Object(o.I)(n,(function(e){var t={};return Object(o.u)(e,(function(e){var n=Qe(e.partialPath);Object(o.u)(n,(function(e){t[e]=!0}))})),t})),l=n,s=1;s<=t;s++){var a=l;l=Ze(a.length);for(var u=function(e){for(var n=a[e],u=0;u<n.length;u++){var c=n[u].partialPath,h=n[u].suffixDef,d=Qe(c);if(Ye(i,d,e)||Object(o.A)(h)||c.length===t){var f=r[e];if(!1===tt(f,c)){f.push(c);for(var p=0;p<d.length;p++)i[e][d[p]]=!0}}else{var m=Be(h,s+1,c);l[e]=l[e].concat(m),Object(o.u)(m,(function(t){var n=Qe(t.partialPath);Object(o.u)(n,(function(t){i[e][t]=!0}))}))}}},c=0;c<a.length;c++)u(c)}return r}function Je(e,t,n,r){var i=new Ge(e,Ke.ALTERNATION,r);return t.accept(i),Xe(i.result,n)}function et(e,t,n,r){var i=new Ge(e,n);t.accept(i);var o=i.result,l=new qe(t,e,n).startWalking();return Xe([new he({definition:o}),new he({definition:l})],r)}function tt(e,t){e:for(var n=0;n<e.length;n++){var r=e[n];if(r.length===t.length){for(var i=0;i<r.length;i++){var o=t[i],l=r[i];if(0==(o===l||void 0!==l.categoryMatchesMap[o.tokenTypeIdx]))continue e}return!0}}return!1}function nt(e){return Object(o.o)(e,(function(e){return Object(o.o)(e,(function(e){return Object(o.o)(e,(function(e){return Object(o.A)(e.categoryMatches)}))}))}))}function rt(e){return Se(e)+"_#_"+e.idx+"_#_"+it(e)}function it(e){return e instanceof ye?e.terminalType.name:e instanceof ue?e.nonTerminalName:""}var ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return Object(i.a)(t,e),t.prototype.visitNonTerminal=function(e){this.allProductions.push(e)},t.prototype.visitOption=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t.prototype.visitAlternation=function(e){this.allProductions.push(e)},t.prototype.visitTerminal=function(e){this.allProductions.push(e)},t}(Ce),lt=/^[a-zA-Z_]\w*$/,st=new RegExp(lt.source.replace("^","^\\$")),at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alternations=[],t}return Object(i.a)(t,e),t.prototype.visitAlternation=function(e){this.alternations.push(e)},t}(Ce),ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return Object(i.a)(t,e),t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t}(Ce),ct={buildMismatchTokenMessage:function(e){var t=e.expected,n=e.actual;return"Expecting "+(G(t)?"--\x3e "+K(t)+" <--":"token of type --\x3e "+t.name+" <--")+" but found --\x3e '"+n.image+"' <--"},buildNotAllInputParsedMessage:function(e){return"Redundant input, expecting EOF but found: "+e.firstRedundant.image},buildNoViableAltMessage:function(e){var t=e.expectedPathsPerAlt,n=e.actual,r=e.customUserDescription,i="\nbut found: '"+Object(o.s)(n).image+"'";if(r)return"Expecting: "+r+i;var l=Object(o.O)(t,(function(e,t){return e.concat(t)}),[]),s=Object(o.I)(l,(function(e){return"["+Object(o.I)(e,(function(e){return K(e)})).join(", ")+"]"}));return"Expecting: one of these possible Token sequences:\n"+Object(o.I)(s,(function(e,t){return"  "+(t+1)+". "+e})).join("\n")+i},buildEarlyExitMessage:function(e){var t=e.expectedIterationPaths,n=e.actual,r=e.customUserDescription,i="\nbut found: '"+Object(o.s)(n).image+"'";return r?"Expecting: "+r+i:"Expecting: expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+Object(o.I)(t,(function(e){return"["+Object(o.I)(e,(function(e){return K(e)})).join(",")+"]"})).join(" ,")+">"+i}};Object.freeze(ct);var ht={buildRuleNotFoundError:function(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"}},dt={buildDuplicateFoundError:function(e,t){var n,r=e.name,i=Object(o.s)(t),l=i.idx,s=Se(i),a=(n=i)instanceof ye?n.terminalType.name:n instanceof ue?n.nonTerminalName:"",u="->"+s+(l>0?l:"")+"<- "+(a?"with argument: ->"+a+"<-":"")+"\n                  appears more than once ("+t.length+" times) in the top level rule: ->"+r+"<-.                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return(u=u.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildInvalidNestedRuleNameError:function(e,t){return"Invalid nested rule name: ->"+t.name+"<- inside rule: ->"+e.name+"<-\nit must match the pattern: ->"+st.toString()+"<-.\nNote that this means a nested rule name must start with the '$'(dollar) sign."},buildDuplicateNestedRuleNameError:function(e,t){return"Duplicate nested rule name: ->"+Object(o.s)(t).name+"<- inside rule: ->"+e.name+"<-\nA nested name must be unique in the scope of a top level grammar rule."},buildNamespaceConflictError:function(e){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+e.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(e){var t=Object(o.I)(e.prefixPath,(function(e){return K(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return"Ambiguous alternatives: <"+e.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(e){var t=Object(o.I)(e.prefixPath,(function(e){return K(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return"Ambiguous Alternatives Detected: <"+e.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(e){var t=Se(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),"The repetition <"+t+"> within Rule <"+e.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(e){return"Invalid Grammar Token name: ->"+e.tokenType.name+"<- it must match the pattern: ->"+e.expectedPattern.toString()+"<-"},buildEmptyAlternationError:function(e){return"Ambiguous empty alternative: <"+(e.emptyChoiceIdx+1)+"> in <OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(e){return"An Alternation cannot have more than 256 alternatives:\n<OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\n has "+(e.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(e){var t=e.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+t+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+t+" --\x3e "+o.I(e.leftRecursionPath,(function(e){return e.name})).concat([t]).join(" --\x3e ")+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(e){return"Invalid grammar rule name: ->"+e.topLevelRule.name+"<- it must match the pattern: ->"+e.expectedPattern.toString()+"<-"},buildDuplicateRuleNameError:function(e){return"Duplicate definition, rule: ->"+(e.topLevelRule instanceof ce?e.topLevelRule.name:e.topLevelRule)+"<- is already defined in the grammar: ->"+e.grammarName+"<-"}},ft=function(e){function t(t,n){var r=e.call(this)||this;return r.nameToTopRule=t,r.errMsgProvider=n,r.errors=[],r}return Object(i.a)(t,e),t.prototype.resolveRefs=function(){var e=this;Object(o.u)(Object(o.U)(this.nameToTopRule),(function(t){e.currTopLevel=t,t.accept(e)}))},t.prototype.visitNonTerminal=function(e){var t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:sn.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}},t}(Ce);function pt(e){e=Object(o.k)(e,{errMsgProvider:ht});var t,n={};return Object(o.u)(e.rules,(function(e){n[e.name]=e})),(t=new ft(n,e.errMsgProvider)).resolveRefs(),t.errors}function mt(e){return function(e,t,n,r,i,l){var s=o.I(e,(function(e){return function(e,t){var n=new ot;e.accept(n);var r=o.v(n.allProductions,rt),i=o.N(r,(function(e){return e.length>1}));return o.I(o.U(i),(function(n){var r=o.s(n),i=t.buildDuplicateFoundError(e,n),l=Se(r),s={message:i,type:sn.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:l,occurrence:r.idx},a=it(r);return a&&(s.parameter=a),s}))}(e,i)})),a=o.I(e,(function(e){return function e(t,n,r,i){void 0===i&&(i=[]);var l=[],s=function e(t){var n=[];if(o.A(t))return n;var r=o.s(t);if(r instanceof ue)n.push(r.referencedRule);else if(r instanceof he||r instanceof de||r instanceof fe||r instanceof pe||r instanceof ge||r instanceof me)n=n.concat(e(r.definition));else if(r instanceof ve)n=o.t(o.I(r.definition,(function(t){return e(t.definition)})));else if(!(r instanceof ye))throw Error("non exhaustive match");if(ke(r)&&t.length>1){var i=o.m(t);return n.concat(e(i))}return n}(n.definition);if(o.A(s))return[];var a=t.name;o.j(s,t)&&l.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:i}),type:sn.LEFT_RECURSION,ruleName:a});var u=o.l(s,i.concat([t])),c=o.I(u,(function(n){var l=o.g(i);return l.push(n),e(t,n,r,l)}));return l.concat(o.t(c))}(e,e,i)})),u=[],c=[],h=[];Object(o.o)(a,o.A)&&(u=Object(o.I)(e,(function(e){return function(e,t){var n=new at;return e.accept(n),o.O(n.alternations,(function(n,r){var i=o.n(r.definition),l=o.I(i,(function(n,i){var l=We([n],[],null,1);return o.A(l)?{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:i}),type:sn.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:i+1}:null}));return n.concat(o.i(l))}),[])}(e,i)})),c=Object(o.I)(e,(function(e){return function(e,t,n,r){var i=new at;e.accept(i);var l=i.alternations,s=n[e.name];return s&&(l=Object(o.P)(l,(function(e){return s[Se(e)+(0===e.idx?"":e.idx)]}))),l=Object(o.P)(l,(function(e){return!0===e.ignoreAmbiguities})),o.O(l,(function(n,i){var l=Je(i.idx,e,i.maxLookahead||t,i),s=function(e,t,n,r){var i=[],l=Object(o.O)(e,(function(n,r,l){return!0===t.definition[l].ignoreAmbiguities?n:(Object(o.u)(r,(function(r){var s=[l];Object(o.u)(e,(function(e,n){l!==n&&tt(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&s.push(n)})),s.length>1&&!tt(i,r)&&(i.push(r),n.push({alts:s,path:r}))})),n)}),[]);return o.I(l,(function(e){var i=Object(o.I)(e.alts,(function(e){return e+1}));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:sn.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:[e.alts]}}))}(l,i,e,r),a=function(e,t,n,r){var i=[],l=Object(o.O)(e,(function(e,t,n){var r=Object(o.I)(t,(function(e){return{idx:n,path:e}}));return e.concat(r)}),[]);return Object(o.u)(l,(function(e){if(!0!==t.definition[e.idx].ignoreAmbiguities){var s=e.idx,a=e.path,u=Object(o.r)(l,(function(e){return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<s&&(n=e.path).length<(r=a).length&&Object(o.o)(n,(function(e,t){var n=r[t];return e===n||n.categoryMatchesMap[e.tokenTypeIdx]}));var n,r})),c=Object(o.I)(u,(function(e){var i=[e.idx+1,s+1],o=0===t.idx?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:sn.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}));i=i.concat(c)}})),i}(l,i,e,r);return n.concat(s,a)}),[])}(e,t,r,i)})),h=function(e,t,n){var r=[];return Object(o.u)(e,(function(e){var i=new ut;e.accept(i);var l=i.allProductions;Object(o.u)(l,(function(i){var l=function(e){if(e instanceof de)return Ke.OPTION;if(e instanceof me)return Ke.REPETITION;if(e instanceof fe)return Ke.REPETITION_MANDATORY;if(e instanceof pe)return Ke.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof ge)return Ke.REPETITION_WITH_SEPARATOR;if(e instanceof ve)return Ke.ALTERNATION;throw Error("non exhaustive match")}(i),s=et(i.idx,e,l,i.maxLookahead||t)[0];if(Object(o.A)(Object(o.t)(s))){var a=n.buildEmptyRepetitionError({topLevelRule:e,repetition:i});r.push({message:a,type:sn.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),r}(e,t,i));var d=function(e,t,n){var r=[],i=Object(o.I)(t,(function(e){return e.name}));return Object(o.u)(e,(function(e){var t=e.name;if(Object(o.j)(i,t)){var l=n.buildNamespaceConflictError(e);r.push({message:l,type:sn.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),r}(e,n,i),f=o.I(n,(function(e){return function(e,t){var n=[];return e.name.match(lt)||n.push({message:t.buildTokenNameError({tokenType:e,expectedPattern:lt}),type:sn.INVALID_TOKEN_NAME}),n}(e,i)})),p=function(e,t){var n=[];return Object(o.u)(e,(function(e){var r=new De("");e.accept(r);var i=Object(o.I)(r.result,(function(e){return e.orgProd}));n.push(Object(o.I)(i,(function(n){return function(e,t,n){var r,i=[];return t.name.match(st)||(r=n.buildInvalidNestedRuleNameError(e,t),i.push({message:r,type:sn.INVALID_NESTED_RULE_NAME,ruleName:e.name})),i}(e,n,t)})))})),Object(o.t)(n)}(e,i),m=function(e,t){var n=[];return Object(o.u)(e,(function(e){var r=new De("");e.accept(r);var i=Object(o.v)(r.result,(function(e){return e.name})),l=Object(o.N)(i,(function(e){return e.length>1}));Object(o.u)(Object(o.U)(l),(function(r){var i=Object(o.I)(r,(function(e){return e.orgProd})),l=t.buildDuplicateNestedRuleNameError(e,i);n.push({message:l,type:sn.DUPLICATE_NESTED_NAME,ruleName:e.name})}))})),n}(e,i),g=Object(o.I)(e,(function(e){return function(e,t){var n=new at;return e.accept(n),o.O(n.alternations,(function(n,r){return r.definition.length>255&&n.push({message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:sn.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}),n}),[])}(e,i)})),v=Object(o.I)(e,(function(e){return function(e,t){var n=[],r=e.name;return r.match(lt)||n.push({message:t.buildInvalidRuleNameError({topLevelRule:e,expectedPattern:lt}),type:sn.INVALID_RULE_NAME,ruleName:r}),n}(e,i)})),y=Object(o.I)(e,(function(t){return function(e,t,n,r){var i=[];if(Object(o.O)(t,(function(t,n){return n.name===e.name?t+1:t}),0)>1){var l=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});i.push({message:l,type:sn.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}(t,e,l,i)}));return o.t(s.concat(f,p,m,h,a,u,c,d,g,v,y))}((e=Object(o.k)(e,{errMsgProvider:dt,ignoredIssues:{}})).rules,e.maxLookahead,e.tokenTypes,e.ignoredIssues,e.errMsgProvider,e.grammarName)}function gt(e){Object(o.u)(e.rules,(function(e){var t=new Ee;e.accept(t),Object(o.u)(t.dslMethods,(function(e){Object(o.u)(e,(function(e,t){e.idx=t+1}))}))}))}var vt="MismatchedTokenException",yt="NoViableAltException",bt="EarlyExitException",wt="NotAllInputParsedException",_t=[vt,yt,bt,wt];function xt(e){return Object(o.j)(_t,e.name)}function Ct(e,t,n){this.name=vt,this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}function kt(e,t,n){this.name=yt,this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}function St(e,t){this.name=wt,this.message=e,this.token=t,this.resyncedTokens=[]}function Et(e,t,n){this.name=bt,this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}Object.freeze(_t),Ct.prototype=Error.prototype,kt.prototype=Error.prototype,St.prototype=Error.prototype,Et.prototype=Error.prototype;var Tt={},Ot="InRuleRecoveryException";function At(e){this.name=Ot,this.message=e}At.prototype=Error.prototype;var It=function(){function e(){}return e.prototype.initRecoverable=function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Object(o.w)(e,"recoveryEnabled")?e.recoveryEnabled:on.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Nt)},e.prototype.getTokenToInsert=function(e){var t=le(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t},e.prototype.canTokenTypeBeInsertedInRecovery=function(e){return!0},e.prototype.tryInRepetitionRecovery=function(e,t,n,r){for(var i=this,l=this.findReSyncTokenType(),s=this.exportLexerState(),a=[],u=!1,c=this.LA(1),h=this.LA(1),d=function(){var e=i.LA(0),t=new Ct(i.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:e,ruleName:i.getCurrRuleFullName()}),c,i.LA(0));t.resyncedTokens=Object(o.n)(a),i.SAVE_ERROR(t)};!u;){if(this.tokenMatcher(h,r))return void d();if(n.call(this))return d(),void e.apply(this,t);this.tokenMatcher(h,l)?u=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,a))}this.importLexerState(s)},e.prototype.shouldInRepetitionRecoveryBeTried=function(e,t,n){return!1!==n&&void 0!==e&&void 0!==t&&!this.tokenMatcher(this.LA(1),e)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t))},e.prototype.getFollowsForInRuleRecovery=function(e,t){var n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)},e.prototype.tryInRuleRecovery=function(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new At("sad sad panda")},e.prototype.canPerformInRuleRecovery=function(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)},e.prototype.canRecoverWithSingleTokenInsertion=function(e,t){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if(Object(o.A)(t))return!1;var r=this.LA(1);return void 0!==Object(o.q)(t,(function(e){return n.tokenMatcher(r,e)}))},e.prototype.canRecoverWithSingleTokenDeletion=function(e){return this.tokenMatcher(this.LA(2),e)},e.prototype.isInCurrentRuleReSyncSet=function(e){var t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return Object(o.j)(n,e)},e.prototype.findReSyncTokenType=function(){for(var e=this.flattenFollowSet(),t=this.LA(1),n=2;;){var r=t.tokenType;if(Object(o.j)(e,r))return r;t=this.LA(n),n++}},e.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return Tt;var e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}},e.prototype.buildFullFollowKeyStack=function(){var e=this,t=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Object(o.A)(this.LAST_EXPLICIT_RULE_STACK)||(t=Object(o.I)(this.LAST_EXPLICIT_RULE_STACK,(function(t){return e.RULE_STACK[t]})),n=Object(o.I)(this.LAST_EXPLICIT_RULE_STACK,(function(t){return e.RULE_OCCURRENCE_STACK[t]}))),Object(o.I)(t,(function(r,i){return 0===i?Tt:{ruleName:e.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:e.shortRuleNameToFullName(t[i-1])}}))},e.prototype.flattenFollowSet=function(){var e=this,t=Object(o.I)(this.buildFullFollowKeyStack(),(function(t){return e.getFollowSetFromFollowKey(t)}));return Object(o.t)(t)},e.prototype.getFollowSetFromFollowKey=function(e){return e===Tt?[oe]:this.resyncFollows[e.ruleName+e.idxInCallingRule+"_~IN~_"+e.inRule]},e.prototype.addToResyncTokens=function(e,t){return this.tokenMatcher(e,oe)||t.push(e),t},e.prototype.reSyncTo=function(e){for(var t=[],n=this.LA(1);!1===this.tokenMatcher(n,e);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return Object(o.n)(t)},e.prototype.attemptInRepetitionRecovery=function(e,t,n,r,i,o,l){},e.prototype.getCurrentGrammarPath=function(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:Object(o.g)(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}},e.prototype.getHumanReadableRuleStack=function(){var e=this;return Object(o.A)(this.LAST_EXPLICIT_RULE_STACK)?Object(o.I)(this.RULE_STACK,(function(t){return e.shortRuleNameToFullName(t)})):Object(o.I)(this.LAST_EXPLICIT_RULE_STACK,(function(t){return e.shortRuleNameToFullName(e.RULE_STACK[t])}))},e}();function Nt(e,t,n,r,i,o,l){var s=this.getKeyForAutomaticLookahead(r,i),a=this.firstAfterRepMap[s];if(void 0===a){var u=this.getCurrRuleFullName();a=new o(this.getGAstProductions()[u],i).startWalking(),this.firstAfterRepMap[s]=a}var c=a.token,h=a.occurrence;1===this.RULE_STACK.length&&a.isEndOfRule&&void 0===c&&(c=oe,h=1),this.shouldInRepetitionRecoveryBeTried(c,h,l)&&this.tryInRepetitionRecovery(e,t,n,c)}var Rt=function(){function e(){}return e.prototype.initLooksAhead=function(e){this.dynamicTokensEnabled=Object(o.w)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:on.dynamicTokensEnabled,this.maxLookahead=Object(o.w)(e,"maxLookahead")?e.maxLookahead:on.maxLookahead,this.lookAheadFuncsCache=Object(o.z)()?new Map:[],Object(o.z)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},e.prototype.preComputeLookaheadFunctions=function(e){var t=this;Object(o.u)(e,(function(e){t.TRACE_INIT(e.name+" Rule Lookahead",(function(){var n=function(e){Te.reset(),e.accept(Te);var t=Te.dslMethods;return Te.reset(),t}(e),r=n.alternation,i=n.repetition,l=n.option,s=n.repetitionMandatory,a=n.repetitionMandatoryWithSeparator,u=n.repetitionWithSeparator;Object(o.u)(r,(function(n){var r=0===n.idx?"":n.idx;t.TRACE_INIT(""+Se(n)+r,(function(){var r,i,o,l=(r=n.hasPredicates,i=t.dynamicTokensEnabled,(0,t.lookAheadBuilderForAlternatives)(o=Je(n.idx,e,n.maxLookahead||t.maxLookahead),r,nt(o)?P:M,i)),s=Ie(t.fullRuleNameToShort[e.name],256,n.idx);t.setLaFuncCache(s,l)}))})),Object(o.u)(i,(function(n){t.computeLookaheadFunc(e,n.idx,768,Ke.REPETITION,n.maxLookahead,Se(n))})),Object(o.u)(l,(function(n){t.computeLookaheadFunc(e,n.idx,512,Ke.OPTION,n.maxLookahead,Se(n))})),Object(o.u)(s,(function(n){t.computeLookaheadFunc(e,n.idx,1024,Ke.REPETITION_MANDATORY,n.maxLookahead,Se(n))})),Object(o.u)(a,(function(n){t.computeLookaheadFunc(e,n.idx,1536,Ke.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,Se(n))})),Object(o.u)(u,(function(n){t.computeLookaheadFunc(e,n.idx,1280,Ke.REPETITION_WITH_SEPARATOR,n.maxLookahead,Se(n))}))}))}))},e.prototype.computeLookaheadFunc=function(e,t,n,r,i,o){var l=this;this.TRACE_INIT(""+o+(0===t?"":t),(function(){var o=function(e,t,n,r,i,o){var l=et(e,t,i,n),s=nt(l)?P:M;return o(l[0],s,r)}(t,e,i||l.maxLookahead,l.dynamicTokensEnabled,r,l.lookAheadBuilderForOptional),s=Ie(l.fullRuleNameToShort[e.name],n,t);l.setLaFuncCache(s,o)}))},e.prototype.lookAheadBuilderForOptional=function(e,t,n){return function(e,t,n){var r=Object(o.o)(e,(function(e){return 1===e.length})),i=e.length;if(r&&!n){var l=Object(o.t)(e);if(1===l.length&&Object(o.A)(l[0].categoryMatches)){var s=l[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}var a=Object(o.O)(l,(function(e,t,n){return e[t.tokenTypeIdx]=!0,Object(o.u)(t.categoryMatches,(function(t){e[t]=!0})),e}),[]);return function(){var e=this.LA(1);return!0===a[e.tokenTypeIdx]}}return function(){e:for(var n=0;n<i;n++){for(var r=e[n],o=r.length,l=0;l<o;l++){var s=this.LA(l+1);if(!1===t(s,r[l]))continue e}return!0}return!1}}(e,t,n)},e.prototype.lookAheadBuilderForAlternatives=function(e,t,n,r){return function(e,t,n,r){var i=e.length,l=Object(o.o)(e,(function(e){return Object(o.o)(e,(function(e){return 1===e.length}))}));if(t)return function(t){for(var r=Object(o.I)(t,(function(e){return e.GATE})),l=0;l<i;l++){var s=e[l],a=s.length,u=r[l];if(void 0===u||!1!==u.call(this))e:for(var c=0;c<a;c++){for(var h=s[c],d=h.length,f=0;f<d;f++){var p=this.LA(f+1);if(!1===n(p,h[f]))continue e}return l}}};if(l&&!r){var s=Object(o.I)(e,(function(e){return Object(o.t)(e)})),a=Object(o.O)(s,(function(e,t,n){return Object(o.u)(t,(function(t){Object(o.w)(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),Object(o.u)(t.categoryMatches,(function(t){Object(o.w)(e,t)||(e[t]=n)}))})),e}),[]);return function(){var e=this.LA(1);return a[e.tokenTypeIdx]}}return function(){for(var t=0;t<i;t++){var r=e[t],o=r.length;e:for(var l=0;l<o;l++){for(var s=r[l],a=s.length,u=0;u<a;u++){var c=this.LA(u+1);if(!1===n(c,s[u]))continue e}return t}}}}(e,t,n,r)},e.prototype.getKeyForAutomaticLookahead=function(e,t){return Ie(this.getLastExplicitRuleShortName(),e,t)},e.prototype.getLaFuncFromCache=function(e){},e.prototype.getLaFuncFromMap=function(e){return this.lookAheadFuncsCache.get(e)},e.prototype.getLaFuncFromObj=function(e){return this.lookAheadFuncsCache[e]},e.prototype.setLaFuncCache=function(e,t){},e.prototype.setLaFuncCacheUsingMap=function(e,t){this.lookAheadFuncsCache.set(e,t)},e.prototype.setLaFuncUsingObj=function(e,t){this.lookAheadFuncsCache[e]=t},e}(),Lt=/^\s*function\s*(\S*)\s*\(/,Mt="name";function Pt(e){return e.name||e.toString().match(Lt)[1]}function Dt(e,t){var n=Object.getOwnPropertyDescriptor(e,Mt);return!(!Object(o.F)(n)&&!n.configurable||(Object.defineProperty(e,Mt,{enumerable:!1,configurable:!0,writable:!1,value:t}),0))}function jt(e,t){for(var n=Object(o.G)(e),r=n.length,i=0;i<r;i++)for(var l=e[n[i]],s=l.length,a=0;a<s;a++){var u=l[a];void 0===u.tokenTypeIdx&&(void 0!==u.fullName?this[u.fullName](u.children,t):this[u.name](u.children,t))}}var Ft=function(e){return e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD",e}({}),Ut=["constructor","visit","validateVisitor"],Vt=function(){function e(){}return e.prototype.initTreeBuilder=function(e){if(this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.outputCst=Object(o.w)(e,"outputCst")?e.outputCst:on.outputCst,this.nodeLocationTracking=Object(o.w)(e,"nodeLocationTracking")?e.nodeLocationTracking:on.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Me,this.setNodeLocationFromNode=Me,this.cstPostRule=o.b,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=o.b,this.setNodeLocationFromNode=o.b,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Le,this.setNodeLocationFromNode=Le,this.cstPostRule=o.b,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=o.b,this.setNodeLocationFromNode=o.b,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+e.nodeLocationTracking+'"');this.setNodeLocationFromToken=o.b,this.setNodeLocationFromNode=o.b,this.cstPostRule=o.b,this.setInitialNodeLocation=o.b}else this.cstInvocationStateUpdate=o.b,this.cstFinallyStateUpdate=o.b,this.cstPostTerminal=o.b,this.cstPostNonTerminal=o.b,this.cstPostRule=o.b,this.getLastExplicitRuleShortName=this.getLastExplicitRuleShortNameNoCst,this.getPreviousExplicitRuleShortName=this.getPreviousExplicitRuleShortNameNoCst,this.getLastExplicitRuleOccurrenceIndex=this.getLastExplicitRuleOccurrenceIndexNoCst,this.manyInternal=this.manyInternalNoCst,this.orInternal=this.orInternalNoCst,this.optionInternal=this.optionInternalNoCst,this.atLeastOneInternal=this.atLeastOneInternalNoCst,this.manySepFirstInternal=this.manySepFirstInternalNoCst,this.atLeastOneSepFirstInternal=this.atLeastOneSepFirstInternalNoCst},e.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(e){e.location={startOffset:NaN,endOffset:NaN}},e.prototype.setInitialNodeLocationOnlyOffsetRegular=function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},e.prototype.setInitialNodeLocationFullRecovery=function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.setInitialNodeLocationFullRegular=function(e){var t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.cstNestedInvocationStateUpdate=function(e,t){var n={name:e,fullName:this.shortRuleNameToFull[this.getLastExplicitRuleShortName()]+e,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},e.prototype.cstInvocationStateUpdate=function(e,t){this.LAST_EXPLICIT_RULE_STACK.push(this.RULE_STACK.length-1);var n={name:e,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},e.prototype.cstFinallyStateUpdate=function(){this.LAST_EXPLICIT_RULE_STACK.pop(),this.CST_STACK.pop()},e.prototype.cstNestedFinallyStateUpdate=function(){var e=this.CST_STACK.pop();this.cstPostRule(e)},e.prototype.cstPostRuleFull=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},e.prototype.cstPostRuleOnlyOffset=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?n.endOffset=t.endOffset:n.startOffset=NaN},e.prototype.cstPostTerminal=function(e,t){var n,r,i,o=this.CST_STACK[this.CST_STACK.length-1];r=t,void 0===(n=o).children[i=e]?n.children[i]=[r]:n.children[i].push(r),this.setNodeLocationFromToken(o.location,t)},e.prototype.cstPostNonTerminal=function(e,t){if(!0!==this.isBackTracking()){var n=this.CST_STACK[this.CST_STACK.length-1];Pe(n,t,e),this.setNodeLocationFromNode(n.location,e.location)}},e.prototype.getBaseCstVisitorConstructor=function(){if(Object(o.F)(this.baseCstVisitorConstructor)){var e=(t=this.allRuleNames,Dt(n=function(){},this.className+"BaseSemantics"),(n.prototype={visit:function(e,t){if(Object(o.y)(e)&&(e=e[0]),!Object(o.F)(e))return void 0!==e.fullName?this[e.fullName](e.children,t):this[e.name](e.children,t)},validateVisitor:function(){var e=function(e,t){var n=function(e,t){var n=Object(o.I)(t,(function(t){if(!Object(o.B)(e[t]))return{msg:"Missing visitor method: <"+t+"> on "+Pt(e.constructor)+" CST Visitor.",type:Ft.MISSING_METHOD,methodName:t}}));return Object(o.i)(n)}(e,t),r=function(e,t){var n=[];for(var r in e)lt.test(r)&&Object(o.B)(e[r])&&!Object(o.j)(Ut,r)&&!Object(o.j)(t,r)&&n.push({msg:"Redundant visitor method: <"+r+"> on "+Pt(e.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\nFor utility methods on visitor classes use methods names that do not match /"+lt.source+"/.",type:Ft.REDUNDANT_METHOD,methodName:r});return n}(e,t);return n.concat(r)}(this,t);if(!Object(o.A)(e)){var n=Object(o.I)(e,(function(e){return e.msg}));throw Error("Errors Detected in CST Visitor <"+Pt(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}}).constructor=n,n._RULE_NAMES=t,n);return this.baseCstVisitorConstructor=e,e}var t,n;return this.baseCstVisitorConstructor},e.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(Object(o.F)(this.baseCstVisitorWithDefaultsConstructor)){var e=function(e,t,n){var r=function(){};Dt(r,e+"BaseSemanticsWithDefaults");var i=Object.create(n.prototype);return Object(o.u)(t,(function(e){i[e]=jt})),(r.prototype=i).constructor=r,r}(this.className,this.allRuleNames,this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor},e.prototype.nestedRuleBeforeClause=function(e,t){var n;return void 0!==e.NAME?(this.nestedRuleInvocationStateUpdate(n=e.NAME,t),n):void 0},e.prototype.nestedAltBeforeClause=function(e,t,n,r){var i,o=Re(this.getLastExplicitRuleShortName(),n,t,r);return void 0!==e.NAME?(this.nestedRuleInvocationStateUpdate(i=e.NAME,o),{shortName:o,nestedName:i}):void 0},e.prototype.nestedRuleFinallyClause=function(e,t){var n=this.CST_STACK,r=n[n.length-1];this.nestedRuleFinallyStateUpdate();var i=n[n.length-1];Pe(i,t,r),this.setNodeLocationFromNode(i.location,r.location)},e.prototype.getLastExplicitRuleShortName=function(){return this.RULE_STACK[this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1]]},e.prototype.getLastExplicitRuleShortNameNoCst=function(){var e=this.RULE_STACK;return e[e.length-1]},e.prototype.getPreviousExplicitRuleShortName=function(){return this.RULE_STACK[this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-2]]},e.prototype.getPreviousExplicitRuleShortNameNoCst=function(){var e=this.RULE_STACK;return e[e.length-2]},e.prototype.getLastExplicitRuleOccurrenceIndex=function(){return this.RULE_OCCURRENCE_STACK[this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1]]},e.prototype.getLastExplicitRuleOccurrenceIndexNoCst=function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]},e.prototype.nestedRuleInvocationStateUpdate=function(e,t){this.RULE_OCCURRENCE_STACK.push(1),this.RULE_STACK.push(t),this.cstNestedInvocationStateUpdate(e,t)},e.prototype.nestedRuleFinallyStateUpdate=function(){this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstNestedFinallyStateUpdate()},e}(),zt=function(){function e(){}return e.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(e.prototype,"input",{get:function(){return this.tokVector},set:function(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length},enumerable:!0,configurable:!0}),e.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):rn},e.prototype.LA=function(e){var t=this.currIdx+e;return t<0||this.tokVectorLength<=t?rn:this.tokVector[t]},e.prototype.consumeToken=function(){this.currIdx++},e.prototype.exportLexerState=function(){return this.currIdx},e.prototype.importLexerState=function(e){this.currIdx=e},e.prototype.resetLexerState=function(){this.currIdx=-1},e.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},e.prototype.getLexerPosition=function(){return this.exportLexerState()},e}(),Ht=function(){function e(){}return e.prototype.ACTION=function(e){return e.call(this)},e.prototype.consume=function(e,t,n){return this.consumeInternal(t,e,n)},e.prototype.subrule=function(e,t,n){return this.subruleInternal(t,e,n)},e.prototype.option=function(e,t){return this.optionInternal(t,e)},e.prototype.or=function(e,t){return this.orInternal(t,e)},e.prototype.many=function(e,t){return this.manyInternal(e,t)},e.prototype.atLeastOne=function(e,t){return this.atLeastOneInternal(e,t)},e.prototype.CONSUME=function(e,t){return this.consumeInternal(e,0,t)},e.prototype.CONSUME1=function(e,t){return this.consumeInternal(e,1,t)},e.prototype.CONSUME2=function(e,t){return this.consumeInternal(e,2,t)},e.prototype.CONSUME3=function(e,t){return this.consumeInternal(e,3,t)},e.prototype.CONSUME4=function(e,t){return this.consumeInternal(e,4,t)},e.prototype.CONSUME5=function(e,t){return this.consumeInternal(e,5,t)},e.prototype.CONSUME6=function(e,t){return this.consumeInternal(e,6,t)},e.prototype.CONSUME7=function(e,t){return this.consumeInternal(e,7,t)},e.prototype.CONSUME8=function(e,t){return this.consumeInternal(e,8,t)},e.prototype.CONSUME9=function(e,t){return this.consumeInternal(e,9,t)},e.prototype.SUBRULE=function(e,t){return this.subruleInternal(e,0,t)},e.prototype.SUBRULE1=function(e,t){return this.subruleInternal(e,1,t)},e.prototype.SUBRULE2=function(e,t){return this.subruleInternal(e,2,t)},e.prototype.SUBRULE3=function(e,t){return this.subruleInternal(e,3,t)},e.prototype.SUBRULE4=function(e,t){return this.subruleInternal(e,4,t)},e.prototype.SUBRULE5=function(e,t){return this.subruleInternal(e,5,t)},e.prototype.SUBRULE6=function(e,t){return this.subruleInternal(e,6,t)},e.prototype.SUBRULE7=function(e,t){return this.subruleInternal(e,7,t)},e.prototype.SUBRULE8=function(e,t){return this.subruleInternal(e,8,t)},e.prototype.SUBRULE9=function(e,t){return this.subruleInternal(e,9,t)},e.prototype.OPTION=function(e){return this.optionInternal(e,0)},e.prototype.OPTION1=function(e){return this.optionInternal(e,1)},e.prototype.OPTION2=function(e){return this.optionInternal(e,2)},e.prototype.OPTION3=function(e){return this.optionInternal(e,3)},e.prototype.OPTION4=function(e){return this.optionInternal(e,4)},e.prototype.OPTION5=function(e){return this.optionInternal(e,5)},e.prototype.OPTION6=function(e){return this.optionInternal(e,6)},e.prototype.OPTION7=function(e){return this.optionInternal(e,7)},e.prototype.OPTION8=function(e){return this.optionInternal(e,8)},e.prototype.OPTION9=function(e){return this.optionInternal(e,9)},e.prototype.OR=function(e){return this.orInternal(e,0)},e.prototype.OR1=function(e){return this.orInternal(e,1)},e.prototype.OR2=function(e){return this.orInternal(e,2)},e.prototype.OR3=function(e){return this.orInternal(e,3)},e.prototype.OR4=function(e){return this.orInternal(e,4)},e.prototype.OR5=function(e){return this.orInternal(e,5)},e.prototype.OR6=function(e){return this.orInternal(e,6)},e.prototype.OR7=function(e){return this.orInternal(e,7)},e.prototype.OR8=function(e){return this.orInternal(e,8)},e.prototype.OR9=function(e){return this.orInternal(e,9)},e.prototype.MANY=function(e){this.manyInternal(0,e)},e.prototype.MANY1=function(e){this.manyInternal(1,e)},e.prototype.MANY2=function(e){this.manyInternal(2,e)},e.prototype.MANY3=function(e){this.manyInternal(3,e)},e.prototype.MANY4=function(e){this.manyInternal(4,e)},e.prototype.MANY5=function(e){this.manyInternal(5,e)},e.prototype.MANY6=function(e){this.manyInternal(6,e)},e.prototype.MANY7=function(e){this.manyInternal(7,e)},e.prototype.MANY8=function(e){this.manyInternal(8,e)},e.prototype.MANY9=function(e){this.manyInternal(9,e)},e.prototype.MANY_SEP=function(e){this.manySepFirstInternal(0,e)},e.prototype.MANY_SEP1=function(e){this.manySepFirstInternal(1,e)},e.prototype.MANY_SEP2=function(e){this.manySepFirstInternal(2,e)},e.prototype.MANY_SEP3=function(e){this.manySepFirstInternal(3,e)},e.prototype.MANY_SEP4=function(e){this.manySepFirstInternal(4,e)},e.prototype.MANY_SEP5=function(e){this.manySepFirstInternal(5,e)},e.prototype.MANY_SEP6=function(e){this.manySepFirstInternal(6,e)},e.prototype.MANY_SEP7=function(e){this.manySepFirstInternal(7,e)},e.prototype.MANY_SEP8=function(e){this.manySepFirstInternal(8,e)},e.prototype.MANY_SEP9=function(e){this.manySepFirstInternal(9,e)},e.prototype.AT_LEAST_ONE=function(e){this.atLeastOneInternal(0,e)},e.prototype.AT_LEAST_ONE1=function(e){return this.atLeastOneInternal(1,e)},e.prototype.AT_LEAST_ONE2=function(e){this.atLeastOneInternal(2,e)},e.prototype.AT_LEAST_ONE3=function(e){this.atLeastOneInternal(3,e)},e.prototype.AT_LEAST_ONE4=function(e){this.atLeastOneInternal(4,e)},e.prototype.AT_LEAST_ONE5=function(e){this.atLeastOneInternal(5,e)},e.prototype.AT_LEAST_ONE6=function(e){this.atLeastOneInternal(6,e)},e.prototype.AT_LEAST_ONE7=function(e){this.atLeastOneInternal(7,e)},e.prototype.AT_LEAST_ONE8=function(e){this.atLeastOneInternal(8,e)},e.prototype.AT_LEAST_ONE9=function(e){this.atLeastOneInternal(9,e)},e.prototype.AT_LEAST_ONE_SEP=function(e){this.atLeastOneSepFirstInternal(0,e)},e.prototype.AT_LEAST_ONE_SEP1=function(e){this.atLeastOneSepFirstInternal(1,e)},e.prototype.AT_LEAST_ONE_SEP2=function(e){this.atLeastOneSepFirstInternal(2,e)},e.prototype.AT_LEAST_ONE_SEP3=function(e){this.atLeastOneSepFirstInternal(3,e)},e.prototype.AT_LEAST_ONE_SEP4=function(e){this.atLeastOneSepFirstInternal(4,e)},e.prototype.AT_LEAST_ONE_SEP5=function(e){this.atLeastOneSepFirstInternal(5,e)},e.prototype.AT_LEAST_ONE_SEP6=function(e){this.atLeastOneSepFirstInternal(6,e)},e.prototype.AT_LEAST_ONE_SEP7=function(e){this.atLeastOneSepFirstInternal(7,e)},e.prototype.AT_LEAST_ONE_SEP8=function(e){this.atLeastOneSepFirstInternal(8,e)},e.prototype.AT_LEAST_ONE_SEP9=function(e){this.atLeastOneSepFirstInternal(9,e)},e.prototype.RULE=function(e,t,n){if(void 0===n&&(n=ln),Object(o.j)(this.definedRulesNames,e)){var r=dt.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className});this.definitionErrors.push({message:r,type:sn.DUPLICATE_RULE_NAME,ruleName:e})}this.definedRulesNames.push(e);var i=this.defineRule(e,t,n);return this[e]=i,i},e.prototype.OVERRIDE_RULE=function(e,t,n){void 0===n&&(n=ln);var r,i,l,s=[];s=s.concat((i=this.className,l=[],o.j(this.definedRulesNames,r=e)||l.push({message:"Invalid rule override, rule: ->"+r+"<- cannot be overridden in the grammar: ->"+i+"<-as it is not defined in any of the super grammars ",type:sn.INVALID_RULE_OVERRIDE,ruleName:r}),l)),this.definitionErrors.push.apply(this.definitionErrors,s);var a=this.defineRule(e,t,n);return this[e]=a,a},e.prototype.BACKTRACK=function(e,t){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return e.apply(this,t),!0}catch(r){if(xt(r))return!1;throw r}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},e.prototype.getGAstProductions=function(){return this.gastProductionsCache},e.prototype.getSerializedGastProductions=function(){return be(Object(o.U)(this.gastProductionsCache))},e}(),Bt=function(){function e(){}return e.prototype.initRecognizerEngine=function(e,t){if(this.className=Pt(this.constructor),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=P,this.definedRulesNames=[],this.tokensMap={},this.allRuleNames=[],this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Object(o.w)(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(Object(o.y)(e)){if(Object(o.A)(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(Object(o.y)(e))this.tokensMap=Object(o.O)(e,(function(e,t){return e[t.name]=t,e}),{});else if(Object(o.w)(e,"modes")&&Object(o.o)(Object(o.t)(Object(o.U)(e.modes)),z)){var n=Object(o.t)(Object(o.U)(e.modes)),r=Object(o.T)(n);this.tokensMap=Object(o.O)(r,(function(e,t){return e[t.name]=t,e}),{})}else{if(!Object(o.C)(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=Object(o.h)(e)}this.tokensMap.EOF=oe;var i=Object(o.o)(Object(o.U)(e),(function(e){return Object(o.A)(e.categoryMatches)}));this.tokenMatcher=i?P:M,F(Object(o.U)(this.tokensMap))},e.prototype.defineRule=function(e,t,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+e+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r,i=Object(o.w)(n,"resyncEnabled")?n.resyncEnabled:ln.resyncEnabled,l=Object(o.w)(n,"recoveryValueFunc")?n.recoveryValueFunc:ln.recoveryValueFunc,s=this.ruleShortNameIdx<<12;function a(e){try{if(!0===this.outputCst){t.apply(this,e);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return t.apply(this,e)}catch(r){return this.invokeRuleCatch(r,i,l)}finally{this.ruleFinallyStateUpdate()}}return this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s,(r=function(t,n){return void 0===t&&(t=0),this.ruleInvocationStateUpdate(s,e,t),a.call(this,n)}).ruleName=e,r.originalGrammarAction=t,r},e.prototype.invokeRuleCatch=function(e,t,n){var r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(xt(e)){var o=e;if(i){var l,s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))return o.resyncedTokens=this.reSyncTo(s),this.outputCst?((l=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,l):n();throw this.outputCst&&((l=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,o.partialCstResult=l),o}if(r)return this.moveToTerminatedState(),n();throw o}throw e},e.prototype.optionInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(512,t),r=this.nestedRuleBeforeClause(e,n);try{return this.optionInternalLogic(e,t,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.optionInternalNoCst=function(e,t){var n=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,n)},e.prototype.optionInternalLogic=function(e,t,n){var r,i,o=this,l=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(i=e.GATE)){var s=l;l=function(){return i.call(o)&&s.call(o)}}}else r=e;if(!0===l.call(this))return r.call(this)},e.prototype.atLeastOneInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(1024,e),r=this.nestedRuleBeforeClause(t,n);try{return this.atLeastOneInternalLogic(e,t,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.atLeastOneInternalNoCst=function(e,t){var n=this.getKeyForAutomaticLookahead(1024,e);this.atLeastOneInternalLogic(e,t,n)},e.prototype.atLeastOneInternalLogic=function(e,t,n){var r,i,o=this,l=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var s=l;l=function(){return i.call(o)&&s.call(o)}}}else r=t;if(!0!==l.call(this))throw this.raiseEarlyExitException(e,Ke.REPETITION_MANDATORY,t.ERR_MSG);for(var a=this.doSingleRepetition(r);!0===l.call(this)&&!0===a;)a=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],l,1024,e,ze)},e.prototype.atLeastOneSepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(1536,e),r=this.nestedRuleBeforeClause(t,n);try{this.atLeastOneSepFirstInternalLogic(e,t,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.atLeastOneSepFirstInternalNoCst=function(e,t){var n=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,t,n)},e.prototype.atLeastOneSepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(e,Ke.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);i.call(this);for(var l=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,l,i,He],l,1536,e,He)},e.prototype.manyInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(768,e),r=this.nestedRuleBeforeClause(t,n);try{return this.manyInternalLogic(e,t,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.manyInternalNoCst=function(e,t){var n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,n)},e.prototype.manyInternalLogic=function(e,t,n){var r,i,o=this,l=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var s=l;l=function(){return i.call(o)&&s.call(o)}}}else r=t;for(var a=!0;!0===l.call(this)&&!0===a;)a=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],l,768,e,Ue,a)},e.prototype.manySepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(1280,e),r=this.nestedRuleBeforeClause(t,n);try{this.manySepFirstInternalLogic(e,t,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.manySepFirstInternalNoCst=function(e,t){var n=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,t,n)},e.prototype.manySepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){i.call(this);for(var l=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,l,i,Ve],l,1280,e,Ve)}},e.prototype.repetitionSepSecondInternal=function(e,t,n,r,i){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,1536,e,i)},e.prototype.doSingleRepetition=function(e){var t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t},e.prototype.orInternalNoCst=function(e,t){var n=Object(o.y)(e)?e:e.DEF,r=this.getKeyForAutomaticLookahead(256,t),i=this.getLaFuncFromCache(r).call(this,n);if(void 0!==i)return n[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)},e.prototype.orInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(256,t),r=this.nestedRuleBeforeClause(e,n);try{var i=Object(o.y)(e)?e:e.DEF,l=this.getLaFuncFromCache(n).call(this,i);if(void 0!==l){var s=i[l],a=this.nestedAltBeforeClause(s,t,256,l);try{return s.ALT.call(this)}finally{void 0!==a&&this.nestedRuleFinallyClause(a.shortName,a.nestedName)}}this.raiseNoAltException(t,e.ERR_MSG)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new St(t,e))}},e.prototype.subruleInternal=function(e,t,n){var r;try{return r=e.call(this,t,void 0!==n?n.ARGS:void 0),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(i){this.subruleInternalError(i,n,e.ruleName)}},e.prototype.subruleInternalError=function(e,t,n){throw xt(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e},e.prototype.consumeInternal=function(e,t,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,e)?(this.consumeToken(),r=i):this.consumeInternalError(e,i,n)}catch(o){r=this.consumeInternalRecovery(e,t,o)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r},e.prototype.consumeInternalError=function(e,t,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Ct(r,t,i))},e.prototype.consumeInternalRecovery=function(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(i){throw i.name===Ot?n:i}},e.prototype.saveRecogState=function(){var e=this.errors,t=Object(o.g)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK,LAST_EXPLICIT_RULE_STACK:this.LAST_EXPLICIT_RULE_STACK}},e.prototype.reloadRecogState=function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK},e.prototype.ruleInvocationStateUpdate=function(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t,e)},e.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},e.prototype.getCurrRuleFullName=function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]},e.prototype.shortRuleNameToFullName=function(e){return this.shortRuleNameToFull[e]},e.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),oe)},e.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},e}(),Wt=function(){function e(){}return e.prototype.initErrorHandler=function(e){this._errors=[],this.errorMessageProvider=Object(o.k)(e.errorMessageProvider,on.errorMessageProvider)},e.prototype.SAVE_ERROR=function(e){if(xt(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Object(o.g)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(e.prototype,"errors",{get:function(){return Object(o.g)(this._errors)},set:function(e){this._errors=e},enumerable:!0,configurable:!0}),e.prototype.raiseEarlyExitException=function(e,t,n){for(var r=this.getCurrRuleFullName(),i=et(e,this.getGAstProductions()[r],t,this.maxLookahead)[0],o=[],l=1;l<=this.maxLookahead;l++)o.push(this.LA(l));var s=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:o,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new Et(s,this.LA(1),this.LA(0)))},e.prototype.raiseNoAltException=function(e,t){for(var n=this.getCurrRuleFullName(),r=Je(e,this.getGAstProductions()[n],this.maxLookahead),i=[],o=1;o<=this.maxLookahead;o++)i.push(this.LA(o));var l=this.LA(0),s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:l,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new kt(s,this.LA(1),l))},e}(),$t=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(e,t){var n=this.gastProductionsCache[e];if(Object(o.F)(n))throw Error("Rule ->"+e+"<- does not exist in this grammar.");return We([n],t,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(e){var t=Object(o.s)(e.ruleStack),n=this.getGAstProductions();return new je(n[t],e).startWalking()},e}(),Kt={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Kt);var qt=Math.pow(2,8)-1,Gt=ie({name:"RECORDING_PHASE_TOKEN",pattern:$.NA});F([Gt]);var Zt=le(Gt,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Zt);var Qt={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},Yt=function(){function e(){}return e.prototype.initGastRecorder=function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1},e.prototype.enableRecording=function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var t=function(t){var n=t>0?t:"";e["CONSUME"+n]=function(e,n){return this.consumeInternalRecord(e,t,n)},e["SUBRULE"+n]=function(e,n){return this.subruleInternalRecord(e,t,n)},e["OPTION"+n]=function(e){return this.optionInternalRecord(e,t)},e["OR"+n]=function(e){return this.orInternalRecord(e,t)},e["MANY"+n]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP"+n]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE"+n]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP"+n]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},n=0;n<10;n++)t(n);e.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},e.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},e.option=function(e,t){return this.optionInternalRecord(t,e)},e.or=function(e,t){return this.orInternalRecord(t,e)},e.many=function(e,t){this.manyInternalRecord(e,t)},e.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD}))},e.prototype.disableRecording=function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var t=0;t<10;t++){var n=t>0?t:"";delete e["CONSUME"+n],delete e["SUBRULE"+n],delete e["OPTION"+n],delete e["OR"+n],delete e["MANY"+n],delete e["MANY_SEP"+n],delete e["AT_LEAST_ONE"+n],delete e["AT_LEAST_ONE_SEP"+n]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA}))},e.prototype.ACTION_RECORD=function(e){},e.prototype.BACKTRACK_RECORD=function(e,t){return function(){return!0}},e.prototype.LA_RECORD=function(e){return rn},e.prototype.topLevelRuleRecord=function(e,t){try{var n=new ce({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(r){if(!0!==r.KNOWN_RECORDER_ERROR)try{r.message=r.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(i){throw r}throw r}},e.prototype.optionInternalRecord=function(e,t){return Xt.call(this,de,e,t)},e.prototype.atLeastOneInternalRecord=function(e,t){Xt.call(this,fe,t,e)},e.prototype.atLeastOneSepFirstInternalRecord=function(e,t){Xt.call(this,pe,t,e,!0)},e.prototype.manyInternalRecord=function(e,t){Xt.call(this,me,t,e)},e.prototype.manySepFirstInternalRecord=function(e,t){Xt.call(this,ge,t,e,!0)},e.prototype.orInternalRecord=function(e,t){return Jt.call(this,e,t)},e.prototype.subruleInternalRecord=function(e,t,n){if(tn(t),!e||!1===Object(o.w)(e,"ruleName")){var r=new Error("<SUBRULE"+en(t)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var i=Object(o.M)(this.recordingProdStack),l=new ue({idx:t,nonTerminalName:e.ruleName,referencedRule:void 0});return i.definition.push(l),this.outputCst?Qt:Kt},e.prototype.consumeInternalRecord=function(e,t,n){if(tn(t),!U(e)){var r=new Error("<CONSUME"+en(t)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var i=Object(o.M)(this.recordingProdStack),l=new ye({idx:t,terminalType:e});return i.definition.push(l),Zt},e}();function Xt(e,t,n,r){void 0===r&&(r=!1),tn(n);var i=Object(o.M)(this.recordingProdStack),l=Object(o.B)(t)?t:t.DEF,s=new e({definition:[],idx:n});return Object(o.w)(t,"NAME")&&(s.name=t.NAME),r&&(s.separator=t.SEP),Object(o.w)(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),l.call(this),i.definition.push(s),this.recordingProdStack.pop(),Kt}function Jt(e,t){var n=this;tn(t);var r=Object(o.M)(this.recordingProdStack),i=!1===Object(o.y)(e),l=!1===i?e:e.DEF,s=new ve({definition:[],idx:t,ignoreAmbiguities:i&&!0===e.IGNORE_AMBIGUITIES});Object(o.w)(e,"NAME")&&(s.name=e.NAME),Object(o.w)(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD);var a=Object(o.Q)(l,(function(e){return Object(o.B)(e.GATE)}));return s.hasPredicates=a,r.definition.push(s),Object(o.u)(l,(function(e){var t=new he({definition:[]});s.definition.push(t),Object(o.w)(e,"NAME")&&(t.name=e.NAME),Object(o.w)(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:Object(o.w)(e,"GATE")&&(t.ignoreAmbiguities=!0),n.recordingProdStack.push(t),e.ALT.call(n),n.recordingProdStack.pop()})),Kt}function en(e){return 0===e?"":""+e}function tn(e){if(e<0||e>qt){var t=new Error("Invalid DSL Method idx value: <"+e+">\n\tIdx value must be a none negative value smaller than "+(qt+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}var nn=function(){function e(){}return e.prototype.initPerformanceTracer=function(e){if(Object(o.w)(e,"traceInitPerf")){var t=e.traceInitPerf,n="number"==typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=on.traceInitPerf;this.traceInitIndent=-1},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=Object(o.R)(t),i=r.time,l=r.value,s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(n+"<-- <"+e+"> time: "+i+"ms"),this.traceInitIndent--,l}return t()},e}(),rn=le(oe,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(rn);var on=Object.freeze({recoveryEnabled:!1,maxLookahead:4,ignoredIssues:{},dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:ct,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),ln=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),sn=function(e){return e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.INVALID_NESTED_RULE_NAME=10]="INVALID_NESTED_RULE_NAME",e[e.DUPLICATE_NESTED_NAME=11]="DUPLICATE_NESTED_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=12]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=13]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=14]="TOO_MANY_ALTS",e}({});function an(e){return void 0===e&&(e=void 0),function(){return e}}var un=function(){function e(e,t){void 0===t&&(t=on),this.ignoredIssues=on.ignoredIssues,this.definitionErrors=[],this.selfAnalysisDone=!1,this.initErrorHandler(t),this.initLexerAdapter(),this.initLooksAhead(t),this.initRecognizerEngine(e,t),this.initRecoverable(t),this.initTreeBuilder(t),this.initContentAssist(),this.initGastRecorder(t),this.initPerformanceTracer(t),Object(o.w)(t,"ignoredIssues")&&t.ignoredIssues!==on.ignoredIssues&&Object(o.d)("The <ignoredIssues> IParserConfig property is soft-deprecated and will be removed in future versions.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead."),this.ignoredIssues=Object(o.w)(t,"ignoredIssues")?t.ignoredIssues:on.ignoredIssues,this.skipValidations=Object(o.w)(t,"skipValidations")?t.skipValidations:on.skipValidations}return e.performSelfAnalysis=function(e){e.performSelfAnalysis()},e.prototype.performSelfAnalysis=function(){var t=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;t.selfAnalysisDone=!0;var r=t.className;t.TRACE_INIT("toFastProps",(function(){Object(o.S)(t)})),t.TRACE_INIT("Grammar Recording",(function(){try{t.enableRecording(),Object(o.u)(t.definedRulesNames,(function(e){var n=t[e].originalGrammarAction,r=void 0;t.TRACE_INIT(e+" Rule",(function(){r=t.topLevelRuleRecord(e,n)})),t.gastProductionsCache[e]=r}))}finally{t.disableRecording()}}));var i=[];if(t.TRACE_INIT("Grammar Resolving",(function(){i=pt({rules:Object(o.U)(t.gastProductionsCache)}),t.definitionErrors.push.apply(t.definitionErrors,i)})),t.TRACE_INIT("Grammar Validations",(function(){if(Object(o.A)(i)&&!1===t.skipValidations){var e=mt({rules:Object(o.U)(t.gastProductionsCache),maxLookahead:t.maxLookahead,tokenTypes:Object(o.U)(t.tokensMap),ignoredIssues:t.ignoredIssues,errMsgProvider:dt,grammarName:r});t.definitionErrors.push.apply(t.definitionErrors,e)}})),Object(o.A)(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",(function(){var e,n,r=(e=Object(o.U)(t.gastProductionsCache),n={},Object(o.u)(e,(function(e){var t=new Ae(e).startWalking();Object(o.f)(n,t)})),n);t.resyncFollows=r})),t.TRACE_INIT("ComputeLookaheadFunctions",(function(){t.preComputeLookaheadFunctions(Object(o.U)(t.gastProductionsCache))}))),t.TRACE_INIT("expandAllNestedRuleNames",(function(){var e,n,r,i=(e=Object(o.U)(t.gastProductionsCache),n=t.fullRuleNameToShort,r={allRuleNames:[]},Object(o.u)(e,(function(e){var t=n[e.name];r.allRuleNames.push(e.name);var i=new De(t);e.accept(i),Object(o.u)(i.result,(function(t){r.allRuleNames.push(e.name+t.name)}))})),r);t.allRuleNames=i.allRuleNames})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!Object(o.A)(t.definitionErrors))throw n=Object(o.I)(t.definitionErrors,(function(e){return e.message})),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))}))},e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e}();Object(o.e)(un,[It,Rt,Vt,zt,Bt,Ht,Wt,$t,Yt,nn]);var cn=function(e){function t(t,n){void 0===n&&(n=on);var r=Object(o.h)(n);return r.outputCst=!0,e.call(this,t,r)||this}return Object(i.a)(t,e),t}(un),hn=function(e){function t(t,n){void 0===n&&(n=on);var r=Object(o.h)(n);return r.outputCst=!1,e.call(this,t,r)||this}return Object(i.a)(t,e),t}(un);function dn(e,t){var n=void 0===t?{}:t,i=n.resourceBase,o=void 0===i?"https://unpkg.com/chevrotain@"+r+"/diagrams/":i,l=n.css;return"\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset=\"utf-8\">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n\n<link rel='stylesheet' href='"+(void 0===l?"https://unpkg.com/chevrotain@"+r+"/diagrams/diagrams.css":l)+"'>\n\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+'src/main.js\'><\/script>\n\n<div id="diagrams" align="center"></div>    \n\n<script>\n    window.serializedGrammar = '+JSON.stringify(e,null,"  ")+';\n<\/script>\n\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}var fn="\n";function pn(e){var t;return"\nfunction "+e.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+(t=e.rules,Object(o.I)(t,(function(e){return n=yn(1,'$.RULE("'+(t=e).name+'", function() {')+fn,(n+=vn(t.definition,2))+(yn(2,"})")+fn);var t,n})).join("\n"))+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n"+e.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+e.name+".prototype.constructor = "+e.name+"    \n    "}function mn(e,t,n){var r=yn(n,"$."+(e+t.idx)+"(");return t.name||t.separator?(r+="{"+fn,t.name&&(r+=yn(n+1,'NAME: "'+t.name+'"')+","+fn),t.separator&&(r+=yn(n+1,"SEP: this.tokensMap."+t.separator.name)+","+fn),r+="DEF: "+gn(t.definition,n+2)+fn,r+=yn(n,"}")+fn):r+=gn(t.definition,n+1),r+(yn(n,")")+fn)}function gn(e,t){var n="function() {"+fn;return(n+=vn(e,t))+(yn(t,"}")+fn)}function vn(e,t){var n="";return Object(o.u)(e,(function(e){n+=function(e,t){if(e instanceof ue)return function(e,t){return yn(t,"$.SUBRULE"+e.idx+"($."+e.nonTerminalName+")"+fn)}(e,t);if(e instanceof de)return mn("OPTION",e,t);if(e instanceof fe)return mn("AT_LEAST_ONE",e,t);if(e instanceof pe)return mn("AT_LEAST_ONE_SEP",e,t);if(e instanceof ge)return mn("MANY_SEP",e,t);if(e instanceof me)return mn("MANY",e,t);if(e instanceof ve)return function(e,t){var n=yn(t,"$.OR"+e.idx+"([")+fn,r=Object(o.I)(e.definition,(function(e){return function(e,t){var n=yn(t,"{")+fn;return e.name&&(n+=yn(t+1,'NAME: "'+e.name+'",')+fn),n+=yn(t+1,"ALT: function() {")+fn,n+=vn(e.definition,t+1),(n+=yn(t+1,"}")+fn)+yn(t,"}")}(e,t+1)}));return(n+=r.join(","+fn))+(fn+yn(t,"])"+fn))}(e,t);if(e instanceof ye)return function(e,t){return yn(t,"$.CONSUME"+e.idx+"(this.tokensMap."+e.terminalType.name+")"+fn)}(e,t);if(e instanceof he)return vn(e.definition,t);throw Error("non exhaustive match")}(e,t+1)})),n}function yn(e,t){return Array(4*e+1).join(" ")+t}function bn(e){var t=function(e){return"    \n"+pn(e)+"\nreturn new "+e.name+"(tokenVocabulary, config)    \n"}({name:e.name,rules:e.rules}),r=new Function("tokenVocabulary","config","chevrotain",t);return function(t){return r(e.tokenVocabulary,t,n("+oOE"))}}function wn(e){return function(e){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+pn(e)+"\n    \nreturn {\n    "+e.name+": "+e.name+" \n}\n}));\n"}({name:e.name,rules:e.rules})}function _n(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}n.d(t,"clearCache",(function(){return _n})),n.d(t,"VERSION",(function(){return r})),n.d(t,"Parser",(function(){return un})),n.d(t,"CstParser",(function(){return cn})),n.d(t,"EmbeddedActionsParser",(function(){return hn})),n.d(t,"ParserDefinitionErrorType",(function(){return sn})),n.d(t,"EMPTY_ALT",(function(){return an})),n.d(t,"Lexer",(function(){return $})),n.d(t,"LexerDefinitionErrorType",(function(){return B})),n.d(t,"createToken",(function(){return ie})),n.d(t,"createTokenInstance",(function(){return le})),n.d(t,"EOF",(function(){return oe})),n.d(t,"tokenLabel",(function(){return K})),n.d(t,"tokenMatcher",(function(){return se})),n.d(t,"tokenName",(function(){return q})),n.d(t,"defaultGrammarResolverErrorProvider",(function(){return ht})),n.d(t,"defaultGrammarValidatorErrorProvider",(function(){return dt})),n.d(t,"defaultParserErrorProvider",(function(){return ct})),n.d(t,"EarlyExitException",(function(){return Et})),n.d(t,"isRecognitionException",(function(){return xt})),n.d(t,"MismatchedTokenException",(function(){return Ct})),n.d(t,"NotAllInputParsedException",(function(){return St})),n.d(t,"NoViableAltException",(function(){return kt})),n.d(t,"defaultLexerErrorProvider",(function(){return H})),n.d(t,"Alternation",(function(){return ve})),n.d(t,"Flat",(function(){return he})),n.d(t,"NonTerminal",(function(){return ue})),n.d(t,"Option",(function(){return de})),n.d(t,"Repetition",(function(){return me})),n.d(t,"RepetitionMandatory",(function(){return fe})),n.d(t,"RepetitionMandatoryWithSeparator",(function(){return pe})),n.d(t,"RepetitionWithSeparator",(function(){return ge})),n.d(t,"Rule",(function(){return ce})),n.d(t,"Terminal",(function(){return ye})),n.d(t,"serializeGrammar",(function(){return be})),n.d(t,"serializeProduction",(function(){return we})),n.d(t,"GAstVisitor",(function(){return Ce})),n.d(t,"assignOccurrenceIndices",(function(){return gt})),n.d(t,"resolveGrammar",(function(){return pt})),n.d(t,"validateGrammar",(function(){return mt})),n.d(t,"createSyntaxDiagramsCode",(function(){return dn})),n.d(t,"generateParserFactory",(function(){return bn})),n.d(t,"generateParserModule",(function(){return wn}))},"/9rB":function(e,t,n){!function(e){"use strict";function t(e){for(var t;null!=(t=e.next());)if("`"==t&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function n(e){return e.eat("@")&&(e.match(/^session\./),e.match(/^local\./),e.match(/^global\./)),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function r(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}e.defineMode("sql",(function(t,n){var r=n.client||{},s=n.atoms||{false:!0,true:!0,null:!0},a=n.builtin||o(l),u=n.keywords||o(i),c=n.operatorChars||/^[*+\-%<>!=&|~^\/]/,h=n.support||{},d=n.hooks||{},f=n.dateSQL||{date:!0,time:!0,timestamp:!0},p=!1!==n.backslashStringEscapes,m=n.brackets||/^[\{}\(\)\[\]]/,g=n.punctuation||/^[;.,:]/;function v(e,t){var n,i=e.next();if(d[i]){var o=d[i](e,t);if(!1!==o)return o}if(h.hexNumber&&("0"==i&&e.match(/^[xX][0-9a-fA-F]+/)||("x"==i||"X"==i)&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(h.binaryNumber&&(("b"==i||"B"==i)&&e.match(/^'[01]+'/)||"0"==i&&e.match(/^b[01]+/)))return"number";if(i.charCodeAt(0)>47&&i.charCodeAt(0)<58)return e.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),h.decimallessFloat&&e.match(/^\.(?!\.)/),"number";if("?"==i&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if("'"==i||'"'==i&&h.doubleQuote)return t.tokenize=(n=i,function(e,t){for(var r,i=!1;null!=(r=e.next());){if(r==n&&!i){t.tokenize=v;break}i=p&&!i&&"\\"==r}return"string"}),t.tokenize(e,t);if((h.nCharCast&&("n"==i||"N"==i)||h.charsetCast&&"_"==i&&e.match(/[a-z][a-z0-9]*/i))&&("'"==e.peek()||'"'==e.peek()))return"keyword";if(h.commentSlashSlash&&"/"==i&&e.eat("/"))return e.skipToEnd(),"comment";if(h.commentHash&&"#"==i||"-"==i&&e.eat("-")&&(!h.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if("/"==i&&e.eat("*"))return t.tokenize=function e(t){return function(n,r){var i=n.match(/^.*?(\/\*|\*\/)/);return i?r.tokenize="/*"==i[1]?e(t+1):t>1?e(t-1):v:n.skipToEnd(),"comment"}}(1),t.tokenize(e,t);if("."!=i){if(c.test(i))return e.eatWhile(c),"operator";if(m.test(i))return"bracket";if(g.test(i))return e.eatWhile(g),"punctuation";if("{"==i&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var l=e.current().toLowerCase();return f.hasOwnProperty(l)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":s.hasOwnProperty(l)?"atom":a.hasOwnProperty(l)?"builtin":u.hasOwnProperty(l)?"keyword":r.hasOwnProperty(l)?"string-2":null}return h.zerolessFloat&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":e.match(/^\.+/)?null:h.ODBCdotTable&&e.match(/^[\w\d_]+/)?"variable-2":void 0}function y(e,t,n){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:n}}return{startState:function(){return{tokenize:v,context:null}},token:function(e,t){if(e.sol()&&t.context&&null==t.context.align&&(t.context.align=!1),t.tokenize==v&&e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==n)return n;t.context&&null==t.context.align&&(t.context.align=!0);var r=e.current();return"("==r?y(e,t,")"):"["==r?y(e,t,"]"):t.context&&t.context.type==r&&function(e){e.indent=e.context.indent,e.context=e.context.prev}(t),n},indent:function(n,r){var i=n.context;if(!i)return e.Pass;var o=r.charAt(0)==i.type;return i.align?i.col+(o?0:1):i.indent+(o?0:t.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:h.commentSlashSlash?"//":h.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}}));var i="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function o(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}var l="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";e.defineMIME("text/x-sql",{name:"sql",keywords:o(i+"begin"),builtin:o(l),atoms:o("false true null unknown"),dateSQL:o("date time timestamp"),support:o("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-mssql",{name:"sql",client:o("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:o(i+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:o("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:o("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:o("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":n}}),e.defineMIME("text/x-mysql",{name:"sql",client:o("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:o(i+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":r}}),e.defineMIME("text/x-mariadb",{name:"sql",client:o("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:o(i+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":r}}),e.defineMIME("text/x-sqlite",{name:"sql",client:o("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:o(i+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:o("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:o("date time timestamp datetime"),support:o("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":n,":":n,"?":n,$:n,'"':function(e){for(var t;null!=(t=e.next());)if('"'==t&&!e.eat('"'))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null},"`":t}}),e.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:o("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:o("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:o("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:o("commentSlashSlash decimallessFloat"),hooks:{}}),e.defineMIME("text/x-plsql",{name:"sql",client:o("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:o("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:o("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:o("date time timestamp"),support:o("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),e.defineMIME("text/x-hive",{name:"sql",keywords:o("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:o("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:o("date timestamp"),support:o("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-pgsql",{name:"sql",client:o("source"),keywords:o(i+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:o("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:o("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-gql",{name:"sql",keywords:o("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:o("false true"),builtin:o("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),e.defineMIME("text/x-gpsql",{name:"sql",client:o("source"),keywords:o("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:o("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-sparksql",{name:"sql",keywords:o("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases datata dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:o("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),atoms:o("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable doubleQuote zerolessFloat")}),e.defineMIME("text/x-esper",{name:"sql",client:o("source"),keywords:o("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:o("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:o("time"),support:o("decimallessFloat zerolessFloat binaryNumber hexNumber")})}(n("VrN/"))},0:function(e,t,n){e.exports=n("zUnb")},"1eCo":function(e,t,n){!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",(function(r,i){var o,l,s=r.indentUnit,a={},u=i.htmlMode?t:n;for(var c in u)a[c]=u[c];for(var c in i)a[c]=i[c];function h(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(f("atom","]]>")):null:e.match("--")?n(f("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(function e(t){return function(n,r){for(var i;null!=(i=n.next());){if("<"==i)return r.tokenize=e(t+1),r.tokenize(n,r);if(">"==i){if(1==t){r.tokenize=h;break}return r.tokenize=e(t-1),r.tokenize(n,r)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=f("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=d,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function d(e,t){var n,r,i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=h,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"==i){t.tokenize=h,t.state=v,t.tagName=t.tagStart=null;var l=t.tokenize(e,t);return l?l+" tag error":"tag error"}return/[\'\"]/.test(i)?(t.tokenize=(n=i,(r=function(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=d;break}return"string"}).isInAttribute=!0,r),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=h;break}n.next()}return e}}function p(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(a.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function m(e){e.context&&(e.context=e.context.prev)}function g(e,t){for(var n;;){if(!e.context)return;if(!a.contextGrabbers.hasOwnProperty(n=e.context.tagName)||!a.contextGrabbers[n].hasOwnProperty(t))return;m(e)}}function v(e,t,n){return"openTag"==e?(n.tagStart=t.column(),y):"closeTag"==e?b:v}function y(e,t,n){return"word"==e?(n.tagName=t.current(),l="tag",x):a.allowMissingTagName&&"endTag"==e?(l="tag bracket",x(e,0,n)):(l="error",y)}function b(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&a.implicitlyClosed.hasOwnProperty(n.context.tagName)&&m(n),n.context&&n.context.tagName==r||!1===a.matchClosing?(l="tag",w):(l="tag error",_)}return a.allowMissingTagName&&"endTag"==e?(l="tag bracket",w(e,0,n)):(l="error",_)}function w(e,t,n){return"endTag"!=e?(l="error",w):(m(n),v)}function _(e,t,n){return l="error",w(e,0,n)}function x(e,t,n){if("word"==e)return l="attribute",C;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||a.autoSelfClosers.hasOwnProperty(r)?g(n,r):(g(n,r),n.context=new p(n,r,i==n.indented)),v}return l="error",x}function C(e,t,n){return"equals"==e?k:(a.allowMissing||(l="error"),x(e,0,n))}function k(e,t,n){return"string"==e?S:"word"==e&&a.allowUnquoted?(l="string",x):(l="error",x(e,0,n))}function S(e,t,n){return"string"==e?S:x(e,0,n)}return h.isInText=!0,{startState:function(e){var t={tokenize:h,state:v,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return(n||o)&&"comment"!=n&&(l=null,t.state=t.state(o||n,e,t),l&&(n="error"==l?n+" error":l)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=d&&t.tokenize!=h)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==a.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+s*(a.multilineTagIndentFactor||1);if(a.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!a.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)for(;i;){var l=a.contextGrabbers[i.tagName];if(!l||!l.hasOwnProperty(o[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:a.htmlMode?"html":"xml",helperType:a.htmlMode?"html":"xml",skipAttribute:function(e){e.state==k&&(e.state=x)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],n=e.context;n;n=n.prev)n.tagName&&t.push(n.tagName);return t.reverse()}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n("VrN/"))},"1p+/":function(e,t,n){!function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},n={};function r(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function i(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}e.defineMode("htmlmixed",(function(o,l){var s=e.getMode(o,{name:"xml",htmlMode:!0,multilineTagIndentFactor:l.multilineTagIndentFactor,multilineTagIndentPastTag:l.multilineTagIndentPastTag}),a={},u=l&&l.tags,c=l&&l.scriptTypes;if(i(t,a),u&&i(u,a),c)for(var h=c.length-1;h>=0;h--)a.script.unshift(["type",c[h].matches,c[h].mode]);function d(t,i){var l,u=s.token(t,i.htmlState),c=/\btag\b/.test(u);if(c&&!/[<>\s\/]/.test(t.current())&&(l=i.htmlState.tagName&&i.htmlState.tagName.toLowerCase())&&a.hasOwnProperty(l))i.inTag=l+" ";else if(i.inTag&&c&&/>$/.test(t.current())){var h=/^([\S]+) (.*)/.exec(i.inTag);i.inTag=null;var f=">"==t.current()&&function(e,t){for(var r=0;r<e.length;r++){var i=e[r];if(!i[0]||i[1].test((void 0,(l=t.match(n[o=i[0]]||(n[o]=new RegExp("\\s+"+o+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))))?/^\s*(.*?)\s*$/.exec(l[2])[1]:"")))return i[2]}var o,l}(a[h[1]],h[2]),p=e.getMode(o,f),m=r(h[1],!0),g=r(h[1],!1);i.token=function(e,t){return e.match(m,!1)?(t.token=d,t.localState=t.localMode=null,null):function(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}(e,g,t.localMode.token(e,t.localState))},i.localMode=p,i.localState=e.startState(p,s.indent(i.htmlState,"",""))}else i.inTag&&(i.inTag+=t.current(),t.eol()&&(i.inTag+=" "));return u}return{startState:function(){return{token:d,inTag:null,localMode:null,localState:null,htmlState:e.startState(s)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(s,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?s.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||s}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(n("VrN/"),n("1eCo"),n("+dQi"),n("ewDg"))},"25Eh":function(e,t,n){!function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var n=t(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],i=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function o(e){return e.scopes[e.scopes.length-1]}e.registerHelper("hintWords","python",r.concat(i)),e.defineMode("python",(function(l,s){for(var a="error",u=s.delimiters||s.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,c=[s.singleOperators,s.doubleOperators,s.doubleDelimiters,s.tripleDelimiters,s.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],h=0;h<c.length;h++)c[h]||c.splice(h--,1);var d=s.hangingIndent||l.indentUnit,f=r,p=i;null!=s.extra_keywords&&(f=f.concat(s.extra_keywords)),null!=s.extra_builtins&&(p=p.concat(s.extra_builtins));var m=!(s.version&&Number(s.version)<3);if(m){var g=s.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;f=f.concat(["nonlocal","False","True","None","async","await"]),p=p.concat(["ascii","bytes","exec","print"]);var v=new RegExp("^(([rbuf]|(br)|(fr))?('{3}|\"{3}|['\"]))","i")}else g=s.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/,f=f.concat(["exec","print"]),p=p.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]),v=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i");var y=t(f),b=t(p);function w(e,t){var n=e.sol()&&"\\"!=t.lastToken;if(n&&(t.indent=e.indentation()),n&&"py"==o(t).type){var r=o(t).offset;if(e.eatSpace()){var i=e.indentation();return i>r?x(t):i<r&&C(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var l=_(e,t);return r>0&&C(e,t)&&(l+=" "+a),l}return _(e,t)}function _(e,t){if(e.eatSpace())return null;if(e.match(/^#.*/))return"comment";if(e.match(/^[0-9\.]/,!1)){var r=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(r=!0),e.match(/^[\d_]+\.\d*/)&&(r=!0),e.match(/^\.\d+/)&&(r=!0),r)return e.eat(/J/i),"number";var i=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(i=!0),e.match(/^0b[01_]+/i)&&(i=!0),e.match(/^0o[0-7_]+/i)&&(i=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),i=!0),e.match(/^0(?![\dx])/i)&&(i=!0),i)return e.eat(/L/i),"number"}if(e.match(v))return-1!==e.current().toLowerCase().indexOf("f")?(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,r="string";function i(e){return function(t,n){var r=_(t,n);return"punctuation"==r&&("{"==t.current()?n.tokenize=i(e+1):"}"==t.current()&&(n.tokenize=e>1?i(e-1):o)),r}}function o(o,l){for(;!o.eol();)if(o.eatWhile(/[^'"\{\}\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return r}else{if(o.match(e))return l.tokenize=t,r;if(o.match("{{"))return r;if(o.match("{",!1))return l.tokenize=i(0),o.current()?r:l.tokenize(o,l);if(o.match("}}"))return r;if(o.match("}"))return a;o.eat(/['"]/)}if(n){if(s.singleLineStringErrors)return a;l.tokenize=t}return r}return o.isString=!0,o}(e.current(),t.tokenize),t.tokenize(e,t)):(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,r="string";function i(i,o){for(;!i.eol();)if(i.eatWhile(/[^'"\\]/),i.eat("\\")){if(i.next(),n&&i.eol())return r}else{if(i.match(e))return o.tokenize=t,r;i.eat(/['"]/)}if(n){if(s.singleLineStringErrors)return a;o.tokenize=t}return r}return i.isString=!0,i}(e.current(),t.tokenize),t.tokenize(e,t));for(var o=0;o<c.length;o++)if(e.match(c[o]))return"operator";return e.match(u)?"punctuation":"."==t.lastToken&&e.match(g)?"property":e.match(y)||e.match(n)?"keyword":e.match(b)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(g)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),a)}function x(e){for(;"py"!=o(e).type;)e.scopes.pop();e.scopes.push({offset:o(e).offset+l.indentUnit,type:"py",align:null})}function C(e,t){for(var n=e.indentation();t.scopes.length>1&&o(t).offset>n;){if("py"!=o(t).type)return!0;t.scopes.pop()}return o(t).offset!=n}return{startState:function(e){return{tokenize:w,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var r=function(e,t){e.sol()&&(t.beginningOfLine=!0);var n=t.tokenize(e,t),r=e.current();if(t.beginningOfLine&&"@"==r)return e.match(g,!1)?"meta":m?"operator":a;if(/\S/.test(r)&&(t.beginningOfLine=!1),"variable"!=n&&"builtin"!=n||"meta"!=t.lastToken||(n="meta"),"pass"!=r&&"return"!=r||(t.dedent+=1),"lambda"==r&&(t.lambda=!0),":"!=r||t.lambda||"py"!=o(t).type||x(t),1==r.length&&!/string|comment/.test(n)){var i="[({".indexOf(r);if(-1!=i&&function(e,t,n){var r=e.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+d,type:n,align:r})}(e,t,"])}".slice(i,i+1)),-1!=(i="])}".indexOf(r))){if(o(t).type!=r)return a;t.indent=t.scopes.pop().offset-d}}return t.dedent>0&&e.eol()&&"py"==o(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),n}(e,t);return r&&"comment"!=r&&(t.lastToken="keyword"==r||"punctuation"==r?e.current():r),"punctuation"==r&&(r=null),e.eol()&&t.lambda&&(t.lambda=!1),n?r+" "+a:r},indent:function(t,n){if(t.tokenize!=w)return t.tokenize.isString?e.Pass:0;var r=o(t),i=r.type==n.charAt(0);return null!=r.align?r.align-(i?1:0):r.offset-(i?d:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"}})),e.defineMIME("text/x-python","python"),e.defineMIME("text/x-cython",{name:"python",extra_keywords:"by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE".split(" ")})}(n("VrN/"))},"VrN/":function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),l=r||i||o,s=l&&(r?document.documentMode||6:+(o||i)[1]),a=!o&&/WebKit\//.test(e),u=a&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),h=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),_=h&&e.match(/Version\/(\d*\.\d*)/);_&&(_=Number(_[1])),_&&_>=15&&(h=!1,a=!0);var x=y&&(u||h&&(null==_||_<12.11)),C=n||l&&s>=9;function k(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S,E=function(e,t){var n=e.className,r=k(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function O(e,t){return T(e).appendChild(t)}function A(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function I(e,t,n,r){var i=A(e,t,n,r);return i.setAttribute("role","presentation"),i}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function R(){var e;try{e=document.activeElement}catch(Ne){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function L(e,t){var n=e.className;k(t).test(n)||(e.className+=(n?" ":"")+t)}function M(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!k(n[r]).test(t)&&(t+=" "+n[r]);return t}S=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(Ne){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var P=function(e){e.select()};function D(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function j(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function F(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,l=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=n-l%n,o=s+1}}m?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:l&&(P=function(e){try{e.select()}catch(t){}});var U=function(){this.id=null};function V(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}U.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var z=30,H={toString:function(){return"CodeMirror.Pass"}},B={scroll:!1},W={origin:"*mouse"},$={origin:"+move"};function K(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var l=o-r;if(o==e.length||i+l>=t)return r+Math.min(l,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var q=[""];function G(e){for(;q.length<=e;)q.push(Z(q)+" ");return q[e]}function Z(e){return e[e.length-1]}function Q(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Y(){}function X(e,t){var n;return Object.create?n=Object.create(e):(Y.prototype=e,n=new Y),t&&j(t,n),n}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||J.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return e.charCodeAt(0)>=768&&re.test(e)}function oe(e,t,n){for(;(n<0?t>0:t<e.length)&&ie(e.charAt(t));)t+=n;return t}function le(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}var se=null;function ae(e,t,n){var r;se=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:se=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:se=i)}return null!=r?r:se}var ue=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/;function o(e,t,n){this.level=e,this.from=t,this.to=n}return function(l,s){var a="ltr"==s?"L":"R";if(0==l.length||"ltr"==s&&!e.test(l))return!1;for(var u,c=l.length,h=[],d=0;d<c;++d)h.push((u=l.charCodeAt(d))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var f=0,p=a;f<c;++f){var m=h[f];"m"==m?h[f]=p:p=m}for(var g=0,v=a;g<c;++g){var y=h[g];"1"==y&&"r"==v?h[g]="n":n.test(y)&&(v=y,"r"==y&&(h[g]="R"))}for(var b=1,w=h[0];b<c-1;++b){var _=h[b];"+"==_&&"1"==w&&"1"==h[b+1]?h[b]="1":","!=_||w!=h[b+1]||"1"!=w&&"n"!=w||(h[b]=w),w=_}for(var x=0;x<c;++x){var C=h[x];if(","==C)h[x]="N";else if("%"==C){var k=void 0;for(k=x+1;k<c&&"%"==h[k];++k);for(var S=x&&"!"==h[x-1]||k<c&&"1"==h[k]?"1":"N",E=x;E<k;++E)h[E]=S;x=k-1}}for(var T=0,O=a;T<c;++T){var A=h[T];"L"==O&&"1"==A?h[T]="L":n.test(A)&&(O=A)}for(var I=0;I<c;++I)if(t.test(h[I])){var N=void 0;for(N=I+1;N<c&&t.test(h[N]);++N);for(var R="L"==(I?h[I-1]:a),L=R==("L"==(N<c?h[N]:a))?R?"L":"R":a,M=I;M<N;++M)h[M]=L;I=N-1}for(var P,D=[],j=0;j<c;)if(r.test(h[j])){var F=j;for(++j;j<c&&r.test(h[j]);++j);D.push(new o(0,F,j))}else{var U=j,V=D.length;for(++j;j<c&&"L"!=h[j];++j);for(var z=U;z<j;)if(i.test(h[z])){U<z&&D.splice(V,0,new o(1,U,z));var H=z;for(++z;z<j&&i.test(h[z]);++z);D.splice(V,0,new o(2,H,z)),U=z}else++z;U<j&&D.splice(V,0,new o(1,U,j))}return"ltr"==s&&(1==D[0].level&&(P=l.match(/^\s+/))&&(D[0].from=P[0].length,D.unshift(new o(0,0,P[0].length))),1==Z(D).level&&(P=l.match(/\s+$/))&&(Z(D).to-=P[0].length,D.push(new o(0,c-P[0].length,c)))),"rtl"==s?D.reverse():D}}();function ce(e,t){var n=e.order;return null==n&&(n=e.order=ue(e.text,t)),n}var he=[],de=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||he).concat(n)}};function fe(e,t){return e._handlers&&e._handlers[t]||he}function pe(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=V(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function me(e,t){var n=fe(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function ge(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),me(e,n||t.type,e,t),xe(t)||t.codemirrorIgnore}function ve(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==V(n,t[r])&&n.push(t[r])}function ye(e,t){return fe(e,t).length>0}function be(e){e.prototype.on=function(e,t){de(this,e,t)},e.prototype.off=function(e,t){pe(this,e,t)}}function we(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function _e(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function xe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ce(e){we(e),_e(e)}function ke(e){return e.target||e.srcElement}function Se(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Ee,Te,Oe=function(){if(l&&s<9)return!1;var e=A("div");return"draggable"in e||"dragDrop"in e}();function Ae(e){if(null==Ee){var t=A("span","\u200b");O(e,A("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ee=t.offsetWidth<=1&&t.offsetHeight>2&&!(l&&s<8))}var n=Ee?A("span","\u200b"):A("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ie(e){if(null!=Te)return Te;var t=O(e,document.createTextNode("A\u062eA")),n=S(t,0,1).getBoundingClientRect(),r=S(t,1,2).getBoundingClientRect();return T(e),!(!n||n.left==n.right)&&(Te=r.right-n.right<3)}var Ne,Re=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");-1!=l?(n.push(o.slice(0,l)),t+=l+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Le=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(Ne){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(Ne){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Me="oncopy"in(Ne=A("div"))||(Ne.setAttribute("oncopy","return;"),"function"==typeof Ne.oncopy),Pe=null,De={},je={};function Fe(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),De[e]=t}function Ue(e){if("string"==typeof e&&je.hasOwnProperty(e))e=je[e];else if(e&&"string"==typeof e.name&&je.hasOwnProperty(e.name)){var t=je[e.name];"string"==typeof t&&(t={name:t}),(e=X(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ue("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ue("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=Ue(t);var n=De[t.name];if(!n)return Ve(e,"text/plain");var r=n(e,t);if(ze.hasOwnProperty(t.name)){var i=ze[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)r[l]=t.modeProps[l];return r}var ze={};function He(e,t){j(t,ze.hasOwnProperty(e)?ze[e]:ze[e]={})}function Be(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function We(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function $e(e,t,n){return!e.startState||e.startState(t,n)}var Ke=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function qe(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Ge(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Ze(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Qe(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Ye(e){if(null==e.parent)return null;for(var t=e.parent,n=V(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Xe(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var l=0;l<e.lines.length;++l){var s=e.lines[l].height;if(t<s)break;t-=s}return n+l}function Je(e,t){return t>=e.first&&t<e.first+e.size}function et(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function tt(e,t,n){if(void 0===n&&(n=null),!(this instanceof tt))return new tt(e,t,n);this.line=e,this.ch=t,this.sticky=n}function nt(e,t){return e.line-t.line||e.ch-t.ch}function rt(e,t){return e.sticky==t.sticky&&0==nt(e,t)}function it(e){return tt(e.line,e.ch)}function ot(e,t){return nt(e,t)<0?t:e}function lt(e,t){return nt(e,t)<0?e:t}function st(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function at(e,t){if(t.line<e.first)return tt(e.first,0);var n=e.first+e.size-1;return t.line>n?tt(n,qe(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?tt(e.line,t):n<0?tt(e.line,0):e}(t,qe(e,t.line).text.length)}function ut(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=at(e,t[r]);return n}Ke.prototype.eol=function(){return this.pos>=this.string.length},Ke.prototype.sol=function(){return this.pos==this.lineStart},Ke.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ke.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ke.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ke.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ke.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ke.prototype.skipToEnd=function(){this.pos=this.string.length},Ke.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ke.prototype.backUp=function(e){this.pos-=e},Ke.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ke.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ke.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ke.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ke.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ct=function(e,t){this.state=e,this.lookAhead=t},ht=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function dt(e,t,n,r){var i=[e.state.modeGen],o={};_t(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var l=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],a=1,u=0;n.state=!0,_t(e,t.text,s.mode,n,(function(e,t){for(var n=a;u<e;){var r=i[a];r>e&&i.splice(a,1,e,i[a+1],r),a+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,a-n,e,"overlay "+t),a=n+2;else for(;n<a;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=l,n.baseTokens=null,n.baseTokenPos=1},a=0;a<e.state.overlays.length;++a)s(a);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function ft(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=pt(e,Ye(t)),i=t.text.length>e.options.maxHighlightLength&&Be(e.doc.mode,r.state),o=dt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function pt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new ht(r,!0,t);var o=function(e,t,n){for(var r,i,o=e.doc,l=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=qe(o,s-1),u=a.stateAfter;if(u&&(!n||s+(u instanceof ct?u.lookAhead:0)<=o.modeFrontier))return s;var c=F(a.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}(e,t,n),l=o>r.first&&qe(r,o-1).stateAfter,s=l?ht.fromSaved(r,l,o):new ht(r,$e(r.mode),o);return r.iter(o,t,(function(n){mt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function mt(e,t,n,r){var i=e.doc.mode,o=new Ke(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&gt(i,n.state);!o.eol();)vt(i,o,n.state),o.start=o.pos}function gt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=We(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function vt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=We(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}ht.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ht.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ht.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ht.fromSaved=function(e,t,n){return t instanceof ct?new ht(e,Be(e.mode,t.state),n,t.lookAhead):new ht(e,Be(e.mode,t),n)},ht.prototype.save=function(e){var t=!1!==e?Be(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ct(t,this.maxLookAhead):t};var yt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function bt(e,t,n,r){var i,o,l=e.doc,s=l.mode,a=qe(l,(t=at(l,t)).line),u=pt(e,t.line,n),c=new Ke(a.text,e.options.tabSize,u);for(r&&(o=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=vt(s,c,u.state),r&&o.push(new yt(c,i,Be(l.mode,u.state)));return r?o:new yt(c,i,u.state)}function wt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function _t(e,t,n,r,i,o,l){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,h=new Ke(t,e.options.tabSize,r),d=e.options.addModeClass&&[null];for(""==t&&wt(gt(n,r.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,l&&mt(e,t,r,h.pos),h.pos=t.length,a=null):a=wt(vt(n,h,r.state,d),o),d){var f=d[0].name;f&&(a="m-"+(a?f+" "+a:f))}if(!s||c!=a){for(;u<h.start;)i(u=Math.min(h.start,u+5e3),c);c=a}h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5e3);i(p,c),u=p}}var xt=!1,Ct=!1;function kt(e,t,n){this.marker=e,this.from=t,this.to=n}function St(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Et(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Tt(e,t){if(t.full)return null;var n=Je(e,t.from.line)&&qe(e,t.from.line).markedSpans,r=Je(e,t.to.line)&&qe(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,l=0==nt(t.from,t.to),s=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker;null!=o.from&&!(l.inclusiveLeft?o.from<=t:o.from<t)&&(o.from!=t||"bookmark"!=l.type||n&&o.marker.insertLeft)||(r||(r=[])).push(new kt(l,o.from,null==o.to||(l.inclusiveRight?o.to>=t:o.to>t)?null:o.to))}return r}(n,i,l),a=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker;(null==o.to||(l.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==l.type&&(!n||o.marker.insertLeft))&&(r||(r=[])).push(new kt(l,null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t)?null:o.from-t,null==o.to?null:o.to-t))}return r}(r,o,l),u=1==t.text.length,c=Z(t.text).length+(u?i:0);if(s)for(var h=0;h<s.length;++h){var d=s[h];if(null==d.to){var f=St(a,d.marker);f?u&&(d.to=null==f.to?null:f.to+c):d.to=i}}if(a)for(var p=0;p<a.length;++p){var m=a[p];null!=m.to&&(m.to+=c),null==m.from?St(s,m.marker)||(m.from=c,u&&(s||(s=[])).push(m)):(m.from+=c,u&&(s||(s=[])).push(m))}s&&(s=Ot(s)),a&&a!=s&&(a=Ot(a));var g=[s];if(!u){var v,y=t.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(v||(v=[])).push(new kt(s[b].marker,null,null));for(var w=0;w<y;++w)g.push(v);g.push(a)}return g}function Ot(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function At(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function It(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Nt(e){return e.inclusiveLeft?-1:0}function Rt(e){return e.inclusiveRight?1:0}function Lt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=nt(r.from,i.from)||Nt(e)-Nt(t);return o?-o:nt(r.to,i.to)||Rt(e)-Rt(t)||t.id-e.id}function Mt(e,t){var n,r=Ct&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Lt(n,i.marker)<0)&&(n=i.marker);return n}function Pt(e){return Mt(e,!0)}function Dt(e){return Mt(e,!1)}function jt(e,t){var n,r=Ct&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Lt(n,o.marker)<0)&&(n=o.marker)}return n}function Ft(e,t,n,r,i){var o=qe(e,t),l=Ct&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=nt(u.from,n)||Nt(a.marker)-Nt(i),h=nt(u.to,r)||Rt(a.marker)-Rt(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?nt(u.to,n)>=0:nt(u.to,n)>0)||c>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?nt(u.from,r)<=0:nt(u.from,r)<0)))return!0}}}function Ut(e){for(var t;t=Pt(e);)e=t.find(-1,!0).line;return e}function Vt(e,t){var n=qe(e,t),r=Ut(n);return n==r?t:Ye(r)}function zt(e,t){if(t>e.lastLine())return t;var n,r=qe(e,t);if(!Ht(e,r))return t;for(;n=Dt(r);)r=n.find(1,!0).line;return Ye(r)+1}function Ht(e,t){var n=Ct&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Bt(e,t,r))return!0}}function Bt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Bt(e,r.line,St(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Bt(e,t,i))return!0}function Wt(e){for(var t=0,n=(e=Ut(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var l=0;l<o.children.length;++l){var s=o.children[l];if(s==n)break;t+=s.height}return t}function $t(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Pt(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Dt(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function Kt(e){var t=e.display,n=e.doc;t.maxLine=qe(n,n.first),t.maxLineLength=$t(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=$t(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var qt=function(e,t,n){this.text=e,It(this,t),this.height=n?n(this):1};function Gt(e){e.parent=null,At(e)}qt.prototype.lineNo=function(){return Ye(this)},be(qt);var Zt={},Qt={};function Yt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Qt:Zt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Xt(e,t){var n=I("span",null,null,a?"padding-right: .1px":null),r={pre:I("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,l=void 0;r.pos=0,r.addToken=en,Ie(e.display.measure)&&(l=ce(o,e.doc.direction))&&(r.addToken=tn(r.addToken,l)),r.map=[],rn(o,r,ft(e,o,t!=e.display.externalMeasured&&Ye(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=M(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=M(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ae(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(a){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return me(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=M(r.pre.className,r.textClass||"")),r}function Jt(e){var t=A("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function en(e,t,n,r,i,o,a){if(t){var u,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,h=e.cm.state.specialChars,d=!1;if(h.test(t)){u=document.createDocumentFragment();for(var f=0;;){h.lastIndex=f;var p=h.exec(t),m=p?p.index-f:t.length-f;if(m){var g=document.createTextNode(c.slice(f,f+m));u.appendChild(l&&s<9?A("span",[g]):g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;f+=m+1;var v=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=u.appendChild(A("span",G(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=u.appendChild(A("span","\r"==p[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),u.appendChild(l&&s<9?A("span",[v]):v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),l&&s<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||i||d||o){var w=n||"";r&&(w+=r),i&&(w+=i);var _=A("span",[u],w,o);if(a)for(var x in a)a.hasOwnProperty(x)&&"style"!=x&&"class"!=x&&_.setAttribute(x,a[x]);return e.content.appendChild(_)}e.content.appendChild(u)}}function tn(e,t){return function(n,r,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var h=void 0,d=0;d<t.length&&!((h=t[d]).to>u&&h.from<=u);d++);if(h.to>=c)return e(n,r,i,o,l,s,a);e(n,r.slice(0,h.to-u),i,o,null,s,a),o=null,r=r.slice(h.to-u),u=h.to}}}function nn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function rn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var l,s,a,u,c,h,d,f=i.length,p=0,m=1,g="",v=0;;){if(v==p){a=u=c=s="",d=null,h=null,v=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var _=r[w],x=_.marker;if("bookmark"==x.type&&_.from==p&&x.widgetNode)y.push(x);else if(_.from<=p&&(null==_.to||_.to>p||x.collapsed&&_.to==p&&_.from==p)){if(null!=_.to&&_.to!=p&&v>_.to&&(v=_.to,u=""),x.className&&(a+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&_.from==p&&(c+=" "+x.startStyle),x.endStyle&&_.to==v&&(b||(b=[])).push(x.endStyle,_.to),x.title&&((d||(d={})).title=x.title),x.attributes)for(var C in x.attributes)(d||(d={}))[C]=x.attributes[C];x.collapsed&&(!h||Lt(h.marker,x)<0)&&(h=_)}else _.from>p&&v>_.from&&(v=_.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==v&&(u+=" "+b[k]);if(!h||h.from==p)for(var S=0;S<y.length;++S)nn(t,0,y[S]);if(h&&(h.from||0)==p){if(nn(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;for(var E=Math.min(f,v);;){if(g){var T=p+g.length;if(!h){var O=T>E?g.slice(0,E-p):g;t.addToken(t,O,l?l+a:a,c,p+O.length==v?u:"",s,d)}if(T>=E){g=g.slice(E-p),p=E;break}p=T,c=""}g=i.slice(o,o=n[m++]),l=Yt(n[m++],t.cm.options)}}else for(var A=1;A<n.length;A+=2)t.addToken(t,i.slice(o,o=n[A]),Yt(n[A+1],t.cm.options))}function on(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=Dt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Ye(Z(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ht(e,t)}function ln(e,t,n){for(var r,i=[],o=t;o<n;o=r){var l=new on(e.doc,qe(e.doc,o),o);r=o+l.size,i.push(l)}return i}var sn=null,an=null;function un(e,t){var n=fe(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);sn?r=sn.delayedCallbacks:an?r=an:(r=an=[],setTimeout(cn,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},l=0;l<n.length;++l)o(l)}}function cn(){var e=an;an=null;for(var t=0;t<e.length;++t)e[t]()}function hn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?pn(e,t):"gutter"==o?gn(e,t,n,r):"class"==o?mn(e,t):"widget"==o&&vn(e,t,r)}t.changes=null}function dn(e){return e.node==e.text&&(e.node=A("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),l&&s<8&&(e.node.style.zIndex=2)),e.node}function fn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Xt(e,t)}function pn(e,t){var n=t.text.className,r=fn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,mn(e,t)):n&&(t.text.className=n)}function mn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=dn(t);t.background=r.insertBefore(A("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?dn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className=""),t.text.className=(t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass)||""}function gn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=dn(t);t.gutterBackground=A("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var l=dn(t),s=t.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),l.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(A("div",et(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<e.display.gutterSpecs.length;++a){var u=e.display.gutterSpecs[a].className,c=o.hasOwnProperty(u)&&o[u];c&&s.appendChild(A("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function vn(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);bn(e,t,n)}function yn(e,t,n,r){var i=fn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),mn(e,t),gn(e,t,n,r),bn(e,t,r),t.node}function bn(e,t,n){if(wn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)wn(e,t.rest[r],t,n,!1)}function wn(e,t,n,r,i){if(t.widgets)for(var o=dn(n),l=0,s=t.widgets;l<s.length;++l){var a=s[l],u=A("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),_n(a,u,n,r),e.display.input.setUneditable(u),i&&a.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),un(a,"redraw")}}function _n(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function xn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),O(t.display.measure,A("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Cn(e,t){for(var n=ke(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function kn(e){return e.lineSpace.offsetTop}function Sn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function En(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=O(e.measure,A("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Tn(e){return z-e.display.nativeBarWidth}function On(e){return e.display.scroller.clientWidth-Tn(e)-e.display.barWidth}function An(e){return e.display.scroller.clientHeight-Tn(e)-e.display.barHeight}function In(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(Ye(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Nn(e,t,n,r){return Mn(e,Ln(e,t),n,r)}function Rn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[hr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Ln(e,t){var n=Ye(t),r=Rn(e,n);r&&!r.text?r=null:r&&r.changes&&(hn(e,r,n,lr(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=Ye(t=Ut(t)),r=e.display.externalMeasured=new on(e.doc,t,n);r.lineN=n;var i=r.built=Xt(e,r);return r.text=i.pre,O(e.display.lineMeasure,i.pre),r}(e,t));var i=In(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Mn(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,i=r&&On(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=jn(t.map,n,r),a=o.node,u=o.start,c=o.end,h=o.collapse;if(3==a.nodeType){for(var d=0;d<4;d++){for(;u&&ie(t.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+c<o.coverEnd&&ie(t.line.text.charAt(o.coverStart+c));)++c;if((i=l&&s<9&&0==u&&c==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Fn(S(a,u,c).getClientRects(),r)).left||i.right||0==u)break;c=u,u-=1,h="right"}l&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Pe)return Pe;var t=O(e,A("span","x")),n=t.getBoundingClientRect(),r=S(t,0,1).getBoundingClientRect();return Pe=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var f;u>0&&(h=r="right"),i=e.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==r?f.length-1:0]:a.getBoundingClientRect()}if(l&&s<9&&!u&&(!i||!i.left&&!i.right)){var p=a.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+or(e.display),top:p.top,bottom:p.bottom}:Dn}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var w={left:("right"==h?i.right:i.left)-t.rect.left,right:("left"==h?i.left:i.right)-t.rect.left,top:b?y[b-1]:0,bottom:y[b]};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=m,w.rbottom=g),w}(e,t,n,r)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Pn,Dn={left:0,right:0,top:0,bottom:0};function jn(e,t,n){for(var r,i,o,l,s,a,u=0;u<e.length;u+=3)if(a=e[u+1],t<(s=e[u])?(i=0,o=1,l="left"):t<a?o=1+(i=t-s):(u==e.length-3||t==a&&e[u+3]>t)&&(i=(o=a-s)-1,t>=a&&(l="right")),null!=i){if(r=e[u+2],s==a&&n==(r.insertLeft?"left":"right")&&(l=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],l="left";if("right"==n&&i==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],l="right";break}return{node:r,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function Fn(e,t){var n=Dn;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Un(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Vn(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Un(e.display.view[t])}function zn(e){Vn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Hn(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Bn(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Wn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=xn(e.widgets[n]));return t}function $n(e,t,n,r,i){if(!i){var o=Wn(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var l=Wt(t);if("local"==r?l+=kn(e.display):l-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+("window"==r?0:Bn());var a=s.left+("window"==r?0:Hn());n.left+=a,n.right+=a}return n.top+=l,n.bottom+=l,n}function Kn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Hn(),i-=Bn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:r-l.left,top:i-l.top}}function qn(e,t,n,r,i){return r||(r=qe(e.doc,t.line)),$n(e,r,Nn(e,r,t.ch,i),n)}function Gn(e,t,n,r,i,o){function l(t,l){var s=Mn(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,$n(e,r,s,n)}r=r||qe(e.doc,t.line),i||(i=Ln(e,r));var s=ce(r,e.doc.direction),a=t.ch,u=t.sticky;if(a>=r.text.length?(a=r.text.length,u="before"):a<=0&&(a=0,u="after"),!s)return l("before"==u?a-1:a,"before"==u);function c(e,t,n){return l(n?e-1:e,1==s[t].level!=n)}var h=ae(s,a,u),d=se,f=c(a,h,"before"==u);return null!=d&&(f.other=c(a,d,"before"!=u)),f}function Zn(e,t){var n=0;t=at(e.doc,t),e.options.lineWrapping||(n=or(e.display)*t.ch);var r=qe(e.doc,t.line),i=Wt(r)+kn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Qn(e,t,n,r,i){var o=tt(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function Yn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Qn(r.first,0,null,-1,-1);var i=Xe(r,n),o=r.first+r.size-1;if(i>o)return Qn(r.first+r.size-1,qe(r,o).text.length,null,1,1);t<0&&(t=0);for(var l=qe(r,i);;){var s=tr(e,l,i,t,n),a=jt(l,s.ch+(s.xRel>0||s.outside>0?1:0));if(!a)return s;var u=a.find(1);if(u.line==i)return u;l=qe(r,i=u.line)}}function Xn(e,t,n,r){r-=Wn(t);var i=t.text.length,o=le((function(t){return Mn(e,n,t-1).bottom<=r}),i,0);return{begin:o,end:i=le((function(t){return Mn(e,n,t).top>r}),o,i)}}function Jn(e,t,n,r){return n||(n=Ln(e,t)),Xn(e,t,n,$n(e,t,Mn(e,n,r),"line").top)}function er(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function tr(e,t,n,r,i){i-=Wt(t);var o=Ln(e,t),l=Wn(t),s=0,a=t.text.length,u=!0,c=ce(t,e.doc.direction);if(c){var h=(e.options.lineWrapping?rr:nr)(e,t,n,o,c,r,i);s=(u=1!=h.level)?h.from:h.to-1,a=u?h.to:h.from-1}var d,f,p=null,m=null,g=le((function(t){var n=Mn(e,o,t);return n.top+=l,n.bottom+=l,!!er(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,m=n),!0)}),s,a),v=!1;if(m){var y=r-m.left<m.right-r,b=y==u;g=p+(b?0:1),f=b?"after":"before",d=y?m.left:m.right}else{u||g!=a&&g!=s||g++,f=0==g?"after":g==t.text.length?"before":Mn(e,o,g-(u?1:0)).bottom+l<=i==u?"after":"before";var w=Gn(e,tt(n,g,f),"line",t,o);d=w.left,v=i<w.top?-1:i>=w.bottom?1:0}return Qn(n,g=oe(t.text,g,1),f,v,r-d)}function nr(e,t,n,r,i,o,l){var s=le((function(s){var a=i[s],u=1!=a.level;return er(Gn(e,tt(n,u?a.to:a.from,u?"before":"after"),"line",t,r),o,l,!0)}),0,i.length-1),a=i[s];if(s>0){var u=1!=a.level,c=Gn(e,tt(n,u?a.from:a.to,u?"after":"before"),"line",t,r);er(c,o,l,!0)&&c.top>l&&(a=i[s-1])}return a}function rr(e,t,n,r,i,o,l){var s=Xn(e,t,r,l),a=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,h=null,d=0;d<i.length;d++){var f=i[d];if(!(f.from>=u||f.to<=a)){var p=Mn(e,r,1!=f.level?Math.min(u,f.to)-1:Math.max(a,f.from)).right,m=p<o?o-p+1e9:p-o;(!c||h>m)&&(c=f,h=m)}}return c||(c=i[i.length-1]),c.from<a&&(c={from:a,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function ir(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Pn){Pn=A("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Pn.appendChild(document.createTextNode("x")),Pn.appendChild(A("br"));Pn.appendChild(document.createTextNode("x"))}O(e.measure,Pn);var n=Pn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),T(e.measure),n||1}function or(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=A("span","xxxxxxxxxx"),n=A("pre",[t],"CodeMirror-line-like");O(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function lr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l){var s=e.display.gutterSpecs[l].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:sr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function sr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ar(e){var t=ir(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/or(e.display)-3);return function(i){if(Ht(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function ur(e){var t=e.doc,n=ar(e);t.iter((function(e){var t=n(e);t!=e.height&&Qe(e,t)}))}function cr(e,t,n,r){var i=e.display;if(!n&&"true"==ke(t).getAttribute("cm-not-content"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(t){return null}var a,u=Yn(e,o,l);if(r&&1==u.xRel&&(a=qe(e.doc,u.line).text).length==u.ch){var c=F(a,a.length,e.options.tabSize)-a.length;u=tt(u.line,Math.max(0,Math.round((o-En(e.display).left)/or(e.display))-c))}return u}function hr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function dr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ct&&Vt(e.doc,t)<i.viewTo&&pr(e);else if(n<=i.viewFrom)Ct&&zt(e.doc,n+r)>i.viewFrom?pr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)pr(e);else if(t<=i.viewFrom){var o=mr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):pr(e)}else if(n>=i.viewTo){var l=mr(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):pr(e)}else{var s=mr(e,t,t,-1),a=mr(e,n,n+r,1);s&&a?(i.view=i.view.slice(0,s.index).concat(ln(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=r):pr(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function fr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[hr(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);-1==V(l,n)&&l.push(n)}}}function pr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function mr(e,t,n,r){var i,o=hr(e,t),l=e.display.view;if(!Ct||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,a=0;a<o;a++)s+=l[a].size;if(s!=t){if(r>0){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;Vt(e.doc,n)!=n;){if(o==(r<0?0:l.length-1))return null;n+=r*l[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function gr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function vr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function yr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),l=0;l<n.sel.ranges.length;l++)if(t||l!=n.sel.primIndex){var s=n.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&br(e,s.head,i),a||_r(e,s,o)}}return r}function br(e,t,n){var r=Gn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(A("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(A("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function wr(e,t){return e.top-t.top||e.left-t.left}function _r(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),l=En(e.display),s=l.left,a=Math.max(r.sizerWidth,On(e)-r.sizer.offsetLeft)-l.right,u="ltr"==i.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?a-e:n)+"px;\n                             height: "+(r-t)+"px"))}function h(t,n,r){var o,l,h=qe(i,t),d=h.text.length;function f(n,r){return qn(e,tt(t,n),"div",h,r)}function p(t,n,r){var i=Jn(e,h,null,t),o="ltr"==n==("after"==r)?"left":"right";return f("after"==r?i.begin:i.end-(/\s/.test(h.text.charAt(i.end-1))?2:1),o)[o]}var m=ce(h,i.direction);return function(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<n&&l.to>t||t==n&&l.to==t)&&(r(Math.max(l.from,t),Math.min(l.to,n),1==l.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}(m,n||0,null==r?d:r,(function(e,t,i,h){var g="ltr"==i,v=f(e,g?"left":"right"),y=f(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==d,_=0==h,x=!m||h==m.length-1;if(y.top-v.top<=3){var C=(u?b:w)&&_?s:(g?v:y).left;c(C,v.top,((u?w:b)&&x?a:(g?y:v).right)-C,v.bottom)}else{var k,S,E,T;g?(k=u&&b&&_?s:v.left,S=u?a:p(e,i,"before"),E=u?s:p(t,i,"after"),T=u&&w&&x?a:y.right):(k=u?p(e,i,"before"):s,S=!u&&b&&_?a:v.right,E=!u&&w&&x?s:y.left,T=u?p(t,i,"after"):a),c(k,v.top,S-k,v.bottom),v.bottom<y.top&&c(s,v.bottom,null,y.top),c(E,y.top,T-E,y.bottom)}(!o||wr(v,o)<0)&&(o=v),wr(y,o)<0&&(o=y),(!l||wr(v,l)<0)&&(l=v),wr(y,l)<0&&(l=y)})),{start:o,end:l}}var d=t.from(),f=t.to();if(d.line==f.line)h(d.line,d.ch,f.ch);else{var p=qe(i,d.line),m=qe(i,f.line),g=Ut(p)==Ut(m),v=h(d.line,d.ch,g?p.text.length+1:null).end,y=h(f.line,g?0:null,f.ch).start;g&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(s,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(s,v.bottom,null,y.top)}n.appendChild(o)}function xr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Cr(e){e.state.focused||(e.display.input.focus(),Sr(e))}function kr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Er(e))}),100)}function Sr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(me(e,"focus",e,t),e.state.focused=!0,L(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),a&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),xr(e))}function Er(e,t){e.state.delayingBlurEvent||(e.state.focused&&(me(e,"blur",e,t),e.state.focused=!1,E(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Tr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,a=void 0,u=0;if(!i.hidden){if(l&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;a=c-n,n=c}else{var h=i.node.getBoundingClientRect();a=h.bottom-h.top,!o&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-h.left-1)}var d=i.line.height-a;if((d>.005||d<-.005)&&(Qe(i.line,a),Or(i.line),i.rest))for(var f=0;f<i.rest.length;f++)Or(i.rest[f]);if(u>e.display.sizerWidth){var p=Math.ceil(u/or(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function Or(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Ar(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-kn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=Xe(t,r),l=Xe(t,i);if(n&&n.ensure){var s=n.ensure.from.line,a=n.ensure.to.line;s<o?(o=s,l=Xe(t,Wt(qe(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=Xe(t,Wt(qe(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function Ir(e,t){var n=e.display,r=ir(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=An(e),l={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Sn(n),a=t.bottom>s-r;if(t.top<i)l.scrollTop=t.top<r?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(a?s:t.bottom)-o);u!=i&&(l.scrollTop=u)}var c=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,h=On(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),d=t.right-t.left>h;return d&&(t.right=t.left+h),t.left<10?l.scrollLeft=0:t.left<c?l.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>h+c-3&&(l.scrollLeft=t.right+(d?0:10)-h),l}function Nr(e,t){null!=t&&(Mr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Rr(e){Mr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Lr(e,t,n){null==t&&null==n||Mr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Mr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Pr(e,Zn(e,t.from),Zn(e,t.to),t.margin))}function Pr(e,t,n,r){var i=Ir(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Lr(e,i.scrollLeft,i.scrollTop)}function Dr(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||ai(e,{top:t}),jr(e,t,!0),n&&ai(e),ri(e,100))}function jr(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Fr(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,hi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ur(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Sn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Tn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Vr=function(e,t,n){this.cm=n;var r=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),de(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),de(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,l&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Vr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;return n?(this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0",this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+(e.viewHeight-(t?r:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),t?(this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+(e.viewWidth-e.barLeft-(n?r:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Vr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Vr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Vr.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=y&&!f?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new U,this.disableVert=new U},Vr.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,(function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}))},Vr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var zr=function(){};function Hr(e,t){t||(t=Ur(e));var n=e.display.barWidth,r=e.display.barHeight;Br(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Tr(e),Br(e,Ur(e)),n=e.display.barWidth,r=e.display.barHeight}function Br(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}zr.prototype.update=function(){return{bottom:0,right:0}},zr.prototype.setScrollLeft=function(){},zr.prototype.setScrollTop=function(){},zr.prototype.clear=function(){};var Wr={native:Vr,null:zr};function $r(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&E(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Wr[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),de(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?Fr(e,t):Dr(e,t)}),e),e.display.scrollbars.addClass&&L(e.display.wrapper,e.display.scrollbars.addClass)}var Kr=0;function qr(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Kr},t=e.curOp,sn?sn.ops.push(t):t.ownsGroup=sn={ops:[t],delayedCallbacks:[]}}function Gr(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(n)}finally{sn=null,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Zr(t[n]);for(var r=0;r<t.length;r++)(i=t[r]).updatedDisplay=i.mustUpdate&&li(i.cm,i.update);for(var i,o=0;o<t.length;o++)Qr(t[o]);for(var l=0;l<t.length;l++)Yr(t[l]);for(var s=0;s<t.length;s++)Xr(t[s])}(e)}(n)}}(t)}function Zr(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Tn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Tn(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Kt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new oi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Qr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Tr(t),e.barMeasure=Ur(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Nn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Tn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-On(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Yr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Fr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==R();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Hr(t,e.barMeasure),e.updatedDisplay&&ci(t,e.barMeasure),e.selectionChanged&&xr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Cr(e.cm)}function Xr(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&si(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&jr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Fr(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!ge(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=A("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-kn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Tn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?tt(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?tt(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var l=!1,s=Gn(e,t),a=n&&n!=t?Gn(e,n):s,u=Ir(e,i={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-r,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+r}),c=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=u.scrollTop&&(Dr(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(l=!0)),null!=u.scrollLeft&&(Fr(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(l=!0)),!l)break}return i}(t,at(r,e.scrollToPos.from),at(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var l=0;l<i.length;++l)i[l].lines.length||me(i[l],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&me(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&me(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Jr(e,t){if(e.curOp)return t();qr(e);try{return t()}finally{Gr(e)}}function ei(e,t){return function(){if(e.curOp)return t.apply(e,arguments);qr(e);try{return t.apply(e,arguments)}finally{Gr(e)}}}function ti(e){return function(){if(this.curOp)return e.apply(this,arguments);qr(this);try{return e.apply(this,arguments)}finally{Gr(this)}}}function ni(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);qr(t);try{return e.apply(this,arguments)}finally{Gr(t)}}}function ri(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,D(ii,e))}function ii(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=pt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength?Be(t.mode,r.state):null,a=dt(e,o,r,!0);s&&(r.state=s),o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var h=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!h&&d<l.length;++d)h=l[d]!=o.styles[d];h&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&mt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ri(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Jr(e,(function(){for(var t=0;t<i.length;t++)fr(e,i[t],"text")}))}}var oi=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Ar(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=On(e),this.force=n,this.dims=lr(e),this.events=[]};function li(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return pr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==gr(e))return!1;di(e)&&(pr(e),t.dims=lr(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),l=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>l&&n.viewTo-l<20&&(l=Math.min(i,n.viewTo)),Ct&&(o=Vt(e.doc,o),l=zt(e.doc,l));var s=o!=n.viewFrom||l!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=ln(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=ln(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(hr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(ln(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,hr(e,n)))),r.viewTo=n}(e,o,l),n.viewOffset=Wt(qe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=gr(e);if(!s&&0==u&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=R();if(!t||!N(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&N(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return u>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,l=o.firstChild;function s(t){var n=t.nextSibling;return a&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var u=r.view,c=r.viewFrom,h=0;h<u.length;h++){var d=u[h];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;l!=d.node;)l=s(l);var f=i&&null!=t&&t<=c&&d.lineNumber;d.changes&&(V(d.changes,"gutter")>-1&&(f=!1),hn(e,d,c,n)),f&&(T(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(et(e.options,c)))),l=d.node.nextSibling}else{var p=yn(e,d,c,n);o.insertBefore(p,l)}c+=d.size}for(;l;)l=s(l)}(e,n.updateLineNumbers,t.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=R()&&(e.activeElt.focus(),e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(c),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ri(e,400)),n.updateLineNumbers=null,!0}function si(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=On(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Sn(e.display)-An(e),n.top)}),t.visible=Ar(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&li(e,t);r=!1){Tr(e);var i=Ur(e);vr(e),Hr(e,i),ci(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ai(e,t){var n=new oi(e,t);if(li(e,n)){Tr(e),si(e,n);var r=Ur(e);vr(e),Hr(e,r),ci(e,r),n.finish()}}function ui(e){e.sizer.style.marginLeft=e.gutters.offsetWidth+"px"}function ci(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Tn(e)+"px"}function hi(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=sr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",l=0;l<n.length;l++)if(!n[l].hidden){e.options.fixedGutter&&(n[l].gutter&&(n[l].gutter.style.left=o),n[l].gutterBackground&&(n[l].gutterBackground.style.left=o));var s=n[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function di(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=et(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(A("div",[A("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,l=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-l)+1,r.lineNumWidth=r.lineNumInnerWidth+l,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ui(e.display),!0}return!1}function fi(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],l=null;if("string"!=typeof o&&(l=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:l})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function pi(e){var t=e.gutters,n=e.gutterSpecs;T(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,l=i.style,s=t.appendChild(A("div",null,"CodeMirror-gutter "+o));l&&(s.style.cssText=l),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",ui(e)}function mi(e){pi(e.display),dr(e),hi(e)}function gi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=I("div",null,"CodeMirror-code"),o.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=A("div",null,"CodeMirror-cursors"),o.measure=A("div",null,"CodeMirror-measure"),o.lineMeasure=A("div",null,"CodeMirror-measure"),o.lineSpace=I("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var u=I("div",[o.lineSpace],"CodeMirror-lines");o.mover=A("div",[u],null,"position: relative"),o.sizer=A("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=A("div",null,null,"position: absolute; height: "+z+"px; width: 1px;"),o.gutters=A("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=A("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=A("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),l&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),a||n&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=fi(i.gutters,i.lineNumbers),pi(o),r.init(o)}oi.prototype.signal=function(e,t){ye(e,t)&&this.events.push(arguments)},oi.prototype.finish=function(){for(var e=0;e<this.events.length;e++)me.apply(null,this.events[e])};var vi=0,yi=null;function bi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function wi(e){var t=bi(e);return t.x*=yi,t.y*=yi,t}function _i(e,t){var r=bi(t),i=r.x,o=r.y,l=e.display,s=l.scroller,u=s.scrollHeight>s.clientHeight;if(i&&s.scrollWidth>s.clientWidth||o&&u){if(o&&y&&a)e:for(var c=t.target,d=l.view;c!=s;c=c.parentNode)for(var f=0;f<d.length;f++)if(d[f].node==c){e.display.currentWheelTarget=c;break e}if(i&&!n&&!h&&null!=yi)return o&&u&&Dr(e,Math.max(0,s.scrollTop+o*yi)),Fr(e,Math.max(0,s.scrollLeft+i*yi)),(!o||o&&u)&&we(t),void(l.wheelStartX=null);if(o&&null!=yi){var p=o*yi,m=e.doc.scrollTop,g=m+l.wrapper.clientHeight;p<0?m=Math.max(0,m+p-50):g=Math.min(e.doc.height,g+p+50),ai(e,{top:m,bottom:g})}vi<20&&(null==l.wheelStartX?(l.wheelStartX=s.scrollLeft,l.wheelStartY=s.scrollTop,l.wheelDX=i,l.wheelDY=o,setTimeout((function(){if(null!=l.wheelStartX){var e=s.scrollLeft-l.wheelStartX,t=s.scrollTop-l.wheelStartY,n=t&&l.wheelDY&&t/l.wheelDY||e&&l.wheelDX&&e/l.wheelDX;l.wheelStartX=l.wheelStartY=null,n&&(yi=(yi*vi+n)/(vi+1),++vi)}}),200)):(l.wheelDX+=i,l.wheelDY+=o))}}l?yi=-.53:n?yi=15:c?yi=-.7:d&&(yi=-1/3);var xi=function(e,t){this.ranges=e,this.primIndex=t};xi.prototype.primary=function(){return this.ranges[this.primIndex]},xi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!rt(n.anchor,r.anchor)||!rt(n.head,r.head))return!1}return!0},xi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Ci(it(this.ranges[t].anchor),it(this.ranges[t].head));return new xi(e,this.primIndex)},xi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},xi.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(nt(t,r.from())>=0&&nt(e,r.to())<=0)return n}return-1};var Ci=function(e,t){this.anchor=e,this.head=t};function ki(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return nt(e.from(),t.from())})),n=V(t,i);for(var o=1;o<t.length;o++){var l=t[o],s=t[o-1],a=nt(s.to(),l.from());if(r&&!l.empty()?a>0:a>=0){var u=lt(s.from(),l.from()),c=ot(s.to(),l.to()),h=s.empty()?l.from()==l.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new Ci(h?c:u,h?u:c))}}return new xi(t,n)}function Si(e,t){return new xi([new Ci(e,t||e)],0)}function Ei(e){return e.text?tt(e.from.line+e.text.length-1,Z(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Ti(e,t){if(nt(e,t.from)<0)return e;if(nt(e,t.to)<=0)return Ei(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Ei(t).ch-t.to.ch),tt(n,r)}function Oi(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Ci(Ti(i.anchor,t),Ti(i.head,t)))}return ki(e.cm,n,e.sel.primIndex)}function Ai(e,t,n){return e.line==t.line?tt(n.line,e.ch-t.ch+n.ch):tt(n.line+(e.line-t.line),e.ch)}function Ii(e){e.doc.mode=Ve(e.options,e.doc.modeOption),Ni(e)}function Ni(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ri(e,100),e.state.modeGen++,e.curOp&&dr(e)}function Ri(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Z(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Li(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),At(e),It(e,n);var i=r?r(e):1;i!=e.height&&Qe(e,i)}(e,n,i,r),un(e,"change",e,t)}function l(e,t){for(var n=[],o=e;o<t;++o)n.push(new qt(u[o],i(o),r));return n}var s=t.from,a=t.to,u=t.text,c=qe(e,s.line),h=qe(e,a.line),d=Z(u),f=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(Ri(e,t)){var m=l(0,u.length-1);o(h,h.text,f),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else if(c==h)if(1==u.length)o(c,c.text.slice(0,s.ch)+d+c.text.slice(a.ch),f);else{var g=l(1,u.length-1);g.push(new qt(d+c.text.slice(a.ch),f,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+h.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(h,d+h.text.slice(a.ch),f);var v=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,v)}un(e,"change",e,t)}function Mi(e,t,n){!function e(r,i,o){if(r.linked)for(var l=0;l<r.linked.length;++l){var s=r.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;n&&!a||(t(s.doc,a),e(s.doc,r,a))}}}(e,null,!0)}function Pi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,ur(e),Ii(e),Di(e),e.options.lineWrapping||Kt(e),e.options.mode=t.modeOption,dr(e)}function Di(e){("rtl"==e.doc.direction?L:E)(e.display.lineDiv,"CodeMirror-rtl")}function ji(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Fi(e,t){var n={from:it(t.from),to:Ei(t),text:Ge(e,t.from,t.to)};return Hi(e,n,t.from.line,t.to.line+1),Mi(e,(function(e){return Hi(e,n,t.from.line,t.to.line+1)}),!0),n}function Ui(e){for(;e.length&&Z(e).ranges;)e.pop()}function Vi(e,t,n,r){var i=e.history;i.undone.length=0;var o,l,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Ui(e.done),Z(e.done)):e.done.length&&!Z(e.done).ranges?Z(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Z(e.done)):void 0}(i,i.lastOp==r)))l=Z(o.changes),0==nt(t.from,t.to)&&0==nt(t.from,l.to)?l.to=Ei(t):o.changes.push(Fi(e,t));else{var a=Z(i.done);for(a&&a.ranges||zi(e.sel,i.done),o={changes:[Fi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,l||me(e,"historyAdded")}function zi(e,t){var n=Z(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Hi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Bi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Wi(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Bi(n[i]));return r}(e,t),r=Tt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],l=r[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(n[i]=l)}return n}function $i(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?xi.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];r.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&V(t,Number(c[1]))>-1&&(Z(s)[h]=u[h],delete u[h])}}}return r}function Ki(e,t,n,r){if(r){var i=e.anchor;if(n){var o=nt(t,i)<0;o!=nt(n,i)<0?(i=t,t=n):o!=nt(t,n)<0&&(t=n)}return new Ci(i,t)}return new Ci(n||t,t)}function qi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Xi(e,new xi([Ki(e.sel.primary(),t,n,i)],0),r)}function Gi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Ki(e.sel.ranges[o],t[o],null,i);Xi(e,ki(e.cm,r,e.sel.primIndex),n)}function Zi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Xi(e,ki(e.cm,i,e.sel.primIndex),r)}function Qi(e,t,n,r){Xi(e,Si(t,n),r)}function Yi(e,t,n){var r=e.history.done,i=Z(r);i&&i.ranges?(r[r.length-1]=t,Ji(e,t,n)):Xi(e,t,n)}function Xi(e,t,n){Ji(e,t,n),function(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Z(i.done),t))?i.done[i.done.length-1]=t:zi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Ui(i.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ji(e,t,n){(ye(e,"beforeSelectionChange")||e.cm&&ye(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Ci(at(e,t[n].anchor),at(e,t[n].head))},origin:n&&n.origin};return me(e,"beforeSelectionChange",e,r),e.cm&&me(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?ki(e.cm,r.ranges,r.ranges.length-1):t}(e,t,n));var r=n&&n.bias||(nt(t.primary().head,e.sel.primary().head)<0?-1:1);eo(e,no(e,t,r,!0)),n&&!1===n.scroll||!e.cm||Rr(e.cm)}function eo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ve(e.cm)),un(e,"cursorActivity",e))}function to(e){eo(e,no(e,e.sel,null,!1))}function no(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=io(e,l.anchor,s&&s.anchor,n,r),u=io(e,l.head,s&&s.head,n,r);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Ci(a,u))}return i?ki(e.cm,i,t.primIndex):t}function ro(e,t,n,r,i){var o=qe(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker,u="selectLeft"in a?!a.selectLeft:a.inclusiveLeft,c="selectRight"in a?!a.selectRight:a.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(me(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(n){var h=a.find(r<0?1:-1),d=void 0;if((r<0?c:u)&&(h=oo(e,h,-r,h&&h.line==t.line?o:null)),h&&h.line==t.line&&(d=nt(h,n))&&(r<0?d<0:d>0))return ro(e,h,t,r,i)}var f=a.find(r<0?-1:1);return(r<0?u:c)&&(f=oo(e,f,r,f.line==t.line?o:null)),f?ro(e,f,t,r,i):null}}return t}function io(e,t,n,r,i){var o=r||1;return ro(e,t,n,o,i)||!i&&ro(e,t,n,o,!0)||ro(e,t,n,-o,i)||!i&&ro(e,t,n,-o,!0)||(e.cantEdit=!0,tt(e.first,0))}function oo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?at(e,tt(t.line-1)):null:n>0&&t.ch==(r||qe(e,t.line)).text.length?t.line<e.first+e.size-1?tt(t.line+1,0):null:new tt(t.line,t.ch+n)}function lo(e){e.setSelection(tt(e.firstLine(),0),tt(e.lastLine()),B)}function so(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=at(e,t)),n&&(r.to=at(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),me(e,"beforeChange",e,r),e.cm&&me(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ao(e,t,n){if(e.cm){if(!e.cm.curOp)return ei(e.cm,ao)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ye(e,"beforeChange")||e.cm&&ye(e.cm,"beforeChange"))||(t=so(e,t,!0))){var r=xt&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=V(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var l=r[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(nt(u.to,s.from)<0||nt(u.from,s.to)>0)){var c=[a,1],h=nt(u.from,s.from),d=nt(u.to,s.to);(h<0||!l.inclusiveLeft&&!h)&&c.push({from:u.from,to:s.from}),(d>0||!l.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-3}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)uo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else uo(e,t)}}function uo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=nt(t.from,t.to)){var n=Oi(e,t);Vi(e,t,n,e.cm?e.cm.curOp.id:NaN),fo(e,t,n,Tt(e,t));var r=[];Mi(e,(function(e,n){n||-1!=V(r,e.history)||(vo(e.history,t),r.push(e.history)),fo(e,t,null,Tt(e,t))}))}}function co(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,l=e.sel,s="undo"==t?o.done:o.undone,a="undo"==t?o.undone:o.done,u=0;u<s.length&&(i=s[u],n?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(r)return void s.push(i);break}if(zi(i,a),n&&!i.equals(e.sel))return void Xi(e,i,{clearRedo:!1});l=i}var c=[];zi(l,a),a.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var h=ye(e,"beforeChange")||e.cm&&ye(e.cm,"beforeChange"),d=function(n){var r=i.changes[n];if(r.origin=t,h&&!so(e,r,!1))return s.length=0,{};c.push(Fi(e,r));var o=n?Oi(e,r):Z(s);fo(e,r,o,Wi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Ei(r)});var l=[];Mi(e,(function(e,t){t||-1!=V(l,e.history)||(vo(e.history,r),l.push(e.history)),fo(e,r,null,Wi(e,r))}))},f=i.changes.length-1;f>=0;--f){var p=d(f);if(p)return p.v}}}}function ho(e,t){if(0!=t&&(e.first+=t,e.sel=new xi(Q(e.sel.ranges,(function(e){return new Ci(tt(e.anchor.line+t,e.anchor.ch),tt(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){dr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)fr(e.cm,r,"gutter")}}function fo(e,t,n,r){if(e.cm&&!e.cm.curOp)return ei(e.cm,fo)(e,t,n,r);if(t.to.line<e.first)ho(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ho(e,i),t={from:tt(e.first,0),to:tt(t.to.line+i,t.to.ch),text:[Z(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:tt(o,qe(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ge(e,t.from,t.to),n||(n=Oi(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,l=t.to,s=!1,a=o.line;e.options.lineWrapping||(a=Ye(Ut(qe(r,o.line))),r.iter(a,l.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&ve(e),Li(r,t,n,ar(e)),e.options.lineWrapping||(r.iter(a,o.line+t.text.length,(function(e){var t=$t(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=qe(e,r).stateAfter;if(i&&(!(i instanceof ct)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(r,o.line),ri(e,400);var u=t.text.length-(l.line-o.line)-1;t.full?dr(e):o.line!=l.line||1!=t.text.length||Ri(e.doc,t)?dr(e,o.line,l.line+1,u):fr(e,o.line,"text");var c=ye(e,"changes"),h=ye(e,"change");if(h||c){var d={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin};h&&un(e,"change",e,d),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}(e.cm,t,r):Li(e,t,r),Ji(e,n,B),e.cantEdit&&io(e,tt(e.firstLine(),0))&&(e.cantEdit=!1)}}function po(e,t,n,r,i){var o;r||(r=n),nt(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),ao(e,{from:n,to:r,text:t,origin:i})}function mo(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function go(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)mo(o.ranges[s].anchor,t,n,r),mo(o.ranges[s].head,t,n,r)}else{for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(n<u.from.line)u.from=tt(u.from.line+r,u.from.ch),u.to=tt(u.to.line+r,u.to.ch);else if(t<=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function vo(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;go(e.done,n,r,i),go(e.undone,n,r,i)}function yo(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=qe(e,st(e,t)):i=Ye(t),null==i?null:(r(o,i)&&e.cm&&fr(e.cm,i,n),o)}function bo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function wo(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}Ci.prototype.from=function(){return lt(this.anchor,this.head)},Ci.prototype.to=function(){return ot(this.anchor,this.head)},Ci.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},bo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,Gt(i),un(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},wo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),l=r.height;if(r.removeInner(e,o),this.height-=l-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof bo))){var s=[];this.collapse(s),this.children=[new bo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var l=i.lines.length%25+25,s=l;s<i.lines.length;){var a=new bo(i.lines.slice(s,s+=25));i.height-=a.height,this.children.splice(++r,0,a),a.parent=this}i.lines=i.lines.slice(0,l),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new wo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=V(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new wo(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e);if(i.iterN(e,l,n))return!0;if(0==(t-=l))break;e=0}else e-=o}}};var _o=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function xo(e,t,n){Wt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Nr(e,n)}_o.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Ye(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=xn(this);Qe(n,Math.max(0,n.height-o)),e&&(Jr(e,(function(){xo(e,n,-o),fr(e,r,"widget")})),un(e,"lineWidgetCleared",e,this,r))}},_o.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=xn(this)-t;i&&(Ht(this.doc,r)||Qe(r,r.height+i),n&&Jr(n,(function(){n.curOp.forceUpdate=!0,xo(n,r,i),un(n,"lineWidgetChanged",n,e,Ye(r))})))},be(_o);var Co=0,ko=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Co};function So(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=j(r)).shared=!1;var o=[So(e,t,n,r,i)],l=o[0],s=r.widgetNode;return Mi(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(So(e,at(e,t),at(e,n),r,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=Z(o)})),new Eo(o,l)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return ei(e.cm,So)(e,t,n,r,i);var o=new ko(e,i),l=nt(t,n);if(r&&j(r,o,!1),l>0||0==l&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=I("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Ft(e,t.line,t,n,o)||t.line!=n.line&&Ft(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ct=!0}o.addToHistory&&Vi(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,a=t.line,u=e.cm;if(e.iter(a,n.line+1,(function(e){u&&o.collapsed&&!u.options.lineWrapping&&Ut(e)==u.display.maxLine&&(s=!0),o.collapsed&&a!=t.line&&Qe(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new kt(o,a==t.line?t.ch:null,a==n.line?n.ch:null)),++a})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){Ht(e,t)&&Qe(t,0)})),o.clearOnEnter&&de(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(xt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Co,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)dr(u,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=n.line;c++)fr(u,c,"text");o.atomic&&to(u.doc),un(u,"markerAdded",u,o)}return o}ko.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&qr(e),ye(this,"clear")){var n=this.find();n&&un(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var l=this.lines[o],s=St(l.markedSpans,this);e&&!this.collapsed?fr(e,Ye(l),"text"):e&&(null!=s.to&&(i=Ye(l)),null!=s.from&&(r=Ye(l))),l.markedSpans=Et(l.markedSpans,s),null==s.from&&this.collapsed&&!Ht(this.doc,l)&&e&&Qe(l,ir(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var u=Ut(this.lines[a]),c=$t(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&dr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&to(e.doc)),e&&un(e,"markerCleared",e,this,r,i),t&&Gr(e),this.parent&&this.parent.clear()}},ko.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],l=St(o.markedSpans,this);if(null!=l.from&&(n=tt(t?o:Ye(o),l.from),-1==e))return n;if(null!=l.to&&(r=tt(t?o:Ye(o),l.to),1==e))return r}return n&&{from:n,to:r}},ko.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Jr(r,(function(){var i=t.line,o=Ye(t.line),l=Rn(r,o);if(l&&(Un(l),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Ht(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var a=xn(n)-s;a&&Qe(i,i.height+a)}un(r,"markerChanged",r,e)}))},ko.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=V(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ko.prototype.detachLine=function(e){if(this.lines.splice(V(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},be(ko);var Eo=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function To(e){return e.findMarks(tt(e.first,0),e.clipPos(tt(e.lastLine())),(function(e){return e.parent}))}function Oo(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Mi(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==V(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}Eo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();un(this,"clear")}},Eo.prototype.find=function(e,t){return this.primary.find(e,t)},be(Eo);var Ao=0,Io=function(e,t,n,r,i){if(!(this instanceof Io))return new Io(e,t,n,r,i);null==n&&(n=0),wo.call(this,[new bo([new qt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=tt(n,0);this.sel=Si(o),this.history=new ji(null),this.id=++Ao,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Li(this,{from:o,to:o,text:e}),Xi(this,Si(o),B)};Io.prototype=X(wo.prototype,{constructor:Io,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ze(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ni((function(e){var t=tt(this.first,0),n=this.first+this.size-1;ao(this,{from:t,to:tt(n,qe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Lr(this.cm,0,0),Xi(this,Si(t),B)})),replaceRange:function(e,t,n,r){po(this,e,t=at(this,t),n=n?at(this,n):t,r)},getRange:function(e,t,n){var r=Ge(this,at(this,e),at(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Je(this,e))return qe(this,e)},getLineNumber:function(e){return Ye(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=qe(this,e)),Ut(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return at(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ni((function(e,t,n){Qi(this,at(this,"number"==typeof e?tt(e,t||0):e),null,n)})),setSelection:ni((function(e,t,n){Qi(this,at(this,e),at(this,t||e),n)})),extendSelection:ni((function(e,t,n){qi(this,at(this,e),t&&at(this,t),n)})),extendSelections:ni((function(e,t){Gi(this,ut(this,e),t)})),extendSelectionsBy:ni((function(e,t){Gi(this,ut(this,Q(this.sel.ranges,e)),t)})),setSelections:ni((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new Ci(at(this,e[i].anchor),at(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Xi(this,ki(this.cm,r,t),n)}})),addSelection:ni((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Ci(at(this,e),at(this,t||e))),Xi(this,ki(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ge(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ge(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:ni((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var l=i.ranges[o];r[o]={from:l.from(),to:l.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var r=[],i=tt(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=Ai(s.from,i,o),u=Ai(Ei(s),i,o);if(i=s.to,o=u,"around"==n){var c=e.sel.ranges[l],h=nt(c.head,c.anchor)<0;r[l]=new Ci(h?u:a,h?a:u)}else r[l]=new Ci(a,a)}return new xi(r,e.sel.primIndex)}(this,r,t),a=r.length-1;a>=0;a--)ao(this,r[a]);s?Yi(this,s):this.cm&&Rr(this.cm)})),undo:ni((function(){co(this,"undo")})),redo:ni((function(){co(this,"redo")})),undoSelection:ni((function(){co(this,"undo",!0)})),redoSelection:ni((function(){co(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ji(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:$i(this.history.done),undone:$i(this.history.undone)}},setHistory:function(e){var t=this.history=new ji(this.history.maxGeneration);t.done=$i(e.done.slice(0),null,!0),t.undone=$i(e.undone.slice(0),null,!0)},setGutterMarker:ni((function(e,t,n){return yo(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&ne(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:ni((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&yo(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,ne(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Je(this,e))return null;if(t=e,!(e=qe(this,e)))return null}else if(null==(t=Ye(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ni((function(e,t,n){return yo(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(k(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:ni((function(e,t,n){return yo(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(k(n));if(!o)return!1;var l=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&l!=i.length?" ":"")+i.slice(l)||null}return!0}))})),addLineWidget:ni((function(e,t,n){return function(e,t,n,r){var i=new _o(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),yo(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Ht(e,t)){var r=Wt(t)<e.scrollTop;Qe(t,t.height+xn(i)),r&&Nr(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&un(o,"lineWidgetAdded",o,i,"number"==typeof t?t:Ye(t)),i}(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return So(this,at(this,e),at(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return So(this,e=at(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=qe(this,(e=at(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=at(this,e),t=at(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&i==e.line&&e.ch>=a.to||null==a.from&&i!=e.line||null!=a.from&&i==t.line&&a.from>=t.ch||n&&!n(a.marker)||r.push(a.marker.parent||a.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),at(this,tt(n,t))},indexFromPos:function(e){var t=(e=at(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Io(Ze(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Io(Ze(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(nt(o,l)){var s=So(e,o,l,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,To(this)),r},unlinkDoc:function(e){if(e instanceof kl&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Oo(To(this));break}if(e.history==this.history){var n=[e.id];Mi(e,(function(e){return n.push(e.id)}),!0),e.history=new ji(null),e.history.done=$i(this.history.done,n),e.history.undone=$i(this.history.undone,n)}},iterLinkedDocs:function(e){Mi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Re(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ni((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Jr(t=this.cm,(function(){Di(t),dr(t)})))}))}),Io.prototype.eachLine=Io.prototype.iter;var No=0;function Ro(e){var t=this;if(Lo(t),!ge(t,e)&&!Cn(t.display,e)){we(e),l&&(No=+new Date);var n=cr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,a=function(e,r){if(!t.options.allowDropFileTypes||-1!=V(t.options.allowDropFileTypes,e.type)){var l=new FileReader;l.onload=ei(t,(function(){var e=l.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++s==i){var a={from:n=at(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};ao(t.doc,a),Yi(t.doc,Si(n,Ei(a)))}})),l.readAsText(e)}},u=0;u<i;++u)a(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var c=e.dataTransfer.getData("Text");if(c){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Ji(t.doc,Si(n,n)),h)for(var d=0;d<h.length;++d)po(t.doc,"",h[d].anchor,h[d].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Lo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Mo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Po=!1;function Do(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var jo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Fo=0;Fo<10;Fo++)jo[Fo+48]=jo[Fo+96]=String(Fo);for(var Uo=65;Uo<=90;Uo++)jo[Uo]=String.fromCharCode(Uo);for(var Vo=1;Vo<=12;Vo++)jo[Vo+111]=jo[Vo+63235]="F"+Vo;var zo={};function Ho(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var l=0;l<o.length-1;l++){var s=o[l];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Bo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Q(n.split(" "),Ho),o=0;o<i.length;o++){var l=void 0,s=void 0;o==i.length-1?(s=i.join(" "),l=r):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[n]}for(var u in t)e[u]=t[u];return e}function Wo(e,t,n,r){var i=(t=Go(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Wo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var l=Wo(e,t.fallthrough[o],n,r);if(l)return l}}}function $o(e){var t="string"==typeof e?e:jo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ko(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function qo(e,t){if(h&&34==e.keyCode&&e.char)return!1;var n=jo[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Ko(n,e,t))}function Go(e){return"string"==typeof e?zo[e]:e}function Zo(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&nt(o.from,Z(r).to)<=0;){var l=r.pop();if(nt(l.from,o.from)<0){o.from=l.from;break}}r.push(o)}Jr(e,(function(){for(var t=r.length-1;t>=0;t--)po(e.doc,"",r[t].from,r[t].to,"+delete");Rr(e)}))}function Qo(e,t,n){var r=oe(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Yo(e,t,n){var r=Qo(e,t.ch,n);return null==r?null:new tt(t.line,r,n<0?"after":"before")}function Xo(e,t,n,r,i){if(e){var o=ce(n,t.doc.direction);if(o){var l,s=i<0?Z(o):o[0],a=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=Ln(t,n),c=Mn(t,u,l=i<0?n.text.length-1:0).top;l=le((function(e){return Mn(t,u,e).top==c}),i<0==(1==s.level)?s.from:s.to-1,l),"before"==a&&(l=Qo(n,l,1))}else l=i<0?s.to:s.from;return new tt(r,l,a)}}return new tt(r,i<0?n.text.length:0,i<0?"before":"after")}zo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},zo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},zo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},zo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},zo.default=y?zo.macDefault:zo.pcDefault;var Jo={selectAll:lo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),B)},killLine:function(e){return Zo(e,(function(t){if(t.empty()){var n=qe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:tt(t.head.line+1,0)}:{from:t.head,to:tt(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Zo(e,(function(t){return{from:tt(t.from().line,0),to:at(e.doc,tt(t.to().line+1,0))}}))},delLineLeft:function(e){return Zo(e,(function(e){return{from:tt(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Zo(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Zo(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(tt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(tt(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return el(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return tl(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var n=qe(e.doc,t),r=function(e){for(var t;t=Dt(e);)e=t.find(1,!0).line;return e}(n);return r!=n&&(t=Ye(r)),Xo(!0,e,n,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),$)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),$)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?tl(e,t.head):r}),$)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),l=F(e.getLine(o.line),o.ch,r);t.push(G(r-l%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Jr(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=qe(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new tt(i.line,i.ch-1)),i.ch>0)i=new tt(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),tt(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=qe(e.doc,i.line-1).text;l&&(i=new tt(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),tt(i.line-1,l.length-1),i,"+transpose"))}n.push(new Ci(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return Jr(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Rr(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function el(e,t){var n=qe(e.doc,t),r=Ut(n);return r!=n&&(t=Ye(r)),Xo(!0,e,r,t,1)}function tl(e,t){var n=el(e,t.line),r=qe(e.doc,n.line),i=ce(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/));return tt(n.line,t.line==n.line&&t.ch<=o&&t.ch?0:o,n.sticky)}return n}function nl(e,t,n){if("string"==typeof t&&!(t=Jo[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=H}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var rl=new U;function il(e,t,n,r){var i=e.state.keySeq;if(i){if($o(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:rl.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),ol(e,i+" "+t,n,r))return!0}return ol(e,t,n,r)}function ol(e,t,n,r){var i=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Wo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Wo(t,e.options.extraKeys,n,e)||Wo(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&un(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(we(n),xr(e)),!!i}function ll(e,t){var n=qo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?il(e,"Shift-"+n,t,(function(t){return nl(e,t,!0)}))||il(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return nl(e,t)})):il(e,n,t,(function(t){return nl(e,t)})))}var sl=null;function al(e){var t=this;if(t.curOp.focus=R(),!ge(t,e)){l&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=ll(t,e);h&&(sl=r?n:null,!r&&88==n&&!Me&&(y?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(E(t,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n))}L(t,"CodeMirror-crosshair"),de(document,"keyup",n),de(document,"mouseover",n)}(t)}}function ul(e){16==e.keyCode&&(this.doc.sel.shift=!1),ge(this,e)}function cl(e){var t=this;if(!(Cn(t.display,e)||ge(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(h&&n==sl)return sl=null,void we(e);if(!h||e.which&&!(e.which<10)||!ll(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(e,t,n){return il(e,"'"+n+"'",t,(function(t){return nl(e,t,!0)}))}(t,e,i)||t.display.input.onKeyPress(e))}}}var hl,dl,fl=function(e,t,n){this.time=e,this.pos=t,this.button=n};function pl(e){var t=this,n=t.display;if(!(ge(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Cn(n,e))a||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!vl(t,e)){var r=cr(t,e),i=Se(e),o=r?function(e,t){var n=+new Date;return dl&&dl.compare(n,e,t)?(hl=dl=null,"triple"):hl&&hl.compare(n,e,t)?(dl=new fl(n,e,t),hl=null,"double"):(hl=new fl(n,e,t),dl=null,"single")}(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&function(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),il(e,Ko(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=Jo[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=H}finally{e.state.suppressEdits=!1}return r}))}(t,i,r,o,e)||(1==i?r?function(e,t,n,r){l?setTimeout(D(Cr,e),0):e.curOp.focus=R();var i,o=function(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};return null==i.unit&&(i.unit=(b?n.shiftKey&&n.metaKey:n.altKey)?"rectangle":"single"==t?"char":"double"==t?"word":"line"),(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}(e,n,r),u=e.doc.sel;e.options.dragDrop&&Oe&&!e.isReadOnly()&&"single"==n&&(i=u.contains(t))>-1&&(nt((i=u.ranges[i]).from(),t)<0||t.xRel>0)&&(nt(i.to(),t)>0||t.xRel<0)?function(e,t,n,r){var i=e.display,o=!1,u=ei(e,(function(t){a&&(i.scroller.draggable=!1),e.state.draggingText=!1,pe(i.wrapper.ownerDocument,"mouseup",u),pe(i.wrapper.ownerDocument,"mousemove",c),pe(i.scroller,"dragstart",h),pe(i.scroller,"drop",u),o||(we(t),r.addNew||qi(e.doc,n,null,null,r.extend),a||l&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()}),20):i.input.focus())})),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},h=function(){return o=!0};a&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),de(i.wrapper.ownerDocument,"mouseup",u),de(i.wrapper.ownerDocument,"mousemove",c),de(i.scroller,"dragstart",h),de(i.scroller,"drop",u),kr(e),setTimeout((function(){return i.input.focus()}),20)}(e,r,t,o):function(e,t,n,r){var i=e.display,o=e.doc;we(t);var l,s,a=o.sel,u=a.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),l=s>-1?u[s]:new Ci(n,n)):(l=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(l=new Ci(n,n)),n=cr(e,t,!0,!0),s=-1;else{var c=ml(e,n,r.unit);l=r.extend?Ki(l,c.anchor,c.head,r.extend):c}r.addNew?-1==s?(s=u.length,Xi(o,ki(e,u.concat([l]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==r.unit&&!r.extend?(Xi(o,ki(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),a=o.sel):Zi(o,s,l,W):(s=0,Xi(o,new xi([l],0),W),a=o.sel);var h=n,d=i.wrapper.getBoundingClientRect(),f=0;function p(t){e.state.selectingText=!1,f=1/0,t&&(we(t),i.input.focus()),pe(i.wrapper.ownerDocument,"mousemove",m),pe(i.wrapper.ownerDocument,"mouseup",g),o.history.lastSelOrigin=null}var m=ei(e,(function(t){0!==t.buttons&&Se(t)?function t(u){var c=++f,p=cr(e,u,!0,"rectangle"==r.unit);if(p)if(0!=nt(p,h)){e.curOp.focus=R(),function(t){if(0!=nt(h,t))if(h=t,"rectangle"==r.unit){for(var i=[],u=e.options.tabSize,c=F(qe(o,n.line).text,n.ch,u),d=F(qe(o,t.line).text,t.ch,u),f=Math.min(c,d),p=Math.max(c,d),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=qe(o,m).text,y=K(v,f,u);f==p?i.push(new Ci(tt(m,y),tt(m,y))):v.length>y&&i.push(new Ci(tt(m,y),tt(m,K(v,p,u))))}i.length||i.push(new Ci(n,n)),Xi(o,ki(e,a.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=l,_=ml(e,t,r.unit),x=w.anchor;nt(_.anchor,x)>0?(b=_.head,x=lt(w.from(),_.anchor)):(b=_.anchor,x=ot(w.to(),_.head));var C=a.ranges.slice(0);C[s]=function(e,t){var n=t.anchor,r=t.head,i=qe(e.doc,n.line);if(0==nt(n,r)&&n.sticky==r.sticky)return t;var o=ce(i);if(!o)return t;var l=ae(o,n.ch,n.sticky),s=o[l];if(s.from!=n.ch&&s.to!=n.ch)return t;var a,u=l+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return t;if(r.line!=n.line)a=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=ae(o,r.ch,r.sticky),h=c-l||(r.ch-n.ch)*(1==s.level?-1:1);a=c==u-1||c==u?h<0:h>0}var d=o[u+(a?-1:0)],f=a==(1==d.level),p=f?d.from:d.to,m=f?"after":"before";return n.ch==p&&n.sticky==m?t:new Ci(new tt(n.line,p,m),r)}(e,new Ci(at(o,x),b)),Xi(o,ki(e,C,s),W)}}(p);var m=Ar(i,o);(p.line>=m.to||p.line<m.from)&&setTimeout(ei(e,(function(){f==c&&t(u)})),150)}else{var g=u.clientY<d.top?-20:u.clientY>d.bottom?20:0;g&&setTimeout(ei(e,(function(){f==c&&(i.scroller.scrollTop+=g,t(u))})),50)}}(t):p(t)})),g=ei(e,p);e.state.selectingText=g,de(i.wrapper.ownerDocument,"mousemove",m),de(i.wrapper.ownerDocument,"mouseup",g)}(e,r,t,o)}(t,r,o,e):ke(e)==n.scroller&&we(e):2==i?(r&&qi(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(C?t.display.input.onContextMenu(e):kr(t)))}}function ml(e,t,n){if("char"==n)return new Ci(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Ci(tt(t.line,0),at(e.doc,tt(t.line+1,0)));var r=n(e,t);return new Ci(r.from,r.to)}function gl(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&we(t);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!ye(e,n))return xe(t);o-=s.top-l.viewOffset;for(var a=0;a<e.display.gutterSpecs.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=i)return me(e,n,e,Xe(e.doc,o),e.display.gutterSpecs[a].className,t),xe(t)}}function vl(e,t){return gl(e,t,"gutterClick",!0)}function yl(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),zn(e)}fl.prototype.compare=function(e,t,n){return this.time+400>e&&0==nt(t,this.pos)&&n==this.button};var bl={toString:function(){return"CodeMirror.Init"}},wl={},_l={};function xl(e,t,n){if(!t!=!(n&&n!=bl)){var r=e.display.dragFunctions,i=t?de:pe;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function Cl(e){e.options.lineWrapping?(L(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(E(e.display.wrapper,"CodeMirror-wrap"),Kt(e)),ur(e),dr(e),zn(e),setTimeout((function(){return Hr(e)}),100)}function kl(e,t){var n=this;if(!(this instanceof kl))return new kl(e,t);this.options=t=t?j(t):{},j(wl,t,!1);var r=t.value;"string"==typeof r?r=new Io(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new kl.inputStyles[t.inputStyle](this),o=this.display=new gi(e,r,i,t);for(var u in o.wrapper.CodeMirror=this,yl(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),$r(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new U,keySeq:null,specialChars:null},t.autofocus&&!v&&o.input.focus(),l&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(e){var t=e.display;de(t.scroller,"mousedown",ei(e,pl)),de(t.scroller,"dblclick",l&&s<11?ei(e,(function(t){if(!ge(e,t)){var n=cr(e,t);if(n&&!vl(e,t)&&!Cn(e.display,t)){we(t);var r=e.findWordAt(n);qi(e.doc,r.anchor,r.head)}}})):function(t){return ge(e,t)||we(t)}),de(t.scroller,"contextmenu",(function(t){return function(e,t){Cn(e.display,t)||function(e,t){return!!ye(e,"gutterContextMenu")&&gl(e,t,"gutterContextMenu",!1)}(e,t)||ge(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}(e,t)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}de(t.scroller,"touchstart",(function(i){if(!ge(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!vl(e,i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),de(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),de(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Cn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var l,s=e.coordsChar(t.activeTouch,"page");l=!r.prev||o(r,r.prev)?new Ci(s,s):!r.prev.prev||o(r,r.prev.prev)?e.findWordAt(s):new Ci(tt(s.line,0),at(e.doc,tt(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),we(n)}i()})),de(t.scroller,"touchcancel",i),de(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Dr(e,t.scroller.scrollTop),Fr(e,t.scroller.scrollLeft,!0),me(e,"scroll",e))})),de(t.scroller,"mousewheel",(function(t){return _i(e,t)})),de(t.scroller,"DOMMouseScroll",(function(t){return _i(e,t)})),de(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ge(e,t)||Ce(t)},over:function(t){ge(e,t)||(function(e,t){var n=cr(e,t);if(n){var r=document.createDocumentFragment();br(e,n,r),e.display.dragCursor||(e.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),O(e.display.dragCursor,r)}}(e,t),Ce(t))},start:function(t){return function(e,t){if(l&&(!e.state.draggingText||+new Date-No<100))Ce(t);else if(!ge(e,t)&&!Cn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var n=A("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),h&&n.parentNode.removeChild(n)}}(e,t)},drop:ei(e,Ro),leave:function(t){ge(e,t)||Lo(e)}};var a=t.input.getField();de(a,"keyup",(function(t){return ul.call(e,t)})),de(a,"keydown",ei(e,al)),de(a,"keypress",ei(e,cl)),de(a,"focus",(function(t){return Sr(e,t)})),de(a,"blur",(function(t){return Er(e,t)}))}(this),function(){var e;Po||(de(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Mo(Do)}),100))})),de(window,"blur",(function(){return Mo(Er)})),Po=!0)}(),qr(this),this.curOp.forceUpdate=!0,Pi(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(D(Sr,this),20):Er(this),_l)_l.hasOwnProperty(u)&&_l[u](n,t[u],bl);di(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Sl.length;++c)Sl[c](n);Gr(this),a&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}kl.defaults=wl,kl.optionHandlers=_l;var Sl=[];function El(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=pt(e,t).state:n="prev");var l=e.options.tabSize,s=qe(o,t),a=F(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==H||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?F(qe(o,t-1).text,null,l):0:"add"==n?u=a+e.options.indentUnit:"subtract"==n?u=a-e.options.indentUnit:"number"==typeof n&&(u=a+n),u=Math.max(0,u);var h="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(u/l);f;--f)d+=l,h+="\t";if(d<u&&(h+=G(u-d)),h!=c)return po(o,h,tt(t,0),tt(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==t&&m.head.ch<c.length){var g=tt(t,c.length);Zi(o,p,new Ci(g,g));break}}}kl.defineInitHook=function(e){return Sl.push(e)};var Tl=null;function Ol(e){Tl=e}function Al(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var l=+new Date-200,s="paste"==i||e.state.pasteIncoming>l,a=Re(t),u=null;if(s&&r.ranges.length>1)if(Tl&&Tl.text.join("\n")==t){if(r.ranges.length%Tl.text.length==0){u=[];for(var c=0;c<Tl.text.length;c++)u.push(o.splitLines(Tl.text[c]))}}else a.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=Q(a,(function(e){return[e]})));for(var h=e.curOp.updateInput,d=r.ranges.length-1;d>=0;d--){var f=r.ranges[d],p=f.from(),m=f.to();f.empty()&&(n&&n>0?p=tt(p.line,p.ch-n):e.state.overwrite&&!s?m=tt(m.line,Math.min(qe(o,m.line).text.length,m.ch+Z(a).length)):s&&Tl&&Tl.lineWise&&Tl.text.join("\n")==t&&(p=m=tt(p.line,0)));var g={from:p,to:m,text:u?u[d%u.length]:a,origin:i||(s?"paste":e.state.cutIncoming>l?"cut":"+input")};ao(e.doc,g),un(e,"inputRead",e,g)}t&&!s&&Nl(e,t),Rr(e),e.curOp.updateInput<2&&(e.curOp.updateInput=h),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Il(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Jr(t,(function(){return Al(t,n,0,null,"paste")})),!0}function Nl(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=El(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(qe(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=El(e,i.head.line,"smart"));l&&un(e,"electricInput",e,i.head.line)}}}function Rl(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:tt(i,0),head:tt(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Ll(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Ml(){var e=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=A("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return a?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ll(e),t}function Pl(e,t,n,r,i){var o=t,l=n,s=qe(e,t.line);function a(r){var o,l;if(null==(o=i?function(e,t,n,r){var i=ce(t,e.doc.direction);if(!i)return Yo(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ae(i,n.ch,n.sticky),l=i[o];if("ltr"==e.doc.direction&&l.level%2==0&&(r>0?l.to>n.ch:l.from<n.ch))return Yo(t,n,r);var s,a=function(e,n){return Qo(t,e instanceof tt?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||Ln(e,t),Jn(e,t,s,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?a(n,-1):n.ch);if("rtl"==e.doc.direction||1==l.level){var h=1==l.level==r<0,d=a(n,h?1:-1);if(null!=d&&(h?d<=l.to&&d<=c.end:d>=l.from&&d>=c.begin))return new tt(n.line,d,h?"before":"after")}var f=function(e,t,r){for(var o=function(e,t){return t?new tt(n.line,a(e,1),"before"):new tt(n.line,e,"after")};e>=0&&e<i.length;e+=t){var l=i[e],s=t>0==(1!=l.level),u=s?r.begin:a(r.end,-1);if(l.from<=u&&u<l.to)return o(u,s);if(u=s?l.from:a(l.to,-1),r.begin<=u&&u<r.end)return o(u,s)}},p=f(o+r,r,c);if(p)return p;var m=r>0?c.end:a(c.begin,-1);return null==m||r>0&&m==t.text.length||!(p=f(r>0?0:i.length-1,r,u(m)))?null:p}(e.cm,s,t,n):Yo(s,t,n))){if(r||(l=t.line+n)<e.first||l>=e.first+e.size||(t=new tt(l,t.ch,t.sticky),!(s=qe(e,l))))return!1;t=Xo(i,e.cm,s,t.line,n)}else t=o;return!0}if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var u=null,c="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||a(!d);d=!1){var f=s.text.charAt(t.ch)||"\n",p=te(f,h)?"w":c&&"\n"==f?"n":!c||/\s/.test(f)?null:"p";if(!c||d||p||(p="s"),u&&u!=p){n<0&&(n=1,a(),t.sticky="after");break}if(p&&(u=p),n>0&&!a(!d))break}var m=io(e,t,o,l,!0);return rt(o,m)&&(m.hitSide=!0),m}function Dl(e,t,n,r){var i,o,l=e.doc,s=t.left;if("page"==r){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(a-.5*ir(e.display),3);i=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=Yn(e,s,i)).outside;){if(n<0?i<=0:i>=l.height){o.hitSide=!0;break}i+=5*n}return o}var jl=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new U,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Fl(e,t){var n=Rn(e,t.line);if(!n||n.hidden)return null;var r=qe(e.doc,t.line),i=In(n,r,t.line),o=ce(r,e.doc.direction),l="left";o&&(l=ae(o,t.ch)%2?"right":"left");var s=jn(i.map,t.ch,l);return s.offset="right"==s.collapse?s.end:s.start,s}function Ul(e,t){return t&&(e.bad=!0),e}function Vl(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Ul(e.clipPos(tt(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return zl(o,t,n)}}function zl(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!N(r,t))return Ul(tt(Ye(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?Z(e.rest):e.line;return Ul(tt(Ye(o),o.text.length),i)}var l=3==t.nodeType?t:null,s=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var a=e.measure,u=a.maps;function c(t,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?a.map:u[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==n){var c=Ye(i<0?e.line:e.rest[i]),h=o[l]+r;return(r<0||s!=t)&&(h=o[l+(r?1:0)]),tt(c,h)}}}var h=c(l,s,n);if(h)return Ul(h,i);for(var d=s.nextSibling,f=l?l.nodeValue.length-n:0;d;d=d.nextSibling){if(h=c(d,d.firstChild,0))return Ul(tt(h.line,h.ch-f),i);f+=d.textContent.length}for(var p=s.previousSibling,m=n;p;p=p.previousSibling){if(h=c(p,p.firstChild,-1))return Ul(tt(h.line,h.ch+m),i);m+=p.textContent.length}}jl.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){if(!ge(r,e)){if(r.somethingSelected())Ol({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Rl(r);Ol({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,B),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var o=Tl.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var l=Ml(),s=l.firstChild;r.display.lineSpace.insertBefore(l,r.display.lineSpace.firstChild),s.value=Tl.text.join("\n");var a=document.activeElement;P(s),setTimeout((function(){r.display.lineSpace.removeChild(l),a.focus(),a==i&&n.showPrimarySelection()}),50)}}Ll(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),de(i,"paste",(function(e){ge(r,e)||Il(e,r)||s<=11&&setTimeout(ei(r,(function(){return t.updateFromDOM()})),20)})),de(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),de(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),de(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),de(i,"touchstart",(function(){return n.forceCompositionEnd()})),de(i,"input",(function(){t.composing||t.readFromDOMSoon()})),de(i,"copy",o),de(i,"cut",o)},jl.prototype.prepareSelection=function(){var e=yr(this.cm,!1);return e.focus=this.cm.state.focused,e},jl.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},jl.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},jl.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var l=Vl(t,e.anchorNode,e.anchorOffset),s=Vl(t,e.focusNode,e.focusOffset);if(!l||l.bad||!s||s.bad||0!=nt(lt(l,s),i)||0!=nt(ot(l,s),o)){var a=t.display.view,u=i.line>=t.display.viewFrom&&Fl(t,i)||{node:a[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&Fl(t,o);if(!c){var h=a[a.length-1].measure,d=h.maps?h.maps[h.maps.length-1]:h.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(u&&c){var f,p=e.rangeCount&&e.getRangeAt(0);try{f=S(u.node,u.offset,c.offset,c.node)}catch(Ne){}f&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},jl.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},jl.prototype.showMultipleSelections=function(e){O(this.cm.display.cursorDiv,e.cursors),O(this.cm.display.selectionDiv,e.selection)},jl.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},jl.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},jl.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},jl.prototype.blur=function(){this.div.blur()},jl.prototype.getField=function(){return this.div},jl.prototype.supportsTouch=function(){return!0},jl.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Jr(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},jl.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},jl.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Vl(t,e.anchorNode,e.anchorOffset),r=Vl(t,e.focusNode,e.focusOffset);n&&r&&Jr(t,(function(){Xi(t.doc,Si(n,r),B),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},jl.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),l=o.from(),s=o.to();if(0==l.ch&&l.line>r.firstLine()&&(l=tt(l.line-1,qe(r.doc,l.line-1).length)),s.ch==qe(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=tt(s.line+1,0)),l.line<i.viewFrom||s.line>i.viewTo-1)return!1;l.line==i.viewFrom||0==(e=hr(r,l.line))?(t=Ye(i.view[0].line),n=i.view[0].node):(t=Ye(i.view[e].line),n=i.view[e-1].node.nextSibling);var a,u,c=hr(r,s.line);if(c==i.view.length-1?(a=i.viewTo-1,u=i.lineDiv.lastChild):(a=Ye(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!n)return!1;for(var h=r.doc.splitLines(function(e,t,n,r,i){var o="",l=!1,s=e.doc.lineSeparator(),a=!1;function u(){l&&(o+=s,a&&(o+=s),l=a=!1)}function c(e){e&&(u(),o+=e)}function h(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void c(n);var o,d=t.getAttribute("cm-marker");if(d){var f=e.findMarks(tt(r,0),tt(i+1,0),(g=+d,function(e){return e.id==g}));return void(f.length&&(o=f[0].find(0))&&c(Ge(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;p&&u();for(var m=0;m<t.childNodes.length;m++)h(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(a=!0),p&&(l=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;h(t),t!=n;)t=t.nextSibling,a=!1;return o}(r,n,u,t,a)),d=Ge(r.doc,tt(t,0),tt(a,qe(r.doc,a).text.length));h.length>1&&d.length>1;)if(Z(h)==Z(d))h.pop(),d.pop(),a--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),t++}for(var f=0,p=0,m=h[0],g=d[0],v=Math.min(m.length,g.length);f<v&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var y=Z(h),b=Z(d),w=Math.min(y.length-(1==h.length?f:0),b.length-(1==d.length?f:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==h.length&&1==d.length&&t==l.line)for(;f&&f>l.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)f--,p++;h[h.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(f).replace(/\u200b+$/,"");var _=tt(t,f),x=tt(a,d.length?Z(d).length-p:0);return h.length>1||h[0]||nt(_,x)?(po(r.doc,h,_,x,"+input"),!0):void 0},jl.prototype.ensurePolled=function(){this.forceCompositionEnd()},jl.prototype.reset=function(){this.forceCompositionEnd()},jl.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},jl.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},jl.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Jr(this.cm,(function(){return dr(e.cm)}))},jl.prototype.setUneditable=function(e){e.contentEditable="false"},jl.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||ei(this.cm,Al)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},jl.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},jl.prototype.onContextMenu=function(){},jl.prototype.resetPosition=function(){},jl.prototype.needsContentAttribute=!0;var Hl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new U,this.hasSelection=!1,this.composing=null};Hl.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!ge(r,e)){if(r.somethingSelected())Ol({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Rl(r);Ol({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,B):(n.prevInput="",i.value=t.text.join("\n"),P(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),de(i,"input",(function(){l&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),de(i,"paste",(function(e){ge(r,e)||Il(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),de(i,"cut",o),de(i,"copy",o),de(e.scroller,"paste",(function(t){if(!Cn(e,t)&&!ge(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),de(e.lineSpace,"selectstart",(function(t){Cn(e,t)||we(t)})),de(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),de(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Hl.prototype.createField=function(e){this.wrapper=Ml(),this.textarea=this.wrapper.firstChild},Hl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=yr(e);if(e.options.moveInputWithCursor){var i=Gn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return r},Hl.prototype.showSelection=function(e){var t=this.cm.display;O(t.cursorDiv,e.cursors),O(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Hl.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&P(this.textarea),l&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",l&&s>=9&&(this.hasSelection=null))}},Hl.prototype.getField=function(){return this.textarea},Hl.prototype.supportsTouch=function(){return!1},Hl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||R()!=this.textarea))try{this.textarea.focus()}catch(Ne){}},Hl.prototype.blur=function(){this.textarea.blur()},Hl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Hl.prototype.receivedFocus=function(){this.slowPoll()},Hl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},Hl.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}))},Hl.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Le(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(l&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,u=Math.min(r.length,i.length);a<u&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return Jr(t,(function(){Al(t,i.slice(a),r.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Hl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Hl.prototype.onKeyPress=function(){l&&s>=9&&(this.hasSelection=null),this.fastPoll()},Hl.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=cr(n,e),u=r.scroller.scrollTop;if(o&&!h){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&ei(n,Xi)(n.doc,Si(o),B);var c,d=i.style.cssText,f=t.wrapper.style.cssText,p=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(l?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",a&&(c=window.scrollY),r.input.focus(),a&&window.scrollTo(null,c),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=v,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),l&&s>=9&&g(),C){Ce(e);var m=function(){pe(window,"mouseup",m),setTimeout(v,20)};de(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="\u200b"+(e?i.value:"");i.value="\u21da",i.value=o,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=f,i.style.cssText=d,l&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart)){(!l||l&&s<9)&&g();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?ei(n,lo)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},Hl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Hl.prototype.setUneditable=function(){},Hl.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=bl&&i(e,t,n)}:i)}e.defineOption=n,e.Init=bl,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,Ii(e)}),!0),n("indentUnit",2,Ii,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){Ni(e),zn(e),dr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(tt(r,o))}r++}));for(var i=n.length-1;i>=0;i--)po(e.doc,t,n[i],tt(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=bl&&e.refresh()})),n("specialCharPlaceholder",Jt,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){yl(e),mi(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Go(t),i=n!=bl&&Go(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Cl,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=fi(t,e.options.lineNumbers),mi(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?sr(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return Hr(e)}),!0),n("scrollbarStyle","native",(function(e){$r(e),Hr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=fi(e.options.gutters,t),mi(e)}),!0),n("firstLineNumber",1,mi,!0),n("lineNumberFormatter",(function(e){return e}),mi,!0),n("showCursorWhenSelecting",!1,vr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Er(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,xl),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,vr,!0),n("singleCursorHeightPerLine",!0,vr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Ni,!0),n("addModeClass",!1,Ni,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,Ni,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}(kl),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&ei(this,t[e])(this,n,i),me(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Go(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:ti((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,dr(this)})),removeOverlay:ti((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void dr(this)}})),indentLine:ti((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Je(this.doc,e)&&El(this,e,t,n)})),indentSelection:ti((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(El(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Rr(this));else{var o=i.from(),l=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),l.line-(l.ch?0:1))+1;for(var a=s;a<n;++a)El(this,a,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&Zi(this.doc,r,new Ci(o,u[r].to()),B)}}})),getTokenAt:function(e,t){return bt(this,e,t)},getLineTokens:function(e,t){return bt(this,tt(e),t,!0)},getTokenTypeAt:function(e){e=at(this.doc,e);var t,n=ft(this,qe(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var l=r+i>>1;if((l?n[2*l-1]:0)>=o)i=l;else{if(!(n[2*l+1]<o)){t=n[2*l+2];break}r=l+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var l=0;l<o[t].length;l++){var s=i[o[t][l]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var a=0;a<i._global.length;a++){var u=i._global[a];u.pred(o,this)&&-1==V(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return pt(this,(e=st(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Gn(this,null==e?n.head:"object"==typeof e?at(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return qn(this,at(this.doc,e),t||"page")},coordsChar:function(e,t){return Yn(this,(e=Kn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Kn(this,{top:e,left:0},t||"page").top,Xe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=qe(this.doc,e)}else r=e;return $n(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-Wt(r):0)},defaultTextHeight:function(){return ir(this.display)},defaultCharWidth:function(){return or(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o,l=this.display,s=(e=Gn(this,at(this.doc,e))).bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==r)s=e.top;else if("above"==r||"near"==r){var u=Math.max(l.wrapper.clientHeight,this.doc.height),c=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(a=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&(null!=(o=Ir(this,{left:a,top:s,right:a+t.offsetWidth,bottom:s+t.offsetHeight})).scrollTop&&Dr(this,o.scrollTop),null!=o.scrollLeft&&Fr(this,o.scrollLeft))},triggerOnKeyDown:ti(al),triggerOnKeyPress:ti(cl),triggerOnKeyUp:ul,triggerOnMouseDown:ti(pl),execCommand:function(e){if(Jo.hasOwnProperty(e))return Jo[e].call(null,this)},triggerElectric:ti((function(e){Nl(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=at(this.doc,e),l=0;l<t&&!(o=Pl(this.doc,o,i,n,r)).hitSide;++l);return o},moveH:ti((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Pl(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),$)})),deleteH:ti((function(e,t){var n=this.doc;this.doc.sel.somethingSelected()?n.replaceSelection("",null,"+delete"):Zo(this,(function(r){var i=Pl(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var l=at(this.doc,e),s=0;s<t;++s){var a=Gn(this,l,"div");if(null==o?o=a.left:a.left=o,(l=Dl(this,a,i,n)).hitSide)break}return l},moveV:ti((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(l){if(o)return e<0?l.from():l.to();var s=Gn(n,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=Dl(n,s,e,t);return"page"==t&&l==r.sel.primary()&&Nr(n,qn(n,a,"div").top-s.top),a}),$),i.length)for(var l=0;l<r.sel.ranges.length;l++)r.sel.ranges[l].goalColumn=i[l]})),findWordAt:function(e){var t=qe(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),l=te(o,i)?function(e){return te(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};n>0&&l(t.charAt(n-1));)--n;for(;r<t.length&&l(t.charAt(r));)++r}return new Ci(tt(e.line,n),tt(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?L(this.display.cursorDiv,"CodeMirror-overwrite"):E(this.display.cursorDiv,"CodeMirror-overwrite"),me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==R()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ti((function(e,t){Lr(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Tn(this)-this.display.barHeight,width:e.scrollWidth-Tn(this)-this.display.barWidth,clientHeight:An(this),clientWidth:On(this)}},scrollIntoView:ti((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:tt(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Mr(e),e.curOp.scrollToPos=t}(this,e):Pr(this,e.from,e.to,e.margin)})),setSize:ti((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Vn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){fr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,me(this,"refresh",this)})),operation:function(e){return Jr(this,e)},startOperation:function(){return qr(this)},endOperation:function(){return Gr(this)},refresh:ti((function(){var e=this.display.cachedTextHeight;dr(this),this.curOp.forceUpdate=!0,zn(this),Lr(this,this.doc.scrollLeft,this.doc.scrollTop),ui(this.display),(null==e||Math.abs(e-ir(this.display))>.5)&&ur(this),me(this,"refresh",this)})),swapDoc:ti((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Pi(this,e),zn(this),this.display.input.reset(),Lr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,un(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},be(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(kl);var Bl="iter insert remove copy getEditor constructor".split(" ");for(var Wl in Io.prototype)Io.prototype.hasOwnProperty(Wl)&&V(Bl,Wl)<0&&(kl.prototype[Wl]=function(e){return function(){return e.apply(this.doc,arguments)}}(Io.prototype[Wl]));return be(Io),kl.inputStyles={textarea:Hl,contenteditable:jl},kl.defineMode=function(e){kl.defaults.mode||"null"==e||(kl.defaults.mode=e),Fe.apply(this,arguments)},kl.defineMIME=function(e,t){je[e]=t},kl.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),kl.defineMIME("text/plain","null"),kl.defineExtension=function(e,t){kl.prototype[e]=t},kl.defineDocExtension=function(e,t){Io.prototype[e]=t},kl.fromTextArea=function(e,t){if((t=t?j(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=R();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(de(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var l=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=l}}catch(Ne){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(pe(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=kl((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=pe,e.on=de,e.wheelEventPixels=wi,e.Doc=Io,e.splitLines=Re,e.countColumn=F,e.findColumn=K,e.isWordChar=ee,e.Pass=H,e.signal=me,e.Line=qt,e.changeEnd=Ei,e.scrollbarModel=Wr,e.Pos=tt,e.cmpPos=nt,e.modes=De,e.mimeModes=je,e.resolveMode=Ue,e.getMode=Ve,e.modeExtensions=ze,e.extendMode=He,e.copyState=Be,e.startState=$e,e.innerMode=We,e.commands=Jo,e.keyMap=zo,e.keyName=qo,e.isModifierKey=$o,e.lookupKey=Wo,e.normalizeKeyMap=Bo,e.StringStream=Ke,e.SharedTextMarker=Eo,e.TextMarker=ko,e.LineWidget=_o,e.e_preventDefault=we,e.e_stopPropagation=_e,e.e_stop=Ce,e.addClass=L,e.contains=N,e.rmClass=E,e.keyNames=jo}(kl),kl.version="5.49.0",kl}()},d6pH:function(e,t,n){"use strict";function r(e){return e&&0===e.length}function i(e){return null==e?[]:Object.keys(e)}function o(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}function l(e,t){for(var n=[],r=i(e),o=0;o<r.length;o++){var l=r[o];n.push(t.call(null,e[l],l))}return n}function s(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t.call(null,e[r],r));return n}function a(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?t=t.concat(a(r)):t.push(r)}return t}function u(e){return r(e)?void 0:e[0]}function c(e){var t=e&&e.length;return t?e[t-1]:void 0}function h(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n);else{if(!N(e))throw Error("non exhaustive match");var r=i(e);for(n=0;n<r.length;n++){var o=r[n];t.call(null,e[o],o)}}}function d(e){return"string"==typeof e}function f(e){return void 0===e}function p(e){return e instanceof Function}function m(e,t){return void 0===t&&(t=1),e.slice(t,e.length)}function g(e,t){return void 0===t&&(t=1),e.slice(0,e.length-t)}function v(e,t){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function y(e,t){return v(e,(function(e){return!t(e)}))}function b(e,t){for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],l=e[o];t(l)&&(r[o]=l)}return r}function w(e,t){return!!N(e)&&e.hasOwnProperty(t)}function _(e,t){return void 0!==k(e,(function(e){return e===t}))}function x(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function C(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function k(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t.call(null,r))return r}}function S(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function E(e,t,n){for(var r=Array.isArray(e),l=r?e:o(e),s=r?[]:i(e),a=n,u=0;u<l.length;u++)a=t.call(null,a,l[u],r?u:s[u]);return a}function T(e){return y(e,(function(e){return null==e}))}function O(e,t){void 0===t&&(t=function(e){return e});var n=[];return E(e,(function(e,r){var i=t(r);return _(n,i)?e:(n.push(i),e.concat(r))}),[])}function A(e){return Array.isArray(e)}function I(e){return e instanceof RegExp}function N(e){return e instanceof Object}function R(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function L(e,t){return y(e,(function(e){return _(t,e)}))}function M(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}function P(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function D(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var o=t[r],l=i(o),s=0;s<l.length;s++){var a=l[s];e[a]=o[a]}return e}function j(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];if(!f(o))for(var l=i(o),s=0;s<l.length;s++){var a=l[s];w(e,a)||(e[a]=o[a])}}return e}function F(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return j.apply(null,[{}].concat(e))}function U(e,t){var n={};return h(e,(function(e){var r=t(e),i=n[r];i?i.push(e):n[r]=[e]})),n}function V(e,t){for(var n=C(e),r=i(t),o=0;o<r.length;o++){var l=r[o];n[l]=t[l]}return n}function z(){}function H(e){return e}function B(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(void 0!==r?r:void 0)}return t}function W(e){console&&console.error&&console.error("Error: "+e)}function $(e){console&&console.warn&&console.warn("Warning: "+e)}function K(){return"function"==typeof Map}function q(e,t){t.forEach((function(t){var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(r){if("constructor"!==r){var i=Object.getOwnPropertyDescriptor(n,r);i&&(i.get||i.set)?Object.defineProperty(e.prototype,r,i):e.prototype[r]=t.prototype[r]}}))}))}function G(e){function t(){}t.prototype=e;var n=new t;function r(){return typeof n.bar}return r(),r(),e}function Z(e){return e[e.length-1]}function Q(e){var t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}}n.d(t,"A",(function(){return r})),n.d(t,"G",(function(){return i})),n.d(t,"U",(function(){return o})),n.d(t,"J",(function(){return l})),n.d(t,"I",(function(){return s})),n.d(t,"t",(function(){return a})),n.d(t,"s",(function(){return u})),n.d(t,"H",(function(){return c})),n.d(t,"u",(function(){return h})),n.d(t,"E",(function(){return d})),n.d(t,"F",(function(){return f})),n.d(t,"B",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return g})),n.d(t,"p",(function(){return v})),n.d(t,"P",(function(){return y})),n.d(t,"N",(function(){return b})),n.d(t,"w",(function(){return w})),n.d(t,"j",(function(){return _})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return C})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return S})),n.d(t,"O",(function(){return E})),n.d(t,"i",(function(){return T})),n.d(t,"T",(function(){return O})),n.d(t,"y",(function(){return A})),n.d(t,"D",(function(){return I})),n.d(t,"C",(function(){return N})),n.d(t,"o",(function(){return R})),n.d(t,"l",(function(){return L})),n.d(t,"Q",(function(){return M})),n.d(t,"x",(function(){return P})),n.d(t,"f",(function(){return D})),n.d(t,"k",(function(){return F})),n.d(t,"v",(function(){return U})),n.d(t,"K",(function(){return V})),n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return H})),n.d(t,"L",(function(){return B})),n.d(t,"c",(function(){return W})),n.d(t,"d",(function(){return $})),n.d(t,"z",(function(){return K})),n.d(t,"e",(function(){return q})),n.d(t,"S",(function(){return G})),n.d(t,"M",(function(){return Z})),n.d(t,"R",(function(){return Q}))},ewDg:function(e,t,n){!function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",(function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var i,o,l=t.indentUnit,s=n.tokenHooks,a=n.documentTypes||{},u=n.mediaTypes||{},c=n.mediaFeatures||{},h=n.mediaValueKeywords||{},d=n.propertyKeywords||{},f=n.nonStandardPropertyKeywords||{},p=n.fontProperties||{},m=n.counterDescriptors||{},g=n.colorKeywords||{},v=n.valueKeywords||{},y=n.allowNested,b=!0===n.supportsAtComponent;function w(e,t){return i=t,e}function _(e,t){var n=e.next();if(s[n]){var r=s[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),w("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?w(null,"compare"):'"'==n||"'"==n?(t.tokenize=x(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),w("atom","hash")):"!"==n?(e.match(/^\s*\w*/),w("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),w("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?w(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?w("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?w(null,n):e.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())&&(t.tokenize=C),w("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),w("property","word")):w(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),w("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?w("variable-2","variable-definition"):w("variable-2","variable")):e.match(/^\w+-/)?w("meta","meta"):void 0}function x(e){return function(t,n){for(var r,i=!1;null!=(r=t.next());){if(r==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==r}return(r==e||!i&&")"!=e)&&(n.tokenize=null),w("string","string")}}function C(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:x(")"),w(null,"(")}function k(e,t,n){this.type=e,this.indent=t,this.prev=n}function S(e,t,n,r){return e.context=new k(n,t.indentation()+(!1===r?0:l),e.context),n}function E(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function T(e,t,n){return I[n.context.type](e,t,n)}function O(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return T(e,t,n)}function A(e){var t=e.current().toLowerCase();o=v.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var I={top:function(e,t,n){if("{"==e)return S(n,t,"block");if("}"==e&&n.context.prev)return E(n);if(b&&/@component/i.test(e))return S(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return S(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return S(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return S(n,t,"at");if("hash"==e)o="builtin";else if("word"==e)o="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return S(n,t,"interpolation");if(":"==e)return"pseudo";if(y&&"("==e)return S(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return d.hasOwnProperty(r)?(o="property","maybeprop"):f.hasOwnProperty(r)?(o="string-2","maybeprop"):y?(o=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")}return"meta"==e?"block":y||"hash"!=e&&"qualifier"!=e?I.top(e,t,n):(o="error","block")},maybeprop:function(e,t,n){return":"==e?S(n,t,"prop"):T(e,t,n)},prop:function(e,t,n){if(";"==e)return E(n);if("{"==e&&y)return S(n,t,"propBlock");if("}"==e||"{"==e)return O(e,t,n);if("("==e)return S(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)A(t);else if("interpolation"==e)return S(n,t,"interpolation")}else o+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?E(n):"word"==e?(o="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?O(e,t,n):")"==e?E(n):"("==e?S(n,t,"parens"):"interpolation"==e?S(n,t,"interpolation"):("word"==e&&A(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(o="variable-3",n.context.type):T(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&a.hasOwnProperty(t.current())?(o="tag",n.context.type):I.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return S(n,t,"atBlock_parens");if("}"==e||";"==e)return O(e,t,n);if("{"==e)return E(n)&&S(n,t,y?"block":"top");if("interpolation"==e)return S(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();o="only"==r||"not"==r||"and"==r||"or"==r?"keyword":u.hasOwnProperty(r)?"attribute":c.hasOwnProperty(r)?"property":h.hasOwnProperty(r)?"keyword":d.hasOwnProperty(r)?"property":f.hasOwnProperty(r)?"string-2":v.hasOwnProperty(r)?"atom":g.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?O(e,t,n):"{"==e?E(n)&&S(n,t,y?"block":"top",!1):("word"==e&&(o="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?E(n):"{"==e||"}"==e?O(e,t,n,2):I.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?S(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(o="variable","restricted_atBlock_before"):T(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,E(n)):"word"==e?(o="@font-face"==n.stateArg&&!p.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(o="variable","keyframes"):"{"==e?S(n,t,"top"):T(e,t,n)},at:function(e,t,n){return";"==e?E(n):"{"==e||"}"==e?O(e,t,n):("word"==e?o="tag":"hash"==e&&(o="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?E(n):"{"==e||";"==e?O(e,t,n):("word"==e?o="variable":"variable"!=e&&"("!=e&&")"!=e&&(o="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new k(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||_)(e,t);return n&&"object"==typeof n&&(i=n[1],n=n[0]),o=n,"comment"!=i&&(t.state=I[t.state](i,e,t)),o},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-l)):i=(n=n.prev).indent),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:n.lineComment,fold:"brace"}}));var n=["domain","regexp","url","url-prefix"],r=t(n),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(i),l=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],s=t(l),a=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],u=t(a),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=t(c),d=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=t(d),p=t(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),m=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=t(g),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],b=t(y),w=n.concat(i).concat(l).concat(a).concat(c).concat(d).concat(g).concat(y);function _(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",w),e.defineMIME("text/css",{documentTypes:r,mediaTypes:o,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:m,colorKeywords:v,valueKeywords:b,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=_,_(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=_,_(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=_,_(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:o,mediaFeatures:s,propertyKeywords:h,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:m,colorKeywords:v,valueKeywords:b,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=_,_(e,t))}},name:"css",helperType:"gss"})}(n("VrN/"))},"iQ+w":function(e,t,n){var r,i;"undefined"!=typeof self&&self,void 0===(i="function"==typeof(r=function(){function e(){}e.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},e.prototype.restoreState=function(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx},e.prototype.pattern=function(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");var t=this.disjunction();this.consumeChar("/");for(var n={type:"Flags",global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":s(n,"global");break;case"i":s(n,"ignoreCase");break;case"m":s(n,"multiLine");break;case"u":s(n,"unicode");break;case"y":s(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t}},e.prototype.disjunction=function(){var e=[];for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e}},e.prototype.alternative=function(){for(var e=[];this.isTerm();)e.push(this.term());return{type:"Alternative",value:e}},e.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},e.prototype.assertion=function(){switch(this.popChar()){case"^":return{type:"StartAnchor"};case"$":return{type:"EndAnchor"};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary"};case"B":return{type:"NonWordBoundary"}}throw Error("Invalid Assertion Escape");case"(":var e;switch(this.consumeChar("?"),this.popChar()){case"=":e="Lookahead";break;case"!":e="NegativeLookahead"}a(e);var t=this.disjunction();return this.consumeChar(")"),{type:e,value:t}}!function(){throw Error("Internal Error - Should never get here!")}()},e.prototype.quantifier=function(e){var t;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":var n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":t=this.isDigit()?{atLeast:n,atMost:this.integerIncludingZero()}:{atLeast:n,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;a(t)}if(!0!==e||void 0!==t)return a(t),"?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t},e.prototype.atom=function(){var e;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),a(e),this.isQuantifier()&&(e.quantifier=this.quantifier()),e},e.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o("\n"),o("\r"),o("\u2028"),o("\u2029")]}},e.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.decimalEscapeAtom=function(){return{type:"GroupBackReference",value:this.positiveInteger()}},e.prototype.characterClassEscape=function(){var e,t=!1;switch(this.popChar()){case"d":e=u;break;case"D":e=u,t=!0;break;case"s":e=h;break;case"S":e=h,t=!0;break;case"w":e=c;break;case"W":e=c,t=!0}return a(e),{type:"Set",value:e,complement:t}},e.prototype.controlEscapeAtom=function(){var e;switch(this.popChar()){case"f":e=o("\f");break;case"n":e=o("\n");break;case"r":e=o("\r");break;case"t":e=o("\t");break;case"v":e=o("\v")}return a(e),{type:"Character",value:e}},e.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}},e.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},e.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},e.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},e.prototype.identityEscapeAtom=function(){return{type:"Character",value:o(this.popChar())}},e.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:o(this.popChar())}}},e.prototype.characterClass=function(){var e=[],t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){var n=this.classAtom();if("Character"===n.type&&this.isRangeDash()){this.consumeChar("-");var r=this.classAtom();if("Character"===r.type){if(r.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:r.value})}else l(n.value,e),e.push(o("-")),l(r.value,e)}else l(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}},e.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},e.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.group=function(){var e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++}var t=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n},e.prototype.positiveInteger=function(){var e=this.popChar();if(!1===i.test(e))throw Error("Expecting a positive integer");for(;r.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)},e.prototype.integerIncludingZero=function(){var e=this.popChar();if(!1===r.test(e))throw Error("Expecting an integer");for(;r.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)},e.prototype.patternCharacter=function(){var e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(e)}}},e.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},e.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},e.prototype.isDigit=function(){return r.test(this.peekChar(0))},e.prototype.isClassAtom=function(e){switch(void 0===e&&(e=0),this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},e.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},e.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},e.prototype.isQuantifier=function(){var e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(e)}},e.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.parseHexDigits=function(e){for(var t="",r=0;r<e;r++){var i=this.popChar();if(!1===n.test(i))throw Error("Expecting a HexDecimal digits");t+=i}return{type:"Character",value:parseInt(t,16)}},e.prototype.peekChar=function(e){return void 0===e&&(e=0),this.input[this.idx+e]},e.prototype.popChar=function(){var e=this.peekChar(0);return this.consumeChar(),e},e.prototype.consumeChar=function(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++};var t,n=/[0-9a-fA-F]/,r=/[0-9]/,i=/[1-9]/;function o(e){return e.charCodeAt(0)}function l(e,t){void 0!==e.length?e.forEach((function(e){t.push(e)})):t.push(e)}function s(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t]=!0}function a(e){if(void 0===e)throw Error("Internal Error - Should never get here!")}var u=[];for(t=o("0");t<=o("9");t++)u.push(t);var c=[o("_")].concat(u);for(t=o("a");t<=o("z");t++)c.push(t);for(t=o("A");t<=o("Z");t++)c.push(t);var h=[o(" "),o("\f"),o("\n"),o("\r"),o("\t"),o("\v"),o("\t"),o("\xa0"),o("\u1680"),o("\u2000"),o("\u2001"),o("\u2002"),o("\u2003"),o("\u2004"),o("\u2005"),o("\u2006"),o("\u2007"),o("\u2008"),o("\u2009"),o("\u200a"),o("\u2028"),o("\u2029"),o("\u202f"),o("\u205f"),o("\u3000"),o("\ufeff")];function d(){}return d.prototype.visitChildren=function(e){for(var t in e){var n=e[t];e.hasOwnProperty(t)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((function(e){this.visit(e)}),this))}},d.prototype.visit=function(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)},d.prototype.visitPattern=function(e){},d.prototype.visitFlags=function(e){},d.prototype.visitDisjunction=function(e){},d.prototype.visitAlternative=function(e){},d.prototype.visitStartAnchor=function(e){},d.prototype.visitEndAnchor=function(e){},d.prototype.visitWordBoundary=function(e){},d.prototype.visitNonWordBoundary=function(e){},d.prototype.visitLookahead=function(e){},d.prototype.visitNegativeLookahead=function(e){},d.prototype.visitCharacter=function(e){},d.prototype.visitSet=function(e){},d.prototype.visitGroup=function(e){},d.prototype.visitGroupBackReference=function(e){},d.prototype.visitQuantifier=function(e){},{RegExpParser:e,BaseRegExpVisitor:d,VERSION:"0.4.0"}})?r.apply(t,[]):r)||(e.exports=i)},mrSG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function l(e){setTimeout(()=>{throw e})}const s={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;l(e)},complete(){}},a=Array.isArray||(e=>e&&"number"==typeof e.length);function u(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);const h=c;let d=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:o,_subscriptions:l}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let s=-1,c=i?i.length:0;for(;n;)n.remove(this),n=++s<c&&i[s]||null;if(r(o))try{o.call(this)}catch(d){t=!0,e=d instanceof h?f(d.errors):[d]}if(a(l))for(s=-1,c=l.length;++s<c;){const n=l[s];if(u(n))try{n.unsubscribe()}catch(d){t=!0,e=e||[],d instanceof h?e=e.concat(f(d.errors)):e.push(d)}}if(t)throw new h(e)}add(t){let n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;(n=new e)._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){const e=this._subscriptions;e?e.push(n):this._subscriptions=[n]}return n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function f(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class m extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s;break;case 1:if(!e){this.destination=s;break}if("object"==typeof e){e instanceof m?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,n)}}[p](){return this}static create(e,t,n){const r=new m(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class g extends m{constructor(e,t,n,i){let o;super(),this._parentSubscriber=e;let l=this;r(t)?o=t:t&&(o=t.next,n=t.error,i=t.complete,t!==s&&(r((l=Object.create(t)).unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=o,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):l(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;l(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;l(n)}}__tryOrSetError(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(l(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function b(...e){return w(e)}function w(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:y}let _=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:r}=this,i=function(e,t,n){if(e){if(e instanceof m)return e;if(e[p])return e[p]()}return e||t||n?new m(e,t,n):new m(s)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof m?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=x(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[v](){return this}pipe(...e){return 0===e.length?this:w(e)(this)}toPromise(e){return new(e=x(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function x(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function C(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}C.prototype=Object.create(Error.prototype);const k=C;class S extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class E extends m{constructor(e){super(e),this.destination=e}}let T=(()=>{class e extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new E(this)}lift(e){const t=new O(this,this);return t.operator=e,t}next(e){if(this.closed)throw new k;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new k;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new k;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new k;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new k;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new S(this,e))}asObservable(){const e=new _;return e.source=this,e}}return e.create=(e,t)=>new O(e,t),e})();class O extends T{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function A(e){return e&&"function"==typeof e.schedule}class I extends m{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const N=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},R=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,l),t);function L(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const M=L(),P=e=>t=>{const n=e[M]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},D=e=>t=>{const n=e[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},j=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function F(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const U=e=>{if(e instanceof _)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[v])return D(e);if(j(e))return N(e);if(F(e))return R(e);if(e&&"function"==typeof e[M])return P(e);{const t=u(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function V(e,t,n,r,i=new I(e,n,r)){if(!i.closed)return U(t)(i)}class z extends m{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function H(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new B(e,t))}}class B{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new W(e,this.project,this.thisArg))}}class W extends m{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function $(e,t){return new _(t?n=>{const r=new d;let i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:N(e))}function K(e,t){if(!t)return e instanceof _?e:new _(U(e));if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new _(t?n=>{const r=new d;return r.add(t.schedule(()=>{const i=e[v]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r}:D(e))}(e,t);if(F(e))return function(e,t){return new _(t?n=>{const r=new d;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r}:R(e))}(e,t);if(j(e))return $(e,t);if(function(e){return e&&"function"==typeof e[M]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new _(t?n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[M](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r}:P(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function q(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(q((n,r)=>K(e(n,r)).pipe(H((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new G(e,n)))}class G{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Z(e,this.project,this.concurrent))}}class Z extends z{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new I(this,void 0,void 0);this.destination.add(r),V(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Q(e){return e}function Y(e=Number.POSITIVE_INFINITY){return q(Q,e)}function X(){return function(e){return e.lift(new J(e))}}class J{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new ee(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class ee extends m{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const te=class extends _{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new re(this.getSubject(),this))),e.closed?(this._connection=null,e=d.EMPTY):this._connection=e),e}refCount(){return X()(this)}}.prototype,ne={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:te._subscribe},_isComplete:{value:te._isComplete,writable:!0},getSubject:{value:te.getSubject},connect:{value:te.connect},refCount:{value:te.refCount}};class re extends E{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ie(){return new T}const oe="__parameters__";function le(e,t,n){const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(oe)?e[oe]:Object.defineProperty(e,oe,{value:[]})[oe];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}const se=le("Inject",e=>({token:e})),ae=le("Optional"),ue=le("Self"),ce=le("SkipSelf");var he=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function de(e){for(let t in e)if(e[t]===de)return t;throw Error("Could not find renamed property on target object.")}function fe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pe(e){const t=e[me];return t&&t.token===e?t:null}const me=de({ngInjectableDef:de});function ge(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(ge).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const ve=de({__forward_ref__:de});function ye(e){return e.__forward_ref__=ye,e.toString=function(){return ge(this())},e}function be(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(ve)&&t.__forward_ref__===ye?t():e}const we="undefined"!=typeof globalThis&&globalThis,_e="undefined"!=typeof window&&window,xe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce="undefined"!=typeof global&&global,ke=we||Ce||_e||xe;class Se{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=fe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ee=new Se("INJECTOR",-1),Te=new Object,Oe="ngTempTokenPath",Ae="ngTokenPath",Ie=/\n/gm,Ne="\u0275",Re="__source",Le=de({provide:String,useValue:de});let Me,Pe=void 0;function De(e){const t=Pe;return Pe=e,t}function je(e,t=he.Default){if(void 0===Pe)throw new Error("inject() must be called from an injection context");return null===Pe?function(e,t,n){const r=pe(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&he.Optional)return null;throw new Error(`Injector: NOT_FOUND [${ge(e)}]`)}(e,0,t):Pe.get(e,t&he.Optional?null:void 0,t)}function Fe(e,t=he.Default){return(Me||je)(e,t)}class Ue{get(e,t=Te){if(t===Te){const t=new Error(`NullInjectorError: No provider for ${ge(e)}!`);throw t.name="NullInjectorError",t}return t}}function Ve(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Ne?e.substr(2):e;let i=ge(t);if(t instanceof Array)i=t.map(ge).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):ge(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Ie,"\n  ")}`}class ze{}class He{}function Be(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function We(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const $e=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ke=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ke))(),qe="ngDebugContext",Ge="ngOriginalError",Ze="ngErrorLogger";function Qe(e){return e[qe]}function Ye(e){return e[Ge]}function Xe(e,...t){e.error(...t)}class Je{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[Ze]||Xe}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Qe(e)?Qe(e):this._findContext(Ye(e)):null}_findOriginalError(e){let t=Ye(e);for(;t&&Ye(t);)t=Ye(t);return t}}let et=!0,tt=!1;function nt(){return tt=!0,et}class rt{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const it=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ot=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function lt(e){return(e=String(e)).match(it)||e.match(ot)?e:(nt()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function st(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function at(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const ut=st("area,br,col,hr,img,wbr"),ct=st("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ht=st("rp,rt"),dt=at(ht,ct),ft=at(ut,at(ct,st("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),at(ht,st("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dt),pt=st("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mt=st("srcset"),gt=at(pt,mt,st("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),st("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vt=st("script,style,template");class yt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ft.hasOwnProperty(t))return this.sanitizedSomething=!0,!vt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,o=t.toLowerCase();if(!gt.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let l=e.value;pt[o]&&(l=lt(l)),mt[o]&&(r=l,l=(r=String(r)).split(",").map(e=>lt(e.trim())).join(", ")),this.buf.push(" ",t,'="',_t(l),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ft.hasOwnProperty(t)&&!ut.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(_t(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const bt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wt=/([^\#-~ |!])/g;function _t(e){return e.replace(/&/g,"&amp;").replace(bt,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(wt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xt;function Ct(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const kt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class St{}const Et=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Tt=/^url\(([^)]+)\)$/,Ot=/([A-Z])/g;function At(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let It=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Nt(),e})();const Nt=(...e)=>{},Rt=new Se("The presence of this token marks an injector as being the root injector."),Lt=function(e,t,n){return new Vt(e,t,n)};let Mt=(()=>{class e{static create(e,t){return Array.isArray(e)?Lt(e,t,""):Lt(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Te,e.NULL=new Ue,e.ngInjectableDef=fe({token:e,providedIn:"any",factory:()=>Fe(Ee)}),e.__NG_ELEMENT_ID__=-1,e})();const Pt=function(e){return e},Dt=[],jt=Pt,Ft=function(){return Array.prototype.slice.call(arguments)},Ut="\u0275";class Vt{constructor(e,t=Mt.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(Mt,{token:Mt,fn:Pt,deps:Dt,value:this,useNew:!1}),r.set(Ee,{token:Ee,fn:Pt,deps:Dt,value:this,useNew:!1}),function e(t,n){if(n)if((n=be(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Ht("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ht("Unexpected provider",n);{let e=be(n.provide);const r=function(e){const t=function(e){let t=Dt;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,i=be(n[e]);if(i instanceof Array)for(let e=0,t=i;e<t.length;e++){const n=t[e];n instanceof ae||n==ae?r|=1:n instanceof ce||n==ce?r&=-3:n instanceof ue||n==ue?r&=-5:i=n instanceof se?n.token:be(n)}t.push({token:i,options:r})}}else if(e.useExisting)t=[{token:be(e.useExisting),options:6}];else if(!(n||Le in e))throw Ht("'deps' required",e);return t}(e);let n=Pt,r=Dt,i=!1,o=be(e.provide);if(Le in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=be(e.useClass);else{if("function"!=typeof o)throw Ht("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==Ft)throw zt(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:Ft,value:Dt});r.deps.push({token:e=n,options:6})}const i=t.get(e);if(i&&i.fn==Ft)throw zt(e);t.set(e,r)}}}(r,e)}get(e,t,n=he.Default){const r=this._records.get(e);try{return function e(t,n,r,i,o,l){try{return function(t,n,r,i,o,l){let s;if(!n||l&he.SkipSelf)l&he.Self||(s=i.get(t,o,he.Default));else{if((s=n.value)==jt)throw Error(Ut+"Circular dependency");if(s===Dt){n.value=jt;let t=void 0,o=n.useNew,l=n.fn,a=n.deps,u=Dt;if(a.length){u=[];for(let t=0;t<a.length;t++){const n=a[t],o=n.options,l=2&o?r.get(n.token):void 0;u.push(e(n.token,l,r,l||4&o?i:Mt.NULL,1&o?null:Mt.THROW_IF_NOT_FOUND,he.Default))}}n.value=s=o?new l(...u):l.apply(t,u)}}return s}(t,n,r,i,o,l)}catch(s){throw s instanceof Error||(s=new Error(s)),(s[Oe]=s[Oe]||[]).unshift(t),n&&n.value==jt&&(n.value=Dt),s}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){const i=e[Oe];throw t[Re]&&i.unshift(t[Re]),e.message=Ve("\n"+e.message,i,"StaticInjectorError",r),e[Ae]=i,e[Oe]=null,e}(i,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(ge(n))),`StaticInjector[${e.join(", ")}]`}}function zt(e){return Ht("Cannot mix multi providers and regular providers",e)}function Ht(e,t){return new Error(Ve(e,t,"StaticInjectorError"))}const Bt=new Se("AnalyzeForEntryComponents");let Wt=null;function $t(){if(!Wt){const e=ke.Symbol;if(e&&e.iterator)Wt=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Wt=n)}}}return Wt}function Kt(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function qt(e,t){const n=Zt(e),r=Zt(t);if(n&&r)return function(e,t,n){const r=e[$t()](),i=t[$t()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,qt);{const i=e&&("object"==typeof e||"function"==typeof e),o=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!o)||Kt(e,t)}}class Gt{constructor(e){this.wrapped=e}static wrap(e){return new Gt(e)}static unwrap(e){return Gt.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Gt}}function Zt(e){return!!Qt(e)&&(Array.isArray(e)||!(e instanceof Map)&&$t()in e)}function Qt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Yt(e){return!!e&&"function"==typeof e.then}function Xt(e){return!!e&&"function"==typeof e.subscribe}class Jt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class en{}class tn{}function nn(e){const t=Error(`No component factory found for ${ge(e)}. Did you add it to @NgModule.entryComponents?`);return t[rn]=e,t}const rn="ngComponent";class on{resolveComponentFactory(e){throw nn(e)}}let ln=(()=>{class e{}return e.NULL=new on,e})();class sn{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw nn(e);return new an(t,this._ngModule)}}class an extends tn{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function un(...e){}let cn=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>hn(e),e})();const hn=un;class dn{}class fn{}const pn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let mn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>gn(),e})();const gn=un;class vn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yn=new vn("8.2.10");class bn{constructor(){}supports(e){return Zt(e)}create(e){return new _n(e)}}const wn=(e,t)=>t;class _n{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||wn}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<Sn(n,r,i)?t:n,l=Sn(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=l-r,t=s-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}l!==s&&e(o,l,s)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Zt(e))throw new Error(`Error trying to diff '${ge(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)r=this._trackByFn(t,n=e[t]),null!==i&&Kt(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),Kt(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[$t()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Kt(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),Kt(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Kt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Kt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new xn(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new kn),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class xn{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cn{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Kt(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class kn{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Cn,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sn(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class En{constructor(){}supports(e){return e instanceof Map||Qt(e)}create(){return new Tn}}class Tn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Qt(e)))throw new Error(`Error trying to diff '${ge(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new On(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Kt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class On{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let An=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new ae]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=fe({token:e,providedIn:"root",factory:()=>new e([new bn])}),e})(),In=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new ae]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=fe({token:e,providedIn:"root",factory:()=>new e([new En])}),e})();const Nn=[new En],Rn=new An([new bn]),Ln=new In(Nn);let Mn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Pn(e,cn),e})();const Pn=un;let Dn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>jn(e,cn),e})();const jn=un;function Fn(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Un(n,t),n}(i,e)}function Un(e,t){e[qe]=t,e[Ze]=t.logError.bind(t)}function Vn(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function zn(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Hn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Bn(e,t){return e.nodes[t]}function Wn(e,t){return e.nodes[t]}function $n(e,t){return e.nodes[t]}function Kn(e,t){return e.nodes[t]}function qn(e,t){return e.nodes[t]}const Gn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Zn=()=>{},Qn=new Map;function Yn(e){let t=Qn.get(e);return t||(t=ge(e)+"_"+Qn.size,Qn.set(e,t)),t}const Xn="$$undefined",Jn="$$empty";function er(e){return{id:Xn,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let tr=0;function nr(e,t,n,r){return!(!(2&e.state)&&Kt(e.oldValues[t.bindingIndex+n],r))}function rr(e,t,n,r){return!!nr(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function ir(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!qt(i,r)){const o=t.bindings[n].name;throw Fn(Gn.createDebugContext(e,t.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&e.state))}}function or(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function lr(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function sr(e,t,n,r){try{return or(33554432&e.def.nodes[t].flags?Wn(e,t).componentView:e),Gn.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function ar(e){return e.parent?Wn(e.parent,e.parentNodeDef.nodeIndex):null}function ur(e){return e.parent?e.parentNodeDef.parent:null}function cr(e,t){switch(201347067&t.flags){case 1:return Wn(e,t.nodeIndex).renderElement;case 2:return Bn(e,t.nodeIndex).renderText}}function hr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function dr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function fr(e){return 1<<e%32}function pr(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=fr(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function mr(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,Re,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:Yn(n)}})}function gr(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===$e.Native?Wn(e,n.renderParent.nodeIndex).renderElement:void 0:t}const vr=new WeakMap;function yr(e){let t=vr.get(e);return t||((t=e(()=>Zn)).factory=e,vr.set(e,t)),t}function br(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(cr(e,e.def.lastRenderRootNode))),wr(e,t,0,e.def.nodes.length-1,n,r,i)}function wr(e,t,n,r,i,o,l){for(let s=n;s<=r;s++){const n=e.def.nodes[s];11&n.flags&&xr(e,n,t,i,o,l),s+=n.childCount}}function _r(e,t,n,r,i,o){let l=e;for(;l&&!hr(l);)l=l.parent;const s=l.parent,a=ur(l),u=a.nodeIndex+a.childCount;for(let c=a.nodeIndex+1;c<=u;c++){const e=s.def.nodes[c];e.ngContentIndex===t&&xr(s,e,n,r,i,o),c+=e.childCount}if(!s.parent){const l=e.root.projectableNodes[t];if(l)for(let t=0;t<l.length;t++)Cr(e,l[t],n,r,i,o)}}function xr(e,t,n,r,i,o){if(8&t.flags)_r(e,t.ngContent.index,n,r,i,o);else{const l=cr(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Cr(e,l,n,r,i,o),32&t.bindingFlags&&Cr(Wn(e,t.nodeIndex).componentView,l,n,r,i,o)):Cr(e,l,n,r,i,o),16777216&t.flags){const l=Wn(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<l.length;e++)br(l[e],n,r,i,o)}1&t.flags&&!t.element.name&&wr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Cr(e,t,n,r,i,o){const l=e.renderer;switch(n){case 1:l.appendChild(r,t);break;case 2:l.insertBefore(r,t,i);break;case 3:l.removeChild(r,t);break;case 0:o.push(t)}}const kr=/^:([^:]+):(.+)$/;function Sr(e){if(":"===e[0]){const t=e.match(kr);return[t[1],t[2]]}return["",e]}function Er(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Tr(e,t,n,r,i,o,l,s,a,u,c,h,d,f,p,m,g,v,y,b){switch(e){case 1:return t+Or(n)+r;case 2:return t+Or(n)+r+Or(i)+o;case 3:return t+Or(n)+r+Or(i)+o+Or(l)+s;case 4:return t+Or(n)+r+Or(i)+o+Or(l)+s+Or(a)+u;case 5:return t+Or(n)+r+Or(i)+o+Or(l)+s+Or(a)+u+Or(c)+h;case 6:return t+Or(n)+r+Or(i)+o+Or(l)+s+Or(a)+u+Or(c)+h+Or(d)+f;case 7:return t+Or(n)+r+Or(i)+o+Or(l)+s+Or(a)+u+Or(c)+h+Or(d)+f+Or(p)+m;case 8:return t+Or(n)+r+Or(i)+o+Or(l)+s+Or(a)+u+Or(c)+h+Or(d)+f+Or(p)+m+Or(g)+v;case 9:return t+Or(n)+r+Or(i)+o+Or(l)+s+Or(a)+u+Or(c)+h+Or(d)+f+Or(p)+m+Or(g)+v+Or(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function Or(e){return null!=e?e.toString():""}const Ar=new Object,Ir=Yn(Mt),Nr=Yn(Ee),Rr=Yn(ze);function Lr(e,t,n,r){return n=be(n),{index:-1,deps:mr(r,ge(t)),flags:e,token:t,value:n}}function Mr(e,t,n=Mt.THROW_IF_NOT_FOUND){const r=De(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const l=t.tokenKey;switch(l){case Ir:case Nr:case Rr:return e}const s=e._def.providersByKey[l];let a;if(s){let t=e._providers[s.index];return void 0===t&&(t=e._providers[s.index]=Pr(e,s)),t===Ar?void 0:t}if((a=pe(t.token))&&(i=e,null!=(o=a).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:t.token},e._providers[n]=Ar,e._providers[n]=Pr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{De(r)}var i,o}function Pr(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(Mr(e,n[0]));case 2:return new t(Mr(e,n[0]),Mr(e,n[1]));case 3:return new t(Mr(e,n[0]),Mr(e,n[1]),Mr(e,n[2]));default:const i=new Array(r);for(let t=0;t<r;t++)i[t]=Mr(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(Mr(e,n[0]));case 2:return t(Mr(e,n[0]),Mr(e,n[1]));case 3:return t(Mr(e,n[0]),Mr(e,n[1]),Mr(e,n[2]));default:const i=Array(r);for(let t=0;t<r;t++)i[t]=Mr(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=Mr(e,t.deps[0]);break;case 256:n=t.value}return n===Ar||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Ar:n}function Dr(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,We(n,t),Gn.dirtyParentQueries(r),Fr(r),r}function jr(e,t,n){const r=t?cr(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);br(n,2,i,o,void 0)}function Fr(e){br(e,3,null,null,void 0)}const Ur=new Object;function Vr(e,t,n,r,i,o){return new zr(e,t,n,r,i,o)}class zr extends tn{constructor(e,t,n,r,i,o){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=yr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,l=Gn.createRootView(e,t||[],n,i,r,Ur),s=$n(l,o).instance;return n&&l.renderer.setAttribute(Wn(l,0).renderElement,"ng-version",yn.full),new Hr(l,new Kr(l),s)}}class Hr extends en{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new cn(Wn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Qr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Br(e,t,n){return new Wr(e,t,n)}class Wr{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new cn(this._data.renderElement)}get injector(){return new Qr(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=ur(e),e=e.parent;return e?new Qr(e,t):new Qr(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Dr(this._data,e);Gn.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Kr(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;i||e instanceof an||(i=o.get(ze));const l=e.create(o,r,void 0,i);return this.insert(l.hostView,t),l}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,Be(i,n,r),function(e,t){const n=ar(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),Gn.dirtyParentQueries(r),jr(t,n>0?i[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];We(r,t),null==n&&(n=r.length),Be(r,n,i),Gn.dirtyParentQueries(i),Fr(i),jr(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Dr(this._data,e);t&&Gn.destroyView(t)}detach(e){const t=Dr(this._data,e);return t?new Kr(t):null}}function $r(e){return new Kr(e)}class Kr{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return br(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){or(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Gn.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Gn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Gn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Fr(this._view),Gn.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function qr(e,t){return new Gr(e,t)}class Gr extends Mn{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Kr(Gn.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new cn(Wn(this._parentView,this._def.nodeIndex).renderElement)}}function Zr(e,t){return new Qr(e,t)}class Qr{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Mt.THROW_IF_NOT_FOUND){return Gn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Yn(e)},t)}}function Yr(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=Wn(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return Bn(e,n.nodeIndex).renderText;if(20240&n.flags)return $n(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function Xr(e){return new Jr(e.renderer)}class Jr{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=Sr(t),i=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,i),i}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,i]=Sr(t);null!=n?this.delegate.setAttribute(e,i,n,r):this.delegate.removeAttribute(e,i,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function ei(e,t,n,r){return new ti(e,t,n,r)}class ti{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Pr(e,i))}}(this)}get(e,t=Mt.THROW_IF_NOT_FOUND,n=he.Default){let r=0;return n&he.SkipSelf?r|=1:n&he.Self&&(r|=4),Mr(this,{token:e,tokenKey:Yn(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ln)}destroy(){if(this._destroyed)throw new Error(`The ng module ${ge(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==Ar){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const ni=Yn(dn),ri=Yn(mn),ii=Yn(cn),oi=Yn(Dn),li=Yn(Mn),si=Yn(It),ai=Yn(Mt),ui=Yn(Ee);function ci(e,t,n,r,i,o,l,s){const a=[];if(l)for(let c in l){const[e,t]=l[c];a[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const u=[];if(s)for(let c in s)u.push({type:1,propName:c,target:null,eventName:s[c]});return di(e,t|=16384,n,r,i,i,o,a,u)}function hi(e,t,n,r,i){return di(-1,e,t,0,n,r,i)}function di(e,t,n,r,i,o,l,s,a){const{matchedQueries:u,references:c,matchedQueryIds:h}=pr(n);a||(a=[]),s||(s=[]),o=be(o);const d=mr(l,ge(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Er(s),outputs:a,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function fi(e,t){return vi(e,t)}function pi(e,t){let n=e;for(;n.parent&&!hr(n);)n=n.parent;return yi(n.parent,ur(n),!0,t.provider.value,t.provider.deps)}function mi(e,t){const n=yi(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const i=t.outputs[r],o=n[i.propName];if(!Xt(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(gi(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function gi(e,t,n){return r=>sr(e,t,n,r)}function vi(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return yi(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(wi(e,t,n,i[0]));case 2:return r(wi(e,t,n,i[0]),wi(e,t,n,i[1]));case 3:return r(wi(e,t,n,i[0]),wi(e,t,n,i[1]),wi(e,t,n,i[2]));default:const l=Array(o);for(let r=0;r<o;r++)l[r]=wi(e,t,n,i[r]);return r(...l)}}(e,t.parent,n,r.value,r.deps);case 2048:return wi(e,t.parent,n,r.deps[0]);case 256:return r.value}}function yi(e,t,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(wi(e,t,n,i[0]));case 2:return new r(wi(e,t,n,i[0]),wi(e,t,n,i[1]));case 3:return new r(wi(e,t,n,i[0]),wi(e,t,n,i[1]),wi(e,t,n,i[2]));default:const l=new Array(o);for(let r=0;r<o;r++)l[r]=wi(e,t,n,i[r]);return new r(...l)}}const bi={};function wi(e,t,n,r,i=Mt.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=e;2&r.flags&&(i=null);const l=r.tokenKey;l===si&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let s=e;for(;s;){if(t)switch(l){case ni:return Xr(_i(s,t,n));case ri:return _i(s,t,n).renderer;case ii:return new cn(Wn(s,t.nodeIndex).renderElement);case oi:return Wn(s,t.nodeIndex).viewContainer;case li:if(t.element.template)return Wn(s,t.nodeIndex).template;break;case si:return $r(_i(s,t,n));case ai:case ui:return Zr(s,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[l];if(e){let t=$n(s,e.nodeIndex);return t||(t={instance:vi(s,e)},s.nodes[e.nodeIndex]=t),t.instance}}n=hr(s),t=ur(s),s=s.parent,4&r.flags&&(s=null)}const a=o.root.injector.get(r.token,bi);return a!==bi||i===bi?a:o.root.ngModule.injector.get(r.token,i)}function _i(e,t,n){let r;if(n)r=Wn(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!hr(r);)r=r.parent;return r}function xi(e,t,n,r,i,o){if(32768&n.flags){const t=Wn(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const t=Gt.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Jt(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Ci(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let l=o.parent;for(!l&&o.flags&t&&Si(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);l&&1&l.flags&&i===l.nodeIndex+l.childCount;)l.directChildFlags&t&&(r=ki(e,l,t,r)),l=l.parent}}function ki(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&Si(e,i,t.flags&n,r++),i+=t.childCount}return r}function Si(e,t,n,r){const i=$n(e,t);if(!i)return;const o=i.instance;o&&(Gn.setCurrentNode(e,t),1048576&n&&Hn(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Hn(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const Ei=new Se("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ke}),Ti={},Oi=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Ai=void 0;var Ii=["en",[["a","p"],["AM","PM"],Ai],[["AM","PM"],Ai,Ai],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ai,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ai,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ai,"{1} 'at' {0}",Ai],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];const Ni="en-US";let Ri=Ni;function Li(e){var t;t="Expected localeId to be defined",null==e&&function(e){throw new Error(`ASSERTION ERROR: ${e}`)}(t),"string"==typeof e&&(Ri=e.toLowerCase().replace(/_/g,"-"))}class Mi extends T{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,i=e=>null,o=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(i=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(o=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const l=super.subscribe(r,i,o);return e instanceof d&&e.add(l),l}}function Pi(){return this._results[$t()]()}class Di{constructor(){this.dirty=!0,this._results=[],this.changes=new Mi,this.length=0;const e=$t(),t=Di.prototype;t[e]||(t[e]=Pi)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const ji=new Se("Application Initializer");class Fi{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Yt(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const Ui=new Se("AppId");function Vi(){return`${zi()}${zi()}${zi()}`}function zi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hi=new Se("Platform Initializer"),Bi=new Se("Platform ID"),Wi=new Se("appBootstrapListener");class $i{log(e){console.log(e)}warn(e){console.warn(e)}}const Ki=new Se("LocaleId"),qi=!1;function Gi(){throw new Error("Runtime compiler is not loaded")}const Zi=Gi,Qi=Gi,Yi=Gi,Xi=Gi;class Ji{constructor(){this.compileModuleSync=Zi,this.compileModuleAsync=Qi,this.compileModuleAndAllComponentsSync=Yi,this.compileModuleAndAllComponentsAsync=Xi}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class eo{}let to,no;function ro(){const e=ke.wtf;return!(!e||!(to=e.trace)||(no=to.events,0))}const io=ro();function oo(e,t){return null}const lo=io?function(e,t=null){return no.createScope(e,t)}:(e,t)=>oo,so=io?function(e,t){return to.leaveScope(e,t),t}:(e,t)=>t,ao=(()=>Promise.resolve(0))();function uo(e){"undefined"==typeof Zone?ao.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class co{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mi(!1),this.onMicrotaskEmpty=new Mi(!1),this.onStable=new Mi(!1),this.onError=new Mi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,i,o,l)=>{try{return mo(t),e.invokeTask(r,i,o,l)}finally{go(t)}},onInvoke:(e,n,r,i,o,l,s)=>{try{return mo(t),e.invoke(r,i,o,l,s)}finally{go(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,po(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!co.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(co.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,fo,ho,ho);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function ho(){}const fo={};function po(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mo(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function go(e){e._nesting--,po(e)}class vo{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mi,this.onMicrotaskEmpty=new Mi,this.onStable=new Mi,this.onError=new Mi}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class yo{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{co.assertNotInAngularZone(),uo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uo(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class bo{constructor(){this._applications=new Map,xo.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return xo.findTestabilityInTree(this,e,t)}}class wo{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let _o,xo=new wo,Co=function(e,t,n){return e.get(eo).createCompiler([t]).compileModuleAsync(n)},ko=function(e){return e instanceof an};const So=new Se("AllowMultipleToken");class Eo{constructor(e,t){this.name=e,this.token=t}}function To(e,t,n=[]){const r=`Platform: ${t}`,i=new Se(r);return(t=[])=>{let o=Oo();if(!o||o.injector.get(So,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(_o&&!_o.destroyed&&!_o.injector.get(So,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_o=e.get(Ao);const t=e.get(Hi,null);t&&t.forEach(e=>e())}(Mt.create({providers:e,name:r}))}return function(e){const t=Oo();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Oo(){return _o&&!_o.destroyed?_o:null}class Ao{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(i=t?t.ngZone:void 0)?new vo:("zone.js"===i?void 0:i)||new co({enableLongStackTrace:nt()}),r=[{provide:co,useValue:n}];var i;return n.run(()=>{const t=Mt.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(Je,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return qi&&Li(i.injector.get(Ki,Ni)||Ni),i.onDestroy(()=>Ro(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{o.handleError(e)}})),function(e,t,n){try{const r=n();return Yt(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(Fi);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Io({},t);return Co(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(No);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ge(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Io(e,t){return Array.isArray(t)?t.reduce(Io,e):Object.assign({},e,t)}let No=(()=>{class e{constructor(e,t,n,r,i,o){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=nt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new _(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),s=new _(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{co.assertNotInAngularZone(),uo(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{co.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return A(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof _?e[0]:Y(t)($(e,n))}(l,s.pipe(e=>X()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,ne);return r.source=t,r.subjectFactory=n,r}}(ie)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof tn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=ko(n)?null:this._injector.get(ze),i=n.create(Mt.NULL,[],t||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(yo,null);return o&&i.injector.get(bo).registerApplication(i.location.nativeElement,o),this._loadComponent(i),nt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,so(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Ro(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Wi,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Ro(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=lo("ApplicationRef#tick()"),e})();function Ro(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Lo{}const Mo="#",Po="NgFactory";class Do{}const jo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Fo{constructor(e,t){this._compiler=e,this._config=t||jo}load(e){return!qi&&this._compiler instanceof Ji?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split(Mo);return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>Uo(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split(Mo),i=Po;return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Uo(e,t,r))}}function Uo(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class Vo{constructor(e,t){this.name=e,this.callback=t}}class zo{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Ho&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Ho extends zo{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof Ho&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof Ho&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof Ho&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof Ho)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const Bo=new Map,Wo=function(e){return Bo.get(e)||null};function $o(e){Bo.set(e.nativeNode,e)}const Ko=To(null,"core",[{provide:Bi,useValue:"unknown"},{provide:Ao,deps:[Mt]},{provide:bo,deps:[]},{provide:$i,deps:[]}]);function qo(){return Rn}function Go(){return Ln}function Zo(e){return e?(qi&&Li(e),e):Ni}function Qo(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class Yo{constructor(e){}}function Xo(e,t,n,r,i,o){e|=1;const{matchedQueries:l,references:s,matchedQueryIds:a}=pr(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:a,references:s,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?yr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Zn},provider:null,text:null,query:null,ngContent:null}}function Jo(e,t,n,r,i,o,l=[],s,a,u,c,h){u||(u=Zn);const{matchedQueries:d,references:f,matchedQueryIds:p}=pr(n);let m=null,g=null;o&&([m,g]=Sr(o)),s=s||[];const v=new Array(s.length);for(let w=0;w<s.length;w++){const[e,t,n]=s[w],[r,i]=Sr(t);let o=void 0,l=void 0;switch(15&e){case 4:l=n;break;case 1:case 8:o=n}v[w]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:l}}a=a||[];const y=new Array(a.length);for(let w=0;w<a.length;w++){const[e,t]=a[w];y[w]={type:0,target:e,eventName:t,propName:null}}const b=(l=l||[]).map(([e,t])=>{const[n,r]=Sr(e);return[n,r,t]});return h=function(e){if(e&&e.id===Xn){const t=null!=e.encapsulation&&e.encapsulation!==$e.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${tr++}`:Jn}return e&&e.id===Jn&&(e=null),e||null}(h),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:Er(v),outputs:y,element:{ns:m,name:g,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Zn},provider:null,text:null,query:null,ngContent:null}}function el(e,t,n){const r=n.element,i=e.root.selectorOrNode,o=e.renderer;let l;if(e.parent||!i){l=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=gr(e,t,n);i&&o.appendChild(i,l)}else l=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===$e.ShadowDom);if(r.attrs)for(let s=0;s<r.attrs.length;s++){const[e,t,n]=r.attrs[s];o.setAttribute(l,t,n,e)}return l}function tl(e,t,n,r){for(let l=0;l<n.outputs.length;l++){const s=n.outputs[l],a=nl(e,n.nodeIndex,(o=s.eventName,(i=s.target)?`${i}:${o}`:o));let u=s.target,c=e;"component"===s.target&&(u=null,c=t);const h=c.renderer.listen(u||r,s.eventName,a);e.disposables[n.outputIndex+l]=h}var i,o}function nl(e,t,n){return r=>sr(e,t,n,r)}function rl(e,t,n,r){if(!rr(e,t,n,r))return!1;const i=t.bindings[n],o=Wn(e,t.nodeIndex),l=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){const l=t.securityContext;let s=l?e.root.sanitizer.sanitize(l,o):o;s=null!=s?s.toString():null;const a=e.renderer;null!=o?a.setAttribute(n,i,s,r):a.removeAttribute(n,i,r)}(e,i,l,i.ns,s,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,l,s,r);break;case 4:!function(e,t,n,r,i){let o=e.root.sanitizer.sanitize(kt.STYLE,i);if(null!=o){o=o.toString();const e=t.suffix;null!=e&&(o+=e)}else o=null;const l=e.renderer;null!=o?l.setStyle(n,r,o):l.removeStyle(n,r)}(e,i,l,s,r);break;case 8:!function(e,t,n,r,i){const o=t.securityContext;let l=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,l)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,l,s,r)}return!0}function il(e,t,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:fr(t),bindings:r},ngContent:null}}function ol(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&dr(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&qn(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&qn(e,n).setDirty(),n+=t.childCount}}function ll(e,t){const n=qn(e,t.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&t.flags){const n=t.parent.parent;i=sl(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=$n(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=sl(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);const o=t.query.bindings;let l=!1;for(let s=0;s<o.length;s++){const e=o[s];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,l=!0}r[e.propName]=t}l&&n.notifyOnChanges()}function sl(e,t,n,r,i){for(let o=t;o<=n;o++){const t=e.def.nodes[o],n=t.matchedQueries[r.id];if(null!=n&&i.push(al(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Wn(e,o);if((t.childMatchedQueries&r.filterId)===r.filterId&&(sl(e,o+1,o+t.childCount,r,i),o+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const o=e[t],l=ar(o);l&&l===n&&sl(o,0,o.def.nodes.length-1,r,i)}}const l=n.template._projectedViews;if(l)for(let e=0;e<l.length;e++){const t=l[e];sl(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(o+=t.childCount)}return i}function al(e,t,n){if(null!=n)switch(n){case 1:return Wn(e,t.nodeIndex).renderElement;case 0:return new cn(Wn(e,t.nodeIndex).renderElement);case 2:return Wn(e,t.nodeIndex).template;case 3:return Wn(e,t.nodeIndex).viewContainer;case 4:return $n(e,t.nodeIndex).instance}}function ul(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function cl(e,t,n){const r=gr(e,t,n);r&&_r(e,n.ngContent.index,1,r,null,void 0)}function hl(e,t){return fl(32,e,new Array(t))}function dl(e,t){const n=Object.keys(t),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const e=n[o];i[t[e]]=e}return fl(64,e,i)}function fl(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const e=n[i];r[i]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Er(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function pl(e,t,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function ml(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const o=gr(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function gl(e,t){return(null!=e?e.toString():"")+t.suffix}function vl(e,t,n,r){let i=0,o=0,l=0,s=0,a=0,u=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<t.length;p++){const e=t[p];if(e.nodeIndex=p,e.parent=u,e.bindingIndex=i,e.outputIndex=o,e.renderParent=c,l|=e.flags,a|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=u?u.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(a|=e.element.template.nodeMatchedQueries)}if(bl(u,e,t.length),i+=e.bindings.length,o+=e.outputs.length,!c&&3&e.flags&&(f=e),20224&e.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?u.element.publicProviders[Yn(e.provider.token)]=e:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Yn(e.provider.token)]=e),t&&(u.element.componentProvider=e)}if(u?(u.childFlags|=e.flags,u.directChildFlags|=e.flags,u.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(u.childMatchedQueries|=e.element.template.nodeMatchedQueries)):s|=e.flags,e.childCount>0)u=e,yl(e)||(c=e);else for(;u&&p===u.nodeIndex+u.childCount;){const e=u.parent;e&&(e.childFlags|=u.childFlags,e.childMatchedQueries|=u.childMatchedQueries),c=(u=e)&&yl(u)?u.renderParent:u}}return{factory:null,nodeFlags:l,rootNodeFlags:s,nodeMatchedQueries:a,flags:e,nodes:t,updateDirectives:n||Zn,updateRenderer:r||Zn,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function yl(e){return 0!=(1&e.flags)&&null===e.element.name}function bl(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function wl(e,t,n,r){const i=Cl(e.root,e.renderer,e,t,n);return kl(i,e.component,r),Sl(i),i}function _l(e,t,n){const r=Cl(e,e.renderer,null,null,t);return kl(r,n,n),Sl(r),r}function xl(e,t,n,r){const i=t.element.componentRendererType;let o;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,Cl(e.root,o,e,t.element.componentProvider,n)}function Cl(e,t,n,r,i){const o=new Array(i.nodes.length),l=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:l,initIndex:-1}}function kl(e,t,n){e.component=t,e.context=n}function Sl(e){let t;hr(e)&&(t=Wn(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let l;switch(Gn.setCurrentNode(e,i),201347067&o.flags){case 1:const n=el(e,t,o);let s=void 0;if(33554432&o.flags){const t=yr(o.element.componentView);s=Gn.createComponentView(e,o,t,n)}tl(e,s,o,n),l={renderElement:n,componentView:s,viewContainer:null,template:o.element.template?qr(e,o):void 0},16777216&o.flags&&(l.viewContainer=Br(e,o,l));break;case 2:l=ml(e,t,o);break;case 512:case 1024:case 2048:case 256:(l=r[i])||4096&o.flags||(l={instance:fi(e,o)});break;case 16:l={instance:pi(e,o)};break;case 16384:(l=r[i])||(l={instance:mi(e,o)}),32768&o.flags&&kl(Wn(e,o.parent.nodeIndex).componentView,l.instance,l.instance);break;case 32:case 64:case 128:l={value:void 0};break;case 67108864:case 134217728:l=new Di;break;case 8:cl(e,t,o),l=void 0}r[i]=l}Ml(e,Ll.CreateViewNodes),Fl(e,201326592,268435456,0)}function El(e){Al(e),Gn.updateDirectives(e,1),Pl(e,Ll.CheckNoChanges),Gn.updateRenderer(e,1),Ml(e,Ll.CheckNoChanges),e.state&=-97}function Tl(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,zn(e,0,256),Al(e),Gn.updateDirectives(e,0),Pl(e,Ll.CheckAndUpdate),Fl(e,67108864,536870912,0);let t=zn(e,256,512);Ci(e,2097152|(t?1048576:0)),Gn.updateRenderer(e,0),Ml(e,Ll.CheckAndUpdate),Fl(e,134217728,536870912,0),Ci(e,8388608|((t=zn(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,zn(e,768,1024)}function Ol(e,t,n,r,i,o,l,s,a,u,c,h,d){return 0===n?function(e,t,n,r,i,o,l,s,a,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,l,s,a,u,c,h){const d=t.bindings.length;let f=!1;return d>0&&rl(e,t,0,n)&&(f=!0),d>1&&rl(e,t,1,r)&&(f=!0),d>2&&rl(e,t,2,i)&&(f=!0),d>3&&rl(e,t,3,o)&&(f=!0),d>4&&rl(e,t,4,l)&&(f=!0),d>5&&rl(e,t,5,s)&&(f=!0),d>6&&rl(e,t,6,a)&&(f=!0),d>7&&rl(e,t,7,u)&&(f=!0),d>8&&rl(e,t,8,c)&&(f=!0),d>9&&rl(e,t,9,h)&&(f=!0),f}(e,t,n,r,i,o,l,s,a,u,c,h);case 2:return function(e,t,n,r,i,o,l,s,a,u,c,h){let d=!1;const f=t.bindings,p=f.length;if(p>0&&rr(e,t,0,n)&&(d=!0),p>1&&rr(e,t,1,r)&&(d=!0),p>2&&rr(e,t,2,i)&&(d=!0),p>3&&rr(e,t,3,o)&&(d=!0),p>4&&rr(e,t,4,l)&&(d=!0),p>5&&rr(e,t,5,s)&&(d=!0),p>6&&rr(e,t,6,a)&&(d=!0),p>7&&rr(e,t,7,u)&&(d=!0),p>8&&rr(e,t,8,c)&&(d=!0),p>9&&rr(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;p>0&&(d+=gl(n,f[0])),p>1&&(d+=gl(r,f[1])),p>2&&(d+=gl(i,f[2])),p>3&&(d+=gl(o,f[3])),p>4&&(d+=gl(l,f[4])),p>5&&(d+=gl(s,f[5])),p>6&&(d+=gl(a,f[6])),p>7&&(d+=gl(u,f[7])),p>8&&(d+=gl(c,f[8])),p>9&&(d+=gl(h,f[9]));const m=Bn(e,t.nodeIndex).renderText;e.renderer.setValue(m,d)}return d}(e,t,n,r,i,o,l,s,a,u,c,h);case 16384:return function(e,t,n,r,i,o,l,s,a,u,c,h){const d=$n(e,t.nodeIndex),f=d.instance;let p=!1,m=void 0;const g=t.bindings.length;return g>0&&nr(e,t,0,n)&&(p=!0,m=xi(e,d,t,0,n,m)),g>1&&nr(e,t,1,r)&&(p=!0,m=xi(e,d,t,1,r,m)),g>2&&nr(e,t,2,i)&&(p=!0,m=xi(e,d,t,2,i,m)),g>3&&nr(e,t,3,o)&&(p=!0,m=xi(e,d,t,3,o,m)),g>4&&nr(e,t,4,l)&&(p=!0,m=xi(e,d,t,4,l,m)),g>5&&nr(e,t,5,s)&&(p=!0,m=xi(e,d,t,5,s,m)),g>6&&nr(e,t,6,a)&&(p=!0,m=xi(e,d,t,6,a,m)),g>7&&nr(e,t,7,u)&&(p=!0,m=xi(e,d,t,7,u,m)),g>8&&nr(e,t,8,c)&&(p=!0,m=xi(e,d,t,8,c,m)),g>9&&nr(e,t,9,h)&&(p=!0,m=xi(e,d,t,9,h,m)),m&&f.ngOnChanges(m),65536&t.flags&&Hn(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),p}(e,t,n,r,i,o,l,s,a,u,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,l,s,a,u,c,h){const d=t.bindings;let f=!1;const p=d.length;if(p>0&&rr(e,t,0,n)&&(f=!0),p>1&&rr(e,t,1,r)&&(f=!0),p>2&&rr(e,t,2,i)&&(f=!0),p>3&&rr(e,t,3,o)&&(f=!0),p>4&&rr(e,t,4,l)&&(f=!0),p>5&&rr(e,t,5,s)&&(f=!0),p>6&&rr(e,t,6,a)&&(f=!0),p>7&&rr(e,t,7,u)&&(f=!0),p>8&&rr(e,t,8,c)&&(f=!0),p>9&&rr(e,t,9,h)&&(f=!0),f){const f=Kn(e,t.nodeIndex);let m;switch(201347067&t.flags){case 32:m=new Array(d.length),p>0&&(m[0]=n),p>1&&(m[1]=r),p>2&&(m[2]=i),p>3&&(m[3]=o),p>4&&(m[4]=l),p>5&&(m[5]=s),p>6&&(m[6]=a),p>7&&(m[7]=u),p>8&&(m[8]=c),p>9&&(m[9]=h);break;case 64:m={},p>0&&(m[d[0].name]=n),p>1&&(m[d[1].name]=r),p>2&&(m[d[2].name]=i),p>3&&(m[d[3].name]=o),p>4&&(m[d[4].name]=l),p>5&&(m[d[5].name]=s),p>6&&(m[d[6].name]=a),p>7&&(m[d[7].name]=u),p>8&&(m[d[8].name]=c),p>9&&(m[d[9].name]=h);break;case 128:const e=n;switch(p){case 1:m=e.transform(n);break;case 2:m=e.transform(r);break;case 3:m=e.transform(r,i);break;case 4:m=e.transform(r,i,o);break;case 5:m=e.transform(r,i,o,l);break;case 6:m=e.transform(r,i,o,l,s);break;case 7:m=e.transform(r,i,o,l,s,a);break;case 8:m=e.transform(r,i,o,l,s,a,u);break;case 9:m=e.transform(r,i,o,l,s,a,u,c);break;case 10:m=e.transform(r,i,o,l,s,a,u,c,h)}}f.value=m}return f}(e,t,n,r,i,o,l,s,a,u,c,h);default:throw"unreachable"}}(e,t,r,i,o,l,s,a,u,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)rl(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)rr(e,t,o,n[o])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=gl(n[e],r[e]);i=t.text.prefix+i;const o=Bn(e,t.nodeIndex).renderText;e.renderer.setValue(o,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=$n(e,t.nodeIndex),i=r.instance;let o=!1,l=void 0;for(let s=0;s<n.length;s++)nr(e,t,s,n[s])&&(o=!0,l=xi(e,r,t,s,n[s],l));return l&&i.ngOnChanges(l),65536&t.flags&&Hn(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)rr(e,t,o,n[o])&&(i=!0);if(i){const i=Kn(e,t.nodeIndex);let o;switch(201347067&t.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);o=e.transform(...t)}i.value=o}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function Al(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=Wn(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,lr(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Il(e,t,n,r,i,o,l,s,a,u,c,h,d){return 0===n?function(e,t,n,r,i,o,l,s,a,u,c,h){const d=t.bindings.length;d>0&&ir(e,t,0,n),d>1&&ir(e,t,1,r),d>2&&ir(e,t,2,i),d>3&&ir(e,t,3,o),d>4&&ir(e,t,4,l),d>5&&ir(e,t,5,s),d>6&&ir(e,t,6,a),d>7&&ir(e,t,7,u),d>8&&ir(e,t,8,c),d>9&&ir(e,t,9,h)}(e,t,r,i,o,l,s,a,u,c,h,d):function(e,t,n){for(let r=0;r<n.length;r++)ir(e,t,r,n[r])}(e,t,r),!1}function Nl(e,t){if(qn(e,t.nodeIndex).dirty)throw Fn(Gn.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function Rl(e){if(!(128&e.state)){if(Pl(e,Ll.Destroy),Ml(e,Ll.Destroy),Ci(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=ar(e);if(t){const n=t.template._projectedViews;n&&(We(n,n.indexOf(e)),Gn.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(Wn(e,n).renderElement):2&t.flags?e.renderer.destroyNode(Bn(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&qn(e,n).destroy()}}(e),hr(e)&&e.renderer.destroy(),e.state|=128}}const Ll=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Ml(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Dl(Wn(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Pl(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Wn(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Dl(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Dl(e,t){const n=e.state;switch(t){case Ll.CheckNoChanges:0==(128&n)&&(12==(12&n)?El(e):64&n&&jl(e,Ll.CheckNoChangesProjectedViews));break;case Ll.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?El(e):64&n&&jl(e,t));break;case Ll.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Tl(e):64&n&&jl(e,Ll.CheckAndUpdateProjectedViews));break;case Ll.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Tl(e):64&n&&jl(e,t));break;case Ll.Destroy:Rl(e);break;case Ll.CreateViewNodes:Sl(e)}}function jl(e,t){Pl(e,t),Ml(e,t)}function Fl(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let o=0;o<i;o++){const i=e.def.nodes[o];if(i.flags&t&&i.flags&n)switch(Gn.setCurrentNode(e,i.nodeIndex),r){case 0:ll(e,i);break;case 1:Nl(e,i)}i.childFlags&t&&i.childFlags&n||(o+=i.childCount)}}let Ul=!1;function Vl(e,t,n,r,i,o){const l=i.injector.get(fn);return _l(Hl(e,i,l,t,n),r,o)}function zl(e,t,n,r,i,o){const l=i.injector.get(fn),s=Hl(e,i,new ws(l),t,n),a=Xl(r);return ys(is.create,_l,null,[s,a,o])}function Hl(e,t,n,r,i){const o=t.injector.get(St),l=t.injector.get(Je),s=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:l}}function Bl(e,t,n,r){const i=Xl(n);return ys(is.create,wl,null,[e,t,i,r])}function Wl(e,t,n,r){return n=Gl.get(t.element.componentProvider.provider.token)||Xl(n),ys(is.create,xl,null,[e,t,n,r])}function $l(e,t,n,r){return ei(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===Kl.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const r=Kl.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{ql.forEach((r,i)=>{pe(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=Kl.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=mr(i.deps),r.value=i.value)}if(ql.size>0){let t=new Set(e.modules);ql.forEach((r,i)=>{if(t.has(pe(i).providedIn)){let t={token:i,flags:r.flags|(n?4096:0),deps:mr(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Yn(i)]=t}})}}(e=e.factory(()=>Zn)),e):e}(r))}const Kl=new Map,ql=new Map,Gl=new Map;function Zl(e){let t;Kl.set(e.token,e),"function"==typeof e.token&&(t=pe(e.token))&&"function"==typeof t.providedIn&&ql.set(e.token,e)}function Ql(e,t){const n=yr(t.viewDefFactory),r=yr(n.nodes[0].element.componentView);Gl.set(e,r)}function Yl(){Kl.clear(),ql.clear(),Gl.clear()}function Xl(e){if(0===Kl.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Kl.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Zn);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Kl.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=mr(n.deps),e.value=n.value)}}}}function Jl(e,t,n,r,i,o,l,s,a,u,c,h,d){const f=e.def.nodes[t];return Ol(e,f,n,r,i,o,l,s,a,u,c,h,d),224&f.flags?Kn(e,t).value:void 0}function es(e,t,n,r,i,o,l,s,a,u,c,h,d){const f=e.def.nodes[t];return Il(e,f,n,r,i,o,l,s,a,u,c,h,d),224&f.flags?Kn(e,t).value:void 0}function ts(e){return ys(is.detectChanges,Tl,null,[e])}function ns(e){return ys(is.checkNoChanges,El,null,[e])}function rs(e){return ys(is.destroy,Rl,null,[e])}const is=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let os,ls,ss;function as(e,t){ls=e,ss=t}function us(e,t,n,r){return as(e,t),ys(is.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function cs(e,t){if(128&e.state)throw Vn(is[os]);return as(e,ps(e,0)),e.def.updateDirectives((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?ds(e,o,r,i):fs(e,o,r,i),16384&o.flags&&as(e,ps(e,n)),224&o.flags?Kn(e,o.nodeIndex).value:void 0}),e)}function hs(e,t){if(128&e.state)throw Vn(is[os]);return as(e,ms(e,0)),e.def.updateRenderer((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?ds(e,o,r,i):fs(e,o,r,i),3&o.flags&&as(e,ms(e,n)),224&o.flags?Kn(e,o.nodeIndex).value:void 0}),e)}function ds(e,t,n,r){if(Ol(e,t,n,...r)){const l=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],s=l[e];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(Ot,(...e)=>"-"+e[1].toLowerCase())}`)]=At(s))}const r=t.parent,s=Wn(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(s,t,r):e.renderer.removeAttribute(s,t)}else e.renderer.setValue(s,`bindings=${JSON.stringify(n,null,2)}`)}}var i,o}function fs(e,t,n,r){Il(e,t,n,...r)}function ps(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function ms(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class gs{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=ur(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Wn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Zr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){vs(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&vs(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!hr(e);)e=e.parent;return e.parent?Wn(e.parent,ur(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?cr(this.view,this.nodeDef):cr(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?e.error.bind(e,...t):Zn),o<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function vs(e,t,n){for(let r in t.references)n[r]=al(e,t,t.references[r])}function ys(e,t,n,r){const i=os,o=ls,l=ss;try{os=e;const s=t.apply(n,r);return ls=o,ss=l,os=i,s}catch(u){if(Qe(u)||!ls)throw u;throw s=u,a=bs(),s instanceof Error||(s=new Error(s.toString())),Un(s,a),s}var s,a}function bs(){return ls?new gs(ls,ss):null}class ws{constructor(e){this.delegate=e}createRenderer(e,t){return new _s(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class _s{constructor(e){this.delegate=e,this.debugContextFactory=bs,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=Wo(e);!function(e){Bo.delete(e.nativeNode)}(t),t instanceof zo&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new Ho(n,null,r);t.name=e,$o(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&$o(new zo(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&$o(new zo(t,null,n)),t}appendChild(e,t){const n=Wo(e),r=Wo(t);n&&r&&n instanceof Ho&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=Wo(e),i=Wo(t),o=Wo(n);r&&i&&r instanceof Ho&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Wo(e),r=Wo(t);n&&r&&n instanceof Ho&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=bs();return r&&$o(new Ho(n,null,r)),n}setAttribute(e,t,n,r){const i=Wo(e);i&&i instanceof Ho&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=Wo(e);r&&r instanceof Ho&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Wo(e);n&&n instanceof Ho&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Wo(e);n&&n instanceof Ho&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=Wo(e);i&&i instanceof Ho&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=Wo(e);r&&r instanceof Ho&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=Wo(e);r&&r instanceof Ho&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=Wo(e);r&&r.listeners.push(new Vo(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function xs(e,t,n){return new Cs(e,t,n)}class Cs extends He{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(Ul)return;Ul=!0;const e=nt()?{setCurrentNode:as,createRootView:zl,createEmbeddedView:Bl,createComponentView:Wl,createNgModuleRef:$l,overrideProvider:Zl,overrideComponentView:Ql,clearOverrides:Yl,checkAndUpdateView:ts,checkNoChangesView:ns,destroyView:rs,createDebugContext:(e,t)=>new gs(e,t),handleEvent:us,updateDirectives:cs,updateRenderer:hs}:{setCurrentNode:()=>{},createRootView:Vl,createEmbeddedView:wl,createComponentView:xl,createNgModuleRef:ei,overrideProvider:Zn,overrideComponentView:Zn,clearOverrides:Zn,checkAndUpdateView:Tl,checkNoChangesView:El,destroyView:Rl,createDebugContext:(e,t)=>new gs(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Jl:es,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Jl:es,e)};Gn.setCurrentNode=e.setCurrentNode,Gn.createRootView=e.createRootView,Gn.createEmbeddedView=e.createEmbeddedView,Gn.createComponentView=e.createComponentView,Gn.createNgModuleRef=e.createNgModuleRef,Gn.overrideProvider=e.overrideProvider,Gn.overrideComponentView=e.overrideComponentView,Gn.clearOverrides=e.clearOverrides,Gn.checkAndUpdateView=e.checkAndUpdateView,Gn.checkNoChangesView=e.checkNoChangesView,Gn.destroyView=e.destroyView,Gn.resolveDep=wi,Gn.createDebugContext=e.createDebugContext,Gn.handleEvent=e.handleEvent,Gn.updateDirectives=e.updateDirectives,Gn.updateRenderer=e.updateRenderer,Gn.dirtyParentQueries=ol}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(yr(this._ngModuleDefFactory));return Gn.createNgModuleRef(this.moduleType,e||Mt.NULL,this._bootstrapComponents,t)}}class ks{}class Ss{constructor(e,t){this.authenticationService=e,this.titleService=t,this.authenticationService.currentUser.subscribe(e=>this.currentUser=e)}setTitle(e){this.titleService.setTitle(e)}logout(){this.authenticationService.logout()}}class Es{}const Ts=new Se("Location Initialized");class Os{}const As=new Se("appBaseHref");class Is{constructor(e,t){this._subject=new Mi,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Is.stripTrailingSlash(Ns(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Is.normalizeQueryParams(t))}normalize(e){return Is.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Ns(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Is.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Is.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}function Ns(e){return e.replace(/\/index.html$/,"")}class Rs extends Os{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Is.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+Is.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+Is.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class Ls extends Os{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Is.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Is.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+Is.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+Is.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const Ms=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Ps=function(e){return function(e){const t=e.toLowerCase().replace(/_/g,"-");let n=Ti[t];if(n)return n;const r=t.split("-")[0];if(n=Ti[r])return n;if("en"===r)return Ii;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Oi.PluralCase]},Ds=new Se("UseV4Plurals");class js{}class Fs extends js{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):Ps(t||this.locale)(e)){case Ms.Zero:return"zero";case Ms.One:return"one";case Ms.Two:return"two";case Ms.Few:return"few";case Ms.Many:return"many";default:return"other"}}}function Us(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class Vs{}class zs{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Zt(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ge(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}let Hs=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class Bs extends Hs{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}class Ws{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class $s{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){nt()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ws(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Ks(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Ks(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class Ks{constructor(e,t){this.record=e,this.view=t}}class qs{constructor(e,t){this._viewContainer=e,this._context=new Gs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Zs("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Zs("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class Gs{constructor(){this.$implicit=null,this.ngIf=null}}function Zs(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ge(t)}'.`)}class Qs{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class Ys{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}class Xs{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Qs(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class Js{}const ea=new Se("DocumentToken"),ta="server";let na=(()=>{class e{}return e.ngInjectableDef=fe({token:e,providedIn:"root",factory:()=>new ra(Fe(ea),window,Fe(Je))}),e})();class ra{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}const ia=new _(e=>e.complete());function oa(e){return e?function(e){return new _(t=>e.schedule(()=>t.complete()))}(e):ia}function la(e){const t=new _(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function sa(...e){let t=e[e.length-1];switch(A(t)?e.pop():t=void 0,e.length){case 0:return oa(t);case 1:return t?$(e,t):la(e[0]);default:return $(e,t)}}class aa extends T{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k;return this._value}next(e){super.next(this._value=e)}}function ua(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}ua.prototype=Object.create(Error.prototype);const ca=ua,ha={};class da{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new fa(e,this.resultSelector))}}class fa extends z{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(ha),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(V(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const o=this.values,l=this.toRespond?o[n]===ha?--this.toRespond:this.toRespond:0;o[n]=t,0===l&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function pa(e){return new _(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?K(n):oa()).subscribe(t)})}function ma(){return Y(1)}function ga(e,t){return function(n){return n.lift(new va(e,t))}}class va{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new ya(e,this.predicate,this.thisArg))}}class ya extends m{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function ba(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ba.prototype=Object.create(Error.prototype);const wa=ba;function _a(e){return function(t){return 0===e?oa():t.lift(new xa(e))}}class xa{constructor(e){if(this.total=e,this.total<0)throw new wa}call(e,t){return t.subscribe(new Ca(e,this.total))}}class Ca extends m{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function ka(e,t,n){return function(r){return r.lift(new Sa(e,t,n))}}class Sa{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new Ea(e,this.nextOrObserver,this.error,this.complete))}}class Ea extends m{constructor(e,t,n,i){super(e),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=i||y,r(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||y,this._tapError=t.error||y,this._tapComplete=t.complete||y)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const Ta=(e=Oa)=>ka({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function Oa(){return new ca}function Aa(e=null){return t=>t.lift(new Ia(e))}class Ia{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Na(e,this.defaultValue))}}class Na extends m{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ra(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ga((t,n)=>e(t,n,r)):Q,_a(1),n?Aa(t):Ta(()=>new ca))}function La(e){return function(t){const n=new Ma(e),r=t.lift(n);return n.caught=r}}class Ma{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Pa(e,this.selector,this.caught))}}class Pa extends z{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new I(this,void 0,void 0);this.add(r),V(this,n,void 0,void 0,r)}}}function Da(e){return t=>0===e?oa():t.lift(new ja(e))}class ja{constructor(e){if(this.total=e,this.total<0)throw new wa}call(e,t){return t.subscribe(new Fa(e,this.total))}}class Fa extends m{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Ua(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ga((t,n)=>e(t,n,r)):Q,Da(1),n?Aa(t):Ta(()=>new ca))}class Va{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new za(e,this.predicate,this.thisArg,this.source))}}class za extends m{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ha(e,t){return"function"==typeof t?n=>n.pipe(Ha((n,r)=>K(e(n,r)).pipe(H((e,i)=>t(n,e,r,i))))):t=>t.lift(new Ba(e))}class Ba{constructor(e){this.project=e}call(e,t){return t.subscribe(new Wa(e,this.project))}}class Wa extends z{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new I(this,void 0,void 0);this.destination.add(i),this.innerSubscription=V(this,e,t,n,i)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}function $a(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ka(e,t,n))}}class Ka{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new qa(e,this.accumulator,this.seed,this.hasSeed))}}class qa extends m{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ga(e,t){return q(e,t,1)}class Za{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Qa(e,this.callback))}}class Qa extends m{constructor(e,t){super(e),this.add(new d(t))}}let Ya=null;function Xa(){return Ya}class Ja{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class eu extends Ja{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const tu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},nu=3,ru={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ou=(()=>{if(ke.Node)return ke.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class lu extends eu{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new lu,Ya||(Ya=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return tu}contains(e,t){return ou.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===nu&&iu.hasOwnProperty(t)&&(t=iu[t]))}return ru[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=au||(au=document.querySelector("base"))?au.getAttribute("href"):null;return null==t?null:(n=t,su||(su=document.createElement("a")),su.setAttribute("href",n),"/"===su.pathname.charAt(0)?su.pathname:"/"+su.pathname);var n}resetBaseElement(){au=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Us(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let su,au=null;function uu(){return!!window.history.pushState}const cu=new Se("TRANSITION_ID"),hu=[{provide:ji,useFactory:function(e,t,n){return()=>{n.get(Fi).donePromise.then(()=>{const n=Xa();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[cu,ea,Mt],multi:!0}];class du{static init(){var e;e=new du,xo=e}addToWindow(e){ke.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(e=>{const t=ke.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?Xa().isShadowRoot(t)?this.findTestabilityInTree(e,Xa().getHost(t),!0):this.findTestabilityInTree(e,Xa().parentElement(t),!0):null}}function fu(e,t){"undefined"!=typeof COMPILED&&COMPILED||((ke.ng=ke.ng||{})[e]=t)}const pu=(()=>({ApplicationRef:No,NgZone:co}))();function mu(e){return Wo(e)}const gu=new Se("EventManagerPlugins");class vu{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class yu{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=Xa().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class bu{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class wu extends bu{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Xa().remove(e))}}const _u={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xu=/%COMP%/g,Cu="_nghost-%COMP%",ku="_ngcontent-%COMP%";function Su(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Su(e,i,n):(i=i.replace(xu,e),n.push(i))}return n}function Eu(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class Tu{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ou(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case $e.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Nu(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case $e.Native:case $e.ShadowDom:return new Ru(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Su(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Ou{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(_u[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=_u[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=_u[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&pn.DashCase?e.style.setProperty(t,n,r&pn.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&pn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){Iu(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return Iu(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Eu(n)):this.eventManager.addEventListener(e,t,Eu(n))}}const Au=(()=>"@".charCodeAt(0))();function Iu(e,t){if(e.charCodeAt(0)===Au)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Nu extends Ou{constructor(e,t,n,r){super(e),this.component=n;const i=Su(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr=ku.replace(xu,r+"-"+n.id),this.hostAttr=Cu.replace(xu,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Ru extends Ou{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===$e.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Su(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const e=document.createElement("style");e.textContent=i[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const Lu=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),Mu=Lu("addEventListener"),Pu=Lu("removeEventListener"),Du={},ju="FALSE",Fu="ANGULAR",Uu="addEventListener",Vu="removeEventListener",zu="__zone_symbol__propagationStopped",Hu="__zone_symbol__stopImmediatePropagation",Bu=(()=>{const e="undefined"!=typeof Zone&&Zone[Lu("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),Wu=function(e){return!!Bu&&Bu.hasOwnProperty(e)},$u=function(e){const t=Du[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[zu];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};class Ku extends yu{constructor(e,t,n){super(e),this.ngZone=t,n&&function(e){return e===ta}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Hu])return;const e=Event.prototype[Hu]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[zu]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let r=n;if(!e[Mu]||co.isInAngularZone()&&!Wu(t))e[Uu](t,r,!1);else{let n=Du[t];n||(n=Du[t]=Lu(Fu+t+ju));let i=e[n];const o=i&&i.length>0;i||(i=e[n]=[]);const l=Wu(t)?Zone.root:Zone.current;if(0===i.length)i.push({zone:l,handler:r});else{let e=!1;for(let t=0;t<i.length;t++)if(i[t].handler===r){e=!0;break}e||i.push({zone:l,handler:r})}o||e[Mu](t,$u,!1)}return()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,n){let r=e[Pu];if(!r)return e[Vu].apply(e,[t,n,!1]);let i=Du[t],o=i&&e[i];if(!o)return e[Vu].apply(e,[t,n,!1]);let l=!1;for(let s=0;s<o.length;s++)if(o[s].handler===n){l=!0,o.splice(s,1);break}l?0===o.length&&r.apply(e,[t,$u,!1]):e[Vu].apply(e,[t,n,!1])}}const qu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Gu=new Se("HammerGestureConfig"),Zu=new Se("HammerLoader");class Qu{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class Yu extends yu{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!qu.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),o=function(e){r.runGuarded((function(){n(e)}))};return i.on(t,o),()=>{i.off(t,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const Xu=["alt","control","meta","shift"],Ju={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class ec extends yu{constructor(e){super(e)}supports(e){return null!=ec.parseEventName(e)}addEventListener(e,t,n){const r=ec.parseEventName(t),i=ec.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xa().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=ec._normalizeKey(t.pop());let i="";if(Xu.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(e){let t="",n=Xa().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Xu.forEach(r=>{r!=n&&(0,Ju[r])(e)&&(t+=r+".")}),t+=n}static eventCallback(e,t,n){return r=>{ec.getEventFullKey(r)===e&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class tc{}class nc extends tc{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case kt.NONE:return t;case kt.HTML:return t instanceof ic?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let n=null;try{xt=xt||new rt(e);let r=t?String(t):"";n=xt.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=xt.getInertBodyElement(r)}while(r!==o);const l=new yt,s=l.sanitizeChildren(Ct(n)||n);return nt()&&l.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n){const e=Ct(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case kt.STYLE:return t instanceof oc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(Tt);return t&&lt(t[1])===t[1]||e.match(Et)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(nt()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case kt.SCRIPT:if(t instanceof lc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case kt.URL:return t instanceof ac||t instanceof sc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),lt(String(t)));case kt.RESOURCE_URL:if(t instanceof ac)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof rc)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new ic(e)}bypassSecurityTrustStyle(e){return new oc(e)}bypassSecurityTrustScript(e){return new lc(e)}bypassSecurityTrustUrl(e){return new sc(e)}bypassSecurityTrustResourceUrl(e){return new ac(e)}}class rc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class ic extends rc{getTypeName(){return"HTML"}}class oc extends rc{getTypeName(){return"Style"}}class lc extends rc{getTypeName(){return"Script"}}class sc extends rc{getTypeName(){return"URL"}}class ac extends rc{getTypeName(){return"ResourceURL"}}const uc=To(Ko,"browser",[{provide:Bi,useValue:"browser"},{provide:Hi,useValue:function(){lu.makeCurrent(),du.init()},multi:!0},{provide:Es,useClass:class extends Es{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Xa().getLocation(),this._history=Xa().getHistory()}getBaseHrefFromDOM(){return Xa().getBaseHref(this._doc)}onPopState(e){Xa().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Xa().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){uu()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){uu()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[ea]},{provide:ea,useFactory:function(){return document},deps:[]}]);function cc(){return new Je}class hc{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:hc,providers:[{provide:Ui,useValue:e.appId},{provide:cu,useExisting:Ui},hu]}}}function dc(){return new fc(Fe(ea))}let fc=(()=>{class e{constructor(e){this._doc=e}getTitle(){return Xa().getTitle(this._doc)}setTitle(e){Xa().setTitle(this._doc,e)}}return e.ngInjectableDef=fe({factory:dc,token:e,providedIn:"root"}),e})();"undefined"!=typeof window&&window;class pc{constructor(e,t){this.id=e,this.url=t}}class mc extends pc{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gc extends pc{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vc extends pc{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yc extends pc{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bc extends pc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wc extends pc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _c extends pc{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xc extends pc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cc extends pc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ec{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tc{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ac{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ic{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nc{}const Rc="primary";class Lc{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Mc(e){return new Lc(e)}const Pc="ngNavigationCancelingError";function Dc(e){const t=Error("NavigationCancelingError: "+e);return t[Pc]=!0,t}function jc(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}class Fc{constructor(e,t){this.routes=e,this.module=t}}function Uc(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Vc(r,zc(t,r))}}function Vc(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Rc)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Uc(e.children,t)}function zc(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Hc(e){const t=e.children&&e.children.map(Hc),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Rc&&(n.component=Nc),n}function Bc(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(e[i=n[o]]!==t[i])return!1;return!0}function Wc(e){return Array.prototype.concat.apply([],e)}function $c(e){return e.length>0?e[e.length-1]:null}function Kc(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function qc(e){return Xt(e)?e:Yt(e)?K(Promise.resolve(e)):sa(e)}function Gc(e,t,n){return n?function(e,t){return Bc(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Xc(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Xc(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Xc(n.segments,i))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Xc(n.segments,e)&&!!n.children[Rc]&&t(n.children[Rc],r,o)}}(t,n,n.segments)}(e.root,t.root)}class Zc{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mc(this.queryParams)),this._queryParamMap}toString(){return nh.serialize(this)}}class Qc{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kc(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rh(this)}}class Yc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Mc(this.parameters)),this._parameterMap}toString(){return uh(this)}}function Xc(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function Jc(e,t){let n=[];return Kc(e.children,(e,r)=>{r===Rc&&(n=n.concat(t(e,r)))}),Kc(e.children,(e,r)=>{r!==Rc&&(n=n.concat(t(e,r)))}),n}class eh{}class th{parse(e){const t=new ph(e);return new Zc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return rh(t);if(n){const n=t.children[Rc]?e(t.children[Rc],!1):"",r=[];return Kc(t.children,(t,n)=>{n!==Rc&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Jc(t,(n,r)=>r===Rc?[e(t.children[Rc],!1)]:[`${r}:${e(n,!1)}`]);return`${rh(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${oh(t)}=${oh(e)}`).join("&"):`${oh(t)}=${oh(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const nh=new th;function rh(e){return e.segments.map(e=>uh(e)).join("/")}function ih(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oh(e){return ih(e).replace(/%3B/gi,";")}function lh(e){return ih(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sh(e){return decodeURIComponent(e)}function ah(e){return sh(e.replace(/\+/g,"%20"))}function uh(e){return`${lh(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${lh(e)}=${lh(t[e])}`).join("")}`;var t}const ch=/^[^\/()?;=#]+/;function hh(e){const t=e.match(ch);return t?t[0]:""}const dh=/^[^=?&#]+/,fh=/^[^?&#]+/;class ph{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qc([],{}):new Qc([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Rc]=new Qc(e,t)),n}parseSegment(){const e=hh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Yc(sh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=hh(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=hh(this.remaining);e&&this.capture(n=e)}e[sh(t)]=sh(n)}parseQueryParam(e){const t=function(e){const t=e.match(dh);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(fh);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const r=ah(t),i=ah(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(e[r]=t=[t]),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=hh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Rc);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o[Rc]:new Qc([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class mh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gh(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=gh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=vh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return vh(e,this._root).map(e=>e.value)}}function gh(e,t){if(e===t.value)return t;for(const n of t.children){const t=gh(e,n);if(t)return t}return null}function vh(e,t){if(e===t.value)return[t];for(const n of t.children){const r=vh(e,n);if(r.length)return r.unshift(t),r}return[]}class yh{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function bh(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class wh extends mh{constructor(e,t){super(e),this.snapshot=t,Eh(this,e)}toString(){return this.snapshot.toString()}}function _h(e,t){const n=function(e,t){const n=new kh([],{},{},"",{},Rc,t,null,e.root,-1,{});return new Sh("",new yh(n,[]))}(e,t),r=new aa([new Yc("",{})]),i=new aa({}),o=new aa({}),l=new aa({}),s=new aa(""),a=new xh(r,i,l,s,o,Rc,t,n.root);return a.snapshot=n.root,new wh(new yh(a,[]),n)}class xh{constructor(e,t,n,r,i,o,l,s){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=l,this._futureSnapshot=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(H(e=>Mc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(e=>Mc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ch(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class kh{constructor(e,t,n,r,i,o,l,s,a,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=l,this.routeConfig=s,this._urlSegment=a,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sh extends mh{constructor(e,t){super(t),this.url=e,Eh(this,t)}toString(){return Th(this._root)}}function Eh(e,t){t.value._routerState=e,t.children.forEach(t=>Eh(e,t))}function Th(e){const t=e.children.length>0?` { ${e.children.map(Th).join(", ")} } `:"";return`${e.value}${t}`}function Oh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Bc(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Bc(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Bc(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Bc(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ah(e,t){var n,r;return Bc(e.params,t.params)&&Xc(n=e.url,r=t.url)&&n.every((e,t)=>Bc(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Ah(e.parent,t.parent))}function Ih(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Nh(e,t,n,r,i){let o={};return r&&Kc(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Zc(n.root===e?t:function e(t,n,r){const i={};return Kc(t.children,(t,o)=>{i[o]=t===n?r:e(t,n,r)}),new Qc(t.segments,i)}(n.root,e,t),o,i)}class Rh{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Ih(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==$c(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lh{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Mh(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Rc]:`${e}`}function Ph(e,t,n){if(e||(e=new Qc([],{})),0===e.segments.length&&e.hasChildren())return Dh(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],l=Mh(n[r]),s=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&s&&"object"==typeof s&&void 0===s.outlets){if(!Vh(l,s,t))return o;r+=2}else{if(!Vh(l,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Qc(e.segments.slice(0,r.pathIndex),{});return t.children[Rc]=new Qc(e.segments.slice(r.pathIndex),e.children),Dh(t,0,i)}return r.match&&0===i.length?new Qc(e.segments,{}):r.match&&!e.hasChildren()?jh(e,t,n):r.match?Dh(e,0,i):jh(e,t,n)}function Dh(e,t,n){if(0===n.length)return new Qc(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{[Rc]:e}:void 0===e[0].outlets?{[Rc]:e}:e[0].outlets}(n),i={};return Kc(r,(n,r)=>{null!==n&&(i[r]=Ph(e.children[r],t,n))}),Kc(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Qc(e.segments,i)}}function jh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const e=Fh(n[i].outlets);return new Qc(r,e)}if(0===i&&Ih(n[0])){r.push(new Yc(e.segments[t].path,n[0])),i++;continue}const o=Mh(n[i]),l=i<n.length-1?n[i+1]:null;o&&l&&Ih(l)?(r.push(new Yc(o,Uh(l))),i+=2):(r.push(new Yc(o,{})),i++)}return new Qc(r,{})}function Fh(e){const t={};return Kc(e,(e,n)=>{null!==e&&(t[n]=jh(new Qc([],{}),0,e))}),t}function Uh(e){const t={};return Kc(e,(e,n)=>t[n]=`${e}`),t}function Vh(e,t,n){return e==n.path&&Bc(t,n.parameters)}const zh=(e,t,n)=>H(r=>(new Hh(t,r.targetRouterState,r.currentRouterState,n).activate(e),r));class Hh{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Oh(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=bh(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Kc(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=bh(e),i=e.value.component?n.children:t;Kc(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=bh(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Ac(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Tc(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Oh(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Bh(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Bh(e){Oh(e.value),e.children.forEach(Bh)}function Wh(e){return"function"==typeof e}function $h(e){return e instanceof Zc}class Kh{constructor(e){this.segmentGroup=e||null}}class qh{constructor(e){this.urlTree=e}}function Gh(e){return new _(t=>t.error(new Kh(e)))}function Zh(e){return new _(t=>t.error(new qh(e)))}function Qh(e){return new _(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Yh{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(ze)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Rc).pipe(H(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(La(e=>{if(e instanceof qh)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Kh)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Rc).pipe(H(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(La(e=>{if(e instanceof Kh)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Qc([],{[Rc]:e}):e;return new Zc(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(H(e=>new Qc([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return sa({});const n=[],r=[],i={};return Kc(e,(e,o)=>{const l=t(o,e).pipe(H(e=>i[o]=e));o===Rc?n.push(l):r.push(l)}),sa.apply(null,n.concat(r)).pipe(ma(),Ra(),H(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,o){return sa(...n).pipe(H(l=>this.expandSegmentAgainstRoute(e,t,n,l,r,i,o).pipe(La(e=>{if(e instanceof Kh)return sa(null);throw e}))),ma(),Ua(e=>!!e),La((e,n)=>{if(e instanceof ca||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return sa(new Qc([],{}));throw new Kh(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,o,l){return td(r)!==o?Gh(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Gh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zh(i):this.lineralizeSegments(n,i).pipe(q(n=>{const i=new Qc(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:l,consumedSegments:s,lastChild:a,positionalParamSegments:u}=Xh(t,r,i);if(!l)return Gh(t);const c=this.applyRedirectCommands(s,r.redirectTo,u);return r.redirectTo.startsWith("/")?Zh(c):this.lineralizeSegments(r,c).pipe(q(r=>this.expandSegment(e,t,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(H(e=>(n._loadedConfig=e,new Qc(r,{})))):sa(new Qc(r,{}));const{matched:i,consumedSegments:o,lastChild:l}=Xh(t,n,r);if(!i)return Gh(t);const s=r.slice(l);return this.getChildConfig(e,n,r).pipe(q(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:l}=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some(n=>ed(e,t,n)&&td(n)!==Rc)}(e,n,r)?{segmentGroup:Jh(new Qc(t,function(e,t){const n={};n[Rc]=t;for(const r of e)""===r.path&&td(r)!==Rc&&(n[td(r)]=new Qc([],{}));return n}(r,new Qc(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>ed(e,t,n))}(e,n,r)?{segmentGroup:Jh(new Qc(e.segments,function(e,t,n,r){const i={};for(const o of n)ed(e,t,o)&&!r[td(o)]&&(i[td(o)]=new Qc([],{}));return Object.assign({},r,i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,s,r);return 0===l.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(H(e=>new Qc(o,e))):0===r.length&&0===l.length?sa(new Qc(o,{})):this.expandSegment(n,i,r,l,Rc,!0).pipe(H(e=>new Qc(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?sa(new Fc(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?sa(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?K(r).pipe(H(r=>{const i=e.get(r);let o;if(function(e){return e&&Wh(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!Wh(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return qc(o)})).pipe(ma(),(i=e=>!0===e,e=>e.lift(new Va(i,void 0,e)))):sa(!0);var i}(e.injector,t,n).pipe(q(n=>n?this.configLoader.load(e.injector,t).pipe(H(e=>(t._loadedConfig=e,e))):function(e){return new _(t=>t.error(Dc(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):sa(new Fc([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return sa(n);if(r.numberOfChildren>1||!r.children[Rc])return Qh(e.redirectTo);r=r.children[Rc]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Zc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Kc(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return Kc(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new Qc(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Xh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||jc)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Jh(e){if(1===e.numberOfChildren&&e.children[Rc]){const t=e.children[Rc];return new Qc(e.segments.concat(t.segments),t.children)}return e}function ed(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function td(e){return e.outlet||Rc}class nd{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rd{constructor(e,t){this.component=e,this.route=t}}function id(e,t,n){const r=e._root;return function e(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=bh(n);return t.children.forEach(t=>{!function(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=t.value,s=n?n.value:null,a=r?r.getContext(t.value.outlet):null;if(s&&l.routeConfig===s.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Xc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Xc(e.url,t.url)||!Bc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ah(e,t)||!Bc(e.queryParams,t.queryParams);case"paramsChange":default:return!Ah(e,t)}}(s,l,l.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new nd(i)):(l.data=s.data,l._resolvedData=s._resolvedData),e(t,n,l.component?a?a.children:null:r,i,o),u&&o.canDeactivateChecks.push(new rd(a&&a.outlet&&a.outlet.component||null,s))}else s&&ld(n,a,o),o.canActivateChecks.push(new nd(i)),e(t,null,l.component?a?a.children:null:r,i,o)}(t,l[t.value.outlet],r,i.concat([t.value]),o),delete l[t.value.outlet]}),Kc(l,(e,t)=>ld(e,r.getContext(t),o)),o}(r,t?t._root:null,n,[r.value])}function od(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function ld(e,t,n){const r=bh(e),i=e.value;Kc(r,(e,r)=>{ld(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new rd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}const sd=Symbol("INITIAL_VALUE");function ad(){return Ha(e=>(function(...e){let t=null,n=null;return A(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&a(e[0])&&(e=e[0]),$(e,n).lift(new da(t))})(...e.map(e=>e.pipe(Da(1),function(...e){return t=>{let n=e[e.length-1];A(n)?e.pop():n=null;const r=e.length;return function(...e){return ma()(sa(...e))}(1!==r||n?r>0?$(e,n):oa(n):la(e[0]),t)}}(sd)))).pipe($a((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==sd)return e;if(r===sd&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||$h(r))return r}return e},e)},sd),ga(e=>e!==sd),H(e=>$h(e)?e:!0===e),Da(1)))}function ud(e,t){return null!==e&&t&&t(new Oc(e)),sa(!0)}function cd(e,t){return null!==e&&t&&t(new Ec(e)),sa(!0)}function hd(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?sa(r.map(r=>pa(()=>{const i=od(r,t,n);let o;if(function(e){return e&&Wh(e.canActivate)}(i))o=qc(i.canActivate(t,e));else{if(!Wh(i))throw new Error("Invalid CanActivate guard");o=qc(i(t,e))}return o.pipe(Ua())}))).pipe(ad()):sa(!0)}function dd(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>pa(()=>sa(t.guards.map(i=>{const o=od(i,t.node,n);let l;if(function(e){return e&&Wh(e.canActivateChild)}(o))l=qc(o.canActivateChild(r,e));else{if(!Wh(o))throw new Error("Invalid CanActivateChild guard");l=qc(o(r,e))}return l.pipe(Ua())})).pipe(ad())));return sa(i).pipe(ad())}class fd{}class pd{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const e=vd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Rc),n=new kh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rc,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new yh(n,t),i=new Sh(this.url,r);return this.inheritParamsAndData(i._root),sa(i)}catch(e){return new _(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=Ch(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=Jc(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===Rc?-1:t.value.outlet===Rc?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const o of e)try{return this.processSegmentAgainstRoute(o,t,n,r)}catch(i){if(!(i instanceof fd))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new fd}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new fd;if((e.outlet||Rc)!==r)throw new fd;let i,o=[],l=[];if("**"===e.path){const o=n.length>0?$c(n).parameters:{};i=new kh(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wd(e),r,e.component,e,md(t),gd(t)+n.length,_d(e))}else{const s=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new fd;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||jc)(n,e,t);if(!r)throw new fd;const i={};Kc(r.posParams,(e,t)=>{i[t]=e.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=s.consumedSegments,l=n.slice(s.lastChild),i=new kh(o,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wd(e),r,e.component,e,md(t),gd(t)+o.length,_d(e))}const s=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:a,slicedSegments:u}=vd(t,o,l,s,this.relativeLinkResolution);if(0===u.length&&a.hasChildren()){const e=this.processChildren(s,a);return[new yh(i,e)]}if(0===s.length&&0===u.length)return[new yh(i,[])];const c=this.processSegment(s,a,u,Rc);return[new yh(i,c)]}}function md(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function gd(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function vd(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>yd(e,t,n)&&bd(n)!==Rc)}(e,n,r)){const i=new Qc(t,function(e,t,n,r){const i={};i[Rc]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&bd(o)!==Rc){const n=new Qc([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[bd(o)]=n}return i}(e,t,r,new Qc(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>yd(e,t,n))}(e,n,r)){const o=new Qc(e.segments,function(e,t,n,r,i,o){const l={};for(const s of r)if(yd(e,n,s)&&!i[bd(s)]){const n=new Qc([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,l[bd(s)]=n}return Object.assign({},i,l)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new Qc(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function yd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function bd(e){return e.outlet||Rc}function wd(e){return e.data||{}}function _d(e){return e.resolve||{}}function xd(e,t,n,r){const i=od(e,t,r);return qc(i.resolve?i.resolve(t,n):i(t,n))}function Cd(e){return function(t){return t.pipe(Ha(t=>{const n=e(t);return n?K(n).pipe(H(()=>t)):K([t])}))}}class kd{}class Sd{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const Ed=new Se("ROUTES");class Td{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(H(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Fc(Wc(r.injector.get(Ed)).map(Hc),r)}))}loadModuleFactory(e){return"string"==typeof e?K(this.loader.load(e)):qc(e()).pipe(q(e=>e instanceof He?sa(e):K(this.compiler.compileModuleAsync(e))))}}class Od{}class Ad{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Id(e){throw e}function Nd(e,t,n){return t.parse("/")}function Rd(e,t){return sa(null)}class Ld{constructor(e,t,n,r,i,o,l,s){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=Id,this.malformedUriErrorHandler=Nd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Rd,afterPreactivation:Rd},this.urlHandlingStrategy=new Ad,this.routeReuseStrategy=new Sd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(ze),this.console=i.get($i);const a=i.get(co);this.isNgZoneEnabled=a instanceof co,this.resetConfig(s),this.currentUrlTree=new Zc(new Qc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Td(o,l,e=>this.triggerEvent(new kc(e)),e=>this.triggerEvent(new Sc(e))),this.routerState=_h(this.currentUrlTree,this.rootComponentType),this.transitions=new aa({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(ga(e=>0!==e.id),H(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Ha(e=>{let n=!1,r=!1;return sa(e).pipe(ka(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Ha(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return sa(e).pipe(Ha(e=>{const n=this.transitions.getValue();return t.next(new mc(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?ia:[e]}),Ha(e=>Promise.resolve(e)),function(e,t,n,r){return function(i){return i.pipe(Ha(i=>(function(e,t,n,r,i){return new Yh(e,t,n,r,i).apply()})(e,t,n,i.extractedUrl,r).pipe(H(e=>Object.assign({},i,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ka(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return function(o){return o.pipe(q(o=>(function(e,t,n,r,i="emptyOnly",o="legacy"){return new pd(e,t,n,r,i,o).recognize()})(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(H(e=>Object.assign({},o,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),ka(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),ka(e=>{const n=new bc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:l}=e,s=new mc(n,this.serializeUrl(r),i,o);t.next(s);const a=_h(r,this.rootComponentType).snapshot;return sa(Object.assign({},e,{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign({},l,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ia}),Cd(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:l}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!l})}),ka(e=>{const t=new wc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),H(e=>Object.assign({},e,{guards:id(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(q(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=n;return 0===l.length&&0===o.length?sa(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return K(e).pipe(q(e=>(function(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?sa(o.map(o=>{const l=od(o,t,i);let s;if(function(e){return e&&Wh(e.canDeactivate)}(l))s=qc(l.canDeactivate(e,t,n,r));else{if(!Wh(l))throw new Error("Invalid CanDeactivate guard");s=qc(l(e,t,n,r))}return s.pipe(Ua())})).pipe(ad()):sa(!0)})(e.component,e.route,n,t,r)),Ua(e=>!0!==e,!0))}(l,r,i,e).pipe(q(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return K(t).pipe(Ga(t=>K([cd(t.route.parent,r),ud(t.route,r),dd(e,t.path,n),hd(e,t.route,n)]).pipe(ma(),Ua(e=>!0!==e,!0))),Ua(e=>!0!==e,!0))}(r,o,e,t):sa(n)),H(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),ka(e=>{if($h(e.guardsResult)){const t=Dc(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),ka(e=>{const t=new _c(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),ga(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new vc(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Cd(e=>{if(e.guards.canActivateChecks.length)return sa(e).pipe(ka(e=>{const t=new xc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),function(e,t){return function(n){return n.pipe(q(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?K(i).pipe(Ga(n=>(function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return sa({});if(1===i.length){const o=i[0];return xd(e[o],t,n,r).pipe(H(e=>({[o]:e})))}const o={};return K(i).pipe(q(i=>xd(e[i],t,n,r).pipe(H(e=>(o[i]=e,e))))).pipe(Ra(),H(()=>o))}(e._resolve,e,t,r).pipe(H(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,Ch(e,n).resolve),null)))})(n.route,r,e,t)),function(e,t){return arguments.length>=2?function(n){return b($a(e,t),_a(1),Aa(t))(n)}:function(t){return b($a((t,n,r)=>e(t,n,r+1)),_a(1))(t)}}((e,t)=>e),H(e=>n)):sa(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),ka(e=>{const t=new Cc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Cd(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:l}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!l})}),H(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(t,n,r){return n.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(i.value.snapshot,n.value))return e(t,n,i);return e(t,n)})}(t,n,r);return new yh(i,o)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new xh(new aa((i=n.value).url),new aa(i.params),new aa(i.queryParams),new aa(i.fragment),new aa(i.data),i.outlet,i.component,i),o=n.children.map(n=>e(t,n));return new yh(r,o)}}var i}(e,t._root,n?n._root:void 0);return new wh(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),ka(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),zh(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),ka({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new Za(e))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new vc(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),La(n=>{if(r=!0,function(e){return e&&e[Pc]}(n)){const r=$h(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new vc(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new yc(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return ia}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Uc(e),this.config=e.map(Hc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:l,preserveFragment:s}=t;nt()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;if(l)switch(l){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return Nh(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Rh(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Kc(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Rh(n,t,r)}(n);if(o.toRoot())return Nh(t.root,new Qc([],{}),t,r,i);const l=function(e,t,n){if(e.isAbsolute)return new Lh(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Lh(n.snapshot._urlSegment,!0,0);const r=Ih(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Lh(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=l.processChildren?Dh(l.segmentGroup,l.index,o.commands):Ph(l.segmentGroup,l.index,o.commands);return Nh(l.segmentGroup,s,t,r,i)}(a,this.currentUrlTree,e,c,u)}navigateByUrl(e,t={skipLocationChange:!1}){nt()&&this.isNgZoneEnabled&&!co.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=$h(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if($h(e))return Gc(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Gc(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new gc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o=null,l=null;const s=new Promise((e,t)=>{o=e,l=t}),a=++this.navigationId;return this.setTransition({id:a,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:l,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Md{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){nt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:Dd(this.skipLocationChange),replaceUrl:Dd(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Dd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Dd(this.preserveFragment)})}}class Pd{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof gc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){nt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Dd(this.skipLocationChange),replaceUrl:Dd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Dd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Dd(this.preserveFragment)})}}function Dd(e){return""===e||!!e}class jd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fd,this.attachRef=null}}class Fd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new jd,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Ud{constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Mi,this.deactivateEvents=new Mi,this.name=r||Rc,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Vd(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Vd{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===xh?this.route:e===Fd?this.childContexts:this.parent.get(e,t)}}class zd{}class Hd{preload(e,t){return t().pipe(La(()=>sa(null)))}}class Bd{preload(e,t){return sa(null)}}class Wd{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Td(t,n,t=>e.triggerEvent(new kc(t)),t=>e.triggerEvent(new Sc(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(ga(e=>e instanceof gc),Ga(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(ze);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return K(n).pipe(Y(),H(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(q(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class $d{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ic&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Ic(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Kd=new Se("ROUTER_CONFIGURATION"),qd=new Se("ROUTER_FORROOT_GUARD"),Gd=[Is,{provide:eh,useClass:th},{provide:Ld,useFactory:tf,deps:[No,eh,Fd,Is,Mt,Lo,Ji,Ed,Kd,[Od,new ae],[kd,new ae]]},Fd,{provide:xh,useFactory:nf,deps:[Ld]},{provide:Lo,useClass:Fo},Wd,Bd,Hd,{provide:Kd,useValue:{enableTracing:!1}}];function Zd(){return new Eo("Router",Ld)}class Qd{constructor(e,t){}static forRoot(e,t){return{ngModule:Qd,providers:[Gd,ef(e),{provide:qd,useFactory:Jd,deps:[[Ld,new ae,new ce]]},{provide:Kd,useValue:t||{}},{provide:Os,useFactory:Xd,deps:[Es,[new se(As),new ae],Kd]},{provide:$d,useFactory:Yd,deps:[Ld,na,Kd]},{provide:zd,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:Bd},{provide:Eo,multi:!0,useFactory:Zd},[rf,{provide:ji,multi:!0,useFactory:of,deps:[rf]},{provide:sf,useFactory:lf,deps:[rf]},{provide:Wi,multi:!0,useExisting:sf}]]}}static forChild(e){return{ngModule:Qd,providers:[ef(e)]}}}function Yd(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new $d(e,t,n)}function Xd(e,t,n={}){return n.useHash?new Rs(e,t):new Ls(e,t)}function Jd(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ef(e){return[{provide:Bt,multi:!0,useValue:e},{provide:Ed,multi:!0,useValue:e}]}function tf(e,t,n,r,i,o,l,s,a={},u,c){const h=new Ld(null,t,n,r,i,o,l,Wc(s));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=Xa();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h}function nf(e){return e.routerState.root}class rf{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new T}appInitializer(){return this.injector.get(Ts,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Ld),r=this.injector.get(Kd);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?sa(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(Kd),n=this.injector.get(Wd),r=this.injector.get($d),i=this.injector.get(Ld),o=this.injector.get(No);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function of(e){return e.appInitializer.bind(e)}function lf(e){return e.bootstrapListener.bind(e)}const sf=new Se("Router Initializer");var af=er({encapsulation:2,styles:[],data:{}});function uf(e){return vl(0,[(e()(),Jo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ci(1,212992,null,0,Ud,[Fd,Dn,ln,[8,null],It],null,null)],(function(e,t){e(t,1,0)}),null)}function cf(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,uf,af)),ci(1,49152,null,0,Nc,[],null,null)],null,null)}var hf=Vr("ng-component",Nc,cf,{},{},[]);const df={id:"programming",name:"Programmierung",parts:[{id:"testCreation",name:"Erstellen der Unittests"},{id:"implementation",name:"Implementierung",disabled:!0}],status:"beta"},ff={id:"regex",name:"Regul\xe4re Ausdr\xfccke",parts:[{id:"regex",name:"Regul\xe4ren Ausdruck erstellen"}]},pf={id:"createQuery",name:"Abfrage erstellen"},mf={id:"sql",name:"SQL",parts:[pf]},gf={id:"web",name:"Web",parts:[],hasLivePreview:!0},vf=[df,ff,{id:"rose",name:"ROSE",status:"alpha",parts:[],hasPlayground:!1},mf,{id:"uml",name:"UML-Klassendiagramme",status:"beta",parts:[],hasPlayground:!1},gf,{id:"xml",name:"XML",parts:[]}],yf={id:"fillOut",name:"Wahrheitstabellen ausf\xfcllen"},bf={id:"create",name:"Boolesche Formel erstellen"},wf={id:"bool",name:"Boolesche Algebra",parts:[yf,bf]},_f={id:"addition",name:"Addition"},xf={id:"conversion",name:"Zahlenumwandlung"},Cf={id:"twoConversion",name:"Zahlenumwandlung im Zweiersystem",disabled:!0},kf={id:"nary",name:"Zahlensysteme",parts:[_f,xf,Cf]},Sf=[wf,kf];class Ef{constructor(){this.randomTools=Sf,this.collectionTools=vf}}var Tf=er({encapsulation:2,styles:[],data:{}});function Of(e){return vl(0,[(e()(),Jo(0,0,null,null,4,"div",[["class","column is-one-third"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,3,"a",[["class","button is-link is-fullwidth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(2,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(3,2),(e()(),pl(4,null,["",""]))],(function(e,t){var n=e(t,3,0,"/randomTools",t.context.$implicit.id);e(t,2,0,n)}),(function(e,t){e(t,1,0,Yr(t,2).target,Yr(t,2).href),e(t,4,0,t.context.$implicit.name)}))}function Af(e){return vl(0,[(e()(),Jo(0,0,null,null,0,"sup",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,"\xa0&"+t.parent.context.$implicit.status+";")}))}function If(e){return vl(0,[(e()(),Jo(0,0,null,null,6,"div",[["class","column is-one-third"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,5,"a",[["class","button is-link is-fullwidth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(2,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(3,2),(e()(),pl(4,null,[" ",""])),(e()(),Xo(16777216,null,null,1,null,Af)),ci(6,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=e(t,3,0,"/tools",t.context.$implicit.id);e(t,2,0,n),e(t,6,0,t.context.$implicit.status)}),(function(e,t){e(t,1,0,Yr(t,2).target,Yr(t,2).href),e(t,4,0,t.context.$implicit.name)}))}function Nf(e){return vl(0,[(e()(),Jo(0,0,null,null,10,"div",[["class","container"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"h2",[["class","subtitle is-4"]],null,null,null,null,null)),(e()(),pl(-1,null,["Tools mit zuf\xe4lligen Aufgaben"])),(e()(),Jo(3,0,null,null,2,"div",[["class","columns is-multiline"]],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,Of)),ci(5,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Jo(6,0,null,null,1,"h2",[["class","subtitle is-4"]],null,null,null,null,null)),(e()(),pl(-1,null,["Tools mit Aufgaben in Sammlungen"])),(e()(),Jo(8,0,null,null,2,"div",[["class","columns is-multiline"]],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,If)),ci(10,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.randomTools),e(t,10,0,n.collectionTools)}),null)}function Rf(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,Nf,Tf)),ci(1,49152,null,0,Ef,[],null,null)],null,null)}var Lf=Vr("ng-component",Ef,Rf,{},{},[]);class Mf extends z{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let r=0;r<n;r++){const e=V(this,t[r],null,r);e&&this.add(e)}}notifyNext(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:r}=this,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()}}const Pf=new Se("NgValueAccessor");class Df{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}const jf=new Se("CompositionEventMode");class Ff{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Xa()?Xa().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}class Uf{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Vf extends Uf{get formDirective(){return null}get path(){return null}}function zf(){throw new Error("unimplemented")}class Hf extends Uf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return zf()}get asyncValidator(){return zf()}}class Bf{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Wf extends Bf{constructor(e){super(e)}}class $f extends Bf{constructor(e){super(e)}}function Kf(e){return null==e||0===e.length}const qf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gf{static min(e){return t=>{if(Kf(t.value)||Kf(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Kf(t.value)||Kf(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Kf(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return Kf(e.value)?null:qf.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(Kf(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return Gf.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Kf(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Zf);return 0==t.length?null:function(e){return Yf(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Zf);return 0==t.length?null:function(e){return function e(...t){let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&a(t[0])&&(t=t[0]),0===t.length?ia:n?e(t).pipe(H(e=>n(...e))):new _(e=>new Mf(e,t))}(function(e,t){return t.map(t=>t(e))}(e,t).map(Qf)).pipe(H(Yf))}}}function Zf(e){return null!=e}function Qf(e){const t=Yt(e)?K(e):e;if(!Xt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Yf(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function Xf(e){return e.validate?t=>e.validate(t):e}function Jf(e){return e.validate?t=>e.validate(t):e}class ep{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}const tp={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class np{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${tp.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${tp.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${tp.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${tp.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${tp.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${tp.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function rp(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class ip{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Kt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=rp(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}class op{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(rp(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function lp(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class sp{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(lp(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(lp(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function ap(e,t){return[...t.path,e]}function up(e,t){e||fp(t,"Cannot find control with"),t.valueAccessor||fp(t,"No value accessor for form control with"),e.validator=Gf.compose([e.validator,t.validator]),e.asyncValidator=Gf.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&cp(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&cp(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function cp(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function hp(e,t){null==e&&fp(t,"Cannot find control with"),e.validator=Gf.compose([e.validator,t.validator]),e.asyncValidator=Gf.composeAsync([e.asyncValidator,t.asyncValidator])}function dp(e){return fp(e,"There is no FormControl instance attached to form control element with")}function fp(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function pp(e){return null!=e?Gf.compose(e.map(Xf)):null}function mp(e){return null!=e?Gf.composeAsync(e.map(Jf)):null}function gp(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Kt(t,n.currentValue)}const vp=[Df,class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},ip,class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Kt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},class{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Hf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function yp(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function bp(e,t){if(!t)return null;Array.isArray(t)||fp(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return t.forEach(t=>{t.constructor===Ff?n=t:function(e){return vp.some(t=>e.constructor===t)}(t)?(r&&fp(e,"More than one built-in value accessor matches form control with"),r=t):(i&&fp(e,"More than one custom value accessor matches form control with"),i=t)}),i||r||n||(fp(e,"No valid value accessor for form control with"),null)}function wp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const _p="VALID",xp="INVALID",Cp="PENDING",kp="DISABLED";function Sp(e){const t=Tp(e)?e.validators:e;return Array.isArray(t)?pp(t):t||null}function Ep(e,t){const n=Tp(t)?t.asyncValidators:e;return Array.isArray(n)?mp(n):n||null}function Tp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Op{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===_p}get invalid(){return this.status===xp}get pending(){return this.status==Cp}get disabled(){return this.status===kp}get enabled(){return this.status!==kp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Sp(e)}setAsyncValidators(e){this.asyncValidator=Ep(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Cp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kp,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_p,this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==_p&&this.status!==Cp||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kp:_p}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Cp;const t=Qf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof Ip?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Np&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Mi,this.statusChanges=new Mi}_calculateStatus(){return this._allControlsDisabled()?kp:this.errors?xp:this._anyControlsHaveStatus(Cp)?Cp:this._anyControlsHaveStatus(xp)?xp:_p}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Ap extends Op{constructor(e=null,t,n){super(Sp(t),Ep(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ip extends Op{constructor(e,t,n){super(Sp(t),Ep(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Ap?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Np extends Op{constructor(e,t,n){super(Sp(t),Ep(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Ap?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Rp=(()=>Promise.resolve(null))();class Lp extends Vf{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Mi,this.form=new Ip({},pp(e),mp(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Rp.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),up(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Rp.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),wp(this._directives,e)})}addFormGroup(e){Rp.then(()=>{const t=this._findContainer(e.path),n=new Ip({});hp(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Rp.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Rp.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,yp(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}class Mp{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${tp.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${tp.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${tp.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${tp.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${tp.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${tp.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const Pp=new Se("NgFormSelectorWarning");class Dp extends Vf{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ap(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return pp(this._validators)}get asyncValidator(){return mp(this._asyncValidators)}_checkParentType(){}}class jp extends Dp{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof jp||this._parent instanceof Lp||Mp.modelGroupParentException()}}const Fp=(()=>Promise.resolve(null))();class Up extends Hf{constructor(e,t,n,r){super(),this.control=new Ap,this._registered=!1,this.update=new Mi,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=bp(this,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),gp(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?ap(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return pp(this._rawValidators)}get asyncValidator(){return mp(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){up(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof jp)&&this._parent instanceof Dp?Mp.formGroupNameException():this._parent instanceof jp||this._parent instanceof Lp||Mp.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Mp.missingNameException()}_updateValue(e){Fp.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Fp.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class Vp{}const zp=new Se("NgModelWithFormControlWarning");class Hp extends Vf{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Mi}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return up(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){wp(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);hp(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);hp(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,yp(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>dp(t)),t.valueAccessor.registerOnTouched(()=>dp(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&up(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=pp(this._validators);this.form.validator=Gf.compose([this.form.validator,e]);const t=mp(this._asyncValidators);this.form.asyncValidator=Gf.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||np.missingFormException()}}class Bp extends Dp{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){$p(this._parent)&&np.groupParentException()}}class Wp extends Vf{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ap(this.name,this._parent)}get validator(){return pp(this._validators)}get asyncValidator(){return mp(this._asyncValidators)}_checkParentType(){$p(this._parent)&&np.arrayParentException()}}function $p(e){return!(e instanceof Bp||e instanceof Hp||e instanceof Wp)}let Kp=(()=>{class e extends Hf{constructor(e,t,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new Mi,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=bp(this,r)}set isDisabled(e){np.disabledAttrWarning()}ngOnChanges(t){var n,r;this._added||this._setUpControl(),gp(t,this.viewModel)&&("formControlName",n=e,this,r=this._ngModelWarningConfig,nt()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(np.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ap(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return pp(this._rawValidators)}get asyncValidator(){return mp(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Bp)&&this._parent instanceof Dp?np.ngModelGroupException():this._parent instanceof Bp||this._parent instanceof Hp||this._parent instanceof Wp||np.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e._ngModelWarningSentOnce=!1,e})();class qp{}class Gp{group(e,t=null){const n=this._reduceControls(e);let r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new Ip(n,{asyncValidators:i,updateOn:o,validators:r})}control(e,t,n){return new Ap(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new Np(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof Ap||e instanceof Ip||e instanceof Np?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}class Zp{static withConfig(e){return{ngModule:Zp,providers:[{provide:Pp,useValue:e.warnOnDeprecatedNgFormSelector}]}}}class Qp{static withConfig(e){return{ngModule:Qp,providers:[{provide:zp,useValue:e.warnOnNgModelWithFormControl}]}}}class Yp{constructor(e,t,n,r){this.formBuilder=e,this.route=t,this.router=n,this.authenticationService=r,this.loading=!1,this.submitted=!1,this.authenticationService.currentUserValue&&this.router.navigate(["/"])}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",Gf.required],password:["",Gf.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,this.loginForm.invalid?alert("Daten sind nicht valide!"):(this.loading=!0,this.authenticationService.login(this.f.username.value,this.f.password.value).pipe(Ua()).subscribe(e=>this.router.navigate([this.returnUrl]),e=>this.loading=!1))}}class Xp{}class Jp{}class em{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof em?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new em;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof em?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===i.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class tm{encodeKey(e){return nm(e)}encodeValue(e){return nm(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function nm(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class rm{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const r=e.indexOf("="),[i,o]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],l=n.get(i)||[];l.push(o),n.set(i,l)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new rm({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function im(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function om(e){return"undefined"!=typeof Blob&&e instanceof Blob}function lm(e){return"undefined"!=typeof FormData&&e instanceof FormData}class sm{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new em),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new rm,this.urlWithParams=t}serializeBody(){return null===this.body?null:im(this.body)||om(this.body)||lm(this.body)||"string"==typeof this.body?this.body:this.body instanceof rm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:lm(this.body)?null:om(this.body)?this.body.type||null:im(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let s=e.headers||this.headers,a=e.params||this.params;return void 0!==e.setHeaders&&(s=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),s)),e.setParams&&(a=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),a)),new sm(t,n,i,{params:a,headers:s,reportProgress:l,responseType:r,withCredentials:o})}}const am=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class um{constructor(e,t=200,n="OK"){this.headers=e.headers||new em,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class cm extends um{constructor(e={}){super(e),this.type=am.ResponseHeader}clone(e={}){return new cm({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hm extends um{constructor(e={}){super(e),this.type=am.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new hm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dm extends um{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function fm(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class pm{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof sm)r=e;else{let i=void 0;i=n.headers instanceof em?n.headers:new em(n.headers);let o=void 0;n.params&&(o=n.params instanceof rm?n.params:new rm({fromObject:n.params})),r=new sm(e,t,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=sa(r).pipe(Ga(e=>this.handler.handle(e)));if(e instanceof sm||"events"===n.observe)return i;const o=i.pipe(ga(e=>e instanceof hm));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(H(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe(H(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe(H(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe(H(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new rm).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,fm(n,t))}post(e,t,n={}){return this.request("POST",e,fm(n,t))}put(e,t,n={}){return this.request("PUT",e,fm(n,t))}}class mm{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const gm=new Se("HTTP_INTERCEPTORS");class vm{intercept(e,t){return t.handle(e)}}const ym=/^\)\]\}',?\n/;class bm{}class wm{constructor(){}build(){return new XMLHttpRequest}}class _m{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",o=new em(n.getAllResponseHeaders()),l=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new cm({headers:o,status:t,statusText:r,url:l})},l=()=>{let{headers:r,status:i,statusText:l,url:s}=o(),a=null;204!==i&&(a=void 0===n.response?n.responseText:n.response),0===i&&(i=a?200:0);let u=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof a){const e=a;a=a.replace(ym,"");try{a=""!==a?JSON.parse(a):null}catch(c){a=e,u&&(u=!1,a={error:c,text:a})}}u?(t.next(new hm({body:a,headers:r,status:i,statusText:l,url:s||void 0})),t.complete()):t.error(new dm({error:a,headers:r,status:i,statusText:l,url:s||void 0}))},s=e=>{const{url:r}=o(),i=new dm({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let a=!1;const u=r=>{a||(t.next(o()),a=!0);let i={type:am.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},c=e=>{let n={type:am.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",l),n.addEventListener("error",s),e.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),t.next({type:am.Sent}),()=>{n.removeEventListener("error",s),n.removeEventListener("load",l),e.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const xm=new Se("XSRF_COOKIE_NAME"),Cm=new Se("XSRF_HEADER_NAME");class km{}class Sm{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Us(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class Em{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}class Tm{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(gm,[]);this.chain=e.reduceRight((e,t)=>new mm(e,t),this.backend)}return this.chain.handle(e)}}class Om{static disable(){return{ngModule:Om,providers:[{provide:Em,useClass:vm}]}}static withOptions(e={}){return{ngModule:Om,providers:[e.cookieName?{provide:xm,useValue:e.cookieName}:[],e.headerName?{provide:Cm,useValue:e.headerName}:[]]}}}class Am{}let Im=(()=>{class e{constructor(e,t){this.http=e,this.router=t,this.currentUserSubject=new aa(JSON.parse(localStorage.getItem("currentUser"))),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}login(e,t){return this.http.put("http://localhost:9000/api/users/authenticate",{username:e,password:t}).pipe(ka(e=>{localStorage.setItem("currentUser",JSON.stringify(e)),this.currentUserSubject.next(e)}))}logout(){localStorage.removeItem("currentUser"),this.currentUserSubject.next(null),this.router.navigate(["/loginForm"])}}return e.ngInjectableDef=fe({factory:function(){return new e(Fe(pm),Fe(Ld))},token:e,providedIn:"root"}),e})();var Nm=er({encapsulation:2,styles:[],data:{}});function Rm(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(e()(),pl(-1,null,[" Nutzername darf nicht leer sein! "]))],null,null)}function Lm(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(e()(),pl(-1,null,[" Passwort darf nicht leer sein! "]))],null,null)}function Mm(e){return vl(0,[(e()(),Jo(0,0,null,null,33,"div",[["class","container"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,32,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,i=e.component;return"submit"===t&&(r=!1!==Yr(e,3).onSubmit(n)&&r),"reset"===t&&(r=!1!==Yr(e,3).onReset()&&r),"ngSubmit"===t&&(r=!1!==i.onSubmit()&&r),r}),null,null)),ci(2,16384,null,0,Vp,[],null,null),ci(3,540672,null,0,Hp,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),hi(2048,null,Vf,null,[Hp]),ci(5,16384,null,0,$f,[[4,Vf]],null,null),(e()(),Jo(6,0,null,null,11,"div",[["class","field"]],null,null,null,null,null)),(e()(),Jo(7,0,null,null,1,"label",[["class","label"],["for","username"]],null,null,null,null,null)),(e()(),pl(-1,null,["Nutzername"])),(e()(),Jo(9,0,null,null,6,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(10,0,null,null,5,"input",[["class","input"],["formControlName","username"],["id","username"],["placeholder","Nutzername"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Yr(e,11)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,11).onTouched()&&r),"compositionstart"===t&&(r=!1!==Yr(e,11)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Yr(e,11)._compositionEnd(n.target.value)&&r),r}),null,null)),ci(11,16384,null,0,Ff,[mn,cn,[2,jf]],null,null),hi(1024,null,Pf,(function(e){return[e]}),[Ff]),ci(13,671744,null,0,Kp,[[3,Vf],[8,null],[8,null],[6,Pf],[2,zp]],{name:[0,"name"]},null),hi(2048,null,Hf,null,[Kp]),ci(15,16384,null,0,Wf,[[4,Hf]],null,null),(e()(),Xo(16777216,null,null,1,null,Rm)),ci(17,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Jo(18,0,null,null,11,"div",[["class","field"]],null,null,null,null,null)),(e()(),Jo(19,0,null,null,1,"label",[["class","label"],["for","password"]],null,null,null,null,null)),(e()(),pl(-1,null,["Passwort"])),(e()(),Jo(21,0,null,null,6,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(22,0,null,null,5,"input",[["class","input"],["formControlName","password"],["id","password"],["placeholder","Passwort"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Yr(e,23)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,23).onTouched()&&r),"compositionstart"===t&&(r=!1!==Yr(e,23)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Yr(e,23)._compositionEnd(n.target.value)&&r),r}),null,null)),ci(23,16384,null,0,Ff,[mn,cn,[2,jf]],null,null),hi(1024,null,Pf,(function(e){return[e]}),[Ff]),ci(25,671744,null,0,Kp,[[3,Vf],[8,null],[8,null],[6,Pf],[2,zp]],{name:[0,"name"]},null),hi(2048,null,Hf,null,[Kp]),ci(27,16384,null,0,Wf,[[4,Hf]],null,null),(e()(),Xo(16777216,null,null,1,null,Lm)),ci(29,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Jo(30,0,null,null,3,"div",[["class","field"]],null,null,null,null,null)),(e()(),Jo(31,0,null,null,2,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(32,0,null,null,1,"button",[["class","button is-link"]],null,null,null,null,null)),(e()(),pl(-1,null,["Login"]))],(function(e,t){var n=t.component;e(t,3,0,n.loginForm),e(t,13,0,"username"),e(t,17,0,n.submitted&&n.f.username.errors&&n.f.username.errors.required),e(t,25,0,"password"),e(t,29,0,n.submitted&&n.f.password.errors&&n.f.password.errors.required)}),(function(e,t){e(t,1,0,Yr(t,5).ngClassUntouched,Yr(t,5).ngClassTouched,Yr(t,5).ngClassPristine,Yr(t,5).ngClassDirty,Yr(t,5).ngClassValid,Yr(t,5).ngClassInvalid,Yr(t,5).ngClassPending),e(t,10,0,Yr(t,15).ngClassUntouched,Yr(t,15).ngClassTouched,Yr(t,15).ngClassPristine,Yr(t,15).ngClassDirty,Yr(t,15).ngClassValid,Yr(t,15).ngClassInvalid,Yr(t,15).ngClassPending),e(t,22,0,Yr(t,27).ngClassUntouched,Yr(t,27).ngClassTouched,Yr(t,27).ngClassPristine,Yr(t,27).ngClassDirty,Yr(t,27).ngClassValid,Yr(t,27).ngClassInvalid,Yr(t,27).ngClassPending)}))}function Pm(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,Mm,Nm)),ci(1,114688,null,0,Yp,[Gp,xh,Ld,Im],null,null)],(function(e,t){e(t,1,0)}),null)}var Dm=Vr("ng-component",Yp,Pm,{},{},[]);class jm{constructor(e){this.route=e;const t=e.snapshot.paramMap.get("toolId");this.tool=Sf.find(e=>e.id===t)}ngOnInit(){}}var Fm=er({encapsulation:2,styles:[],data:{}});function Um(e){return vl(0,[(e()(),Jo(0,0,null,null,3,"a",[["class","button is-link is-fullwidth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(1,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(2,3),(e()(),pl(3,null,["",""]))],(function(e,t){var n=e(t,2,0,"/randomTools",t.component.tool.id,t.parent.context.$implicit.id);e(t,1,0,n)}),(function(e,t){e(t,0,0,Yr(t,1).target,Yr(t,1).href),e(t,3,0,t.parent.context.$implicit.name)}))}function Vm(e){return vl(0,[(e()(),Jo(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,Um)),ci(2,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Xo(0,null,null,0))],(function(e,t){e(t,2,0,!t.context.$implicit.disabled)}),null)}function zm(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"h1",[["class","title is-3 has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Playground"]))],null,null)}function Hm(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"h1",[["class","title is-3 has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Evaluation"]))],null,null)}function Bm(e){return vl(0,[(e()(),Jo(0,0,null,null,9,"div",[["class","container"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"h1",[["class","title is-3 has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["\xdcbungsaufgaben"])),(e()(),Jo(3,0,null,null,2,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,Vm)),ci(5,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Xo(16777216,null,null,1,null,zm)),ci(7,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Xo(16777216,null,null,1,null,Hm)),ci(9,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.tool.parts),e(t,7,0,n.tool.hasPlayground),e(t,9,0,!1)}),null)}function Wm(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,Bm,Fm)),ci(1,114688,null,0,jm,[xh],null,null)],(function(e,t){e(t,1,0)}),null)}var $m=Vr("ng-component",jm,Wm,{},{},[]);function Km(e,t){const n=Math.floor(t),r=Math.floor(e);return Math.floor(Math.random()*(n-r))+r}function qm(e){return e[Math.floor(Math.random()*e.length)]}function Gm(e,t){return e.reduce((e,n)=>e.concat(t(n)),[])}class Zm{}class Qm extends Zm{constructor(e){super(),this.variable=e}evaluate(e){return e.has(this.variable)?e.get(this.variable):void 0}getVariables(){return[this]}asString(){return this.variable}}class Ym extends Zm{constructor(e){super(),this.value=e}evaluate(e){return this.value}getVariables(){return[]}asString(){return this.value?"1":"0"}}const Xm=new Ym(!0),Jm=new Ym(!1);class eg extends Zm{constructor(e){super(),this.child=e}evaluate(e){return!this.child.evaluate(e)}getVariables(){return this.child.getVariables()}asString(){return"not "+(this.child instanceof tg?"("+this.child.asString()+")":this.child.asString())}}class tg extends Zm{constructor(e,t){super(),this.left=e,this.right=t}getVariables(){const e=this.left.getVariables(),t=this.right.getVariables();return Array.from(new Set(e.concat(t)))}asString(){const e=this.left instanceof tg?`(${this.left.asString()})`:this.left.asString(),t=this.right instanceof tg?`(${this.right.asString()})`:this.right.asString();return e+" "+this.operator+" "+t}evaluate(e){return this.evalFunc(this.left.evaluate(e),this.right.evaluate(e))}}class ng extends tg{constructor(){super(...arguments),this.operator="and",this.evalFunc=(e,t)=>e&&t}}class rg extends tg{constructor(){super(...arguments),this.operator="or",this.evalFunc=(e,t)=>e||t}}class ig extends tg{constructor(){super(...arguments),this.operator="nand",this.evalFunc=(e,t)=>!(e&&t)}}class og extends tg{constructor(){super(...arguments),this.operator="nor",this.evalFunc=(e,t)=>!(e||t)}}class lg extends tg{constructor(){super(...arguments),this.operator="xor",this.evalFunc=(e,t)=>e&&!t||!e&&t}}class sg extends tg{constructor(){super(...arguments),this.operator="equiv",this.evalFunc=(e,t)=>e===t}}class ag extends tg{constructor(){super(...arguments),this.operator="impl",this.evalFunc=(e,t)=>!e||t}}const ug=new Map([[/impl/g,"&rArr;"],[/nor/g,"&#x22bd;"],[/nand/g,"&#x22bc;"],[/equiv/g,"&hArr;"],[/not /g,"&not;"],[/and/g,"&and;"],[/xor/g,"&oplus;"],[/or/g,"&or;"]]);class cg{constructor(e){this.rootNode=e,this.variables=this.rootNode.getVariables().sort((e,t)=>e.variable.charCodeAt(0)-t.variable.charCodeAt(0)),this.assignments=this.calculateAssignments()}calculateAssignments(){let e=[];for(const t of this.variables)e=0===e.length?[new Map([[t.variable,!1]]),new Map([[t.variable,!0]])]:Gm(e,e=>[new Map([...e,[t.variable,!1]]),new Map([...e,[t.variable,!0]])]);return e}getVariables(){return this.variables}getAllAssignments(){return this.assignments}asString(){return this.rootNode.asString()}asHtmlString(){let e=this.rootNode.asString();return ug.forEach((t,n)=>e=e.replace(n,t)),e}}const hg=new Qm("a"),dg=new Qm("b"),fg=new Qm("c");function pg(e,t){const n=2===Km(0,3),r=2===Km(0,3),i=n?new eg(e):e,o=r?new eg(t):t;return 1===Km(0,2)?new ng(i,o):new rg(i,o)}function mg(){if(1===Km(1,3))return new cg(pg(hg,dg));{const e=[hg,dg,fg],t=pg(qm(e),qm(e)),n=pg(qm(e),qm(e));return new cg(pg(t,n))}}class gg{displayAssignmentValue(e,t){return e.has(t.variable)?e.get(t.variable)?"1":"0":""}}class vg extends gg{constructor(){super(),this.tool=wf,this.part=yf,this.sampleVariable=new Qm("s"),this.learnerVariable=new Qm("z"),this.corrected=!1,this.completelyCorrect=!1}ngOnInit(){this.update()}update(){this.completelyCorrect=!1,this.corrected=!1,this.formula=mg(),this.formula.getAllAssignments().forEach(e=>{e.set(this.sampleVariable.variable,this.formula.rootNode.evaluate(e)),e.set(this.learnerVariable.variable,!1)})}updateAssignment(e){for(const t of this.formula.getAllAssignments())if(t===e){const e=!t.get(this.learnerVariable.variable);t.set(this.learnerVariable.variable,e)}}handleKeyboardEvent(e){"Enter"===e.key&&(this.completelyCorrect?this.update():this.corrected=!0)}}var yg=er({encapsulation:2,styles:[],data:{}});function bg(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"th",[["class","has-text-centered"]],null,null,null,null,null)),(e()(),pl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit.variable)}))}function wg(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"td",[["class","has-text-centered"]],null,null,null,null,null)),(e()(),pl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.displayAssignmentValue(t.parent.context.$implicit,t.context.$implicit))}))}function _g(e){return vl(0,[(e()(),Jo(0,0,null,null,5,"tr",[],[[2,"has-text-danger",null],[2,"has-text-success",null]],null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,wg)),ci(2,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Jo(3,0,null,null,2,"td",[["class","has-text-centered"]],null,null,null,null,null)),(e()(),Jo(4,0,null,null,1,"button",[["class","button"]],[[2,"is-link",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.updateAssignment(e.context.$implicit)&&r),r}),null,null)),(e()(),pl(5,null,["",""]))],(function(e,t){e(t,2,0,t.component.formula.getVariables())}),(function(e,t){var n=t.component,r=n.corrected&&t.context.$implicit.get(n.learnerVariable.variable)!==t.context.$implicit.get(n.sampleVariable.variable),i=n.corrected&&t.context.$implicit.get(n.learnerVariable.variable)===t.context.$implicit.get(n.sampleVariable.variable);e(t,0,0,r,i);var o=t.context.$implicit.get(n.learnerVariable.variable);e(t,4,0,o),e(t,5,0,n.displayAssignmentValue(t.context.$implicit,n.learnerVariable))}))}function xg(e){return vl(0,[(e()(),Jo(0,0,null,null,30,"div",[["class","container"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"h1",[["class","title is-3 has-text-centered"]],null,null,null,null,null)),(e()(),pl(2,null,["",""])),(e()(),Jo(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jo(4,0,null,null,26,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(5,0,null,null,25,"div",[["class","column is-half-desktop is-offset-one-quarter-desktop"]],null,null,null,null,null)),(e()(),Jo(6,0,null,null,2,"h2",[["class","subtitle is-4 has-text-centered"]],null,null,null,null,null)),(e()(),Jo(7,0,null,null,1,"code",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),pl(8,null,["",""])),(e()(),Jo(9,0,null,null,9,"table",[["class","table is-bordered is-fullwidth"]],null,null,null,null,null)),(e()(),Jo(10,0,null,null,5,"thead",[],null,null,null,null,null)),(e()(),Jo(11,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,bg)),ci(13,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Jo(14,0,null,null,1,"th",[["class","has-text-centered"]],null,null,null,null,null)),(e()(),pl(15,null,["",""])),(e()(),Jo(16,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,_g)),ci(18,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Jo(19,0,null,null,11,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(20,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(21,0,null,null,1,"button",[["class","button is-link is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=0!=(e.component.corrected=!0)&&r),r}),null,null)),(e()(),pl(-1,null,["L\xf6sung testen"])),(e()(),Jo(23,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(24,0,null,null,1,"button",[["class","button is-primary is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.update()&&r),r}),null,null)),(e()(),pl(-1,null,["N\xe4chste Aufgabe"])),(e()(),Jo(26,0,null,null,4,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(27,0,null,null,3,"a",[["class","button is-dark is-fullwidth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,28).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(28,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(29,2),(e()(),pl(-1,null,["Bearbeiten beenden"]))],(function(e,t){var n=t.component;e(t,13,0,n.formula.getVariables()),e(t,18,0,n.formula.getAllAssignments());var r=e(t,29,0,"/randomTools",n.tool.id);e(t,28,0,r)}),(function(e,t){var n=t.component;e(t,2,0,n.part.name),e(t,7,0,n.formula.asHtmlString()),e(t,8,0,n.formula.asHtmlString()),e(t,15,0,n.learnerVariable.variable),e(t,27,0,Yr(t,28).target,Yr(t,28).href)}))}function Cg(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,[["document","keypress"]],(function(e,t,n){var r=!0;return"document:keypress"===t&&(r=!1!==Yr(e,1).handleKeyboardEvent(n)&&r),r}),xg,yg)),ci(1,114688,null,0,vg,[],null,null)],(function(e,t){e(t,1,0)}),null)}var kg=Vr("ng-component",vg,Cg,{},{},[]);class Sg{constructor(){}}var Eg=er({encapsulation:2,styles:[],data:{}});function Tg(e){return vl(0,[(e()(),Jo(0,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"h3",[["class","subtitle is-4 has-text-info has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Folgende Operatoren sind definiert und d\xfcrfen verwendet werden:"])),(e()(),Jo(3,0,null,null,80,"table",[["class","table is-fullwidth"]],null,null,null,null,null)),(e()(),Jo(4,0,null,null,7,"thead",[],null,null,null,null,null)),(e()(),Jo(5,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),Jo(6,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),pl(-1,null,["Standardoperatoren"])),(e()(),Jo(8,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),pl(-1,null,["Mathematisches Symbol"])),(e()(),Jo(10,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),pl(-1,null,["Darstellung"])),(e()(),Jo(12,0,null,null,24,"tbody",[],null,null,null,null,null)),(e()(),Jo(13,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),Jo(14,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),pl(-1,null,["Nicht"])),(e()(),Jo(16,0,null,null,1,"td",[["class","has-background-grey-light"]],null,null,null,null,null)),(e()(),pl(-1,null,["\xac a"])),(e()(),Jo(18,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Jo(19,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["not a"])),(e()(),Jo(21,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),Jo(22,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),pl(-1,null,["Und"])),(e()(),Jo(24,0,null,null,1,"td",[["class","has-background-grey-light"]],null,null,null,null,null)),(e()(),pl(-1,null,["a \u2227 b"])),(e()(),Jo(26,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Jo(27,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["a and b"])),(e()(),Jo(29,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),Jo(30,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),pl(-1,null,["Oder"])),(e()(),Jo(32,0,null,null,1,"td",[["class","has-background-grey-light"]],null,null,null,null,null)),(e()(),pl(-1,null,["a \u2228 b"])),(e()(),Jo(34,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Jo(35,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["a or b"])),(e()(),Jo(37,0,null,null,5,"thead",[],null,null,null,null,null)),(e()(),Jo(38,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Jo(39,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),pl(-1,null,["Spezialoperatoren"])),(e()(),Jo(41,0,null,null,0,"th",[],null,null,null,null,null)),(e()(),Jo(42,0,null,null,0,"th",[],null,null,null,null,null)),(e()(),Jo(43,0,null,null,40,"tbody",[],null,null,null,null,null)),(e()(),Jo(44,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),Jo(45,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),pl(-1,null,["Exklusives Oder"])),(e()(),Jo(47,0,null,null,1,"td",[["class","has-background-grey-light"]],null,null,null,null,null)),(e()(),pl(-1,null,["a \u2295 b"])),(e()(),Jo(49,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Jo(50,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["a xor b"])),(e()(),Jo(52,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),Jo(53,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),pl(-1,null,["Negiertes Und"])),(e()(),Jo(55,0,null,null,1,"td",[["class","has-background-grey-light"]],null,null,null,null,null)),(e()(),pl(-1,null,["a \u22bc b"])),(e()(),Jo(57,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Jo(58,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["a nand b"])),(e()(),Jo(60,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),Jo(61,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),pl(-1,null,["Negiertes Oder"])),(e()(),Jo(63,0,null,null,1,"td",[["class","has-background-grey-light"]],null,null,null,null,null)),(e()(),pl(-1,null,["a \u22bd b"])),(e()(),Jo(65,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Jo(66,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["a nor b"])),(e()(),Jo(68,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),Jo(69,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),pl(-1,null,["\xc4quivalenz"])),(e()(),Jo(71,0,null,null,1,"td",[["class","has-background-grey-light"]],null,null,null,null,null)),(e()(),pl(-1,null,["a \u21d4 b"])),(e()(),Jo(73,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Jo(74,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["a equiv b"])),(e()(),Jo(76,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),Jo(77,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),pl(-1,null,["Implikation"])),(e()(),Jo(79,0,null,null,1,"td",[["class","has-background-grey-light"]],null,null,null,null,null)),(e()(),pl(-1,null,["a \u21d2 b"])),(e()(),Jo(81,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Jo(82,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["a impl b"])),(e()(),Jo(84,0,null,null,1,"h3",[["class","subtitle is-4 has-text-info has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Weitere Regeln"])),(e()(),Jo(86,0,null,null,46,"div",[["class","content"]],null,null,null,null,null)),(e()(),Jo(87,0,null,null,44,"ul",[],null,null,null,null,null)),(e()(),Jo(88,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Gro\xdf- und Kleinschreibung spielt keine Rolle."])),(e()(),Jo(90,0,null,null,41,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,[" Reihenfolge der Auswertung: "])),(e()(),Jo(92,0,null,null,39,"ul",[],null,null,null,null,null)),(e()(),Jo(93,0,null,null,12,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Die Operatorrangfolge ist folgenderma\xdfen festgelegt: "])),(e()(),Jo(95,0,null,null,10,"ol",[],null,null,null,null,null)),(e()(),Jo(96,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Nicht"])),(e()(),Jo(98,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Und"])),(e()(),Jo(100,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Oder"])),(e()(),Jo(102,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Implikation"])),(e()(),Jo(104,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Restliche Operatoren: exklusives Oder, Nicht Und, Nicht Oder, \xe4quivalenz"])),(e()(),Jo(106,0,null,null,8,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Beeinflussung der Auswertung: "])),(e()(),Jo(108,0,null,null,6,"ul",[],null,null,null,null,null)),(e()(),Jo(109,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Klammere, um die Reihenfolge festzulegen, in der Ausdr\xfccke ausgewertet werden. Beispiel: "])),(e()(),Jo(111,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["not((a or b) and c)"])),(e()(),Jo(113,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Ansonsten wird von links nach rechts ausgewertet (bei gleicher Pr\xe4zedenz der zweite Operator Vorrang) "])),(e()(),Jo(115,0,null,null,16,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Beispiele: "])),(e()(),Jo(117,0,null,null,14,"ul",[],null,null,null,null,null)),(e()(),Jo(118,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Nach Rangfolge: "])),(e()(),Jo(120,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["a xor b impl c or d and not e"])),(e()(),pl(-1,null,[" \u21d4 "])),(e()(),Jo(123,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["a xor (b impl (c or (d and (not e))))))"])),(e()(),Jo(125,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,["Gleichwertiger Rang (links nach rechts): "])),(e()(),Jo(127,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["a xor b nor c nand d equiv e"])),(e()(),pl(-1,null,[" \u21d4 "])),(e()(),Jo(130,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(-1,null,["((((a xor b) nor c) nand d) equiv e)"])),(e()(),Jo(132,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}var Og=n("+oOE");const Ag=Object(Og.createToken)({name:"WhiteSpace",pattern:/\s+/,group:Og.Lexer.SKIPPED}),Ig=Object(Og.createToken)({name:"Variable",pattern:/[a-z]/}),Ng=Object(Og.createToken)({name:"TRUE",pattern:/1|TRUE/i}),Rg=Object(Og.createToken)({name:"FALSE",pattern:/0|FALSE/i}),Lg=Object(Og.createToken)({name:"leftBracket",pattern:/\(/}),Mg=Object(Og.createToken)({name:"rightBracket",pattern:/\)/}),Pg=Object(Og.createToken)({name:"notOperator",pattern:/not/}),Dg=Object(Og.createToken)({name:"AndOperator",pattern:/and/}),jg=Object(Og.createToken)({name:"OrOperator",pattern:/or/}),Fg=Object(Og.createToken)({name:"Operators",pattern:/[x|n]or|nand|equiv|impl/}),Ug=[Lg,Mg,Pg,Dg,jg,Fg,Ng,Rg,Ig,Ag],Vg=new Og.Lexer(Ug);function zg(e,t,n){switch(t){case"and":return new ng(e,n);case"or":return new rg(e,n);case"xor":return new lg(e,n);case"nor":return new og(e,n);case"nand":return new ig(e,n);case"equiv":return new sg(e,n);case"impl":return new ag(e,n)}}class Hg extends Og.EmbeddedActionsParser{constructor(){super(Ug),this.trueRule=this.RULE("trueRule",()=>(this.CONSUME(Ng),Xm)),this.falseRule=this.RULE("falseRule",()=>(this.CONSUME(Rg),Jm)),this.variableRule=this.RULE("variableRule",()=>{const e=this.CONSUME(Ig);return new Qm(e.image[0])}),this.value=this.RULE("value",()=>this.OR([{ALT:()=>this.SUBRULE(this.variableRule)},{ALT:()=>this.SUBRULE(this.trueRule)},{ALT:()=>this.SUBRULE(this.falseRule)}])),this.binaryStatement=this.RULE("binaryStatement",()=>zg(this.SUBRULE(this.booleanFormula),this.CONSUME(Fg).image,this.SUBRULE2(this.booleanFormula))),this.factor=this.RULE("factor",()=>this.OR([{ALT:()=>this.SUBRULE(this.variableRule)},{ALT:()=>this.SUBRULE(this.trueRule)},{ALT:()=>this.SUBRULE(this.falseRule)},{ALT:()=>{this.CONSUME(Lg);const e=this.SUBRULE(this.booleanFormula);return this.CONSUME(Mg),e}}])),this.notFactor=this.RULE("notFactor",()=>{const e=void 0!==this.OPTION(()=>this.CONSUME(Pg)),t=this.SUBRULE(this.factor);return e?new eg(t):t}),this.andTermComponent=this.RULE("otherTerm",()=>{const e=this.SUBRULE(this.notFactor),t=this.OPTION(()=>{const e=this.CONSUME(Fg),t=this.SUBRULE2(this.notFactor);return{operator:e.image,right:t}});return t?zg(e,t.operator,t.right):e}),this.orTermComponent=this.RULE("orTerm",()=>{const e=this.SUBRULE(this.andTermComponent),t=this.OPTION(()=>(this.CONSUME(Dg),this.SUBRULE2(this.andTermComponent)));return t?new ng(e,t):e}),this.booleanFormula=this.RULE("booleanFormula",()=>{const e=this.SUBRULE(this.orTermComponent),t=this.OPTION(()=>(this.CONSUME(jg),this.SUBRULE2(this.orTermComponent)));return t?new rg(e,t):e}),this.performSelfAnalysis()}}class Bg extends gg{constructor(){super(),this.tool=wf,this.part=bf,this.sampleVariable=new Qm("z"),this.learnerVariable=new Qm("y"),this.solution="",this.corrected=!1,this.completelyCorrect=!1,this.showInstructions=!1}ngOnInit(){this.update()}update(){this.completelyCorrect=!1,this.corrected=!1,this.solution="",this.formula=mg(),this.formula.getAllAssignments().forEach(e=>e.set(this.sampleVariable.variable,this.formula.rootNode.evaluate(e)))}correct(){this.corrected=!0;const e=function(e){const t=Vg.tokenize(e),n=new Hg;return n.input=t.tokens,n.booleanFormula()}(this.solution);if(!e)return void alert("Konnte Formel >>"+this.solution+"<< nicht parsen!");const t=this.formula.getVariables().map(e=>e.variable),n=e.getVariables().map(e=>e.variable);var r,i;(r=t).length===(i=n).length&&r.every((e,t)=>e===i[t])?this.completelyCorrect=this.formula.getAllAssignments().every(t=>{const n=e.evaluate(t);return t.set(this.learnerVariable.variable,n),t.get(this.sampleVariable.variable)===n}):alert("Sie haben nicht die richtigen Variablen benutzt!")}handleKeyboardEvent(e){"Enter"===e.key&&(this.completelyCorrect?this.update():this.correct())}}var Wg=er({encapsulation:2,styles:[],data:{}});function $g(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"th",[["class","has-text-centered"]],null,null,null,null,null)),(e()(),pl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit.variable)}))}function Kg(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"td",[["class","has-text-centered"]],null,null,null,null,null)),(e()(),pl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.displayAssignmentValue(t.parent.context.$implicit,t.context.$implicit))}))}function qg(e){return vl(0,[(e()(),Jo(0,0,null,null,6,"tr",[],[[2,"has-text-danger",null],[2,"has-text-success",null]],null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,Kg)),ci(2,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Jo(3,0,null,null,1,"td",[["class","has-text-centered"]],null,null,null,null,null)),(e()(),pl(4,null,["",""])),(e()(),Jo(5,0,null,null,1,"td",[["class","has-text-centered"]],null,null,null,null,null)),(e()(),pl(6,null,["",""]))],(function(e,t){e(t,2,0,t.component.formula.getVariables())}),(function(e,t){var n=t.component,r=n.corrected&&t.context.$implicit.get(n.learnerVariable.variable)!==t.context.$implicit.get(n.sampleVariable.variable),i=n.corrected&&t.context.$implicit.get(n.learnerVariable.variable)===t.context.$implicit.get(n.sampleVariable.variable);e(t,0,0,r,i),e(t,4,0,n.displayAssignmentValue(t.context.$implicit,n.sampleVariable)),e(t,6,0,n.displayAssignmentValue(t.context.$implicit,n.learnerVariable))}))}function Gg(e){return vl(0,[(e()(),Jo(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"it4all-bool-create-instructions",[],null,null,null,Tg,Eg)),ci(2,49152,null,0,Sg,[],null,null)],null,null)}function Zg(e){return vl(0,[(e()(),Jo(0,0,null,null,45,"div",[["class","container"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"h1",[["class","title is-3 has-text-centered"]],null,null,null,null,null)),(e()(),pl(2,null,["",""])),(e()(),Jo(3,0,null,null,40,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(4,0,null,null,39,"div",[["class","column is-half-desktop is-offset-one-quarter-desktop"]],null,null,null,null,null)),(e()(),Jo(5,0,null,null,11,"table",[["class","table is-bordered is-fullwidth"]],null,null,null,null,null)),(e()(),Jo(6,0,null,null,7,"thead",[],null,null,null,null,null)),(e()(),Jo(7,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,$g)),ci(9,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Jo(10,0,null,null,1,"th",[["class","has-text-centered"]],null,null,null,null,null)),(e()(),pl(11,null,["",""])),(e()(),Jo(12,0,null,null,1,"th",[["class","has-text-centered"]],null,null,null,null,null)),(e()(),pl(13,null,["",""])),(e()(),Jo(14,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,qg)),ci(16,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Jo(17,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Jo(18,0,null,null,10,"div",[["class","field has-addons"]],null,null,null,null,null)),(e()(),Jo(19,0,null,null,2,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(20,0,null,null,1,"label",[["class","button is-static"],["for","solution"]],null,null,null,null,null)),(e()(),pl(21,null,[""," = "])),(e()(),Jo(22,0,null,null,6,"div",[["class","control is-expanded"]],null,null,null,null,null)),(e()(),Jo(23,0,null,null,5,"input",[["autocomplete","false"],["autofocus",""],["class","input"],["id","solution"],["placeholder","Boolesche Formel"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Yr(e,24)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,24).onTouched()&&r),"compositionstart"===t&&(r=!1!==Yr(e,24)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Yr(e,24)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.solution=n)&&r),r}),null,null)),ci(24,16384,null,0,Ff,[mn,cn,[2,jf]],null,null),hi(1024,null,Pf,(function(e){return[e]}),[Ff]),ci(26,671744,null,0,Up,[[8,null],[8,null],[8,null],[6,Pf]],{model:[0,"model"]},{update:"ngModelChange"}),hi(2048,null,Hf,null,[Up]),ci(28,16384,null,0,Wf,[[4,Hf]],null,null),(e()(),Jo(29,0,null,null,11,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(30,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(31,0,null,null,1,"button",[["class","button is-link is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.correct()&&r),r}),null,null)),(e()(),pl(-1,null,["Korrektur"])),(e()(),Jo(33,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(34,0,null,null,1,"button",[["class","button is-primary is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.update()&&r),r}),null,null)),(e()(),pl(-1,null,["N\xe4chste Aufgabe"])),(e()(),Jo(36,0,null,null,4,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(37,0,null,null,3,"a",[["class","button is-dark is-fullwidth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,38).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(38,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(39,2),(e()(),pl(-1,null,["Bearbeiten beenden"])),(e()(),Jo(41,0,null,null,2,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),Jo(42,0,null,null,1,"button",[["class","button is-info is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0,i=e.component;return"click"===t&&(r=0!=(i.showInstructions=!i.showInstructions)&&r),r}),null,null)),(e()(),pl(-1,null,[" Hilfe anzeigen "])),(e()(),Xo(16777216,null,null,1,null,Gg)),ci(45,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,9,0,n.formula.getVariables()),e(t,16,0,n.formula.getAllAssignments()),e(t,26,0,n.solution);var r=e(t,39,0,"/randomTools",n.tool.id);e(t,38,0,r),e(t,45,0,n.showInstructions)}),(function(e,t){var n=t.component;e(t,2,0,n.part.name),e(t,11,0,n.sampleVariable.variable),e(t,13,0,n.learnerVariable.variable),e(t,21,0,n.sampleVariable.variable),e(t,23,0,Yr(t,28).ngClassUntouched,Yr(t,28).ngClassTouched,Yr(t,28).ngClassPristine,Yr(t,28).ngClassDirty,Yr(t,28).ngClassValid,Yr(t,28).ngClassInvalid,Yr(t,28).ngClassPending),e(t,37,0,Yr(t,38).target,Yr(t,38).href)}))}function Qg(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,[["document","keypress"]],(function(e,t,n){var r=!0;return"document:keypress"===t&&(r=!1!==Yr(e,1).handleKeyboardEvent(n)&&r),r}),Zg,Wg)),ci(1,114688,null,0,Bg,[],null,null)],(function(e,t){e(t,1,0)}),null)}var Yg=Vr("ng-component",Bg,Qg,{},{},[]);const Xg={radix:2,name:"Bin\xe4rsystem",allowedDigits:"01"},Jg={radix:10,name:"Dezimalsystem",allowedDigits:"0123456789"},ev={radix:16,name:"Hexadezimalsystem",allowedDigits:"0123456789ABCDEF"},tv=[Xg,{radix:4,name:"Quatern\xe4rsystem",allowedDigits:"0123"},{radix:8,name:"Oktalsystem",allowedDigits:"01234567"},ev];class nv{constructor(e,t,n,r=null,i,o=!1){this.numberingSystem=e,this.fieldId=t,this.labelContent=n,this.fieldPlaceholder=r,this.decimalNumber=i,this.isReadonly=o}}class rv{getSummandNary(e,t){let n=e.toString(t);return 2===t&&(n=n.padStart(8,"0").match(/.{1,4}/g).join(" ")),n}}class iv extends rv{constructor(){super()}ngOnInit(){}getValue(){return this.naryNumberInput.decimalNumber?this.getSummandNary(this.naryNumberInput.decimalNumber,this.naryNumberInput.numberingSystem.radix):""}getPlaceholder(){return this.naryNumberInput.fieldPlaceholder||this.naryNumberInput.labelContent}}var ov=er({encapsulation:2,styles:[],data:{}});function lv(e){return vl(0,[(e()(),Jo(0,0,null,null,10,"div",[["class","field has-addons"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,3,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(2,0,null,null,2,"div",[["class","button is-static"]],null,null,null,null,null)),(e()(),Jo(3,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(e()(),pl(4,null,["",""])),(e()(),Jo(5,0,null,null,1,"div",[["class","control is-expanded"]],null,null,null,null,null)),(e()(),Jo(6,0,null,null,0,"input",[["class","input has-text-right"],["readonly",""]],[[8,"id",0],[8,"value",0],[8,"placeholder",0]],null,null,null,null)),(e()(),Jo(7,0,null,null,3,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(8,0,null,null,2,"div",[["class","button is-static"]],null,null,null,null,null)),(e()(),Jo(9,0,null,null,1,"sub",[],null,null,null,null,null)),(e()(),pl(10,null,["",""]))],null,(function(e,t){var n=t.component;e(t,3,0,Tr(1,"",n.naryNumberInput.fieldId,"")),e(t,4,0,n.naryNumberInput.labelContent),e(t,6,0,Tr(1,"",n.naryNumberInput.fieldId,""),n.getValue(),n.getPlaceholder()),e(t,10,0,n.naryNumberInput.numberingSystem.radix)}))}class sv extends rv{constructor(){super(),this.tool=kf,this.toolPart=_f,this.numberingSystems=tv,this.system=Xg,this.checked=!1,this.correct=!1,this.solutionString="",this.firstSummandInput=new nv(this.system,"firstSummand","Summand 1:",null,0,!0),this.secondSummandInput=new nv(this.system,"secondSummand","Summand 2:",null,0,!0),this.update()}update(){this.target=Km(1,256);const e=Km(1,this.target);this.firstSummandInput.decimalNumber=e,this.firstSummandInput.numberingSystem=this.system,this.secondSummandInput.decimalNumber=this.target-e,this.secondSummandInput.numberingSystem=this.system,this.checked=!1,this.correct=!1,this.solutionString=""}checkSolution(){const e=this.solutionString.replace(/\s/g,"").split("").reverse().join(""),t=parseInt(e,this.system.radix);this.checked=!0,this.correct=t===this.target}handleKeyboardEvent(e){"Enter"===e.key&&(this.correct?this.update():this.checkSolution())}}var av=er({encapsulation:0,styles:["#solution[_ngcontent-%COMP%] {\n          direction: rtl;\n          unicode-bidi: bidi-override\n      }"],data:{}});function uv(e){return vl(0,[(e()(),Jo(0,0,null,null,3,"option",[],null,null,null,null,null)),ci(1,147456,null,0,op,[cn,mn,[2,ip]],{ngValue:[0,"ngValue"]},null),ci(2,147456,null,0,sp,[cn,mn,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),pl(3,null,[""," - ",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit.radix,t.context.$implicit.name)}))}function cv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(e()(),pl(-1,null,["Die L\xf6sung ist nicht korrekt."]))],null,null)}function hv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"div",[["class","help is-success"]],null,null,null,null,null)),(e()(),pl(-1,null,["Die L\xf6sung ist korrekt."]))],null,null)}function dv(e){return vl(0,[(e()(),Jo(0,0,null,null,61,"div",[["class","container"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"h1",[["class","title is-3 has-text-centered"]],null,null,null,null,null)),(e()(),pl(2,null,["",""])),(e()(),Jo(3,0,null,null,58,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(4,0,null,null,57,"div",[["class","column is-half-desktop is-offset-one-quarter-desktop"]],null,null,null,null,null)),(e()(),Jo(5,0,null,null,12,"div",[["class","field"]],null,null,null,null,null)),(e()(),Jo(6,0,null,null,1,"label",[["class","label has-text-centered"],["for","numberSystem"]],null,null,null,null,null)),(e()(),pl(-1,null,["Zahlensystem"])),(e()(),Jo(8,0,null,null,9,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(9,0,null,null,8,"div",[["class","select is-fullwidth"]],null,null,null,null,null)),(e()(),Jo(10,0,null,null,7,"select",[["id","numberSystem"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Yr(e,11).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,11).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.system=n)&&r),"change"===t&&(r=!1!==i.update()&&r),r}),null,null)),ci(11,16384,null,0,ip,[mn,cn],null,null),hi(1024,null,Pf,(function(e){return[e]}),[ip]),ci(13,671744,null,0,Up,[[8,null],[8,null],[8,null],[6,Pf]],{model:[0,"model"]},{update:"ngModelChange"}),hi(2048,null,Hf,null,[Up]),ci(15,16384,null,0,Wf,[[4,Hf]],null,null),(e()(),Xo(16777216,null,null,1,null,uv)),ci(17,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Jo(18,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Jo(19,0,null,null,1,"it4all-nary-number-input",[],null,null,null,lv,ov)),ci(20,114688,null,0,iv,[],{naryNumberInput:[0,"naryNumberInput"]},null),(e()(),Jo(21,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jo(22,0,null,null,1,"it4all-nary-number-input",[],null,null,null,lv,ov)),ci(23,114688,null,0,iv,[],{naryNumberInput:[0,"naryNumberInput"]},null),(e()(),Jo(24,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Jo(25,0,null,null,23,"div",[["class","field"]],null,null,null,null,null)),(e()(),Jo(26,0,null,null,18,"div",[["class","field has-addons"]],null,null,null,null,null)),(e()(),Jo(27,0,null,null,3,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(28,0,null,null,2,"div",[["class","button is-static"]],null,null,null,null,null)),(e()(),Jo(29,0,null,null,1,"label",[["for","solution"]],null,null,null,null,null)),(e()(),pl(-1,null,["L\xf6sung:"])),(e()(),Jo(31,0,null,null,9,"div",[["class","control is-expanded"]],null,null,null,null,null)),(e()(),Jo(32,0,null,null,8,"input",[["autocomplete","false"],["autofocus",""],["class","input"],["id","solution"],["placeholder","L\xf6sung"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Yr(e,36)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,36).onTouched()&&r),"compositionstart"===t&&(r=!1!==Yr(e,36)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Yr(e,36)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.solutionString=n)&&r),r}),null,null)),hi(512,null,Vs,zs,[An,In,cn,mn]),ci(34,278528,null,0,Bs,[Vs],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),dl(35,{"is-success":0,"is-danger":1}),ci(36,16384,null,0,Ff,[mn,cn,[2,jf]],null,null),hi(1024,null,Pf,(function(e){return[e]}),[Ff]),ci(38,671744,null,0,Up,[[8,null],[8,null],[8,null],[6,Pf]],{model:[0,"model"]},{update:"ngModelChange"}),hi(2048,null,Hf,null,[Up]),ci(40,16384,null,0,Wf,[[4,Hf]],null,null),(e()(),Jo(41,0,null,null,3,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(42,0,null,null,2,"div",[["class","button is-static"]],null,null,null,null,null)),(e()(),Jo(43,0,null,null,1,"sub",[],null,null,null,null,null)),(e()(),pl(44,null,["",""])),(e()(),Xo(16777216,null,null,1,null,cv)),ci(46,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Xo(16777216,null,null,1,null,hv)),ci(48,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Jo(49,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jo(50,0,null,null,11,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(51,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(52,0,null,null,1,"button",[["class","button is-link is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.checkSolution()&&r),r}),null,null)),(e()(),pl(-1,null,["L\xf6sung testen"])),(e()(),Jo(54,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(55,0,null,null,1,"button",[["class","button is-primary is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.update()&&r),r}),null,null)),(e()(),pl(-1,null,["N\xe4chste Aufgabe"])),(e()(),Jo(57,0,null,null,4,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(58,0,null,null,3,"button",[["class","button is-dark is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,59).onClick()&&r),r}),null,null)),ci(59,16384,null,0,Md,[Ld,xh,[8,null],mn,cn],{routerLink:[0,"routerLink"]},null),hl(60,2),(e()(),pl(-1,null,["Beenden"]))],(function(e,t){var n=t.component;e(t,13,0,n.system),e(t,17,0,n.numberingSystems),e(t,20,0,n.firstSummandInput),e(t,23,0,n.secondSummandInput);var r=e(t,35,0,n.checked&&n.correct,n.checked&&!n.correct);e(t,34,0,"input",r),e(t,38,0,n.solutionString),e(t,46,0,n.checked&&!n.correct),e(t,48,0,n.checked&&n.correct);var i=e(t,60,0,"/randomTools",n.tool.id);e(t,59,0,i)}),(function(e,t){var n=t.component;e(t,2,0,n.toolPart.name),e(t,10,0,Yr(t,15).ngClassUntouched,Yr(t,15).ngClassTouched,Yr(t,15).ngClassPristine,Yr(t,15).ngClassDirty,Yr(t,15).ngClassValid,Yr(t,15).ngClassInvalid,Yr(t,15).ngClassPending),e(t,32,0,Yr(t,40).ngClassUntouched,Yr(t,40).ngClassTouched,Yr(t,40).ngClassPristine,Yr(t,40).ngClassDirty,Yr(t,40).ngClassValid,Yr(t,40).ngClassInvalid,Yr(t,40).ngClassPending),e(t,44,0,n.system.radix)}))}function fv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,[["document","keypress"]],(function(e,t,n){var r=!0;return"document:keypress"===t&&(r=!1!==Yr(e,1).handleKeyboardEvent(n)&&r),r}),dv,av)),ci(1,49152,null,0,sv,[],null,null)],null,null)}var pv=Vr("ng-component",sv,fv,{},{},[]);class mv extends rv{constructor(){super(),this.tool=kf,this.toolPart=xf,this.numberingSystems=tv,this.startSystem=Xg,this.targetSystem=ev,this.toConvertInput=new nv(this.startSystem,"toConvert","Startzahl:",null,0,!0),this.checked=!1,this.correct=!1,this.update()}update(){this.toConvertInput.decimalNumber=Km(1,256),this.toConvertInput.numberingSystem=this.startSystem,this.solutionString="",this.checked=!1,this.correct=!1}checkSolution(){this.checked=!0;const e=parseInt(this.solutionString.trim(),this.targetSystem.radix);this.correct=e===this.toConvertInput.decimalNumber}handleKeyboardEvent(e){"Enter"===e.key&&(this.correct?this.update():this.checkSolution())}}var gv=er({encapsulation:2,styles:[],data:{}});function vv(e){return vl(0,[(e()(),Jo(0,0,null,null,3,"option",[],null,null,null,null,null)),ci(1,147456,null,0,op,[cn,mn,[2,ip]],{ngValue:[0,"ngValue"]},null),ci(2,147456,null,0,sp,[cn,mn,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),pl(3,null,[""," - ",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit.radix,t.context.$implicit.name)}))}function yv(e){return vl(0,[(e()(),Jo(0,0,null,null,3,"option",[],null,null,null,null,null)),ci(1,147456,null,0,op,[cn,mn,[2,ip]],{ngValue:[0,"ngValue"]},null),ci(2,147456,null,0,sp,[cn,mn,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),pl(3,null,[""," - ",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit.radix,t.context.$implicit.name)}))}function bv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(e()(),pl(-1,null,["Die L\xf6sung ist nicht korrekt."]))],null,null)}function wv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"div",[["class","help is-success"]],null,null,null,null,null)),(e()(),pl(-1,null,["Die L\xf6sung ist korrekt."]))],null,null)}function _v(e){return vl(0,[(e()(),Jo(0,0,null,null,74,"div",[["class","container"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"h1",[["class","title is-3 has-text-centered"]],null,null,null,null,null)),(e()(),pl(2,null,["",""])),(e()(),Jo(3,0,null,null,71,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(4,0,null,null,70,"div",[["class","column is-half-desktop is-offset-one-quarter-desktop"]],null,null,null,null,null)),(e()(),Jo(5,0,null,null,28,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(6,0,null,null,13,"div",[["class","column is-half-desktop"]],null,null,null,null,null)),(e()(),Jo(7,0,null,null,12,"div",[["class","field"]],null,null,null,null,null)),(e()(),Jo(8,0,null,null,1,"label",[["class","label has-text-centered"],["for","startSystem"]],null,null,null,null,null)),(e()(),pl(-1,null,["Startsystem"])),(e()(),Jo(10,0,null,null,9,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(11,0,null,null,8,"div",[["class","select is-fullwidth"]],null,null,null,null,null)),(e()(),Jo(12,0,null,null,7,"select",[["id","startSystem"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Yr(e,13).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,13).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.startSystem=n)&&r),"change"===t&&(r=!1!==i.update()&&r),r}),null,null)),ci(13,16384,null,0,ip,[mn,cn],null,null),hi(1024,null,Pf,(function(e){return[e]}),[ip]),ci(15,671744,null,0,Up,[[8,null],[8,null],[8,null],[6,Pf]],{model:[0,"model"]},{update:"ngModelChange"}),hi(2048,null,Hf,null,[Up]),ci(17,16384,null,0,Wf,[[4,Hf]],null,null),(e()(),Xo(16777216,null,null,1,null,vv)),ci(19,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Jo(20,0,null,null,13,"div",[["class","column is-half-desktop"]],null,null,null,null,null)),(e()(),Jo(21,0,null,null,12,"div",[["class","field"]],null,null,null,null,null)),(e()(),Jo(22,0,null,null,1,"label",[["class","label has-text-centered"],["for","targetSystem"]],null,null,null,null,null)),(e()(),pl(-1,null,["Zielsystem"])),(e()(),Jo(24,0,null,null,9,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(25,0,null,null,8,"div",[["class","select is-fullwidth"]],null,null,null,null,null)),(e()(),Jo(26,0,null,null,7,"select",[["id","targetSystem"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Yr(e,27).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,27).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.targetSystem=n)&&r),"change"===t&&(r=!1!==i.update()&&r),r}),null,null)),ci(27,16384,null,0,ip,[mn,cn],null,null),hi(1024,null,Pf,(function(e){return[e]}),[ip]),ci(29,671744,null,0,Up,[[8,null],[8,null],[8,null],[6,Pf]],{model:[0,"model"]},{update:"ngModelChange"}),hi(2048,null,Hf,null,[Up]),ci(31,16384,null,0,Wf,[[4,Hf]],null,null),(e()(),Xo(16777216,null,null,1,null,yv)),ci(33,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Jo(34,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Jo(35,0,null,null,1,"it4all-nary-number-input",[],null,null,null,lv,ov)),ci(36,114688,null,0,iv,[],{naryNumberInput:[0,"naryNumberInput"]},null),(e()(),Jo(37,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Jo(38,0,null,null,23,"div",[["class","field"]],null,null,null,null,null)),(e()(),Jo(39,0,null,null,18,"div",[["class","field has-addons"]],null,null,null,null,null)),(e()(),Jo(40,0,null,null,3,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(41,0,null,null,2,"div",[["class","button is-static"]],null,null,null,null,null)),(e()(),Jo(42,0,null,null,1,"label",[["for","solution"]],null,null,null,null,null)),(e()(),pl(-1,null,["L\xf6sung:"])),(e()(),Jo(44,0,null,null,9,"div",[["class","control is-expanded"]],null,null,null,null,null)),(e()(),Jo(45,0,null,null,8,"input",[["autofocus",""],["class","input has-text-right"],["id","solution"],["placeholder","L\xf6sung"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Yr(e,49)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,49).onTouched()&&r),"compositionstart"===t&&(r=!1!==Yr(e,49)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Yr(e,49)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.solutionString=n)&&r),r}),null,null)),hi(512,null,Vs,zs,[An,In,cn,mn]),ci(47,278528,null,0,Bs,[Vs],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),dl(48,{"is-success":0,"is-danger":1}),ci(49,16384,null,0,Ff,[mn,cn,[2,jf]],null,null),hi(1024,null,Pf,(function(e){return[e]}),[Ff]),ci(51,671744,null,0,Up,[[8,null],[8,null],[8,null],[6,Pf]],{model:[0,"model"]},{update:"ngModelChange"}),hi(2048,null,Hf,null,[Up]),ci(53,16384,null,0,Wf,[[4,Hf]],null,null),(e()(),Jo(54,0,null,null,3,"div",[["class","control"]],null,null,null,null,null)),(e()(),Jo(55,0,null,null,2,"div",[["class","button is-static"]],null,null,null,null,null)),(e()(),Jo(56,0,null,null,1,"sub",[],null,null,null,null,null)),(e()(),pl(57,null,["",""])),(e()(),Xo(16777216,null,null,1,null,bv)),ci(59,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Xo(16777216,null,null,1,null,wv)),ci(61,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Jo(62,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jo(63,0,null,null,11,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(64,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(65,0,null,null,1,"button",[["class","button is-link is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.checkSolution()&&r),r}),null,null)),(e()(),pl(-1,null,["L\xf6sung testen"])),(e()(),Jo(67,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(68,0,null,null,1,"button",[["class","button is-primary is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.update()&&r),r}),null,null)),(e()(),pl(-1,null,["N\xe4chste Aufgabe"])),(e()(),Jo(70,0,null,null,4,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(71,0,null,null,3,"button",[["class","button is-dark is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,72).onClick()&&r),r}),null,null)),ci(72,16384,null,0,Md,[Ld,xh,[8,null],mn,cn],{routerLink:[0,"routerLink"]},null),hl(73,2),(e()(),pl(-1,null,["Beenden"]))],(function(e,t){var n=t.component;e(t,15,0,n.startSystem),e(t,19,0,n.numberingSystems),e(t,29,0,n.targetSystem),e(t,33,0,n.numberingSystems),e(t,36,0,n.toConvertInput);var r=e(t,48,0,n.checked&&n.correct,n.checked&&!n.correct);e(t,47,0,"input has-text-right",r),e(t,51,0,n.solutionString),e(t,59,0,n.checked&&!n.correct),e(t,61,0,n.checked&&n.correct);var i=e(t,73,0,"/randomTools",n.tool.id);e(t,72,0,i)}),(function(e,t){var n=t.component;e(t,2,0,n.toolPart.name),e(t,12,0,Yr(t,17).ngClassUntouched,Yr(t,17).ngClassTouched,Yr(t,17).ngClassPristine,Yr(t,17).ngClassDirty,Yr(t,17).ngClassValid,Yr(t,17).ngClassInvalid,Yr(t,17).ngClassPending),e(t,26,0,Yr(t,31).ngClassUntouched,Yr(t,31).ngClassTouched,Yr(t,31).ngClassPristine,Yr(t,31).ngClassDirty,Yr(t,31).ngClassValid,Yr(t,31).ngClassInvalid,Yr(t,31).ngClassPending),e(t,45,0,Yr(t,53).ngClassUntouched,Yr(t,53).ngClassTouched,Yr(t,53).ngClassPristine,Yr(t,53).ngClassDirty,Yr(t,53).ngClassValid,Yr(t,53).ngClassInvalid,Yr(t,53).ngClassPending),e(t,57,0,n.targetSystem.radix)}))}function xv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,[["document","keypress"]],(function(e,t,n){var r=!0;return"document:keypress"===t&&(r=!1!==Yr(e,1).handleKeyboardEvent(n)&&r),r}),_v,gv)),ci(1,49152,null,0,mv,[],null,null)],null,null)}var Cv=Vr("ng-component",mv,xv,{},{},[]);class kv extends rv{constructor(){super(),this.tool=kf,this.toolPart=Cf,this.withIntermediateSteps=!0,this.toConvertInput=new nv(Jg,"startNumber","Startzahl:",null,0,!0),this.binaryAbsolute=new nv(Xg,"binaryAbsolute","Bin\xe4rdarstellung:","Bin\xe4rdarstellung")}ngOnInit(){this.update()}update(){this.toConvertInput.decimalNumber=Km(0,256),this.binaryAbsolute.decimalNumber=void 0}checkSolution(){}}var Sv=er({encapsulation:2,styles:[],data:{}});function Ev(e){return vl(0,[(e()(),Jo(0,0,null,null,33,"div",[["class","container"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"h1",[["class","title is-3 has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Zweierkomplement"])),(e()(),Jo(3,0,null,null,30,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(4,0,null,null,29,"div",[["class","column is-half-desktop is-offset-one-quarter-desktop"]],null,null,null,null,null)),(e()(),Jo(5,0,null,null,9,"div",[["class","field"]],null,null,null,null,null)),(e()(),Jo(6,0,null,null,8,"div",[["class","control has-text-centered"]],null,null,null,null,null)),(e()(),Jo(7,0,null,null,7,"label",[["class","checkbox"]],null,null,null,null,null)),(e()(),Jo(8,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"change"===t&&(r=!1!==Yr(e,9).onChange(n.target.checked)&&r),"blur"===t&&(r=!1!==Yr(e,9).onTouched()&&r),"ngModelChange"===t&&(r=!1!==(i.withIntermediateSteps=n)&&r),r}),null,null)),ci(9,16384,null,0,Df,[mn,cn],null,null),hi(1024,null,Pf,(function(e){return[e]}),[Df]),ci(11,671744,null,0,Up,[[8,null],[8,null],[8,null],[6,Pf]],{model:[0,"model"]},{update:"ngModelChange"}),hi(2048,null,Hf,null,[Up]),ci(13,16384,null,0,Wf,[[4,Hf]],null,null),(e()(),pl(-1,null,[" Mit Zwischenschritten "])),(e()(),Jo(15,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),Jo(16,0,null,null,1,"it4all-nary-number-input",[],null,null,null,lv,ov)),ci(17,114688,null,0,iv,[],{naryNumberInput:[0,"naryNumberInput"]},null),(e()(),Jo(18,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jo(19,0,null,null,1,"it4all-nary-number-input",[],null,null,null,lv,ov)),ci(20,114688,null,0,iv,[],{naryNumberInput:[0,"naryNumberInput"]},null),(e()(),Jo(21,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jo(22,0,null,null,11,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(23,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(24,0,null,null,1,"button",[["class","button is-link is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.checkSolution()&&r),r}),null,null)),(e()(),pl(-1,null,["L\xf6sung testen"])),(e()(),Jo(26,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(27,0,null,null,1,"button",[["class","button is-primary is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.update()&&r),r}),null,null)),(e()(),pl(-1,null,["N\xe4chste Aufgabe"])),(e()(),Jo(29,0,null,null,4,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(30,0,null,null,3,"button",[["class","button is-dark is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,31).onClick()&&r),r}),null,null)),ci(31,16384,null,0,Md,[Ld,xh,[8,null],mn,cn],{routerLink:[0,"routerLink"]},null),hl(32,2),(e()(),pl(-1,null,["Beenden"]))],(function(e,t){var n=t.component;e(t,11,0,n.withIntermediateSteps),e(t,17,0,n.toConvertInput),e(t,20,0,n.binaryAbsolute);var r=e(t,32,0,"/random-tools",n.tool.id);e(t,31,0,r)}),(function(e,t){e(t,8,0,Yr(t,13).ngClassUntouched,Yr(t,13).ngClassTouched,Yr(t,13).ngClassPristine,Yr(t,13).ngClassDirty,Yr(t,13).ngClassValid,Yr(t,13).ngClassInvalid,Yr(t,13).ngClassPending)}))}function Tv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,Ev,Sv)),ci(1,114688,null,0,kv,[],null,null)],(function(e,t){e(t,1,0)}),null)}var Ov=Vr("ng-component",kv,Tv,{},{},[]);class Av{constructor(e,t,n){this.route=e,this.apiService=t,this.router=n,this.collections=[],this.toolId=this.route.snapshot.paramMap.get("toolId"),void 0===this.toolId&&this.router.navigate(["/"])}ngOnInit(){this.apiService.getCollections(this.toolId).subscribe(e=>this.collections=e,e=>console.error("X:  "+e))}}let Iv=(()=>{class e{constructor(e){this.http=e,this.baseUrl="/api/tools"}getCollections(e){return this.http.get(`${this.baseUrl}/${e}/collections`)}getCollection(e,t){return this.http.get(`${this.baseUrl}/${e}/collections/${t}`)}getExercises(e,t){return this.http.get(`${this.baseUrl}/${e}/collections/${t}/exercises`)}getExercise(e,t,n){return this.http.get(`${this.baseUrl}/${e}/collections/${t}/exercises/${n}`)}correctSolution(t,n,r,i,o){return this.http.put(`${this.baseUrl}/${t}/collections/${n}/exercises/${r}/${i}`,JSON.stringify(o),e.putHttpOptions)}}return e.putHttpOptions={headers:new em({"Content-Type":"application/json"})},e.ngInjectableDef=fe({factory:function(){return new e(Fe(pm))},token:e,providedIn:"root"}),e})();var Nv=er({encapsulation:2,styles:[],data:{}});function Rv(e){return vl(0,[(e()(),Jo(0,0,null,null,4,"div",[["class","column is-one-third"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,3,"a",[["class","button is-link is-fullwidth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(2,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(3,4),(e()(),pl(4,null,["",""]))],(function(e,t){var n=e(t,3,0,"/tools",t.component.toolId,"collections",t.context.$implicit.id);e(t,2,0,n)}),(function(e,t){e(t,1,0,Yr(t,2).target,Yr(t,2).href),e(t,4,0,t.context.$implicit.title)}))}function Lv(e){return vl(0,[(e()(),Jo(0,0,null,null,2,"div",[["class","columns is-multiline"]],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,Rv)),ci(2,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.collections)}),null)}function Mv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"div",[["class","notification is-danger has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,[" Es konnten keine Sammlungen gefunden werden! "]))],null,null)}function Pv(e){return vl(0,[(e()(),Jo(0,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"h1",[["class","title is-3 has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Sammlungen"])),(e()(),Xo(16777216,null,null,1,null,Lv)),ci(4,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Xo(0,[["elseBlock",2]],null,0,null,Mv))],(function(e,t){var n=t.component;e(t,4,0,(null==n.collections?null:n.collections.length)>0,Yr(t,5))}),null)}function Dv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,Pv,Nv)),ci(1,114688,null,0,Av,[xh,Iv,Ld],null,null)],(function(e,t){e(t,1,0)}),null)}var jv=Vr("ng-component",Av,Dv,{},{},[]);class Fv{constructor(e,t){this.route=e,this.apiService=t,this.exercises=[];const n=this.route.snapshot.paramMap.get("toolId");this.tool=vf.find(e=>e.id===n),this.collId=parseInt(e.snapshot.paramMap.get("collId"),10)}ngOnInit(){this.apiService.getCollection(this.tool.id,this.collId).subscribe(e=>{this.collection=e,this.updateExercises()})}updateExercises(){this.apiService.getExercises(this.tool.id,this.collection.id).subscribe(e=>this.exercises=e)}}var Uv=er({encapsulation:2,styles:[],data:{}});function Vv(e){return vl(0,[(e()(),Jo(0,0,null,null,3,"a",[["class","button is-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(1,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(2,8),(e()(),pl(3,null,["",""]))],(function(e,t){var n=t.component,r=e(t,2,0,"/tools",n.tool.id,"collections",n.collId,"exercises",t.parent.parent.context.$implicit.id,"parts",t.parent.context.$implicit.id);e(t,1,0,r)}),(function(e,t){e(t,0,0,Yr(t,1).target,Yr(t,1).href),e(t,3,0,t.parent.context.$implicit.name)}))}function zv(e){return vl(0,[(e()(),Jo(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,Vv)),ci(2,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Xo(0,null,null,0))],(function(e,t){e(t,2,0,!t.context.$implicit.disabled)}),null)}function Hv(e){return vl(0,[(e()(),Jo(0,0,null,null,8,"div",[["class","column is-one-third-desktop is-one-half"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,7,"div",[["class","card"]],null,null,null,null,null)),(e()(),Jo(2,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(e()(),Jo(3,0,null,null,1,"div",[["class","card-header-title"]],null,null,null,null,null)),(e()(),pl(4,null,["",". ",""])),(e()(),Jo(5,0,null,null,3,"div",[["class","card-content"]],null,null,null,null,null)),(e()(),Jo(6,0,null,null,2,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,zv)),ci(8,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,8,0,t.component.tool.parts)}),(function(e,t){e(t,4,0,t.context.$implicit.id,t.context.$implicit.title)}))}function Bv(e){return vl(0,[(e()(),Jo(0,0,null,null,5,"section",[],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"h1",[["class","title is-3 has-text-centered"]],null,null,null,null,null)),(e()(),pl(2,null,['Sammlung "','"'])),(e()(),Jo(3,0,null,null,2,"div",[["class","columns is-multiline"]],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,Hv)),ci(5,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,5,0,t.component.exercises)}),(function(e,t){e(t,2,0,t.component.collection.title)}))}function Wv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"div",[["class","notification is-danger"]],null,null,null,null,null)),(e()(),pl(1,null,[" Sammlung mit der ID "," f\xfcr das Tool "," konnte nicht gefunden werden! "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.collId,n.tool.name)}))}function $v(e){return vl(0,[(e()(),Jo(0,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,Bv)),ci(2,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Xo(0,[["collectionNotFoundBlock",2]],null,0,null,Wv))],(function(e,t){e(t,2,0,void 0!==t.component.collection,Yr(t,3))}),null)}function Kv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,$v,Uv)),ci(1,114688,null,0,Fv,[xh,Iv],null,null)],(function(e,t){e(t,1,0)}),null)}var qv=Vr("ng-component",Fv,Kv,{},{},[]);class Gv{constructor(){this.active=!1}}var Zv=er({encapsulation:2,styles:[],data:{}});function Qv(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"div",[],[[8,"hidden",0]],null,null,null,null)),ul(null,0)],null,(function(e,t){e(t,0,0,!t.component.active)}))}function Yv(e){return e?e.replace(/\r\n|\r/g,"\n"):e}n("mrSG");let Xv=class{constructor(e,t){this._differs=e,this._ngZone=t,this.className="",this.name="codemirror",this.autoFocus=!1,this.preserveScrollPosition=!1,this.cursorActivity=new Mi,this.focusChange=new Mi,this.scroll=new Mi,this.value="",this.disabled=!1,this.isFocused=!1,this.onChange=e=>{},this.onTouched=()=>{}}set options(e){this._options=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}get codeMirrorGlobal(){return this._codeMirror?this._codeMirror:(this._codeMirror=n("VrN/"),this._codeMirror)}ngAfterViewInit(){this.ref&&this._ngZone.runOutsideAngular(()=>{this.codeMirror=this.codeMirrorGlobal.fromTextArea(this.ref.nativeElement,this._options),this.codeMirror.on("cursorActivity",e=>this._ngZone.run(()=>this.cursorActive(e))),this.codeMirror.on("scroll",this.scrollChanged.bind(this)),this.codeMirror.on("blur",()=>this._ngZone.run(()=>this.focusChanged(!1))),this.codeMirror.on("focus",()=>this._ngZone.run(()=>this.focusChanged(!0))),this.codeMirror.on("change",(e,t)=>this._ngZone.run(()=>this.codemirrorValueChanged(e,t))),this.codeMirror.setValue(this.value)})}ngDoCheck(){if(!this._differ)return;const e=this._differ.diff(this._options);e&&(e.forEachChangedItem(e=>this.setOptionIfChanged(e.key,e.currentValue)),e.forEachAddedItem(e=>this.setOptionIfChanged(e.key,e.currentValue)),e.forEachRemovedItem(e=>this.setOptionIfChanged(e.key,e.currentValue)))}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(e,t){"setValue"!==t.origin&&(this.value=e.getValue(),this.onChange(this.value))}setOptionIfChanged(e,t){this.codeMirror&&this.codeMirror.setOption(e,t)}focusChanged(e){this.onTouched(),this.isFocused=e,this.focusChange.emit(e)}scrollChanged(e){this.scroll.emit(e.getScrollInfo())}cursorActive(e){this.cursorActivity.emit(e)}writeValue(e){if(null==e)return;if(!this.codeMirror)return void(this.value=e);const t=this.codeMirror.getValue();if(e!==t&&Yv(t)!==Yv(e))if(this.value=e,this.preserveScrollPosition){const e=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(e.left,e.top)}else this.codeMirror.setValue(this.value)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this.setOptionIfChanged("readOnly",this.disabled)}},Jv=class{};var ey=er({encapsulation:2,styles:[],data:{}});function ty(e){return vl(2,[il(402653184,1,{ref:0}),(e()(),Jo(1,0,[[1,0],["ref",1]],null,1,"textarea",[["autocomplete","off"]],[[8,"name",0],[8,"className",0],[2,"ngx-codemirror--focused",null],[8,"autofocus",0]],null,null,null,null)),(e()(),pl(-1,null,["    "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.name,Tr(1,"ngx-codemirror ",n.className,""),n.isFocused,n.autoFocus)}))}function ny(e){return{mode:e,lineNumbers:!0,theme:"eclipse",indentUnit:4,readOnly:!1,extraKeys:{Tab:e=>e.execCommand("indentMore"),"Shift-Tab":e=>e.execCommand("indentLess")}}}class ry{constructor(){this.editorOptions=ny(this.mode),this.content=""}ngOnChanges(e){if(this.exerciseFiles&&this.exerciseFiles.length>0){const e=this.exerciseFiles.filter(e=>e.editable);this.updateEditor(e.length>0?e[0]:this.exerciseFiles[0])}}changeFile(e){if(e.target){const t=e.target.textContent;this.exerciseFiles.forEach(e=>e.active=!1);const n=this.exerciseFiles.find(e=>e.name===t);n&&this.updateEditor(n)}}updateEditor(e){e.active=!0,this.content=e.content,this.editorOptions.mode=e.fileType,this.editorOptions.readOnly=!e.editable}}var iy=er({encapsulation:2,styles:[[".CodeMirror{border:1px solid grey;height:700px}"]],data:{}});function oy(e){return vl(0,[(e()(),Jo(0,0,null,null,2,"li",[],[[2,"is-active",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.changeFile(n)&&r),r}),null,null)),(e()(),Jo(1,0,null,null,1,"a",[],[[2,"has-text-grey-light",null],[8,"title",0]],null,null,null,null)),(e()(),pl(2,null,["",""]))],null,(function(e,t){e(t,0,0,t.context.$implicit.active),e(t,1,0,!t.context.$implicit.editable,t.context.$implicit.editable?"":"Nicht editierbar"),e(t,2,0,t.context.$implicit.name)}))}function ly(e){return vl(0,[(e()(),Jo(0,0,null,null,3,"div",[["class","tabs is-centered"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,oy)),ci(3,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Jo(4,0,null,null,5,"ngx-codemirror",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var r=!0;return"ngModelChange"===t&&(r=!1!==(e.component.content=n)&&r),r}),ty,ey)),ci(5,4636672,null,0,Xv,[In,co],{options:[0,"options"]},null),hi(1024,null,Pf,(function(e){return[e]}),[Xv]),ci(7,671744,null,0,Up,[[8,null],[8,null],[8,null],[6,Pf]],{model:[0,"model"]},{update:"ngModelChange"}),hi(2048,null,Hf,null,[Up]),ci(9,16384,null,0,Wf,[[4,Hf]],null,null)],(function(e,t){var n=t.component;e(t,3,0,n.exerciseFiles),e(t,5,0,n.editorOptions),e(t,7,0,n.content)}),(function(e,t){e(t,4,0,Yr(t,9).ngClassUntouched,Yr(t,9).ngClassTouched,Yr(t,9).ngClassPristine,Yr(t,9).ngClassDirty,Yr(t,9).ngClassValid,Yr(t,9).ngClassInvalid,Yr(t,9).ngClassPending)}))}class sy{constructor(){}ngAfterContentInit(){const e=this.tabs.filter(e=>e.active);this.tabs.length>0&&0===e.length&&this.selectTab(this.tabs.first)}selectTab(e){this.tabs.toArray().forEach(e=>e.active=!1),e.active=!0}}var ay=er({encapsulation:2,styles:[],data:{}});function uy(e){return vl(0,[(e()(),Jo(0,0,null,null,2,"li",[],[[2,"is-active",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.selectTab(e.context.$implicit)&&r),r}),null,null)),(e()(),Jo(1,0,null,null,1,"a",[],null,null,null,null,null)),(e()(),pl(2,null,["",""]))],null,(function(e,t){e(t,0,0,t.context.$implicit.active),e(t,2,0,t.context.$implicit.title)}))}function cy(e){return vl(0,[(e()(),Jo(0,0,null,null,3,"div",[["class","tabs is-centered"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,uy)),ci(3,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),ul(null,0)],(function(e,t){e(t,3,0,t.component.tabs)}),null)}n("25Eh");class hy{constructor(e,t,n){this.route=e,this.router=t,this.apiService=n,this.tool=df}ngOnInit(){const e=parseInt(this.route.snapshot.paramMap.get("collId"),10),t=parseInt(this.route.snapshot.paramMap.get("exId"),10),n=this.route.snapshot.paramMap.get("partId"),r=this.tool.parts.find(e=>e.id===n);r?this.part=r:this.router.navigate(["/tools",this.tool.id,"collections",e]),this.apiService.getCollection(this.tool.id,e).subscribe(e=>this.collection=e),this.apiService.getExercise(this.tool.id,e,t).subscribe(e=>this.exercise=e)}correct(){console.error("TODO: correct!"),console.info(JSON.stringify(this.exercise,null,2))}showSampleSolution(){console.error("TODO: show sample solution...")}}var dy=er({encapsulation:2,styles:[],data:{}});function fy(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"it4all-tab",[],null,null,null,Qv,Zv)),ci(1,49152,[[1,4]],0,Gv,[],{title:[0,"title"]},null)],(function(e,t){e(t,1,0,"Live-Vorschau")}),null)}function py(e){return vl(0,[(e()(),Jo(0,0,null,null,29,"div",[["class","container is-fluid"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,28,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(2,0,null,null,2,"div",[["class","column is-half-desktop"]],null,null,null,null,null)),(e()(),Jo(3,0,null,null,1,"app-exercise-files-editor",[],null,null,null,ly,iy)),ci(4,573440,null,0,ry,[],{exerciseFiles:[0,"exerciseFiles"],mode:[1,"mode"]},null),(e()(),Jo(5,0,null,null,24,"div",[["class","column is-half-desktop"]],null,null,null,null,null)),(e()(),Jo(6,0,null,null,23,"it4all-tabs",[],null,null,null,cy,ay)),ci(7,1097728,null,1,sy,[],null,null),il(603979776,1,{tabs:1}),(e()(),Jo(9,0,null,0,14,"it4all-tab",[],null,null,null,Qv,Zv)),ci(10,49152,[[1,4]],0,Gv,[],{title:[0,"title"]},null),(e()(),Jo(11,0,null,0,0,"div",[["class","notification"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),Jo(12,0,null,0,11,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(13,0,null,null,2,"div",[["class","column"]],null,null,null,null,null)),(e()(),Jo(14,0,null,null,1,"button",[["class","button is-link is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.correct()&&r),r}),null,null)),(e()(),pl(-1,null,["Korrektur"])),(e()(),Jo(16,0,null,null,2,"div",[["class","column"]],null,null,null,null,null)),(e()(),Jo(17,0,null,null,1,"button",[["class","button is-primary is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showSampleSolution()&&r),r}),null,null)),(e()(),pl(-1,null,["Musterl\xf6sung anzeigen "])),(e()(),Jo(19,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(e()(),Jo(20,0,null,null,3,"a",[["class","button is-dark is-fullwidth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,21).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(21,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(22,4),(e()(),pl(-1,null,["Bearbeiten beenden"])),(e()(),Jo(24,0,null,0,1,"it4all-tab",[],null,null,null,Qv,Zv)),ci(25,49152,[[1,4]],0,Gv,[],{title:[0,"title"]},null),(e()(),Xo(16777216,null,0,1,null,fy)),ci(27,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Jo(28,0,null,0,1,"it4all-tab",[],null,null,null,Qv,Zv)),ci(29,49152,[[1,4]],0,Gv,[],{title:[0,"title"]},null)],(function(e,t){var n=t.component;e(t,4,0,null==n.exercise?null:n.exercise.unitTestPart.unitTestFiles,"python"),e(t,10,0,"Aufgabenstellung");var r=e(t,22,0,"/tools","programming","collections",n.collection.id);e(t,21,0,r),e(t,25,0,"Korrektur"),e(t,27,0,n.tool.hasLivePreview),e(t,29,0,"Musterl\xf6sung(en)")}),(function(e,t){var n=t.component;e(t,11,0,null==n.exercise?null:n.exercise.text),e(t,20,0,Yr(t,21).target,Yr(t,21).href)}))}function my(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,py,dy)),ci(1,114688,null,0,hy,[xh,Ld,Iv],null,null)],(function(e,t){e(t,1,0)}),null)}var gy=Vr("ng-component",hy,my,{},{},[]);class vy{constructor(){}ngOnInit(){}ngOnChanges(e){}}var yy=er({encapsulation:2,styles:[],data:{}});function by(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"span",[["class","has-text-success"]],null,null,null,null,null)),(e()(),pl(-1,null,["korrekt"]))],null,null)}function wy(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"span",[["class","has-text-danger"]],null,null,null,null,null)),(e()(),pl(-1,null,["f\xe4lschlicherweise"]))],null,null)}function _y(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"span",[["class","has-text-danger"]],null,null,null,null,null)),(e()(),pl(-1,null,["f\xe4lschlicherweise nicht"]))],null,null)}function xy(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"span",[["class","has-text-success"]],null,null,null,null,null)),(e()(),pl(-1,null,["korrekt nicht"]))],null,null)}function Cy(e){return vl(0,[(e()(),Jo(0,0,null,null,14,"div",[["class","notification"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(2,null,["",""])),(e()(),pl(-1,null,[" wurde "])),(e()(),Jo(4,0,null,null,9,null,null,null,null,null,null,null)),ci(5,16384,null,0,Ys,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),Xo(16777216,null,null,1,null,by)),ci(7,278528,null,0,Xs,[Dn,Mn,Ys],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Xo(16777216,null,null,1,null,wy)),ci(9,278528,null,0,Xs,[Dn,Mn,Ys],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Xo(16777216,null,null,1,null,_y)),ci(11,278528,null,0,Xs,[Dn,Mn,Ys],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Xo(16777216,null,null,1,null,xy)),ci(13,278528,null,0,Xs,[Dn,Mn,Ys],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),pl(-1,null,[" erkannt. "]))],(function(e,t){e(t,5,0,t.component.matchingResult.resultType),e(t,7,0,"TruePositive"),e(t,9,0,"FalsePositive"),e(t,11,0,"FalseNegative"),e(t,13,0,"TrueNegative")}),(function(e,t){e(t,2,0,t.component.matchingResult.matchData)}))}class ky{constructor(){}ngOnInit(){}}var Sy=er({encapsulation:2,styles:[],data:{}});function Ey(e){return vl(0,[(e()(),Jo(0,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),pl(-1,null,[" Erwartet: "])),(e()(),Jo(2,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(3,null,["",""])),(e()(),pl(-1,null,[", Bekommen: "])),(e()(),Jo(5,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(6,null,["",""]))],null,(function(e,t){e(t,3,0,null==t.context.$implicit.sampleArg?null:t.context.$implicit.sampleArg.content),e(t,6,0,null==t.context.$implicit.userArg?null:t.context.$implicit.userArg.content)}))}function Ty(e){return vl(0,[(e()(),Jo(0,0,null,null,7,"div",[["class","notification"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),pl(-1,null,["Basis: "])),(e()(),Jo(3,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(4,null,["",""])),(e()(),Jo(5,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,Ey)),ci(7,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,7,0,t.component.extractionResult.extractionMatchingResult.allMatches)}),(function(e,t){e(t,4,0,t.component.extractionResult.base)}))}class Oy{constructor(){}ngOnInit(){}}var Ay=er({encapsulation:2,styles:[],data:{}});function Iy(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"div",[["class","notification has-text-success"]],null,null,null,null,null)),(e()(),pl(-1,null,["Ihre L\xf6sung wurde gespeichert. "]))],null,null)}function Ny(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"div",[["class","notification has-text-danger"]],null,null,null,null,null)),(e()(),pl(-1,null,["Ihre L\xf6sung konnte nicht gespeichert werden!"]))],null,null)}function Ry(e){return vl(0,[(e()(),Xo(16777216,null,null,1,null,Iy)),ci(1,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Xo(0,[["notSavedBlock",2]],null,0,null,Ny))],(function(e,t){e(t,1,0,t.component.saved,Yr(t,2))}),null)}class Ly{constructor(){this.textColor="danger"}ngOnInit(){this.updatePercentage()}ngOnChanges(e){this.updatePercentage()}updatePercentage(){this.percentage=this.points/this.maxPoints*100,this.percentage>=90?this.textColor="success":this.percentage>=75&&(this.textColor="warning")}}var My=er({encapsulation:2,styles:[],data:{}});function Py(e){return vl(0,[(e()(),Jo(0,0,null,null,5,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),Jo(1,0,null,null,1,"p",[["class","has-text-centered"]],null,null,null,null,null)),(e()(),pl(2,null,["Sie haben "," von maximal "," Punkten erreicht."])),(e()(),Jo(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jo(4,0,null,null,1,"progress",[["max","100"]],[[8,"className",0],[8,"value",0]],null,null,null,null)),(e()(),pl(5,null,["","%"]))],null,(function(e,t){var n=t.component;e(t,0,0,Tr(1,"notification has-text-",n.textColor,"")),e(t,2,0,n.points,n.maxPoints),e(t,4,0,Tr(1,"progress is-",n.textColor,""),Tr(1,"",n.percentage,"")),e(t,5,0,n.percentage)}))}class Dy{constructor(e,t){this.route=e,this.apiService=t,this.tool=ff,this.solution="",this.corrected=!1,this.displaySampleSolutions=!1,this.collId=parseInt(e.snapshot.paramMap.get("collId"),10),this.exId=parseInt(e.snapshot.paramMap.get("exId"),10)}ngOnInit(){this.apiService.getExercise(this.tool.id,this.collId,this.exId).subscribe(e=>this.exercise=e)}correct(){void 0!==this.solution&&0!==this.solution.length?this.apiService.correctSolution(this.tool.id,this.collId,this.exId,"regex",this.solution).subscribe(e=>{this.corrected=!0,this.result=e}):alert("Sie k\xf6nnen keine leere L\xf6sung abgeben!")}showSampleSolutions(){this.displaySampleSolutions=!0}}var jy=er({encapsulation:2,styles:[],data:{}});function Fy(e){return vl(0,[(e()(),Jo(0,0,null,null,2,"div",[["class","notification"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"code",[],null,null,null,null,null)),(e()(),pl(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.context.$implicit.sample)}))}function Uy(e){return vl(0,[(e()(),Jo(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),Jo(1,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jo(2,0,null,null,1,"h2",[["class","subtitle is-4 has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Musterl\xf6sungen"])),(e()(),Xo(16777216,null,null,1,null,Fy)),ci(5,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Xo(0,null,null,0))],(function(e,t){e(t,5,0,t.component.exercise.sampleSolutions)}),null)}function Vy(e){return vl(0,[(e()(),Jo(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"it4all-regex-matching-result",[],null,null,null,Cy,yy)),ci(2,638976,null,0,vy,[],{matchingResult:[0,"matchingResult"]},null),(e()(),Jo(3,0,null,null,0,"br",[],null,null,null,null,null))],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function zy(e){return vl(0,[(e()(),Jo(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,Vy)),ci(2,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Xo(0,null,null,0))],(function(e,t){e(t,2,0,t.component.result.matchingResults)}),null)}function Hy(e){return vl(0,[(e()(),Jo(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"it4all-regex-extraction-result",[],null,null,null,Ty,Sy)),ci(2,114688,null,0,ky,[],{extractionResult:[0,"extractionResult"]},null),(e()(),Jo(3,0,null,null,0,"br",[],null,null,null,null,null))],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function By(e){return vl(0,[(e()(),Jo(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,Hy)),ci(2,278528,null,0,$s,[Dn,Mn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Xo(0,null,null,0))],(function(e,t){e(t,2,0,t.component.result.extractionResults)}),null)}function Wy(e){return vl(0,[(e()(),Jo(0,0,null,null,12,"div",[["class","column is-two-thirds"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,1,"app-solution-saved",[],null,null,null,Ry,Ay)),ci(2,114688,null,0,Oy,[],{saved:[0,"saved"]},null),(e()(),Jo(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jo(4,0,null,null,1,"app-points-notification",[],null,null,null,Py,My)),ci(5,638976,null,0,Ly,[],{points:[0,"points"],maxPoints:[1,"maxPoints"]},null),(e()(),Jo(6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jo(7,0,null,null,5,null,null,null,null,null,null,null)),ci(8,16384,null,0,Ys,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),Xo(16777216,null,null,1,null,zy)),ci(10,278528,null,0,Xs,[Dn,Mn,Ys],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Xo(16777216,null,null,1,null,By)),ci(12,278528,null,0,Xs,[Dn,Mn,Ys],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.result.solutionSaved),e(t,5,0,n.result.points,n.result.maxPoints),e(t,8,0,n.result.correctionType),e(t,10,0,"MATCHING"),e(t,12,0,"EXTRACTION")}),null)}function $y(e){return vl(0,[(e()(),Jo(0,0,null,null,31,"div",[["class","container is-fluid"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,30,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(2,0,null,null,27,"div",[["class","column is-one-third"]],null,null,null,null,null)),(e()(),Jo(3,0,null,null,1,"h1",[["class","title is-3 has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Aufgabenstellung"])),(e()(),Jo(5,0,null,null,1,"div",[["class","notification"]],null,null,null,null,null)),(e()(),pl(6,null,["",""])),(e()(),Jo(7,0,null,null,8,"div",[["class","field"]],null,null,null,null,null)),(e()(),Jo(8,0,null,null,1,"label",[["class","label has-text-centered"],["for","solution"]],null,null,null,null,null)),(e()(),pl(-1,null,["Ihre L\xf6sung"])),(e()(),Jo(10,0,null,null,5,"input",[["class","input"],["id","solution"],["placeholder","Ihre L\xf6sung"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==Yr(e,11)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,11).onTouched()&&r),"compositionstart"===t&&(r=!1!==Yr(e,11)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Yr(e,11)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.solution=n)&&r),r}),null,null)),ci(11,16384,null,0,Ff,[mn,cn,[2,jf]],null,null),hi(1024,null,Pf,(function(e){return[e]}),[Ff]),ci(13,671744,null,0,Up,[[8,null],[8,null],[8,null],[6,Pf]],{model:[0,"model"]},{update:"ngModelChange"}),hi(2048,null,Hf,null,[Up]),ci(15,16384,null,0,Wf,[[4,Hf]],null,null),(e()(),Jo(16,0,null,null,11,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(17,0,null,null,2,"div",[["class","column"]],null,null,null,null,null)),(e()(),Jo(18,0,null,null,1,"button",[["class","button is-link is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.correct()&&r),r}),null,null)),(e()(),pl(-1,null,["L\xf6sung testen"])),(e()(),Jo(20,0,null,null,2,"div",[["class","column"]],null,null,null,null,null)),(e()(),Jo(21,0,null,null,1,"button",[["class","button is-primary is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showSampleSolutions()&&r),r}),null,null)),(e()(),pl(-1,null,["Musterl\xf6sung anzeigen"])),(e()(),Jo(23,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(e()(),Jo(24,0,null,null,3,"a",[["class","button is-dark is-fullwidth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,25).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(25,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(26,4),(e()(),pl(-1,null,[" Bearbeiten beenden "])),(e()(),Xo(16777216,null,null,1,null,Uy)),ci(29,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Xo(16777216,null,null,1,null,Wy)),ci(31,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,13,0,n.solution);var r=e(t,26,0,"/tools",n.tool.id,"collections",n.collId);e(t,25,0,r),e(t,29,0,n.displaySampleSolutions),e(t,31,0,n.corrected&&n.result)}),(function(e,t){e(t,6,0,t.component.exercise.text),e(t,10,0,Yr(t,15).ngClassUntouched,Yr(t,15).ngClassTouched,Yr(t,15).ngClassPristine,Yr(t,15).ngClassDirty,Yr(t,15).ngClassValid,Yr(t,15).ngClassInvalid,Yr(t,15).ngClassPending),e(t,24,0,Yr(t,25).target,Yr(t,25).href)}))}function Ky(e){return vl(0,[(e()(),Xo(16777216,null,null,1,null,$y)),ci(1,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,null!=t.component.exercise)}),null)}function qy(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,Ky,jy)),ci(1,114688,null,0,Dy,[xh,Iv],null,null)],(function(e,t){e(t,1,0)}),null)}var Gy=Vr("ng-component",Dy,qy,{},{},[]);n("/9rB");class Zy{constructor(e,t,n,r){this.route=e,this.apiService=t,this.dexieService=n,this.router=r,this.tool=mf,this.part=pf,this.solution="",this.editorOptions=ny("sql")}ngOnInit(){const e=parseInt(this.route.snapshot.paramMap.get("collId"),10),t=parseInt(this.route.snapshot.paramMap.get("exId"),10);this.apiService.getCollection(this.tool.id,e).subscribe(e=>this.collection=e),this.apiService.getExercise(this.tool.id,e,t).subscribe(e=>this.exercise=e),this.dexieService.sqlSolutions.get([e,t]).then(e=>this.solution=e?e.solution:"")}correct(){this.dexieService.sqlSolutions.put({collId:this.collection.id,exId:this.exercise.id,solution:this.solution}),this.apiService.correctSolution(this.tool.id,this.collection.id,this.exercise.id,"solve",this.solution).subscribe(e=>{this.result=e,console.warn(JSON.stringify(this.result,null,2))})}showSampleSolutions(){}}var Qy=Object.keys,Yy=Array.isArray,Xy="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function Jy(e,t){return"object"!=typeof t?e:(Qy(t).forEach((function(n){e[n]=t[n]})),e)}var eb=Object.getPrototypeOf,tb={}.hasOwnProperty;function nb(e,t){return tb.call(e,t)}function rb(e,t){"function"==typeof t&&(t=t(eb(e))),Qy(t).forEach((function(n){ob(e,n,t[n])}))}var ib=Object.defineProperty;function ob(e,t,n,r){ib(e,t,Jy(n&&nb(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function lb(e){return{from:function(t){return e.prototype=Object.create(t.prototype),ob(e.prototype,"constructor",e),{extend:rb.bind(null,e.prototype)}}}}var sb=Object.getOwnPropertyDescriptor,ab=[].slice;function ub(e,t,n){return ab.call(e,t,n)}function cb(e,t){return t(e)}function hb(e){if(!e)throw new Error("Assertion Failed")}function db(e){Xy.setImmediate?setImmediate(e):setTimeout(e,0)}function fb(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function pb(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function mb(e,t){if(nb(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=mb(e,t[r]);n.push(o)}return n}var l=t.indexOf(".");if(-1!==l){var s=e[t.substr(0,l)];return void 0===s?void 0:mb(s,t.substr(l+1))}}function gb(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){hb("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)gb(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var l=t.substr(0,o),s=t.substr(o+1);if(""===s)void 0===n?delete e[l]:e[l]=n;else{var a=e[l];a||(a=e[l]={}),gb(a,s,n)}}else void 0===n?delete e[t]:e[t]=n}}function vb(e){var t={};for(var n in e)nb(e,n)&&(t[n]=e[n]);return t}var yb=[].concat;function bb(e){return yb.apply([],e)}var wb="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(bb([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return Xy[e]})).map((function(e){return Xy[e]}));function _b(e){if(!e||"object"!=typeof e)return e;var t;if(Yy(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(_b(e[n]))}else if(wb.indexOf(e.constructor)>=0)t=e;else for(var i in t=e.constructor?Object.create(e.constructor.prototype):{},e)nb(e,i)&&(t[i]=_b(e[i]));return t}function xb(e,t,n,r){return n=n||{},r=r||"",Qy(e).forEach((function(i){if(nb(t,i)){var o=e[i],l=t[i];"object"==typeof o&&"object"==typeof l&&o&&l&&""+o.constructor==""+l.constructor?xb(o,l,n,r+i+"."):o!==l&&(n[r+i]=t[i])}else n[r+i]=void 0})),Qy(t).forEach((function(i){nb(e,i)||(n[r+i]=t[i])})),n}var Cb="undefined"!=typeof Symbol&&Symbol.iterator,kb=Cb?function(e){var t;return null!=e&&(t=e[Cb])&&t.apply(e)}:function(){return null},Sb={};function Eb(e){var t,n,r,i;if(1===arguments.length){if(Yy(e))return e.slice();if(this===Sb&&"string"==typeof e)return[e];if(i=kb(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Tb="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ob(e,t){Tb=e,Ab=t}var Ab=function(){return!0},Ib=!new Error("").stack;function Nb(){if(Ib)try{throw new Error}catch(e){return e}return new Error}function Rb(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Ab).map((function(e){return"\n"+e})).join("")):""}var Lb=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Mb=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Lb),Pb={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function Db(e,t){this._e=Nb(),this.name=e,this.message=t}function jb(e,t,n,r){this._e=Nb(),this.failures=t,this.failedKeys=r,this.successCount=n}function Fb(e,t){this._e=Nb(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map((function(e){return e.toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}(e,t)}lb(Db).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Rb(this._e,2))}},toString:function(){return this.name+": "+this.message}}),lb(jb).from(Db),lb(Fb).from(Db);var Ub=Mb.reduce((function(e,t){return e[t]=t+"Error",e}),{}),Vb=Db,zb=Mb.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=Nb(),this.name=n,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=Pb[t]||n,this.inner=null)}return lb(r).from(Vb),e[t]=r,e}),{});zb.Syntax=SyntaxError,zb.Type=TypeError,zb.Range=RangeError;var Hb=Lb.reduce((function(e,t){return e[t+"Error"]=zb[t],e}),{}),Bb=Mb.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=zb[t]),e}),{});function Wb(){}function $b(e){return e}function Kb(e,t){return null==e||e===$b?t:function(n){return t(e(n))}}function qb(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Gb(e,t){return e===Wb?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?qb(r,this.onsuccess):r),i&&(this.onerror=this.onerror?qb(i,this.onerror):i),void 0!==o?o:n}}function Zb(e,t){return e===Wb?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?qb(n,this.onsuccess):n),r&&(this.onerror=this.onerror?qb(r,this.onerror):r)}}function Qb(e,t){return e===Wb?t:function(n){var r=e.apply(this,arguments);Jy(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var l=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?qb(i,this.onsuccess):i),o&&(this.onerror=this.onerror?qb(o,this.onerror):o),void 0===r?void 0===l?void 0:l:Jy(r,l)}}function Yb(e,t){return e===Wb?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Xb(e,t){return e===Wb?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}Bb.ModifyError=jb,Bb.DexieError=Db,Bb.BulkError=Fb;var Jb={},ew=100,tw=7,nw=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=Xy.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),rw=nw[0],iw=nw[1],ow=nw[2],lw=iw&&iw.then,sw=rw&&rw.constructor,aw=nw[3],uw=!!ow,cw=!1,hw=ow?function(){ow.then(Rw)}:Xy.setImmediate?setImmediate.bind(null,Rw):Xy.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Rw(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Rw,0)},dw=function(e,t){_w.push([e,t]),pw&&(hw(),pw=!1)},fw=!0,pw=!0,mw=[],gw=[],vw=null,yw=$b,bw={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:n_,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{n_(e[0],e[1])}catch(t){}}))}},ww=bw,_w=[],xw=0,Cw=[];function kw(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Wb,this._lib=!1;var t=this._PSD=ww;if(Tb&&(this._stackHolder=Nb(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Jb)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Tw(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n((function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Lw();n&&"function"==typeof n.then?e(t,(function(e,t){n instanceof kw?n._then(e,t):n.then(e,t)})):(t._state=!0,t._value=n,Ow(t)),r&&Mw()}}),Tw.bind(null,t))}catch(r){Tw(t,r)}}(this,e)}var Sw={get:function(){var e=ww,t=Hw;function n(n,r){var i=this,o=!e.global&&(e!==ww||t!==Hw);o&&Kw();var l=new kw((function(t,l){Aw(i,new Ew(Jw(n,e,o),Jw(r,e,o),t,l,e))}));return Tb&&Nw(l,this),l}return n.prototype=Jb,n},set:function(e){ob(this,"then",e&&e.prototype===Jb?Sw:{get:function(){return e},set:Sw.set})}};function Ew(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Tw(e,t){if(gw.push(t),null===e._state){var n=e._lib&&Lw();t=yw(t),e._state=!1,e._value=t,Tb&&null!==t&&"object"==typeof t&&!t._promise&&pb((function(){var n=function e(t,n){var r;return sb(t,n)||(r=eb(t))&&e(r,n)}(t,"stack");t._promise=e,ob(t,"stack",{get:function(){return cw?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){mw.some((function(t){return t._value===e._value}))||mw.push(e)}(e),Ow(e),n&&Mw()}}function Ow(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Aw(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===xw&&(++xw,dw((function(){0==--xw&&Pw()}),[]))}function Aw(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++xw,dw(Iw,[n,e,t])}else e._listeners.push(t)}function Iw(e,t,n){try{vw=t;var r,i=t._value;t._state?r=e(i):(gw.length&&(gw=[]),r=e(i),-1===gw.indexOf(i)&&function(e){for(var t=mw.length;t;)if(mw[--t]._value===e._value)return void mw.splice(t,1)}(t)),n.resolve(r)}catch(o){n.reject(o)}finally{vw=null,0==--xw&&Pw(),--n.psd.ref||n.psd.finalize()}}function Nw(e,t){var n=t?t._numPrev+1:0;n<ew&&(e._prev=t,e._numPrev=n)}function Rw(){Lw()&&Mw()}function Lw(){var e=fw;return fw=!1,pw=!1,e}function Mw(){var e,t,n;do{for(;_w.length>0;)for(e=_w,_w=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(_w.length>0);fw=!0,pw=!0}function Pw(){var e=mw;mw=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Cw.slice(0),n=t.length;n;)t[--n]()}function Dw(e){return new kw(Jb,!1,e)}function jw(e,t){var n=ww;return function(){var r=Lw(),i=ww;try{return Qw(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{Qw(i,!1),r&&Mw()}}}rb(kw.prototype,{then:Sw,_then:function(e,t){Aw(this,new Ew(null,null,e,t,ww))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return this.then(null,"function"==typeof t?function(e){return e instanceof t?n(e):Dw(e)}:function(e){return e&&e.name===t?n(e):Dw(e)})},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Dw(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{cw=!0;var e=function e(t,n,r){if(n.length===r)return n;var i="";if(!1===t._state){var o,l,s=t._value;null!=s?(o=s.name||"Error",l=s.message||s,i=Rb(s,0)):(o=s,l=""),n.push(o+(l?": "+l:"")+i)}return Tb&&((i=Rb(t._stackHolder,2))&&-1===n.indexOf(i)&&n.push(i),t._prev&&e(t._prev,n,r)),n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{cw=!1}}},timeout:function(e,t){var n=this;return e<1/0?new kw((function(r,i){var o=setTimeout((function(){return i(new zb.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&ob(kw.prototype,Symbol.toStringTag,"Promise"),bw.env=Yw(),rb(kw,{all:function(){var e=Eb.apply(null,arguments).map(qw);return new kw((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,o){return kw.resolve(i).then((function(n){e[o]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof kw)return e;if(e&&"function"==typeof e.then)return new kw((function(t,n){e.then(t,n)}));var t=new kw(Jb,!0,e);return Nw(t,vw),t},reject:Dw,race:function(){var e=Eb.apply(null,arguments).map(qw);return new kw((function(t,n){e.map((function(e){return kw.resolve(e).then(t,n)}))}))},PSD:{get:function(){return ww},set:function(e){return ww=e}},newPSD:Ww,usePSD:Xw,scheduler:{get:function(){return dw},set:function(e){dw=e}},rejectionMapper:{get:function(){return yw},set:function(e){yw=e}},follow:function(e,t){return new kw((function(n,r){return Ww((function(t,n){var r=ww;r.unhandleds=[],r.onunhandled=n,r.finalize=qb((function(){var e=this;Cw.push((function r(){0===e.unhandleds.length?t():n(e.unhandleds[0]),Cw.splice(Cw.indexOf(r),1)})),++xw,dw((function(){0==--xw&&Pw()}),[])}),r.finalize),e()}),t,n,r)}))}});var Fw={awaits:0,echoes:0,id:0},Uw=0,Vw=[],zw=0,Hw=0,Bw=0;function Ww(e,t,n,r){var i=ww,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Bw;var l=bw.env;o.env=uw?{Promise:kw,PromiseProp:{value:kw,configurable:!0,writable:!0},all:kw.all,race:kw.race,resolve:kw.resolve,reject:kw.reject,nthen:e_(l.nthen,o),gthen:e_(l.gthen,o)}:{},t&&Jy(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Xw(o,e,n,r);return 0===o.ref&&o.finalize(),s}function $w(){return Fw.id||(Fw.id=++Uw),++Fw.awaits,Fw.echoes+=tw,Fw.id}function Kw(e){!Fw.awaits||e&&e!==Fw.id||(0==--Fw.awaits&&(Fw.id=0),Fw.echoes=Fw.awaits*tw)}function qw(e){return Fw.echoes&&e&&e.constructor===sw?($w(),e.then((function(e){return Kw(),e}),(function(e){return Kw(),r_(e)}))):e}function Gw(e){++Hw,Fw.echoes&&0!=--Fw.echoes||(Fw.echoes=Fw.id=0),Vw.push(ww),Qw(e,!0)}function Zw(){var e=Vw[Vw.length-1];Vw.pop(),Qw(e,!1)}function Qw(e,t){var n,r=ww;if((t?!Fw.echoes||zw++&&e===ww:!zw||--zw&&e===ww)||(n=t?Gw.bind(null,e):Zw,lw.call(rw,n)),e!==ww&&(ww=e,r===bw&&(bw.env=Yw()),uw)){var i=bw.env.Promise,o=e.env;iw.then=o.nthen,i.prototype.then=o.gthen,(r.global||e.global)&&(Object.defineProperty(Xy,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject)}}function Yw(){var e=Xy.Promise;return uw?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Xy,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:iw.then,gthen:e.prototype.then}:{}}function Xw(e,t,n,r,i){var o=ww;try{return Qw(e,!0),t(n,r,i)}finally{Qw(o,!1)}}function Jw(e,t,n){return"function"!=typeof e?e:function(){var r=ww;n&&$w(),Qw(t,!0);try{return e.apply(this,arguments)}finally{Qw(r,!1)}}}function e_(e,t){return function(n,r){return e.call(this,Jw(n,t,!1),Jw(r,t,!1))}}var t_="unhandledrejection";function n_(e,t){var n;try{n=t.onuncatched(e)}catch(o){}if(!1!==n)try{var r,i={promise:t,reason:e};if(Xy.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(t_,!0,!0),Jy(r,i)):Xy.CustomEvent&&Jy(r=new CustomEvent(t_,{detail:i}),i),r&&Xy.dispatchEvent&&(dispatchEvent(r),!Xy.PromiseRejectionEvent&&Xy.onunhandledrejection))try{Xy.onunhandledrejection(r)}catch(l){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(o){}}var r_=kw.reject;function i_(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(e,r,i){if("object"!=typeof e){var l;r||(r=Yb),i||(i=Wb);var s={subscribers:[],fire:i,subscribe:function(e){-1===s.subscribers.indexOf(e)&&(s.subscribers.push(e),s.fire=r(s.fire,e))},unsubscribe:function(e){s.subscribers=s.subscribers.filter((function(t){return t!==e})),s.fire=s.subscribers.reduce(r,i)}};return t[e]=n[e]=s,s}Qy(l=e).forEach((function(e){var t=l[e];if(Yy(t))o(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new zb.InvalidArgument("Invalid event config");var n=o(e,$b,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){db((function(){e.apply(null,t)}))}))}))}}))}}var o_,l_=String.fromCharCode(65535),s_=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return l_}}(),a_=-1/0,u_="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",c_="String expected.",h_=[],d_="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),f_=d_,p_=d_,m_=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function g_(e,t){var n,r,i,o,l,s=g_.dependencies,a=Jy({addons:g_.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},t),u=a.addons,c=a.autoOpen,h=a.indexedDB,d=a.IDBKeyRange,f=this._dbSchema={},p=[],m=[],g={},v=null,y=null,b=!1,w=null,_=!1,x="readwrite",C=this,k=new kw((function(e){n=e})),S=new kw((function(e,t){r=t})),E=!0,T=!!T_(h);function O(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function A(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){I(i,e)})),i}function I(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function N(e,t,n){var r=arguments.length;if(r<2)throw new zb.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,bb(i),n]}function R(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=g[e]?g[e].hook:i_(null,{creating:[Gb,Wb],reading:[Kb,$b],updating:[Qb,Wb],deleting:[Zb,Wb]})}function L(e,t,n){return(n?__:b_)((function(n){e.push(n),t&&t()}))}function M(e,t,n,r,i){return new kw((function(o,l){var s=n.length,a=s-1;if(0===s)return o();if(r){var u,c=__(l),h=y_(null);pb((function(){for(var r=0;r<s;++r){var l=n[r];i.call(u={onsuccess:null,onerror:null},l[0],l[1],t);var d=e.delete(l[0]);d._hookCtx=u,d.onerror=c,d.onsuccess=r===a?y_(o):h}}),(function(e){throw u.onerror&&u.onerror(e),e}))}else for(var d=0;d<s;++d){var f=e.delete(n[d]);f.onerror=b_(l),d===a&&(f.onsuccess=jw((function(){return o()})))}}))}function P(e,t,n,r){var i=this;this.db=C,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=i_(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new kw((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),r_(e)}))}function D(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function j(e,t){var n=null,r=null;if(t)try{n=t()}catch(l){r=l}var i=e._ctx,o=i.table;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o.hook.reading.fire}}function F(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function U(e,t){return e._cfg.version-t._cfg.version}function V(e,t,n){t.forEach((function(t){var r=n[t];e.forEach((function(e){t in e||(e===P.prototype||e instanceof P?ob(e,t,{get:function(){return this.table(t)}}):e[t]=new R(t,r))}))}))}function z(e,t,n,r,i,o){var l=jw(o?function(e,t,r){return n(o(e),t,r)}:n,i);e.onerror||(e.onerror=b_(i)),e.onsuccess=function(e,t){return function(){try{e.apply(this,arguments)}catch(n){t(n)}}}(t?function(){var n=e.result;if(n){var o=function(){n.continue()};t(n,(function(e){o=e}),r,i)&&l(n.value,n,(function(e){o=e})),o()}else r()}:function(){var t=e.result;if(t){var n=function(){t.continue()};l(t.value,t,(function(e){n=e})),n()}else r()},i)}function H(e,t){return h.cmp(e,t)}function B(e,t){return H(e,t)>0?e:t}function W(e,t){return h.cmp(e,t)}function $(e,t){return h.cmp(t,e)}function K(e,t){return e<t?-1:e===t?0:1}function q(e,t){return e>t?-1:e===t?0:1}function G(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function Z(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var o=n[r],l=t.objectStore(o);i="getAll"in l;for(var s=0;s<l.indexNames.length;++s){var a=l.indexNames[s],u=l.index(a).keyPath,c="string"==typeof u?u:"["+ub(u).join("+")+"]";if(e[o]){var h=e[o].idxByName[c];h&&(h.name=a)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Xy.WorkerGlobalScope&&Xy instanceof Xy.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i=!1)}function Q(e){C.on("blocked").fire(e),h_.filter((function(e){return e.name===C.name&&e!==C&&!e._vcFired})).map((function(t){return t.on("versionchange").fire(e)}))}this.version=function(e){if(v||b)throw new zb.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=p.filter((function(t){return t._cfg.version===e}))[0];return t||(t=new O(e),p.push(t),p.sort(U),E=!1,t)},Jy(O.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?Jy(this._cfg.storesSource,e):e;var t={};p.forEach((function(e){Jy(t,e._cfg.storesSource)}));var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),f=C._dbSchema=n,[g,C,P.prototype].forEach((function(e){for(var t in e)e[t]instanceof R&&delete e[t]})),V([g,C,P.prototype,this._cfg.tables],Qy(n),n),m=Qy(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){Qy(e).forEach((function(n){if(null!==e[n]){var r={},i=function(e){var t=[];return e.split(",").forEach((function(e){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new k_(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Yy(r),/\./.test(e)))})),t}(e[n]),o=i.shift();if(o.multi)throw new zb.Schema("Primary key cannot be multi-valued");o.keyPath&&gb(r,o.keyPath,o.auto?0:o.keyPath),i.forEach((function(e){if(e.auto)throw new zb.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new zb.Schema("Index must have a name and cannot be an empty string");gb(r,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),t[n]=new S_(n,o,i,r)}}))}}),this._allTables=g,this._createTransaction=function(e,t,n,r){return new P(e,t,n,r)},this._whenReady=function(e){return _||ww.letThrough?e():new kw((function(e,t){if(!b){if(!c)return void t(new zb.DatabaseClosed);C.open().catch(Wb)}k.then(e,t)})).then(e)},this.verno=0,this.open=function(){if(b||v)return k.then((function(){return y?r_(y):C}));Tb&&(S._stackHolder=Nb()),b=!0,y=null,_=!1;var t=n,r=null;return kw.race([S,new kw((function(t,n){if(!h)throw new zb.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=E?h.open(e):h.open(e,Math.round(10*C.verno));if(!i)throw new zb.MissingAPI("IndexedDB API not available");i.onerror=b_(n),i.onblocked=jw(Q),i.onupgradeneeded=jw((function(t){if(r=i.transaction,E&&!C._allowEmptyDB){i.onerror=x_,r.abort(),i.result.close();var o=h.deleteDatabase(e);o.onsuccess=o.onerror=jw((function(){n(new zb.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else r.onerror=b_(n),function(e,t,n){var r=C._createTransaction(x,m,f);r.create(t),r._completion.catch(n);var i=r._reject.bind(r);Ww((function(){ww.trans=r,0===e?(Qy(f).forEach((function(e){A(t,e,f[e].primKey,f[e].indexes)})),kw.follow((function(){return C.on.populate.fire(r)})).catch(i)):function(e,t,n){var r=[],i=p.filter((function(t){return t._cfg.version===e}))[0];if(!i)throw new zb.Upgrade("Dexie specification of currently installed DB version is missing");f=C._dbSchema=i._cfg.dbschema;var o=!1;return p.filter((function(t){return t._cfg.version>e})).forEach((function(e){r.push((function(){var r=f,i=e._cfg.dbschema;Z(r,n),Z(i,n),f=C._dbSchema=i;var l=function(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],o=t[r];if(i){var l={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src)l.recreate=!0,n.change.push(l);else{var s=i.idxByName,a=o.idxByName;for(var u in s)a[u]||l.del.push(u);for(u in a){var c=s[u],h=a[u];c?c.src!==h.src&&l.change.push(h):l.add.push(h)}(l.del.length>0||l.add.length>0||l.change.length>0)&&n.change.push(l)}}else n.add.push([r,o])}return n}(r,i);if(l.add.forEach((function(e){A(n,e[0],e[1].primKey,e[1].indexes)})),l.change.forEach((function(e){if(e.recreate)throw new zb.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach((function(e){I(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),I(t,e)})),e.del.forEach((function(e){t.deleteIndex(e)}))})),e._cfg.contentUpgrade)return o=!0,kw.follow((function(){e._cfg.contentUpgrade(t)}))})),r.push((function(t){o&&f_||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(e._cfg.dbschema,t)}))})),function e(){return r.length?kw.resolve(r.shift()(t.idbtrans)).then(e):kw.resolve()}().then((function(){!function(e,t){Qy(e).forEach((function(n){t.db.objectStoreNames.contains(n)||A(t,n,e[n].primKey,e[n].indexes)}))}(f,n)}))}(e,r,t).catch(i)}))}((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,r,n)}),n),i.onsuccess=jw((function(){if(r=null,v=i.result,h_.push(C),E)!function(){if(C.verno=v.version/10,C._dbSchema=f={},0!==(m=ub(v.objectStoreNames,0)).length){var e=v.transaction(E_(m),"readonly");m.forEach((function(t){for(var n=e.objectStore(t),r=n.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),o=new k_(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,i),l=[],s=0;s<n.indexNames.length;++s){var a=n.index(n.indexNames[s]);i=(r=a.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var u=new k_(a.name,r,!!a.unique,!!a.multiEntry,!1,r&&"string"!=typeof r,i);l.push(u)}f[t]=new S_(t,o,l,{})})),V([g],Qy(f),f)}}();else if(v.objectStoreNames.length>0)try{Z(f,v.transaction(E_(v.objectStoreNames),"readonly"))}catch(n){}v.onversionchange=jw((function(e){C._vcFired=!0,C.on("versionchange").fire(e)})),T||"__dbnames"===e||o_.dbnames.put({name:e}).catch(Wb),t()}),n)}))]).then((function(){return w=[],kw.resolve(g_.vip(C.on.ready.fire)).then((function e(){if(w.length>0){var t=w.reduce(Xb,Wb);return w=[],kw.resolve(g_.vip(t)).then(e)}}))})).finally((function(){w=null})).then((function(){return b=!1,C})).catch((function(e){try{r&&r.abort()}catch(t){}return b=!1,C.close(),r_(y=e)})).finally((function(){_=!0,t()}))},this.close=function(){var e=h_.indexOf(C);if(e>=0&&h_.splice(e,1),v){try{v.close()}catch(t){}v=null}c=!1,y=new zb.DatabaseClosed,b&&r(y),k=new kw((function(e){n=e})),S=new kw((function(e,t){r=t}))},this.delete=function(){var t=arguments.length>0;return new kw((function(n,r){if(t)throw new zb.InvalidArgument("Arguments not allowed in db.delete()");function i(){C.close();var t=h.deleteDatabase(e);t.onsuccess=jw((function(){T||o_.dbnames.delete(e).catch(Wb),n()})),t.onerror=b_(r),t.onblocked=Q}b?k.then(i):i()}))},this.backendDB=function(){return v},this.isOpen=function(){return null!==v},this.hasBeenClosed=function(){return y&&y instanceof zb.DatabaseClosed},this.hasFailed=function(){return null!==y},this.dynamicallyOpened=function(){return E},this.name=e,rb(this,{tables:{get:function(){return Qy(g).map((function(e){return g[e]}))}}}),this.on=i_(this,"populate","blocked","versionchange",{ready:[Xb,Wb]}),this.on.ready.subscribe=cb(this.on.ready.subscribe,(function(e){return function(t,n){g_.vip((function(){_?(y||kw.resolve().then(t),n&&e(t)):w?(w.push(t),n&&e(t)):(e(t),n||e((function e(){C.on.ready.unsubscribe(t),C.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=N.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){var r=ww.trans;r&&r.db===C&&-1===e.indexOf("!")||(r=null);var i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var o=t.map((function(e){var t=e instanceof R?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=x)throw new zb.InvalidArgument("Invalid transaction mode: "+e);e=x}if(r){if("readonly"===r.mode&&e===x){if(!i)throw new zb.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach((function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new zb.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(s){return r?r._promise(null,(function(e,t){t(s)})):r_(s)}return r?r._promise(e,l,"lock"):ww.trans?Xw(ww.transless,(function(){return C._whenReady(l)})):C._whenReady(l);function l(){return kw.resolve().then((function(){var t,i=ww.transless||ww,l=C._createTransaction(e,o,f,r),s={trans:l,transless:i};r?l.idbtrans=r.idbtrans:l.create(),n.constructor===aw&&$w();var a=kw.follow((function(){if(t=n.call(l,l))if(t.constructor===sw){var e=Kw.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=C_(t))}),s);return(t&&"function"==typeof t.then?kw.resolve(t).then((function(e){return l.active?e:r_(new zb.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):a.then((function(){return t}))).then((function(e){return r&&l._resolve(),l._completion.then((function(){return e}))})).catch((function(e){return l._reject(e),r_(e)}))}))}},this.table=function(e){if(!nb(g,e))throw new zb.InvalidTable("Table "+e+" does not exist");return g[e]},rb(R.prototype,{_trans:function(e,t,n){var r=this._tx||ww.trans;return r&&r.db===C?r===ww.trans?r._promise(e,t,n):Ww((function(){return r._promise(e,t,n)}),{trans:r,transless:ww.transless||ww}):function e(t,n,r){if(_||ww.letThrough){var i=C._createTransaction(t,n,f);try{i.create()}catch(o){return r_(o)}return i._promise(t,(function(e,t){return Ww((function(){return ww.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(!b){if(!c)return r_(new zb.DatabaseClosed);C.open().catch(Wb)}return k.then((function(){return e(t,n,r)}))}(e,[this.name],t)},_idbstore:function(e,t,n){var r=this.name;return this._trans(e,(function(e,n,i){if(-1===i.storeNames.indexOf(r))throw new zb.NotFound("Table"+r+" not part of transaction");return t(e,n,i.idbtrans.objectStore(r),i)}),n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore("readonly",(function(t,r,i){var o=i.get(e);o.onerror=b_(r),o.onsuccess=jw((function(){t(n.hook.reading.fire(o.result))}),r)})).then(t)},where:function(e){if("string"==typeof e)return new D(this,e);if(Yy(e))return new D(this,"["+e.join("+")+"]");var t=Qy(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&s_!==l_)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));n||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var r=this.schema.idxByName,i=t.reduce((function(t,n){return[t[0]||r[n],t[0]||!r[n]?G(t[1],(function(t){return""+mb(t,n)==""+e[n]})):t[1]]}),[null,null]),o=i[0];return o?this.where(o.name).equals(e[o.keyPath]).filter(i[1]):n?this.filter(i[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new j(new D(this,Yy(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new j(new D(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&v_(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(nb(t,r))try{n[r]=t[r]}catch(i){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(g_.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===Wb?this._idbstore(x,(function(t,n,r,i){t(M(r,i,e,!1,Wb))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,t){var n=this;return this._idbstore(x,(function(r,i,o){if(!o.keyPath&&!n.schema.primKey.auto&&!t)throw new zb.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new zb.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new zb.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var l,s,a=function(e){0===u.length?r(e):i(new Fb(n.name+".bulkPut(): "+u.length+" of "+c+" operations failed",u))},u=[],c=e.length,h=n;if(n.hook.creating.fire===Wb&&n.hook.updating.fire===Wb){s=L(u);for(var d=0,f=e.length;d<f;++d)(l=t?o.put(e[d],t[d]):o.put(e[d])).onerror=s;l.onerror=L(u,a),l.onsuccess=w_(a)}else{var p=t||o.keyPath&&e.map((function(e){return mb(e,o.keyPath)})),m=p&&fb(p,(function(t,n){return null!=t&&[t,e[n]]}));(p?h.where(":id").anyOf(p.filter((function(e){return null!=e}))).modify((function(){this.value=m[this.primKey],m[this.primKey]=null})).catch(jb,(function(e){u=e.failures})).then((function(){for(var n=[],r=t&&[],i=p.length-1;i>=0;--i){var o=p[i];(null==o||m[o])&&(n.push(e[i]),t&&r.push(o),null!=o&&(m[o]=null))}return n.reverse(),t&&r.reverse(),h.bulkAdd(n,r)})).then((function(e){var t=p[p.length-1];return null!=t?t:e})):h.bulkAdd(e)).then(a).catch(Fb,(function(e){u=u.concat(e.failures),a()})).catch(i)}}),"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore(x,(function(i,o,l,s){if(!l.keyPath&&!n.schema.primKey.auto&&!t)throw new zb.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(l.keyPath&&t)throw new zb.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new zb.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();function a(e){0===d.length?i(e):o(new Fb(n.name+".bulkAdd(): "+d.length+" of "+f+" operations failed",d))}var u,c,h,d=[],f=e.length;if(r!==Wb){var p,m=l.keyPath;c=L(d,null,!0),h=y_(null),pb((function(){for(var n=0,i=e.length;n<i;++n){p={onerror:null,onsuccess:null};var o=t&&t[n],a=e[n],d=t?o:m?mb(a,m):void 0,f=r.call(p,d,a,s);null==d&&null!=f&&(m?gb(a=_b(a),m,f):o=f),(u=null!=o?l.add(a,o):l.add(a))._hookCtx=p,n<i-1&&(u.onerror=c,p.onsuccess&&(u.onsuccess=h))}}),(function(e){throw p.onerror&&p.onerror(e),e})),u.onerror=L(d,a,!0),u.onsuccess=y_(a)}else{c=L(d);for(var g=0,v=e.length;g<v;++g)(u=t?l.add(e[g],t[g]):l.add(e[g])).onerror=c;u.onerror=L(d,a),u.onsuccess=w_(a)}}))},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(x,(function(r,i,o,l){var s={onsuccess:null,onerror:null};if(n!==Wb){var a=null!=t?t:o.keyPath?mb(e,o.keyPath):void 0,u=n.call(s,a,e,l);null==a&&null!=u&&(o.keyPath?gb(e,o.keyPath,u):t=u)}try{var c=null!=t?o.add(e,t):o.add(e);c._hookCtx=s,c.onerror=__(i),c.onsuccess=y_((function(t){var n=o.keyPath;n&&gb(e,n,t),r(t)}))}catch(h){throw s.onerror&&s.onerror(h),h}}))},put:function(e,t){var n=this;if(this.hook.creating.fire!==Wb||this.hook.updating.fire!==Wb){var r=this.schema.primKey.keyPath,i=void 0!==t?t:r&&mb(e,r);return null==i?this.add(e):(e=_b(e),this._trans(x,(function(){return n.where(":id").equals(i).modify((function(){this.value=e})).then((function(r){return 0===r?n.add(e,t):i}))}),"locked"))}return this._idbstore(x,(function(n,r,i){var o=void 0!==t?i.put(e,t):i.put(e);o.onerror=b_(r),o.onsuccess=jw((function(t){var r=i.keyPath;r&&gb(e,r,t.target.result),n(o.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(x,(function(t,n,r){var i=r.delete(e);i.onerror=b_(n),i.onsuccess=jw((function(){t(i.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(x,(function(e,t,n){var r=n.clear();r.onerror=b_(t),r.onsuccess=jw((function(){e(r.result)}))}))},update:function(e,t){if("object"!=typeof t||Yy(t))throw new zb.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||Yy(e))return this.where(":id").equals(e).modify(t);Qy(t).forEach((function(n){gb(e,n,t[n])}));var n=mb(e,this.schema.primKey.keyPath);return void 0===n?r_(new zb.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),rb(P.prototype,{_lock:function(){return hb(!ww.global),++this._reculock,1!==this._reculock||ww.global||(ww.lockOwnerFor=this),this},_unlock:function(){if(hb(!ww.global),0==--this._reculock)for(ww.global||(ww.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Xw(e[1],e[0])}catch(t){}}return this},_locked:function(){return this._reculock&&ww.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(hb(!this.idbtrans),!e&&!v)switch(y&&y.name){case"DatabaseClosedError":throw new zb.DatabaseClosed(y);case"MissingAPIError":throw new zb.MissingAPI(y.message,y);default:throw new zb.OpenFailed(y)}if(!this.active)throw new zb.TransactionInactive;return hb(null===this._completion._state),(e=this.idbtrans=e||v.transaction(E_(this.storeNames),this.mode)).onerror=jw((function(n){x_(n),t._reject(e.error)})),e.onabort=jw((function(n){x_(n),t.active&&t._reject(new zb.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=jw((function(){t.active=!1,t._resolve()})),this},_promise:function(e,t,n){var r=this;if(e===x&&this.mode!==x)return r_(new zb.ReadOnly("Transaction is readonly"));if(!this.active)return r_(new zb.TransactionInactive);if(this._locked())return new kw((function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},ww])}));if(n)return Ww((function(){var e=new kw((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new kw((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=kw.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return e}));else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new kw((function(n,i){e.then((function(e){return t._waitingQueue.push(jw(n.bind(null,e)))}),(function(e){return t._waitingQueue.push(jw(i.bind(null,e)))})).finally((function(){t._waitingFor===r&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new zb.Abort),this.active=!1},tables:{get:(o="Transaction.tables",l=function(){return g},function(){return console.warn(o+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+Rb(Nb(),1)),l.apply(this,arguments)})},table:function(e){return new R(e,C.table(e).schema,this)}}),rb(D.prototype,(function(){function e(e,t,n){var r=e instanceof D?new j(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new j(e,(function(){return d.only("")})).limit(0)}function n(e,t,n,r,i,o){for(var l=Math.min(e.length,r.length),s=-1,a=0;a<l;++a){var u=t[a];if(u!==r[a])return i(e[a],n[a])<0?e.substr(0,a)+n[a]+n.substr(a+1):i(e[a],r[a])<0?e.substr(0,a)+r[a]+n.substr(a+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[a],u)<0&&(s=a)}return l<r.length&&"next"===o?e+n.substr(e.length):l<e.length&&"prev"===o?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function r(t,r,i,o){var l,s,a,u,c,h,f,p=i.length;if(!i.every((function(e){return"string"==typeof e})))return e(t,c_);function m(e){l=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),s=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),a="next"===e?K:q;var t=i.map((function(e){return{lower:s(e),upper:l(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),h=e,f="next"===e?"":o}m("next");var g=new j(t,(function(){return d.bound(u[0],c[p-1]+o)}));g._ondirectionchange=function(e){m(e)};var v=0;return g._addAlgorithm((function(e,t,i){var o=e.key;if("string"!=typeof o)return!1;var l=s(o);if(r(l,c,v))return!0;for(var d=null,m=v;m<p;++m){var g=n(o,l,u[m],c[m],a,h);null===g&&null===d?v=m+1:(null===d||a(d,g)>0)&&(d=g)}return t(null!==d?function(){e.continue(d+f)}:i),!1})),g}return{between:function(n,r,i,o){i=!1!==i,o=!0===o;try{return H(n,r)>0||0===H(n,r)&&(i||o)&&(!i||!o)?t(this):new j(this,(function(){return d.bound(n,r,!i,!o)}))}catch(l){return e(this,u_)}},equals:function(e){return new j(this,(function(){return d.only(e)}))},above:function(e){return new j(this,(function(){return d.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new j(this,(function(){return d.lowerBound(e)}))},below:function(e){return new j(this,(function(){return d.upperBound(e,!0)}))},belowOrEqual:function(e){return new j(this,(function(){return d.upperBound(e)}))},startsWith:function(t){return"string"!=typeof t?e(this,c_):this.between(t,t+l_,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],l_)},equalsIgnoreCase:function(e){return r(this,(function(e,t){return e===t[0]}),[e],"")},anyOfIgnoreCase:function(){var e=Eb.apply(Sb,arguments);return 0===e.length?t(this):r(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=Eb.apply(Sb,arguments);return 0===e.length?t(this):r(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,l_)},anyOf:function(){var n=Eb.apply(Sb,arguments),r=W;try{n.sort(r)}catch(l){return e(this,u_)}if(0===n.length)return t(this);var i=new j(this,(function(){return d.bound(n[0],n[n.length-1])}));i._ondirectionchange=function(e){n.sort(r="next"===e?W:$)};var o=0;return i._addAlgorithm((function(e,t,i){for(var l=e.key;r(l,n[o])>0;)if(++o===n.length)return t(i),!1;return 0===r(l,n[o])||(t((function(){e.continue(n[o])})),!1)})),i},notEqual:function(e){return this.inAnyRange([[a_,e],[e,s_]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=Eb.apply(Sb,arguments);if(0===t.length)return new j(this);try{t.sort(W)}catch(r){return e(this,u_)}var n=t.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[a_,t]]}),null);return n.push([t[t.length-1],s_]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return t(this);if(!n.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&W(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",zb.InvalidArgument);var i,o=!r||!1!==r.includeLowers,l=r&&!0===r.includeUppers,s=W;function a(e,t){return s(e[0],t[0])}try{(i=n.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(H(t[0],i[1])<0&&H(t[1],i[0])>0){i[0]=H(o=i[0],l=t[0])<0?o:l,i[1]=B(i[1],t[1]);break}}var o,l;return n===r&&e.push(t),e}),[])).sort(a)}catch(m){return e(this,u_)}var u=0,c=l?function(e){return W(e,i[u][1])>0}:function(e){return W(e,i[u][1])>=0},h=o?function(e){return $(e,i[u][0])>0}:function(e){return $(e,i[u][0])>=0},f=c,p=new j(this,(function(){return d.bound(i[0][0],i[i.length-1][1],!o,!l)}));return p._ondirectionchange=function(e){"next"===e?(f=c,s=W):(f=h,s=$),i.sort(a)},p._addAlgorithm((function(e,t,n){for(var r=e.key;f(r);)if(++u===i.length)return t(n),!1;return!!function(e){return!c(e)&&!h(e)}(r)||0!==H(r,i[u][1])&&0!==H(r,i[u][0])&&(t((function(){e.continue(s===W?i[u][0]:i[u][1])})),!1)})),p},startsWithAnyOf:function(){var n=Eb.apply(Sb,arguments);return n.every((function(e){return"string"==typeof e}))?0===n.length?t(this):this.inAnyRange(n.map((function(e){return[e,e+l_]}))):e(this,"startsWithAnyOf() only works with strings")}}})),rb(j.prototype,(function(){function e(e,t){e.filter=G(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return G(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new zb.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function r(e,t){var r=n(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function o(e,t,n,i,o){var l=e.replayFilter?G(e.filter,e.replayFilter()):e.filter;e.or?function(){var s={},a=0;function u(){2==++a&&n()}function c(e,n,r){if(!l||l(n,r,u,i)){var o=n.primaryKey,a=""+o;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(o)),nb(s,a)||(s[a]=!0,t(e,n,r))}}e.or._iterate(c,u,i,o),z(r(e,o),e.algorithm,c,u,i,!e.keysOnly&&e.valueMapper)}():z(r(e,o),G(e.algorithm,l),t,n,i,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,r_.bind(null,n.error)):n.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,r_.bind(null,t.error)):t.table._idbstore(x,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=G(t.algorithm,e)},_iterate:function(e,t,n,r){return o(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Jy(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read((function(n,r,i){o(t,e,n,r,i)}))},count:function(e){var t=this._ctx;if(F(t,!0))return this._read((function(e,r,i){var o=n(t,i),l=t.range?o.count(t.range):o.count();l.onerror=b_(r),l.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}}),e);var r=0;return this._read((function(e,n,i){o(t,(function(){return++r,!1}),(function(){e(r)}),n,i)}),e)},sortBy:function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var l="next"===this._ctx.dir?1:-1;function s(e,t){var n=o(e,i),r=o(t,i);return n<r?-l:n>r?l:0}return this.toArray((function(e){return e.sort(s)})).then(t)},toArray:function(e){var t=this._ctx;return this._read((function(e,r,l){if(i&&"next"===t.dir&&F(t,!0)&&t.limit>0){var s=t.table.hook.reading.fire,a=n(t,l),u=t.limit<1/0?a.getAll(t.range,t.limit):a.getAll(t.range);u.onerror=b_(r),u.onsuccess=w_(s===$b?e:function(t){try{e(t.map(s))}catch(n){r(n)}})}else{var c=[];o(t,(function(e){c.push(e)}),(function(){e(c)}),r,l)}}),e)},offset:function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,F(n)?t(n,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):t(n,(function(){var t=e;return function(){return--t<0}})),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},until:function(t,n){return e(this._ctx,(function(e,r,i){return!t(e.value)||(r(i),n)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,(function(e){return t(e.value)})),function(e,t){e.isMatch=G(e.isMatch,t)}(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new D(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},primaryKeys:function(e){var t=this._ctx;if(i&&"next"===t.dir&&F(t,!0)&&t.limit>0)return this._read((function(e,r,i){var o=n(t,i),l=t.limit<1/0?o.getAllKeys(t.range,t.limit):o.getAllKeys(t.range);l.onerror=b_(r),l.onsuccess=w_(e)})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,(function(e){var t=e.primaryKey.toString(),n=nb(r,t);return r[t]=!0,!n})),this},modify:function(e){var t=this,n=this._ctx.table.hook,r=n.updating.fire,i=n.deleting.fire;return this._write((function(n,o,l,s){var a;if("function"==typeof e)a=r===Wb&&i===Wb?e:function(t){var n=_b(t);if(!1===e.call(this,t,this))return!1;if(nb(this,"value")){var o=xb(n,this.value),l=r.call(this,o,this.primKey,n,s);l&&(t=this.value,Qy(l).forEach((function(e){gb(t,e,l[e])})))}else i.call(this,this.primKey,t,s)};else if(r===Wb){var u=Qy(e),c=u.length;a=function(t){for(var n=!1,r=0;r<c;++r){var i=u[r],o=e[i];mb(t,i)!==o&&(gb(t,i,o),n=!0)}return n}}else{var h=e;e=vb(h),a=function(t){var n=!1,i=r.call(this,e,this.primKey,_b(t),s);return i&&Jy(e,i),Qy(e).forEach((function(r){var i=e[r];mb(t,r)!==i&&(gb(t,r,i),n=!0)})),i&&(e=vb(h)),n}}var d=0,f=0,p=!1,m=[],g=[],v=null;function y(e){return e&&(m.push(e),g.push(v)),o(new jb("Error modifying one or more objects",m,f,g))}function b(){p&&f+m.length===d&&(m.length>0?y():n(f))}t.clone().raw()._iterate((function(e,t){v=t.primaryKey;var n={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return m.push(e),g.push(n.primKey),b(),!0}if(!1!==a.call(n,e,n)){var i=!nb(n,"value");++d,pb((function(){var e=i?t.delete():t.update(n.value);e._hookCtx=n,e.onerror=__(r),e.onsuccess=y_((function(){++f,b()}))}),r)}else n.onsuccess&&n.onsuccess(n.value)}),(function(){p=!0,b()}),y,l)}))},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,i=r!==Wb;if(!i&&F(t)&&(t.isPrimKey&&!p_||!n))return this._write((function(e,t,r){var i=b_(t),o=n?r.count(n):r.count();o.onerror=i,o.onsuccess=function(){var l=o.result;pb((function(){var t=n?r.delete(n):r.clear();t.onerror=i,t.onsuccess=function(){return e(l)}}),(function(e){return t(e)}))}}));var o=i?2e3:1e4;return this._write((function(n,l,s,a){var u=0,c=e.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(o).raw(),h=[],d=function(){return c.each(i?function(e,t){h.push([t.primaryKey,t.value])}:function(e,t){h.push(t.primaryKey)}).then((function(){return h.sort(i?function(e,t){return W(e[0],t[0])}:W),M(s,a,h,i,r)})).then((function(){var e=h.length;return u+=e,h=[],e<o?u:d()}))};n(d())}))}}})),Jy(this,{Collection:j,Table:R,Transaction:P,Version:O,WhereClause:D}),C.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+C.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+C.name+"'. Closing db now to resume the delete request."),C.close()})),C.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+C.name+"') was blocked"):console.warn("Upgrade '"+C.name+"' blocked by other connection holding version "+e.oldVersion/10)})),u.forEach((function(e){e(C)}))}function v_(e,t){return Qy(t).forEach((function(n){var r=function e(t){if("function"==typeof t)return new t;if(Yy(t))return[e(t[0])];if(t&&"object"==typeof t){var n={};return v_(n,t),n}return t}(t[n]);e[n]=r})),e}function y_(e){return jw((function(t){var n=t.target,r=n._hookCtx,i=r.value||n.result,o=r&&r.onsuccess;o&&o(i),e&&e(i)}),e)}function b_(e){return jw((function(t){return x_(t),e(t.target.error),!1}))}function w_(e){return jw((function(t){e(t.target.result)}))}function __(e){return jw((function(t){var n=t.target,r=n.error,i=n._hookCtx,o=i&&i.onerror;return o&&o(r),x_(t),e(r),!1}))}function x_(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function C_(e){var t=function(t){return e.next(t)},n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t),o=i.value;return i.done?o:o&&"function"==typeof o.then?o.then(n,r):Yy(o)?kw.all(o).then(n,r):n(o)}}return i(t)()}function k_(e,t,n,r,i,o,l){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=i,this.compound=o,this.dotted=l;var s="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(i?"++":"")+s}function S_(e,t,n,r){this.name=e,this.primKey=t||new k_,this.indexes=n||[new k_],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=fb(n,(function(e){return[e.name,e]}))}function E_(e){return 1===e.length?e[0]:e}function T_(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}Ob(Tb,m_),rb(g_,Bb),rb(g_,{delete:function(e){var t=new g_(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new g_(e).open().then((function(e){return e.close(),!0})).catch(g_.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var t=T_(g_.dependencies.indexedDB);return t?new kw((function(e,n){var r=t();r.onsuccess=function(t){e(ub(t.target.result,0))},r.onerror=b_(n)})).then(e):o_.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&Jy(this,e)}},applyStructure:v_,ignoreTransaction:function(e){return ww.trans?Xw(ww.transless,e):e()},vip:function(e){return Ww((function(){return ww.letThrough=!0,e()}))},async:function(e){return function(){try{var t=C_(e.apply(this,arguments));return t&&"function"==typeof t.then?t:kw.resolve(t)}catch(n){return r_(n)}}},spawn:function(e,t,n){try{var r=C_(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:kw.resolve(r)}catch(i){return r_(i)}},currentTransaction:{get:function(){return ww.trans||null}},waitFor:function(e,t){var n=kw.resolve("function"==typeof e?g_.ignoreTransaction(e):e).timeout(t||6e4);return ww.trans?ww.trans.waitFor(n):n},Promise:kw,debug:{get:function(){return Tb},set:function(e){Ob(e,"dexie"===e?function(){return!0}:m_)}},derive:lb,extend:Jy,props:rb,override:cb,Events:i_,getByKeyPath:mb,setByKeyPath:gb,delByKeyPath:function(e,t){"string"==typeof t?gb(e,t,void 0):"length"in t&&[].map.call(t,(function(t){gb(e,t,void 0)}))},shallowClone:vb,deepClone:_b,getObjectDiff:xb,asap:db,maxKey:s_,minKey:a_,addons:[],connections:h_,MultiModifyError:zb.Modify,errnames:Ub,IndexSpec:k_,TableSchema:S_,dependencies:function(){try{return{indexedDB:Xy.indexedDB||Xy.mozIndexedDB||Xy.webkitIndexedDB||Xy.msIndexedDB,IDBKeyRange:Xy.IDBKeyRange||Xy.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:g_,Dexie:g_}),kw.rejectionMapper=function(e,t){if(!e||e instanceof Db||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Hb[e.name])return e;var n=new Hb[e.name](t||e.message,e);return"stack"in e&&ob(n,"stack",{get:function(){return this.inner.stack}}),n},(o_=new g_("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==Xy.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(e){return o_.dbnames.put({name:e}).catch(Wb)})),localStorage.removeItem("Dexie.DatabaseNames"))}catch(e){}}();var O_=g_;let A_=(()=>{class e extends O_{constructor(){super("it4all-client"),this.version(1).stores({collections:"[id+toolId]",exerciseBasics:"[id+collId+toolId]",sqlSolutions:"[collId+exId]"}),this.collections=this.table("collections"),this.exerciseBasics=this.table("exerciseBasics"),this.sqlSolutions=this.table("sqlSolutions")}}return e.ngInjectableDef=fe({factory:function(){return new e},token:e,providedIn:"root"}),e})();var I_=er({encapsulation:2,styles:[[".CodeMirror{height:200px;border:1px solid grey;margin-bottom:40px}"]],data:{}});function N_(e){return vl(0,[(e()(),Jo(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function R_(e){return vl(0,[(e()(),Jo(0,0,null,null,33,"div",[["class","container is-fluid"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,32,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(2,0,null,null,26,"div",[["class","column is-half-desktop"]],null,null,null,null,null)),(e()(),Jo(3,0,null,null,1,"h1",[["class","title is-4 has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Aufgabenstellung"])),(e()(),Jo(5,0,null,null,1,"div",[["class","notification"]],null,null,null,null,null)),(e()(),pl(6,null,[" "," "])),(e()(),Jo(7,0,null,null,1,"h1",[["class","title is-4 has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Anfrage"])),(e()(),Jo(9,0,null,null,5,"ngx-codemirror",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,t,n){var r=!0;return"ngModelChange"===t&&(r=!1!==(e.component.solution=n)&&r),r}),ty,ey)),ci(10,4636672,null,0,Xv,[In,co],{options:[0,"options"]},null),hi(1024,null,Pf,(function(e){return[e]}),[Xv]),ci(12,671744,null,0,Up,[[8,null],[8,null],[8,null],[6,Pf]],{model:[0,"model"]},{update:"ngModelChange"}),hi(2048,null,Hf,null,[Up]),ci(14,16384,null,0,Wf,[[4,Hf]],null,null),(e()(),Jo(15,0,null,null,11,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(16,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(17,0,null,null,1,"button",[["class","button is-link is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.correct()&&r),r}),null,null)),(e()(),pl(-1,null,["L\xf6sung testen"])),(e()(),Jo(19,0,null,null,2,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(20,0,null,null,1,"button",[["class","button is-primary is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showSampleSolutions()&&r),r}),null,null)),(e()(),pl(-1,null,["Musterl\xf6sungen anzeigen "])),(e()(),Jo(22,0,null,null,4,"div",[["class","column is-one-third-desktop"]],null,null,null,null,null)),(e()(),Jo(23,0,null,null,3,"a",[["class","button is-dark is-fullwidth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,24).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(24,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(25,4),(e()(),pl(-1,null,[" Bearbeiten beenden "])),(e()(),Jo(27,0,null,null,1,"h1",[["class","title is-4 has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Datenbankschema..."])),(e()(),Jo(29,0,null,null,4,"div",[["class","column is-half-desktop"]],null,null,null,null,null)),(e()(),Jo(30,0,null,null,1,"h1",[["class","title is-4 has-text-centered"]],null,null,null,null,null)),(e()(),pl(-1,null,["Korrektur"])),(e()(),Xo(16777216,null,null,1,null,N_)),ci(33,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,10,0,n.editorOptions),e(t,12,0,n.solution);var r=e(t,25,0,"/tools",n.tool.id,"collections",null==n.collection?null:n.collection.id);e(t,24,0,r),e(t,33,0,n.result)}),(function(e,t){var n=t.component;e(t,6,0,null==n.exercise?null:n.exercise.text),e(t,9,0,Yr(t,14).ngClassUntouched,Yr(t,14).ngClassTouched,Yr(t,14).ngClassPristine,Yr(t,14).ngClassDirty,Yr(t,14).ngClassValid,Yr(t,14).ngClassInvalid,Yr(t,14).ngClassPending),e(t,23,0,Yr(t,24).target,Yr(t,24).href)}))}function L_(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,R_,I_)),ci(1,114688,null,0,Zy,[xh,Iv,A_,Ld],null,null)],(function(e,t){e(t,1,0)}),null)}var M_=Vr("ng-component",Zy,L_,{},{},[]);n("1p+/");class P_{constructor(e,t){this.route=e,this.apiService=t,this.tool=gf,this.collId=parseInt(e.snapshot.paramMap.get("collId"),10),this.exId=parseInt(e.snapshot.paramMap.get("exId"),10)}ngOnInit(){this.apiService.getExercise(this.tool.id,this.collId,this.exId).subscribe(e=>this.exercise=e)}correct(){console.error("TODO: correct!")}showSampleSolution(){console.error("TODO: show sample solution...")}}var D_=er({encapsulation:2,styles:[],data:{}});function j_(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"it4all-tab",[],null,null,null,Qv,Zv)),ci(1,49152,[[1,4]],0,Gv,[],{title:[0,"title"]},null)],(function(e,t){e(t,1,0,"Live-Vorschau")}),null)}function F_(e){return vl(0,[(e()(),Jo(0,0,null,null,30,"div",[["class","container is-fluid"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,29,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(2,0,null,null,2,"div",[["class","column is-half-desktop"]],null,null,null,null,null)),(e()(),Jo(3,0,null,null,1,"app-exercise-files-editor",[],null,null,null,ly,iy)),ci(4,573440,null,0,ry,[],{exerciseFiles:[0,"exerciseFiles"],mode:[1,"mode"]},null),(e()(),Jo(5,0,null,null,25,"div",[["class","column is-half-desktop"]],null,null,null,null,null)),(e()(),Jo(6,0,null,null,24,"it4all-tabs",[],null,null,null,cy,ay)),ci(7,1097728,null,1,sy,[],null,null),il(603979776,1,{tabs:1}),(e()(),Jo(9,0,null,0,15,"it4all-tab",[],null,null,null,Qv,Zv)),ci(10,49152,[[1,4]],0,Gv,[],{title:[0,"title"]},null),(e()(),Jo(11,0,null,0,1,"div",[["class","notification"]],null,null,null,null,null)),(e()(),pl(12,null,["",""])),(e()(),Jo(13,0,null,0,11,"div",[["class","columns"]],null,null,null,null,null)),(e()(),Jo(14,0,null,null,2,"div",[["class","column"]],null,null,null,null,null)),(e()(),Jo(15,0,null,null,1,"button",[["class","button is-link is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.correct()&&r),r}),null,null)),(e()(),pl(-1,null,["Korrektur"])),(e()(),Jo(17,0,null,null,2,"div",[["class","column"]],null,null,null,null,null)),(e()(),Jo(18,0,null,null,1,"button",[["class","button is-primary is-fullwidth"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showSampleSolution()&&r),r}),null,null)),(e()(),pl(-1,null,["Musterl\xf6sung anzeigen "])),(e()(),Jo(20,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(e()(),Jo(21,0,null,null,3,"a",[["class","button is-dark is-fullwidth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,22).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(22,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(23,4),(e()(),pl(-1,null,["Bearbeiten beenden"])),(e()(),Jo(25,0,null,0,1,"it4all-tab",[],null,null,null,Qv,Zv)),ci(26,49152,[[1,4]],0,Gv,[],{title:[0,"title"]},null),(e()(),Xo(16777216,null,0,1,null,j_)),ci(28,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"]},null),(e()(),Jo(29,0,null,0,1,"it4all-tab",[],null,null,null,Qv,Zv)),ci(30,49152,[[1,4]],0,Gv,[],{title:[0,"title"]},null)],(function(e,t){var n=t.component;e(t,4,0,null==n.exercise?null:n.exercise.files,"htmlmixed"),e(t,10,0,"Aufgabenstellung");var r=e(t,23,0,"/tools","programming","collections",n.collId);e(t,22,0,r),e(t,26,0,"Korrektur"),e(t,28,0,n.tool.hasLivePreview),e(t,30,0,"Musterl\xf6sung(en)")}),(function(e,t){var n=t.component;e(t,12,0,null==n.exercise?null:n.exercise.text),e(t,21,0,Yr(t,22).target,Yr(t,22).href)}))}function U_(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,F_,D_)),ci(1,114688,null,0,P_,[xh,Iv],null,null)],(function(e,t){e(t,1,0)}),null)}var V_=Vr("ng-component",P_,U_,{},{},[]),z_=er({encapsulation:2,styles:[],data:{}});function H_(e){return vl(0,[(e()(),Jo(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Jo(1,0,null,null,2,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),Jo(2,0,null,null,1,"a",[["class","button is-light"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.logout()&&r),r}),null,null)),(e()(),pl(3,null,["Logout ",""]))],null,(function(e,t){e(t,3,0,t.component.currentUser.id)}))}function B_(e){return vl(0,[(e()(),Jo(0,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,3,"a",[["class","button is-light"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(2,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(3,1),(e()(),pl(-1,null,["Login"]))],(function(e,t){var n=e(t,3,0,"/loginForm");e(t,2,0,n)}),(function(e,t){e(t,1,0,Yr(t,2).target,Yr(t,2).href)}))}function W_(e){return vl(0,[(e()(),Jo(0,0,null,null,11,"nav",[["aria-label","main navigation"],["class","navbar is-dark"],["role","navigation"]],null,null,null,null,null)),(e()(),Jo(1,0,null,null,4,"div",[["class","navbar-brand"]],null,null,null,null,null)),(e()(),Jo(2,0,null,null,3,"a",[["class","navbar-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Yr(e,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ci(3,671744,null,0,Pd,[Ld,xh,Os],{routerLink:[0,"routerLink"]},null),hl(4,1),(e()(),pl(-1,null,["it4all - \u03b2"])),(e()(),Jo(6,0,null,null,5,"div",[["class","navbar-menu"],["id","navbarBasicExample"]],null,null,null,null,null)),(e()(),Jo(7,0,null,null,4,"div",[["class","navbar-end"]],null,null,null,null,null)),(e()(),Jo(8,0,null,null,3,"div",[["class","navbar-item"]],null,null,null,null,null)),(e()(),Xo(16777216,null,null,1,null,H_)),ci(10,16384,null,0,qs,[Dn,Mn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Xo(0,[["noUserBlock",2]],null,0,null,B_)),(e()(),Jo(12,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Jo(13,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ci(14,212992,null,0,Ud,[Fd,Dn,ln,[8,null],It],null,null)],(function(e,t){var n=t.component,r=e(t,4,0,"/");e(t,3,0,r),e(t,10,0,n.currentUser,Yr(t,11)),e(t,14,0)}),(function(e,t){e(t,2,0,Yr(t,3).target,Yr(t,3).href)}))}function $_(e){return vl(0,[(e()(),Jo(0,0,null,null,1,"it4all-root",[],null,null,null,W_,z_)),ci(1,49152,null,0,Ss,[Im,fc],null,null)],null,null)}var K_=Vr("it4all-root",Ss,$_,{},{},[]);class q_{constructor(e){this.authenticationService=e}intercept(e,t){const n=this.authenticationService.currentUserValue;return n&&n.token&&(e=e.clone({setHeaders:{Authorization:`Bearer ${n.token}`}})),t.handle(e)}}class G_{constructor(e){this.authenticationService=e}intercept(e,t){return t.handle(e).pipe(La(e=>(401===e.status&&this.authenticationService.logout(),function(e,t){return new _(t=>t.error(e))}(e.error.message||e.statusTest))))}}let Z_=(()=>{class e{constructor(e,t){this.router=e,this.authenticationService=t}canActivate(e,t){return!!this.authenticationService.currentUserValue||(this.router.navigate(["/loginForm"],{queryParams:{returnUrl:t.url}}),!1)}}return e.ngInjectableDef=fe({factory:function(){return new e(Fe(Ld),Fe(Im))},token:e,providedIn:"root"}),e})();class Q_{}var Y_=xs(ks,[Ss],(function(e){return function(e){const t={},n=[];let r=!1;for(let i=0;i<e.length;i++){const o=e[i];o.token===Rt&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[Yn(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([Lr(512,ln,sn,[[8,[hf,Lf,Dm,$m,kg,Yg,pv,Cv,Ov,jv,qv,gy,Gy,M_,V_,K_]],[3,ln],ze]),Lr(5120,Ki,Zo,[[3,Ki]]),Lr(4608,js,Fs,[Ki,[2,Ds]]),Lr(5120,Ei,Qo,[co]),Lr(5120,Ui,Vi,[]),Lr(5120,An,qo,[]),Lr(5120,In,Go,[]),Lr(4608,tc,nc,[ea]),Lr(6144,St,null,[tc]),Lr(4608,Gu,Qu,[]),Lr(5120,gu,(function(e,t,n,r,i,o,l,s){return[new Ku(e,t,n),new ec(r),new Yu(i,o,l,s)]}),[ea,co,Bi,ea,ea,Gu,$i,[2,Zu]]),Lr(4608,vu,vu,[gu,co]),Lr(135680,wu,wu,[ea]),Lr(4608,Tu,Tu,[vu,wu,Ui]),Lr(6144,fn,null,[Tu]),Lr(6144,bu,null,[wu]),Lr(4608,yo,yo,[co]),Lr(4608,km,Sm,[ea,Bi,xm]),Lr(4608,Em,Em,[km,Cm]),Lr(5120,gm,(function(e,t,n){return[e,new q_(t),new G_(n)]}),[Em,Im,Im]),Lr(4608,wm,wm,[]),Lr(6144,bm,null,[wm]),Lr(4608,_m,_m,[bm]),Lr(6144,Jp,null,[_m]),Lr(4608,Xp,Tm,[Jp,Mt]),Lr(4608,pm,pm,[Xp]),Lr(5120,xh,nf,[Ld]),Lr(4608,Bd,Bd,[]),Lr(6144,zd,null,[Bd]),Lr(135680,Wd,Wd,[Ld,Lo,Ji,Mt,zd]),Lr(4608,Hd,Hd,[]),Lr(5120,$d,Yd,[Ld,na,Kd]),Lr(5120,sf,lf,[rf]),Lr(5120,Wi,(function(e){return[e]}),[sf]),Lr(4608,ep,ep,[]),Lr(4608,Gp,Gp,[]),Lr(4608,fc,fc,[ea]),Lr(1073742336,Js,Js,[]),Lr(1024,Je,cc,[]),Lr(1024,Eo,(function(){return[Zd()]}),[]),Lr(512,rf,rf,[Mt]),Lr(1024,ji,(function(e,t){return[(n=e,fu("probe",mu),fu("coreTokens",Object.assign({},pu,(n||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>mu),of(t)];var n}),[[2,Eo],rf]),Lr(512,Fi,Fi,[[2,ji]]),Lr(131584,No,No,[co,$i,Mt,Je,ln,Fi]),Lr(1073742336,Yo,Yo,[No]),Lr(1073742336,hc,hc,[[3,hc]]),Lr(1073742336,Om,Om,[]),Lr(1073742336,Am,Am,[]),Lr(1024,qd,Jd,[[3,Ld]]),Lr(512,eh,th,[]),Lr(512,Fd,Fd,[]),Lr(256,Kd,{},[]),Lr(1024,Os,Xd,[Es,[2,As],Kd]),Lr(512,Is,Is,[Os,Es]),Lr(512,Ji,Ji,[]),Lr(512,Lo,Fo,[Ji,[2,Do]]),Lr(1024,Ed,(function(){return[[{path:"",component:Ef,canActivate:[Z_]},{path:"loginForm",component:Yp},{path:"randomTools/:toolId",component:jm,canActivate:[Z_]},{path:"randomTools/bool/fillOut",component:vg,canActivate:[Z_]},{path:"randomTools/bool/create",component:Bg,canActivate:[Z_]},{path:"randomTools/nary/addition",component:sv,canActivate:[Z_]},{path:"randomTools/nary/conversion",component:mv,canActivate:[Z_]},{path:"randomTools/nary/twoConversion",component:kv,canActivate:[Z_]},{path:"tools/:toolId",component:Av,canActivate:[Z_]},{path:"tools/:toolId/collections/:collId",component:Fv,canActivate:[Z_]},{path:"tools/programming/collections/:collId/exercises/:exId/parts/:partId",component:hy,canActivate:[Z_]},{path:"tools/regex/collections/:collId/exercises/:exId/parts/:partId",component:Dy,canActivate:[Z_]},{path:"tools/sql/collections/:collId/exercises/:exId/parts/:partId",component:Zy,canActivate:[Z_]},{path:"tools/web/collections/:collId/exercises/:exId/parts/:partId",component:P_,canActivate:[Z_]}]]}),[]),Lr(1024,Ld,tf,[No,eh,Fd,Is,Mt,Lo,Ji,Ed,Kd,[2,Od],[2,kd]]),Lr(1073742336,Qd,Qd,[[2,qd],[2,Ld]]),Lr(1073742336,Q_,Q_,[]),Lr(1073742336,qp,qp,[]),Lr(1073742336,Zp,Zp,[]),Lr(1073742336,Qp,Qp,[]),Lr(1073742336,Jv,Jv,[]),Lr(1073742336,ks,ks,[]),Lr(256,Rt,!0,[]),Lr(256,xm,"XSRF-TOKEN",[]),Lr(256,Cm,"X-XSRF-TOKEN",[])])}));(function(){if(tt)throw new Error("Cannot enable prod mode after platform setup.");et=!1})(),uc().bootstrapModuleFactory(Y_).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);