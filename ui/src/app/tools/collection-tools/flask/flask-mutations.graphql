mutation FlaskCorrection($collId: Int!, $exId: Int!, $part: FlaskExercisePart!, $solution: FilesSolutionInput!) {
  me {
    flaskExercise(collId: $collId, exId: $exId) {
      correct(part: $part, solution: $solution) {
        ...FlaskCorrectionResult
      }
    }
  }
}

fragment FlaskCorrectionResult on FlaskCorrectionResult {
  solutionSaved
  resultSaved
  proficienciesUpdated
  result {
    ...FlaskAbstractCorrectionResult
  }
}

fragment FlaskAbstractCorrectionResult on FlaskAbstractCorrectionResult {
  __typename
  points
  maxPoints
  ...FlaskInternalErrorResult
  ...FlaskResult
}

fragment FlaskInternalErrorResult on FlaskInternalErrorResult {
  msg
}

fragment FlaskResult on FlaskResult {
  testResults {
    ...FlaskTestResult
  }
}

fragment FlaskTestResult on FlaskTestResult {
  testName
  successful
  stdout
  stderr
}
