fragment AbstractCorrectionResult on AbstractCorrectionResult {
  solutionSaved
  points
  maxPoints
}

mutation UmlCorrection($collId: Int!, $exId: Int!, $part: UmlExPart!, $solution: UmlClassDiagramInput!) {
  correctUml(collId: $collId, exId: $exId,part: $part, solution: $solution) {
    ...UmlCompleteResult
  }
}

fragment UmlCompleteResult on UmlCompleteResult {
  ...AbstractCorrectionResult
  classResult {
    ...UmlClassMatchingResult
  }
  assocResult {
    ...UmlAssociationMatchingResult
  }
  implResult {
    ...UmlImplementationMatchingResult
  }
}


fragment UmlClassMatchingResult on UmlClassMatchingResult {
  allMatches {
    ...UmlClassMatch
  }
  points
  maxPoints
}

fragment UmlClassMatch on UmlClassMatch {
  matchType
  userArg {
    ...UmlClass
  }
  sampleArg {
    ...UmlClass
  }
  analysisResult {
    __typename
  }
}

fragment UmlClass on UmlClass  {
  classType
  name
  attributes {
    __typename
  }
  methods {
    __typename
  }
}

fragment UmlAssociationMatchingResult on UmlAssociationMatchingResult  {
  allMatches {
    ...UmlAssociationMatch
  }
  points
  maxPoints
}

fragment UmlAssociationMatch on UmlAssociationMatch {
  matchType
  userArg {
    ...UmlAssociation
  }
  sampleArg {
    ...UmlAssociation
  }
  maybeAnalysisResult {
    __typename
  }
}

fragment UmlAssociation on UmlAssociation {
  assocType
  assocName
  firstEnd
  firstMult
  secondEnd
  secondMult
}

fragment UmlImplementationMatchingResult on UmlImplementationMatchingResult {
  allMatches {
    ...UmlImplementationMatch
  }
  points
  maxPoints
}

fragment UmlImplementationMatch on UmlImplementationMatch {
  matchType
  userArg {
    ...UmlImplementation
  }
  sampleArg {
    ...UmlImplementation
  }
}

fragment UmlImplementation on UmlImplementation {
  subClass
  superClass
}
