mutation ProgrammingCorrection($collId: Int!, $exId: Int!, $part: ProgExPart!, $solution: FilesSolutionInput!) {
  me {
    programmingExercise(collId: $collId, exId: $exId) {
      correct(part: $part, solution: $solution) {
        ...ProgrammingCorrectionResult
      }
    }
  }
}

fragment ProgrammingCorrectionResult on ProgrammingCorrectionResult {
  __typename
  solutionSaved
  resultSaved
  proficienciesUpdated
  result {
    ...ProgrammingResult
  }
}

fragment ProgrammingResult on ProgrammingResult {
  points
  maxPoints
  simplifiedResults {
    ...SimplifiedExecutionResult
  }
  normalResult {
    ...NormalExecutionResult
  }
  unitTestResults {
    ...UnitTestCorrectionResult
  }
}

fragment SimplifiedExecutionResult on SimplifiedExecutionResult {
  __typename
  testId
  success
  testInput
  awaited
  gotten
}

fragment NormalExecutionResult on NormalExecutionResult {
  __typename
  successful
  stdout
  stderr
}

fragment UnitTestCorrectionResult on UnitTestCorrectionResult {
  __typename
  testId
  successful
  description
}
