mutation ProgrammingCorrection($userJwt: String!, $collId: Int!, $exId: Int!, $part: ProgExPart!, $solution: ProgSolutionInput!) {
  me(userJwt: $userJwt) {
    programmingExercise(collId: $collId, exId: $exId) {
      correct(part: $part, solution: $solution) {
        ...ProgrammingCorrectionResult
      }
    }
  }
}

fragment ProgrammingCorrectionResult on ProgrammingCorrectionResult {
  solutionSaved
  resultSaved
  proficienciesUpdated
  result {
    ...ProgrammingAbstractResult
    ...ProgrammingInternalErrorResult
    ...ProgrammingResult
  }
}

fragment ProgrammingAbstractResult on ProgrammingAbstractResult {
  __typename
  points
  maxPoints
}

fragment ProgrammingInternalErrorResult on ProgrammingInternalErrorResult {
  msg
}

fragment ProgrammingResult on ProgrammingResult {
  simplifiedResults {
    ...SimplifiedExecutionResult
  }
  normalResult {
    ...NormalExecutionResult
  }
  unitTestResults {
    ...UnitTestCorrectionResult
  }
}

fragment SimplifiedExecutionResult on SimplifiedExecutionResult {
  id
  success
  input
  awaited
  gotten
  # stdout
}

fragment  NormalExecutionResult on NormalExecutionResult {
  success
  logs
}

fragment UnitTestCorrectionResult on UnitTestCorrectionResult {
  successful
  file
  status
  stderr
  stdout
  testConfig {
    description
    id
    shouldFail
  }
}
