fragment AbstractCorrectionResult on AbstractCorrectionResult {
  solutionSaved
  points
  maxPoints
}

mutation XmlCorrection($collId: Int!, $exId: Int!,$part: XmlExPart!, $solution: XmlSolutionInput!) {
  correctXml(collId: $collId, exId: $exId,part: $part, solution: $solution) {
    ...XmlCompleteResult
  }
}

fragment XmlCompleteResult on XmlCompleteResult {
  ...AbstractCorrectionResult
  successType
  grammarResult {
    ...XmlGrammarResult
  }
  documentResult {
    ...XmlError
  }
}

fragment XmlGrammarResult on XmlGrammarResult {
  parseErrors {
    msg
    parsedLine
  }
  results {
    ...MR
    ...XmlElementLineMatchingResult
  }
}

fragment XmlElementLineMatchingResult on XmlElementLineComparisonMatchingResult {
  allMatches  {
    ...XmlElementLineMatch
  }
}

fragment XmlElementLineMatch on ElementLineMatch {
  matchType
  userArg  {
    ...ElementLine
  }
  sampleArg {
    ...ElementLine
  }
}

fragment ElementLine on ElementLine {
  elementName
  elementDefinition {
    elementName
    content
  }
  attributeLists {
    elementName
    attributeDefinitions
  }
}

fragment XmlError on XmlError {
  success
  line
  errorType
  errorMessage
}

fragment MR on MatchingResult {
  points
  maxPoints
}
