mutation XmlCorrection($userJwt: String!, $collId: Int!, $exId: Int!, $part: XmlExPart!, $solution: XmlSolutionInput!) {
  me(userJwt: $userJwt ) {
    xmlExercise(collId: $collId, exId: $exId)  {
      correct(part: $part, solution: $solution) {
        ...XmlCorrectionResult
      }
    }
  }
}

fragment XmlCorrectionResult on XmlCorrectionResult {
  solutionSaved
  resultSaved
  proficienciesUpdated
  result {
    ...XmlAbstractResult
    ...XmlInternalErrorResult
    ...XmlResult
  }
}

fragment XmlAbstractResult on XmlAbstractResult {
  __typename

  points
  maxPoints
}

fragment XmlInternalErrorResult on XmlInternalErrorResult {
  msg
}

fragment XmlResult on XmlResult {
  successType
  grammarResult {
    ...XmlGrammarResult
  }
  documentResult {
    ...XmlDocumentResult
  }
}

fragment XmlGrammarResult on XmlGrammarResult {
  parseErrors {
    msg
    parsedLine
  }
  results {
    points
    maxPoints
    ...XmlElementLineMatchingResult
  }
}

fragment XmlElementLineMatchingResult on XmlElementLineComparisonMatchingResult {
  allMatches  {
    ...XmlElementLineMatch
  }
}

fragment XmlElementLineMatch on ElementLineMatch {
  matchType
  userArg  {
    ...ElementLine
  }
  sampleArg {
    ...ElementLine
  }
  maybeAnalysisResult {
    ...XmlElementLineAnalysisResult
  }
}

fragment XmlElementLineAnalysisResult on ElementLineAnalysisResult {
  attributesCorrect
  correctAttributes
  contentCorrect
  correctContent
}

fragment ElementLine on ElementLine {
  elementName
  elementDefinition {
    elementName
    content
  }
  attributeLists {
    elementName
    attributeDefinitions
  }
}

fragment XmlDocumentResult on XmlDocumentResult {
  errors {
    ...XmlError
  }
}

fragment XmlError on XmlError {
  success
  line
  errorType
  errorMessage
}
