fragment AbstractCorrectionResult on AbstractCorrectionResult {
  solutionSaved
  points
  maxPoints
}

# Programming

mutation ProgCorrection($collId: Int!, $exId: Int!, $part: ProgExPart!, $solution: ProgSolutionInput!) {
  correctProgramming(collId: $collId, exId: $exId, part: $part, solution: $solution)  {
    ...ProgCompleteResult
  }
}

fragment ProgCompleteResult on ProgCompleteResult {
  solutionSaved
  normalResult {
    __typename
  }
  unitTestResults {
    __typename
  }
}

# Regex


mutation RegexCorrection($collId: Int!, $exId: Int!, $part: RegexExPart!, $solution: String!) {
  correctRegex(collId: $collId, exId: $exId,part:$part, solution: $solution) {
    ...RegexIllegalRegexResult
    ...RegexMatchingResult
    ...RegexExtractionResult
  }
}

fragment RegexIllegalRegexResult on RegexIllegalRegexResult {
  ...AbstractCorrectionResult
  message

}

fragment RegexMatchingSingleResult on RegexMatchingSingleResult {
  resultType
  matchData
}

fragment RegexMatchingResult on RegexMatchingResult {
  ...AbstractCorrectionResult
  matchingResults {
    ...RegexMatchingSingleResult
  }
}

fragment RegexExtractionMatch on RegexMatchMatch {
  matchType
  userArg
  sampleArg
}

fragment ExtractionMatchingResult on RegexExtractedValuesComparisonMatchingResult {
  allMatches {
    ...RegexExtractionMatch
  }
  points
  maxPoints
}

fragment RegexExtractionSingleResult on RegexExtractionSingleResult {
  base
  correct
  extractionMatchingResult {
    ...ExtractionMatchingResult
  }
}

fragment RegexExtractionResult on RegexExtractionResult {
  ...AbstractCorrectionResult
  extractionResults {
    ...RegexExtractionSingleResult
  }
}

# Uml

mutation UmlCorrection($collId: Int!, $exId: Int!, $part: UmlExPart!, $solution: UmlClassDiagramInput!) {
  correctUml(collId: $collId, exId: $exId,part: $part, solution: $solution) {
    ...UmlCompleteResult
  }
}

fragment UmlCompleteResult on UmlCompleteResult {
  ...AbstractCorrectionResult
}

# Web

mutation WebCorrection($collId: Int!, $exId: Int!,$part: WebExPart!, $solution: [ExerciseFileInput!]!) {
  correctWeb(collId: $collId, exId: $exId,part: $part, solution: $solution) {
    ...WebCompleteResult
  }
}

fragment WebCompleteResult on WebCompleteResult {
  ...AbstractCorrectionResult
}
