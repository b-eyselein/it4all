# Programming

mutation ProgCorrection($collId: Int!, $exId: Int!, $part: ProgExPart!, $solution: ProgSolutionInput!) {
  correctProgramming(collId: $collId, exId: $exId, part: $part, solution: $solution)  {
    ...ProgCompleteResult
  }
}

fragment ProgCompleteResult on ProgCompleteResult {
  solutionSaved
  normalResult {
    __typename
  }
  unitTestResults {
    __typename
  }
}

# Regex

mutation RegexCorrection($collId: Int!, $exId: Int!, $part: RegexExPart!, $solution: String!) {
  correctRegex(collId: $collId, exId: $exId,part:$part, solution: $solution) {
    ...RegexCompleteResult
  }
}

fragment RegexCompleteResult on RegexCompleteResult {
  solutionSaved
  correctionType
  extractionResults {
    base
    correct
  }
  matchingResults {
    resultType
    matchData
    isIncluded
  }
  points {
    ...Points
  }
  maxPoints {
    ...Points
  }
}

# Sql

mutation SqlCorrection($collId: Int!, $exId: Int!, $part: SqlExPart!, $solution: String!) {
  correctSql(collId: $collId, exId: $exId,part: $part, solution: $solution) {
    ...SqlResult
  }
}

fragment SqlResult on SqlResult {
  solutionSaved
  staticComparison {
    __typename
  }
  executionResult {
    __typename
  }
}

# Uml

mutation UmlCorrection($collId: Int!, $exId: Int!, $part: UmlExPart!, $solution: UmlClassDiagramInput!) {
  correctUml(collId: $collId, exId: $exId,part: $part, solution: $solution) {
    ...UmlCompleteResult
  }
}

fragment UmlCompleteResult on UmlCompleteResult {
  solutionSaved
  points {
    ...Points
  }
  maxPoints {
    ...Points
  }
}

# Web

mutation WebCorrection($collId: Int!, $exId: Int!,$part: WebExPart!, $solution: [ExerciseFileInput!]!) {
  correctWeb(collId: $collId, exId: $exId,part: $part, solution: $solution) {
    ...WebCompleteResult
  }
}

fragment WebCompleteResult on WebCompleteResult {
  solutionSaved
  points {
    ...Points
  }
  maxPoints {
    ...Points
  }
}

# Xml

mutation XmlCorrection($collId: Int!, $exId: Int!,$part: XmlExPart!, $solution: XmlSolutionInput!) {
  correctXml(collId: $collId, exId: $exId,part: $part, solution: $solution) {
    ...XmlCompleteResult
  }
}

fragment XmlCompleteResult on XmlCompleteResult {
  solutionSaved
  successType
  points {
    ...Points
  }
  maxPoints {
    ...Points
  }
  grammarResult {
    __typename
  }
  documentResult {
    __typename
  }
}

# general fragments

fragment Points on Points {
  quarters
}
