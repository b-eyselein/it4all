query Collections($toolId: String!) {
  tool(toolId: $toolId) {
    collections {
      id
      title
    }
  }
}

query Exercises($toolId: String!, $collId: Int!) {
  tool(toolId: $toolId) {
    collection(collId: $collId) {
      exercises {
        id
        title
      }
    }
  }
}

query CollectionOverview($toolId: String!, $collId: Int!) {
  tool(toolId: $toolId) {
    collection(collId: $collId) {
      title
      exercises {
        ...fieldsForLink
      }
    }
  }
}

query AllExercisesOverview($toolId: String!) {
  tool(toolId: $toolId) {
    allExerciseMetaData {
      ...fieldsForLink
    }
  }
}

query ExerciseOverview($toolId: String!, $collId: Int!, $exId: Int!) {
  tool(toolId: $toolId) {
    collection(collId: $collId) {
      exercise(exId: $exId) {
        id
        title
        text
      }
    }
  }
}

query Exercise($toolId: String!, $collId: Int!, $exId: Int!) {
  tool(toolId: $toolId) {
    collection(collId: $collId){
      exercise(exId: $exId){
        title
      }
    }
  }
}

# Admin queries

query CollectionToolAdmin($toolId: String!) {
  tool(toolId: $toolId) {
    collectionCount
    lessonCount
  }
}

query CollectionAdmin($toolId: String!, $collId: Int!) {
  tool(toolId: $toolId) {
    collection(collId: $collId) {
      title
      exercises {
        id
        title
      }
    }
  }
}

query AdminCollectionsIndex($toolId: String!) {
  tool(toolId: $toolId) {
    name
    collections {
      id
      title
      exerciseCount
    }
  }
}

query AdminEditCollection($toolId: String!, $collId: Int!) {
  tool(toolId: $toolId) {
    collection(collId: $collId) {
      id
      title
      # TODO: all fields...
    }
  }
}

# Fragments

fragment fieldsForLink on Exercise {
  id
  title
  difficulty
  tags {
    abbreviation
    title
  }
}
