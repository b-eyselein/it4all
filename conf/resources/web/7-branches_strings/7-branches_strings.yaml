id: 7
semanticVersion:
  major: 1
  minor: 0
  patch: 0
title: Verzweigungen und Strings
author: alg81dm
text: Erstellen Sie ein Anmeldeformular, das eine einfache Passwort-Qualitätsprüfung durchführt.
htmlText: Erstellen Sie zunächst den Rumpf der Seite in HTML.
status: APPROVED

htmlTasks:
  - id: 1
    text: Erstellen Sie ein Texteingabefeld mit der ID 'name'
    xpathQuery: /html/body//input[@id='name']
    attributes:
      - {key: type, value: text}
  - id: 2
    text: Erstellen Sie ein Passworteingabefeld mit der ID 'password'. Bei Änderung des Passwortfeldes (onchange) soll die Funktion 'passwordStrength()' aufgerufen werden.
    xpathQuery: /html/body//input[@id='password']
    attributes:
      - {key: type, value: password}
      - {key: onchange, value: passwordStrength()}
  - id: 3
    text: >
      Erstellen Sie einen Span mit der ID 'errors', der später anzeigen soll, wenn das Passwort zu schwach ist. Zu Anfang
      soll dieser leer sein.
    xpathQuery: /html/body//span[@id='errors']

jsText: >
  Implementieren Sie nun die Funktion <code>passwordStrength()</code>, die bei Änderung des Felds aufgerufen wird. Sie
  soll den Inhalt (value) des Passwortfeldes auslesen und verschiedene Tests durchführen. Bei fehlgeschlagenen Tests
  soll der Inhalt des Elements mit der ID 'errors' auf den entsprechenden Text gesetzt werden. Es soll immer nur der
  erste fehlgeschlagene Test (in der Reihenfolge der Teilaufgaben) beachtet werden. Wenn kein Test fehlschlägt,
  soll der Fehlertext gelöscht werden (auf '' setzen). Wenn das Passwort unter 8 Zeichen lang ist, soll der Fehlertext
  'Zu kurz' lauten. Wenn die Eingabe den Teilstring 'passwort' enthält, soll 'Zu einfach' gesetzt werden.

jsTasks:
  - id: 1
    text: Wenn das Passwort unter 8 Zeichen lang ist, setze den Fehlertext auf 'Zu kurz'
    xpathQuery: /html/body//input[@id='password']
    actiontype: FILLOUT
    keysToSend: 123
    conditions:
      - id: 1
        xpathQuery: /html/body//span[@id='errors']
        isPrecondition: false
        awaited: Zu kurz
  - id: 2
    text: Wenn das Passwort 'passwort' enthält, setze den Fehlertext auf 'Zu einfach'
    xpathQuery: /html/body//input[@id='password']
    actiontype: FILLOUT
    keysToSend: meinpasswort
    conditions:
      - id: 1
        xpathQuery: /html/body//span[@id='errors']
        isPrecondition: false
        awaited: Zu einfach
  - id: 3
    text: Für alle anderen Passwörter soll das Fehlerfeld geleert (auf '' gesetzt) werden
    actiontype: FILLOUT
    xpathQuery: /html/body//input[@id='password']
    keysToSend: GanzGanzSicherUndGeheim
    conditions:
      - id: 1
        xpathQuery: /html/body//span[@id='errors']
        isPrecondition: false
        awaited: ''

phpTasks: []

samples:
  - id: 1
    htmlSample: |
      <!doctype html>
      <html>
      <head>
          <!-- Hier: CSS und Javascript -->
          <title>Passwortstärke</title>
      </head>
      <body>
      <p>
          <label for="name">Name:</label>
          <input id="name">
      </p>
      <p>
          <label for="password">Passwort:</label>
          <input id="password" type="password" onchange="passwordStrength()">
      </p>
      <p>
          <span id="errors"></span>
      </p>
      </body>
      </html>
    jsSample: |
      <!doctype html>
      <html>
      <head>
          <title>Passwortstärke</title>
          <script>
              function passwordStrength() {
                  let passwordValue = document.getElementById('password').value;
                  let errorsSpan = document.getElementById('errors');

                  if (passwordValue === 'meinpasswort') {
                      errorsSpan.textContent = 'Zu einfach';
                  } else if (passwordValue.length < 8) {
                      errorsSpan.textContent = 'Zu kurz';
                  } else {
                      errorsSpan.textContent = '';
                  }
              }
          </script>
      </head>
      <body>
      <p>
          <label for="name">Name:</label>
          <input id="name">
      </p>
      <p>
          <label for="password">Passwort:</label>
          <input id="password" type="password" onchange="passwordStrength()">
      </p>
      <p>
          <span id="errors"></span>
      </p>
      </body>
      </html>